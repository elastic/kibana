name: Add issues to Infra Monitoring UI project
on:
  issues:
    types: [labeled]

jobs:
  sync_issues_with_table:
    runs-on: ubuntu-latest
    name: Add issues to project
    steps:
      - name: Add
        uses: richkuz/projectnext-label-assigner@1.0.2
        id: add_to_projects
        with:
          config: |
            [
              {"label": "Team:Infra Monitoring UI", "projectNumber": 664},
              {"label": "Feature:Stack Monitoring", "projectNumber": 664},
              {"label": "Feature:Logs UI", "projectNumber": 664},
              {"label": "Feature:Metrics UI", "projectNumber": 664},
            ]
        env:
          GRAPHQL_API_BASE: 'https://api.github.com'
          PAT_TOKEN: ${{ secrets.PROJECT_ASSIGNER_TOKEN }}
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
