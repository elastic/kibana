<div class="kuiPanel">
  <div class="kuiPanelHeader">
    <div class="kuiPanelHeaderSection">
      <h1
        class="kuiPanelHeader__title"
        translate="KIBANA-CREATE_INDEX_PATTERN_STEP_1_TITLE"
      ></h1>
    </div>
  </div>

  <div class="kuiPanelBody">
    <div >
      <form
        name="stepIndexPattern.indexPatternNameForm"
        role="form"
        ng-submit="stepIndexPattern.goToNextStep()"
        class="kuiVerticalRhythm"
      >
        <div class="createIndexPatternInputContainer kuiVerticalRhythm">
          <!-- Index pattern input -->
          <div>
            <label
              for="indexPatternNameField"
              class="kuiLabel kuiVerticalRhythmSmall"
              translate="KIBANA-CREATE_INDEX_PATTERN_STEP_1_INDEX_PATTERN_LABEL"
            ></label>

            <div class="kuiVerticalRhythmSmall kuiVerticalRhythm">
              <input
                id="indexPatternNameField"
                class="kuiTextInput kuiTextInput--large"
                data-test-subj="createIndexPatternNameInput"
                ng-model="stepIndexPattern.indexPatternName"
                placeholder="index-name-*"
                validate-index-name
                validate-index-name-allow-wildcard
                name="name"
                required
                type="text"
                aria-describedby="indexPatternNameFieldHelp1 indexPatternNameFieldHelp2"
              >
            </div>

            <p
              id="indexPatternNameFieldHelp1"
              class="kuiText kuiSubduedText kuiVerticalRhythm"
            >
              You can use a <strong>*</strong> as a wildcard in your index pattern.
            <p
              id="indexPatternNameFieldHelp2"
              class="kuiText kuiSubduedText kuiVerticalRhythm"
            >
              You can't use empty spaces or the characters <strong>\ / ? " < > , |</strong>.
            </p>
          </div>

          <!-- Action -->
          <button
            data-test-subj="createIndexPatternCreateButton"
            class="kuiButton kuiButton--primary kuiButton--iconText kuiVerticalRhythmSmall"
            ng-click="stepIndexPattern.goToNextStep()"
            ng-disabled="!stepIndexPattern.canGoToNextStep()"
          >
            <span class="kuiButton__inner">
              <span>Next</span>
              <span
                aria-hidden="true"
                class="kuiButton__icon kuiIcon fa-chevron-right"
              ></span>
            </span>
          </button>
        </div>
      </form>

      <!-- List of matching indices -->
      <div
        class="kuiVerticalRhythm"
        ng-switch="stepIndexPattern.matchingIndicesListType"
      >
        <div ng-switch-when="invalidIndexPattern">
          <matching-indices-list
            is-loading="stepIndexPattern.isFetchingMatchingIndices"
            indices="stepIndexPattern.allIndices"
          >
           <span class="kuiStatusText kuiStatusText--error">
              <span
                aria-hidden="true"
                class="kuiStatusText__icon kuiIcon fa-hand-stop-o"
              ></span>
              <span>
                You've entered an invalid index pattern. Please adjust it to match any of your <strong>{{stepIndexPattern.allIndices.length}} indices</strong>, below.
              </span>
            </span>
          </matching-indices-list>
        </div><div ng-switch-when="noInput">

          <matching-indices-list
            is-loading="stepIndexPattern.isFetchingMatchingIndices"
            indices="stepIndexPattern.allIndices"
          >
            <span ng-if="!stepIndexPattern.allIndices.length">
              You only have a single index. You can create an index pattern to match it.
            </span>

            <span ng-if="stepIndexPattern.allIndices.length">
              Your index pattern can match any of your <strong>{{stepIndexPattern.allIndices.length}} indices</strong>, below.
            </span>
          </matching-indices-list>
        </div>

        <div ng-switch-when="noMatches">
          <matching-indices-list
            is-loading="stepIndexPattern.isFetchingMatchingIndices"
            indices="stepIndexPattern.allIndices"
          >
            The index pattern you've entered doesn't match any indices. You can match any of your <strong>{{stepIndexPattern.allIndices.length}} indices</strong>, below.
          </matching-indices-list>
        </div>

        <div ng-switch-when="partialMatches">
          <matching-indices-list
            is-loading="stepIndexPattern.isFetchingMatchingIndices"
            indices="stepIndexPattern.partialMatchingIndices"
          >
            Your index pattern doesn't match any indices, but you have <strong>{{stepIndexPattern.partialMatchingIndices.length}} {{stepIndexPattern.partialMatchingIndices.length > 1 ? 'indices' : 'index'}}</strong> which {{stepIndexPattern.partialMatchingIndices.length > 1 ? 'look' : 'looks'}} similar.
          </matching-indices-list>
        </div>

        <div ng-switch-when="exactMatches">
          <matching-indices-list
            is-loading="stepIndexPattern.isFetchingMatchingIndices"
            indices="stepIndexPattern.matchingIndices"
          >
            <span class="kuiStatusText kuiStatusText--success">
              <span
                aria-hidden="true"
                class="kuiStatusText__icon kuiIcon fa-check"
              ></span>
              <span>
                <strong>Success!</strong> Your index pattern matches <strong>{{stepIndexPattern.matchingIndices.length}} {{stepIndexPattern.matchingIndices.length > 1 ? 'indices' : 'index'}}</strong>.
              </span>
            </span>
          </matching-indices-list>
        </div>
      </div>
    </div>
  </div>
</div>
