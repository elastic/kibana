import { registerTutorial } from '../../register_tutorial';
import { TUTORIAL_CATEGORY } from '../../tutorial_category';
import { INSTRUCTION_VARIANT } from '../../instruction_variant';

registerTutorial(() => {
  return {
    id: 'apache',
    name: 'Apache',
    category: TUTORIAL_CATEGORY.LOGGING,
    shortDescription: 'Some descriptive text about this application that will make you want to click on it',
    longDescription: `This module periodically fetches metrics from Apache HTTPD servers.
The Apache status metricset collects data from the Apache mod_status module.
It scrapes the server status data from the web page generated by mod_status.`,
    instructionSets: [
      {
        title: 'Getting Started',
        instructionVariants: [
          {
            id: INSTRUCTION_VARIANT.OSX,
            instructions: [
              {
                title: 'Download and install Metricbeat',
                textPre: 'Download and install the APM Server and follow the instructions described in the docs links below.',
                commands: [
                  'curl -L -O https://artifacts.elastic.co/downloads/beats/metricbeat/metricbeat-5.5.2-darwin-x86_64.tar.gz',
                  'tar xzvf metricbeat-5.5.2-darwin-x86_64.tar.gz'
                ]
              },
              {
                title: 'Configure and run Apache data source',
                textPre: 'In the Metricbeat install directory, run the following commands.',
                commands: [
                  './metricbeat modules enable apache',
                  './metricbeat -setup -e',
                  '    -E output.elasticsearch.hosts=[localhost:9200]',
                  '    -E output.elasticsearch.username=elastic',
                  '    -E output.elasticsearch.password=<elastic_password>',
                  '    -E setup.kibana.host=localhsot:5601'
                ],
                textPost: 'Optional: Modify your Apache access details.'
              }
            ]
          },
          {
            id: INSTRUCTION_VARIANT.DEB,
            instructions: [
            ]
          },
          {
            id: INSTRUCTION_VARIANT.RPM,
            instructions: [
            ]
          },
          {
            id: INSTRUCTION_VARIANT.DOCKER,
            instructions: [
            ]
          },
          {
            id: INSTRUCTION_VARIANT.WINDOWS,
            instructions: [
            ]
          }
        ]
      },
      {
        title: 'Phase 2',
        instructionVariants: [
          {
            id: INSTRUCTION_VARIANT.OSX,
            instructions: [
              {
                title: 'Do this next',
                textPre: 'do some stuff.',
                commands: [
                  'ls',
                ]
              }
            ]
          },
          {
            id: INSTRUCTION_VARIANT.DEB,
            instructions: [
            ]
          },
          {
            id: INSTRUCTION_VARIANT.RPM,
            instructions: [
            ]
          },
          {
            id: INSTRUCTION_VARIANT.DOCKER,
            instructions: [
            ]
          },
          {
            id: INSTRUCTION_VARIANT.WINDOWS,
            instructions: [
            ]
          }
        ]
      }
    ]
  };
});
