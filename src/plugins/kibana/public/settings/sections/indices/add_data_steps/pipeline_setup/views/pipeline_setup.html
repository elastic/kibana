<h2>
  <em ng-bind="'addData.pipelineSetup.headerTextCallout' | resource"></em>
  <span ng-bind="'addData.pipelineSetup.headerText' | resource"></span>
</h2>
<div class="main-panels">
  <div
    ng-hide="expandContext < 1"
    class="left-panel">
    <label>
      <span ng-bind="'addData.pipelineSetup.pipelineLabel' | resource"></span>
      <a
        aria-label="{{'addData.pipelineSetup.pipelineTooltip' | resource}}"
        tooltip="{{'addData.pipelineSetup.pipelineTooltip' | resource}}"
        tooltip-append-to-body="true"
        target="_blank">
        <i aria-hidden="true" class="fa fa-question-circle"></i>
      </a>
    </label>
    <div class="pipeline">
      <ul
        class="pipeline-container"
        ng-show="pipeline.processors.length > 0">
        <li ng-repeat="processor in pipeline.processors track by processor.processorId">
          <processor-ui-container pipeline="pipeline" processor="processor"></processor-ui-container>
        </li>
      </ul>

      <div class="add-processor">
        <div
          class="form-group"
          ng-hide="pipeline.processors.length > 0">
          <label>{{'addData.pipelineSetup.emptyPipeline' | resource}}</label>
        </div>
        <div class="add-processor-dropdown">
          <select
            class="form-control"
            ng-options="processorType.title for processorType in processorTypes"
            ng-model="processorType"
            ng-disabled="pipeline.hasCompileError">
            <option value="">{{'addData.pipelineSetup.processorTypePlaceholder' | resource}}</option>
          </select>
        </div>
      </div>
    </div>
  </div>
  <div class="center-panel">
    <div class="buttons">
      <button
        aria-label="{{expandContext > 1 ? 'addData.pipelineSetup.expandRightPanel' : 'addData.pipelineSetup.collapseLeftPanel' | resource}}"
        tooltip="{{expandContext > 1 ? 'addData.pipelineSetup.expandRightPanel' : 'addData.pipelineSetup.collapseLeftPanel' | resource}}"
        ng-click="expandContext = expandContext - 1"
        ng-disabled="expandContext < 1"
        type="button"
        class="btn btn-primary btn-xs collapser">
        <i aria-hidden="true" class="fa fa-chevron-circle-left"></i>
      </button>
      <button
        aria-label="{{expandContext > 1 ? 'addData.pipelineSetup.expandLeftPanel' : 'addData.pipelineSetup.collapseRightPanel' | resource}}"
        tooltip="{{expandContext > 1 ? 'addData.pipelineSetup.expandLeftPanel' : 'addData.pipelineSetup.collapseRightPanel' | resource}}"
        ng-click="expandContext = expandContext + 1"
        ng-disabled="expandContext > 1"
        type="button"
        class="btn btn-primary btn-xs collapser">
        <i aria-hidden="true" class="fa fa-chevron-circle-right"></i>
      </button>
    </div>
  </div>
  <div
    ng-hide="expandContext > 1"
    class="right-panel">
    <pipeline-output pipeline="pipeline" samples="samples" sample="sample"></pipeline-output>
  </div>
</div>
