# @kbn/core-application-browser-mocks

## Description
The browser-mocks package provides comprehensive mock implementations for Kibana's core application service. These mocks are essential for unit testing plugins and components that depend on the application service, enabling isolated testing without requiring the full application infrastructure.

## Contents
- `index.ts`: Main entry point exposing all application service mocks
- `src/application_service.mock.ts`: Mock implementation of the complete application service
- `src/scoped_history.mock.ts`: Mock for scoped browser history functionality

## Architecture
The package provides a complete mocking layer that mirrors the real application service API:

**Mock Components:**
- **ApplicationServiceMock**: Provides mocked setup and start contracts
- **ScopedHistoryMock**: Mocks browser history scoped to specific applications
- **Application Registration Mocks**: Simulates application registration and retrieval
- **Navigation Mocks**: Mocks navigation and URL generation functionality

**Design Principles:**
- **API Compatibility**: Mocks maintain full compatibility with real service interfaces
- **Configurable Behavior**: Mocks can be configured to simulate different scenarios
- **Jest Integration**: Optimized for Jest testing framework with spy capabilities
- **Isolated Testing**: Enables testing without browser dependencies

## Usage
Use these mocks in your unit tests to test components that depend on the application service:

```typescript
import { applicationServiceMock, scopedHistoryMock } from '@kbn/core-application-browser-mocks';

describe('MyComponent', () => {
  let applicationMock: ReturnType<typeof applicationServiceMock.createSetupContract>;
  
  beforeEach(() => {
    applicationMock = applicationServiceMock.createSetupContract();
  });

  it('should register application', () => {
    const component = new MyComponent();
    component.setup({ application: applicationMock });
    
    expect(applicationMock.register).toHaveBeenCalledWith({
      id: 'myApp',
      title: 'My App',
      mount: expect.any(Function),
    });
  });
});

// Testing navigation
describe('Navigation', () => {
  it('should navigate to app', () => {
    const applicationStart = applicationServiceMock.createStartContract();
    
    myNavigationHandler(applicationStart);
    
    expect(applicationStart.navigateToApp).toHaveBeenCalledWith('targetApp');
  });
});

// Testing scoped history
describe('ScopedHistory', () => {
  it('should handle history changes', () => {
    const history = scopedHistoryMock.create();
    
    myHistoryHandler(history);
    
    expect(history.push).toHaveBeenCalledWith('/new-path');
  });
});
```

## Available Mocks

### ApplicationServiceMock
- `createSetupContract()`: Returns a mocked ApplicationSetup interface
- `createStartContract()`: Returns a mocked ApplicationStart interface
- `createInternalSetupContract()`: Returns internal setup contract mock
- `createInternalStartContract()`: Returns internal start contract mock

### ScopedHistoryMock
- `create(options?)`: Creates a mock scoped history instance
- Includes mocked methods: `push`, `replace`, `go`, `goBack`, `goForward`, `listen`, etc.

## Tutorials
- [Building a Kibana Plugin](dev_docs/tutorials/building_a_plugin.mdx) - Learn how to test plugins using these mocks
- [Kibana Platform Plugin API](dev_docs/tutorials/kibana_platform_plugin_api.mdx) - Understand testing patterns with core service mocks

## Attribution
This README was generated by an AI assistant based on the code and JSDocs of the package
