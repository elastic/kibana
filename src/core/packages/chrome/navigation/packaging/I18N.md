# Internationalization (i18n)

This document explains the internationalization approach for `@kbn/one-navigation` and what it means for Elastic product teams.

## Current Implementation

**Current Status**: This package uses a **no-op i18n implementation** with internal UI strings in **English only**.

### What This Means for Your Product

The i18n strategy is split into two categories:

| Category | Current Support | Your Control |
|----------|-----------------|--------------|
| **Your navigation labels** | Full support | Complete - you provide all labels via props in any language |
| **Internal UI strings** | English only | None - internal component strings are hardcoded in English |

---

## Your Navigation Labels

You have **complete control** over all navigation item labels. Provide them in any language your product supports:

### Example: Multi-language Navigation

```tsx
// English
const navigationItems = {
  primaryItems: [
    { id: 'dashboard', label: 'Dashboard', iconType: 'dashboardApp', href: '#/' },
    { id: 'analytics', label: 'Analytics', iconType: 'graphApp', href: '#/analytics' },
  ],
};

// French
const navigationItems = {
  primaryItems: [
    { id: 'dashboard', label: 'Tableau de bord', iconType: 'dashboardApp', href: '#/' },
    { id: 'analytics', label: 'Analytique', iconType: 'graphApp', href: '#/analytics' },
  ],
};

// Japanese
const navigationItems = {
  primaryItems: [
    { id: 'dashboard', label: 'ダッシュボード', iconType: 'dashboardApp', href: '#/' },
    { id: 'analytics', label: 'アナリティクス', iconType: 'graphApp', href: '#/analytics' },
  ],
};

// German
const navigationItems = {
  primaryItems: [
    { id: 'dashboard', label: 'Instrumententafel', iconType: 'dashboardApp', href: '#/' },
    { id: 'analytics', label: 'Analytik', iconType: 'graphApp', href: '#/analytics' },
  ],
};
```

**Your responsibility**: Implement your own i18n solution for navigation item labels using your product's existing i18n infrastructure (e.g., i18next, react-intl, custom solution).

---

## Internal UI Strings (English Only)

Internal component strings are currently **hardcoded in English** and cannot be translated in the current implementation.

### What Are Internal UI Strings?

These are strings that the navigation component itself uses, not the labels you provide:

| String | Location | Visibility | User Impact |
|--------|----------|------------|-------------|
| **"More"** | Overflow menu label | High - visible when many items | Medium - users may not understand overflow menu purpose |
| **"Skip to main content"** | Accessibility link | Low - screen readers only | Low - standard English term recognized by screen reader users |
| **ARIA labels** | Various elements | Hidden - assistive tech only | Low - standard terms, internationally recognized |

### Example: Internal Strings in Action

```tsx
// Your French navigation labels
const navigationItems = {
  primaryItems: [
    { id: 'dashboard', label: 'Tableau de bord', iconType: 'dashboardApp' },
    { id: 'analytics', label: 'Analytique', iconType: 'graphApp' },
    { id: 'data', label: 'Données', iconType: 'database' },
    { id: 'settings', label: 'Paramètres', iconType: 'gear' },
    // ... many more items that don't fit
  ],
};

// If there are too many items to display, the component shows an overflow menu
// The overflow menu label will say "More" (English), not "Plus" (French)
// This is the internal string limitation
```

---

## Current Limitations

### Affected Strings

The following internal strings are **hardcoded in English**:

1. **"More"** - Overflow menu label
   - **When it appears**: When navigation has too many items to display
   - **Frequency**: Depends on navigation structure (may not appear if you have few items)

2. **"Skip to main content"** - Accessibility link
   - **When it appears**: Always present (for screen reader users)
   - **Frequency**: Always, but only exposed to assistive technology

3. **ARIA labels** - Screen reader labels
   - **Examples**: "Navigation", "Primary navigation", "Footer navigation"
   - **When it appears**: Always present (for screen reader users)
   - **Frequency**: Always, but only exposed to assistive technology

### Impact Assessment

**High Impact** (visible to all users):
- **"More" menu label** - Only appears if you have many navigation items
  - **Mitigation**: Keep navigation structure concise to avoid overflow

**Low Impact** (assistive technology only):
- **"Skip to main content"** - Standard accessibility term
- **ARIA labels** - Common English terms widely understood by international screen reader users

**Overall Impact**: **Minimal** - Most of your visible UI is controlled by the labels you provide. Internal strings are either rare (overflow menu) or standard accessibility terms that are internationally recognized.

---

## Best Practices

### 1. Implement Your Own i18n for Labels

Use your product's existing i18n solution:

```tsx
import { useTranslation } from 'react-i18next'; // or your i18n library

function MyApp() {
  const { t } = useTranslation();

  const navigationItems = {
    primaryItems: [
      { 
        id: 'dashboard', 
        label: t('navigation.dashboard'), // Your i18n solution
        iconType: 'dashboardApp',
        href: '#/',
      },
      { 
        id: 'analytics', 
        label: t('navigation.analytics'), // Your i18n solution
        iconType: 'graphApp',
        href: '#/analytics',
      },
    ],
  };

  return <OneNavigation items={navigationItems} {...otherProps} />;
}
```

### 2. Minimize Overflow Scenarios

To avoid exposing the English "More" menu:
- Keep primary navigation items to 7-10 items max
- Use nested sections to organize many items
- Consider alternative navigation patterns for large structures

**Good structure** (avoids overflow):
```tsx
const navigationItems = {
  primaryItems: [
    { id: 'dashboard', label: 'Dashboard', iconType: 'dashboardApp' },
    {
      id: 'analytics',
      label: 'Analytics',
      iconType: 'graphApp',
      sections: [
        {
          id: 'reports',
          label: 'Reports',
          items: [
            { id: 'sales', label: 'Sales Report' },
            { id: 'traffic', label: 'Traffic Report' },
            // Many nested items - no overflow!
          ],
        },
      ],
    },
  ],
};
```

### 3. Document Limitations

If your product supports multiple languages, document for your users that:
- Navigation item labels are fully translated
- Some internal component strings (like overflow menu) remain in English
- This is a known limitation that will be addressed as a future enhancement

---

## Future Translation Support

### Planned Enhancement

Full translation support for internal UI strings is available as a future enhancement, enabling truly multi-language navigation.

**What the enhancement will include:**
- Full i18n support for all internal UI strings
- Multiple language support (en, fr-FR, ja-JP, zh-CN, de-DE, and more)
- Translation loading and customization
- API to provide custom translations
- Backward compatible with current implementation (no breaking changes)

**Proposed API:**
```tsx
// Future API (not yet available)
<OneNavigation
  items={navigationItems}
  // ... other props ...
  locale="fr-FR"  // Specify language
  translations={customTranslations}  // Or provide custom translations
/>
```

### Timeline

**This enhancement is on-demand** - It will be implemented based on feedback and requirements from Elastic product teams.

**Do you need multi-language support?**
- Contact the Shared UX team via Slack (#kibana-shared-ux) or GitHub Discussions
- Share your use case and timeline requirements
- The Shared UX team will prioritize this enhancement based on demand

**Current priority**: The current implementation meets the needs of most Elastic products (English-primary or custom label translations). Multi-language support will be prioritized if multiple products require internal string translations.

---

## Technical Details

### How No-Op i18n Works

The package uses webpack aliases to redirect Kibana's i18n imports to a no-op implementation:

```tsx
// @kbn/i18n imports are redirected to no-op implementation
import { i18n } from '@kbn/i18n';

// Returns the defaultMessage (English) always
i18n.translate('navigation.more', {
  defaultMessage: 'More',
});
// → Always returns "More"
```

**Benefits of this approach:**
- No Kibana i18n infrastructure required
- Smaller bundle size (no i18n runtime)
- Simpler integration for Elastic products
- Maintains compatibility with Kibana's navigation component

**Trade-off:**
- Internal strings not translatable (current limitation)

### Why No Full i18n Currently?

The current implementation prioritizes:
1. **Fast time-to-market** - Get navigation to Elastic products quickly
2. **Minimal dependencies** - No complex i18n infrastructure required
3. **Bundle size** - Keep package lightweight (~26 KB)
4. **Elastic product needs** - Most Elastic products are English-primary or handle their own label translations

Full i18n would add:
- Translation extraction and management
- Runtime translation loading
- Increased bundle size (~5-10 KB for i18n runtime)
- More complex integration

**Decision**: Start simple, add complexity when needed based on demand.

---

## FAQ

### Q: Can I use OneNavigation in a non-English product?

**A**: Yes! You provide all navigation item labels, so you have full control over the language. The only limitation is internal component strings (like "More" menu) remain in English.

### Q: Will my users notice the English strings?

**A**: Probably not. The most visible internal string is "More" (overflow menu), which only appears if you have many navigation items. Accessibility strings are only exposed to screen readers and use standard English terms.

### Q: Should I wait for multi-language support?

**A**: No, unless your product has strict requirements for translating every UI string. The current implementation is production-ready and suitable for most Elastic products. You can upgrade to full i18n support when it becomes available (will be backward compatible).

### Q: How do I request multi-language support?

**A**: Contact the Shared UX team via:
- Slack: #kibana-shared-ux (for Elastic employees)
- GitHub Discussions: https://github.com/elastic/kibana/discussions
- GitHub Issues: https://github.com/elastic/kibana/issues

Share your use case, timeline, and language requirements. The team will prioritize based on feedback from multiple products.

### Q: Can I contribute to multi-language support implementation?

**A**: Potentially! Contact the Shared UX team to discuss. Full i18n support has specific requirements and architecture decisions that need to align with Kibana's i18n infrastructure.

---

## Related Documentation

- **Main README**: [README.md](./README.md) - Overview and quick start
- **API Reference**: [API_REFERENCE.md](./API_REFERENCE.md) - Complete prop and type documentation
- **Roadmap**: [ROADMAP.md](./ROADMAP.md) - Technical implementation roadmap and future plans
- **Example App**: [example/README.md](./example/README.md) - See i18n in action

---

**Current Implementation**: No-op i18n  
**Internal Strings**: English only  
**Your Labels**: Any language  
**Multi-Language Support**: Available on-demand (contact Shared UX team if needed)

