@import "~ui/styles/dark-variables.less";
@import "~ui/styles/bootstrap/mixins.less";

.tab-dashboard.theme-dark {
  color: @text-color;
  background-color: @dashboard-bg;

// /src/ui/public/styles/bootstrap/scaffolding.less
  a {
    color: @link-color;

    &:hover,
    &:focus {
      color: @link-hover-color;
    }
  }

  .exitFullScreenMode {
    background-color: @globalColorDarkestGray;
  }

// /src/ui/public/styles/bootstrap/forms.less
  .form-control {
    color: @input-color;
    background-color: @input-bg;
    border-color: @input-border;
    &[disabled],
    &[readonly],
    fieldset[disabled] & {
      background-color: @input-bg-disabled;
    }
  }


// /src/ui/public/styles/bootstrap/panels.less
  .panel {
    background-color: @panel-bg;
  }


// /src/ui/public/styles/bootstrap/tables.less
  .table {
    // Cells
    > thead,
    > tbody,
    > tfoot {
      > tr {
        > th,
        > td {
          border-top-color: @table-border-color;
        }
      }
    }
    // Bottom align for column headings
    > thead > tr > th {
      border-bottom-color: @table-border-color;
    }
    // Account for multiple tbody instances
    > tbody + tbody {
      border-top-color: @table-border-color;
    }

    // Nesting
    .table {
      background-color: @table-nested-bg;
    }
  }

  table {
    th {
      i.fa-sort {
        color: @table-sort-color;
      }

      button.fa-sort-asc,
      button.fa-sort-down,
      i.fa-sort-asc,
      i.fa-sort-down {
        color: @table-sort-asc-color;
      }

      button.fa-sort-desc,
      button.fa-sort-up,
      i.fa-sort-desc,
      i.fa-sort-up {
        color: @table-sort-desc-color;
      }
    }
  }


// /src/ui/public/styles/bootstrap/list-group.less
  .list-group-item {
    background-color: @list-group-bg;
    border: 1px solid @gray7;
    &:nth-child(even) {
      background-color: @gray4;
    }
  }

  .list-group-item--noBorder {
    border-top: 0;
  }

  a.list-group-item,
  button.list-group-item {
    color: @list-group-link-color;

    .list-group-item-heading {
      color: @list-group-link-heading-color;
    }

    // Hover state
    &:hover,
    &:focus {
      color: @list-group-link-hover-color;
      background-color: @list-group-hover-bg;
    }
  }
  .panel {
    > .panel-body + .table,
    > .panel-body + .table-responsive,
    > .table + .panel-body,
    > .table-responsive + .panel-body {
      border-top-color:@table-border-color;
    }
  }

  .panel-group {
    .panel-heading {
      + .panel-collapse > .panel-body,
      + .panel-collapse > .list-group {
        border-top-color: @panel-inner-border;
      }
    }

    .panel-footer {
      border-top: 0;
      + .panel-collapse .panel-body {
        border-bottom-color: @panel-inner-border;
      }
    }
  }

  .panel--edit-mode {
    border-color: #222;
  }

  .panel--edit-mode:hover {
    border-color: @globalColorBlue;
  }

  .panel-default {
    & > .panel-heading {
      color: @panel-default-text;
      background-color: @panel-default-heading-bg;
      border-color: @panel-default-border;

      + .panel-collapse > .panel-body {
        border-top-color: @panel-default-border;
      }
      .badge {
        color: @panel-default-heading-bg;
        background-color: @panel-default-text;
      }
    }
    & > .panel-footer {
      + .panel-collapse > .panel-body {
        border-bottom-color: @panel-default-border;
      }
    }
  }


// /src/ui/public/styles/bootstrap/navs.less
  .nav {
    > li {
      > a {
        &:hover,
        &:focus {
          background-color: @nav-link-hover-bg;
        }
      }
    }
  }


// /src/ui/public/styles/bootstrap/navs.less
  .nav-tabs {
    border-bottom: 1px solid @gray4;
    > li {
      margin-bottom: -2px;
      > a {
        &:hover {
          border-color: @nav-tabs-link-hover-border-color @nav-tabs-link-hover-border-color @nav-tabs-border-color;
        }
      }

      &.active > a {
        &,
        &:hover,
        &:focus {
          color: @white;
          background-color: @gray4;
          border: 0 none transparent;
        }
      }
    }
  }


// /src/ui/public/styles/navbar.less
  navbar {
    color: @navbar-default-color;
    background-color: @navbar-default-bg;
    border-color: @navbar-default-border;
    button {
      color: @white;
      background-color: transparent;
    }
  }


// /src/ui/public/styles/base.less
  saved-object-finder {
    .list-group-item {
      a {
        i {
          color: @saved-object-finder-icon-color !important;
        }

        color: @saved-object-finder-link-color !important;
      }
    }
  }

  saved-object-finder, paginated-selectable-list {
    ul.li-striped {
      li {
        border: none;
      }
    }
  }

  .cell-hover {
    background-color: @table-cell-hover-bg;

    .table-cell-filter {
      background-color: @table-cell-hover-bg;
    }
  }


// /src/ui/public/styles/spinner.less
  .spinner > div {
    background-color: @spinner-bg;
  }


// /src/ui/public/agg_table/agg_table.less
  .agg-table-paginated {
    tr:hover td {
      background-color: @table-row-hover-bg;

      .table-cell-filter {
        background-color: @table-row-hover-bg;
      }
    }
  }

  .discover-table-row {
    .docTableRowFilterButton {
      background-color: @panel-bg;
    }
  }

// /src/ui/public/visualize/visualize.less
  .visualize-show-spy {
    border-top-color: @visualize-show-spy-border;
  }

  visualize-spy {
    background-color: @visualize-spy-container-pre-bg;
  }

  .visualize-spy-container {
    pre {
      border-color: @visualize-show-spy-border;
      color: @visualize-spy-container-pre-color;
      opacity: 1;
      background-color: @visualize-spy-container-pre-bg;
    }
  }


// /src/ui/public/vislib/styles/_svg.less
  .axis {
    line, path {
      stroke: @svg-axis-color;
    }
  }

  .tick text {
    fill: @svg-tick-text-color;
  }

  .chart-label {
    fill: @svg-tick-text-color;
  }

  .brush .extent {
    stroke: @svg-brush-color;
  }

  .endzone {
    fill: @svg-endzone-bg;
    //opacity: 1;
  }


// /src/ui/public/vislib/styles/_legend.less
  .legend {
    background-color: @dashboard-panel-bg;
  }

  .legend-col-wrapper {

    .legend-ul {
      border-left-color: @sidebar-bg;
      color: @legend-item-color;
    }

  }

  .legend-value-title {
    padding: 3px;

    &:hover {
      background-color: @sidebar-hover-bg;
    }
  }

  .legend-value-full {
    background-color: @gray3;
  }

  .legend-value-details {
    border-bottom: 1px solid @sidebar-bg;
  }



// /src/ui/public/vislib/styles/_layout.less
  .y-axis-title text, .x-axis-title text {
    fill: @vis-axis-title-color;
  }

  .chart-title text {
    fill: @vis-chart-title-color;
  }


// /src/ui/public/vislib/styles/_tilemap.less
  .tilemap {
    border-color: @tilemap-border;
  }

  .tilemap-legend {
    background: @tilemap-legend-base-bg;
    background: @tilemap-legend-bg;
    color: @tilemap-color;
  }

  .tilemap-legend i {
    border-color: @tilemap-legend-i-border;
    background: @tilemap-legend-i-bg;
  }

  .tilemap-info {
    background: @tilemap-info-base-bg;
    background: fade(@tilemap-info-bg, 92%);
  }

  .tilemap-info h2 {
    color: @tilemap-info-header-color;
  }

  .leaflet-control-fit {
    background: @tilemap-leaflet-control-bg;
    outline: 1px @tilemap-leaflet-control-outline;
  }

  .leaflet-container {
    background: @tilemap-leaflet-container-bg !important;
  }

  .leaflet-popup-content-wrapper {
    background: @tooltip-bg !important;
    color: @tooltip-color !important;
  }

  .leaflet-popup-content {
    table {
      thead tr {
        border-bottom-color: @tilemap-leaflet-popup-border;
      }

      tbody tr {
        border-top-color: @tilemap-leaflet-popup-border;
      }
    }
  }

  img.leaflet-tile {
    filter: @tilemap-filter;
  }

  .leaflet-control-attribution {
    background-color: @tilemap-leaflet-footer-bg !important;
    color: @tilemap-leaflet-footer-color !important;
  }

  .leaflet-left {
    .leaflet-control,
    .leaflet-draw-actions {
      a,
      a:hover {
        color: @dark-button-font;
        background-color: @dark-button-bg;
      }
    }
  }


// /src/ui/public/filter_bar/filter_bar.less
  .filter-bar-confirm {
    background: @filter-bar-confirm-bg;
    border-bottom-color: @filter-bar-confirm-border;

    .filter {
      background-color: @filter-bar-confirm-filter-bg;
      color: @filter-bar-confirm-filter-color;
    }
  }

  .filter-bar {
    background: @filter-bar-bar-bg;
    border-bottom-color: @filter-bar-bar-border;

    .filter {
      background-color: @filter-bar-bar-filter-bg;
      color: @filter-bar-bar-filter-color;

      &.negate {
        background-color: @filter-bar-bar-filter-negate-bg;
      }

      a {
        color: @filter-bar-bar-filter-color;
      }
    }
  }

    .filter-bar-condensed {
      background: @filter-bar-bar-condensed-bg;
    }


// /src/ui/public/styles/config.less
  .config {
    border-bottom: 0 none transparent;

    .container-fluid {
      background-color: @config-bg;
    }
  }


// /src/ui/public/styles/list-group-menu.less
  .list-group-menu {
    &.select-mode a{
       color: @list-group-menu-item-select-color;
    }

    .list-group-menu-item {
      color: @list-group-menu-item-color;

      &.active {
        background-color: @list-group-menu-item-active-bg;
      }
      &:hover {
        background-color: @gray2;
      }
      li {
        color: @list-group-menu-item-color;
      }
    }
  }


// /src/ui/public/styles/input.less
  select {
    color: @input-color;
    background-color: @input-bg;
  }


// /src/ui/public/styles/pagination.less
  paginate {
    paginate-controls {
      .pagination-other-pages-list {
        > li {
          a {
            background-color: @dark-button-bg;
            color: @white;
          }
          &.active a {
            color: @paginate-page-link-active-color;
          }
        }
      }
    }
  }


// /src/core_plugins/kibana/public/dashboard/styles/main.less
  .start-screen {
    background-color: @dashboard-bg-with-margins;
  }

  .react-grid-layout {
    background-color: @dashboard-bg;
  }

  .dashboard-panel {
    background: @dashboard-panel-bg;
    color: @dashboard-panel-color;

    .panel {

      .panel-heading {
        a {
          color: @dashboard-panel-heading-link-color;
          &:hover {
            color: @dashboard-panel-heading-link-hover-color;
          }
        }
        span.panel-title {
          color: @dashboard-panel-heading-link-color;
        }
        i {
          color: @dashboard-panel-heading-link-color;
          opacity: 1;
        }
      }


      .load-error {
        .fa-exclamation-triangle {
          color: @dashboard-panel-load-error-color;
        }
      }
    }
  }

  saved-object-finder .form-group span {
    background-color: @input-bg;
    color: @dark-button-font;
  }
  saved-object-finder .paginate-heading {
    color: @text-color;
  }
  .kibana-nav-actions .active {
    background-color: @config-bg;
    color: @dark-button-font;
  }

  .truncate-by-height:before {
    background: linear-gradient(to bottom, transparent 0%, @dashboard-bg 100%) !important;
  }

  kbn-table, .kbn-table, tbody[kbn-rows] {
    dl.source {
      dt {
        background: #5f5f5f;
        color: #ffffff;
      }
    }
  }

  .slice {
    stroke: @panel-bg;
  }
}


// react-select
.theme-dark {
  .Select-control {
    background-color: #444444;
    border: 1px solid #444444;
    color: #cecece;
  }

  .is-open > .Select-control {
    background: #444444;
    border: 1px solid #444444;
  }

  .is-focused:not(.is-open) > .Select-control {
    border-color: #0079a5;
    box-shadow: none;
  }

  .Select-menu-outer {
    border: 1px solid #444444;
    border-top-color: black;
  }

  .Select-option {
    background-color: #444444;
    color: #cecece;
  }

  .Select--multi .Select-value {
    color: #b7e2ea;
    border: 1px solid #b7e2ea;
  }

  .Select--multi .Select-value-icon {
    border-right: 1px solid #b7e2ea;
  }


  .Select-option.is-focused {
    background-color: #9c9c9c;
    color: #fff;
  }

  .Select--multi .Select-value-icon:hover,
  .Select--multi .Select-value-icon:focus {
    color: #444444;
    background-color: #b7e2ea;
  }

  .has-value.Select--single > .Select-control .Select-value .Select-value-label,
  .has-value.is-pseudo-focused.Select--single > .Select-control .Select-value .Select-value-label {
    color: #cecece;
  }

  .Select-clear-zone {
    color: #a6a6a6;
  }

  .Select-clear-zone:hover {
    color: black;
  }

  .Select-arrow {
    border-color: #a6a6a6 transparent transparent;
  }

  .is-open > .Select-control .Select-arrow {
    border-color: transparent transparent black;
  }

  .is-open .Select-arrow,
  .Select-arrow-zone:hover > .Select-arrow {
    border-top-color: black;
  }
}

// react-input-range
.theme-dark {
  .input-range__track {
    background-color: #cecece;
  }

  .input-range__slider {
    background: #444444;
    border: 1px solid #444444;
  }

  .input-range__track--active {
    background: #444444;
  }

  .input-range__label {
    color: #cecece;
  }
}

.theme-dark {
  .markdown-body {
    color: @text-color;
  }

  .markdown-body code {
    color: #ffffff;
    background-color: #5f5f5f;
  }

  .markdown-body pre {
    background-color: #5f5f5f;
    border: none;
  }

  .markdown-body table {
    border-left: 1px solid @table-border-color;
  }

  .markdown-body table th,
  .markdown-body table td {
    border-top: 1px solid @table-border-color;
    border-bottom: 1px solid @table-border-color;

    &:last-child {
      border-right: 1px solid @table-border-color;
    }
  }

  .markdown-body table tr {
    border-top: 1px solid @table-border-color;
  }

  .markdown-body blockquote {
    color: @dimmed-text-color;
  }

  /**
 * The dashboard background color is the same as the panel color by default. When the user wants to use margins, we
 * need to give a different background color so the panels are distinguishable from the background.
 */
  .layout-with-margins {
    background-color: @dashboard-bg-with-margins;
    .panel-default {
      & > .panel-heading {
        background-color: @panel-bg-with-margins;
      }
    }
    .panel-content {
      background-color: @panel-bg-with-margins;
    }
    .panel {
      background-color: @panel-bg-with-margins;
      border: 1px solid #444444;
    }
  }
  .dashboard-viewport {
    background-color: @dashboard-bg;
  }
  .dashboard-viewport-with-margins {
    background-color: @dashboard-bg-with-margins;
  }

  .dashboard-container-with-margins {
    background-color: @dashboard-bg-with-margins;
  }

  .react-grid-item > .react-resizable-handle {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='6' height='6' viewBox='0 0 6 6'%3E%3Cpolygon fill='%23EFEEEE' points='6 6 0 6 0 4.2 4 4.2 4.2 4.2 4.2 0 6 0' opacity='.302'/%3E%3C/svg%3E%0A");
  }
}
