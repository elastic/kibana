<div
  class="typeahead"
  ng-keydown="typeahead.onKeyDown($event)"
  ng-keypress="typeahead.onKeyPress($event)"
  role="combobox"
  aria-haspopup="true"
  aria-owns="{{typeahead.elementID}}-typeahead-items"
  aria-expanded="{{typeahead.isVisible() ? true : false}}"
>
  <ng-transclude></ng-transclude>
  <div
    class="typeahead-popover"
    ng-show="typeahead.isVisible()"
    ng-mouseenter="typeahead.onMouseEnter()"
    ng-mouseleave="typeahead.onMouseLeave()"
  >
    <div
      class="typeahead-items"
      kbn-scroll-bottom="typeahead.increaseLimit()"
      role="listbox"
      id="{{typeahead.elementID}}-typeahead-items"
    >
      <div
        class="typeahead-item"
        ng-repeat="item in typeahead.items | limitTo: typeahead.limit"
        ng-class="{active: $index === typeahead.selectedIndex}"
        ng-click="typeahead.onItemClick()"
        ng-mouseenter="typeahead.selectedIndex = $index"
        role="option"
        id="{{typeahead.elementID}}-typeahead-item-{{$index}}"
      >
        <kbn-typeahead-item
          item="item"
          template="typeahead.itemTemplate"
        >
        </kbn-typeahead-item>
      </div>
    </div>
  </div>
</div>
