<div>
  <kbn-grid class="vis-editor-agg-editor-ranges form-group" ng-show="agg.params.ranges.length">
    <gr>
      <gh>
        <label>From</label>
      </gh>
      <gh>
        <label>To</label>
      </gh>
      <gh no-flex>
        <button type="button" class="btn btn-xs" style="visibility: hidden">
          <i class="fa fa-times"></i>
        </button>
      </gh>
    </gr>

    <gr ng-repeat="range in agg.params.ranges track by $index">
      <gd>
        <input
          ng-model="range.from"
          validate-date-math
          type="text"
          class="form-control"
          name="range.from" />
      </gd>
      <gd>
        <input
          ng-model="range.to"
          validate-date-math
          class="form-control"
          name="range.to" />
      </gd>
      <gd no-flex>
        <button
          type="button"
          ng-click="agg.params.ranges.splice($index, 1)"
          class="btn btn-danger btn-xs">
          <i class="fa fa-ban" ></i>
        </button>
      </gd>
    </gr>
    <gr>
      <gd>
        <small>
          <a target="_window" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html#date-math">Accepted Date Formats <i class="fa-link fa"></i></a>
        </small>
      </gd>
    </gr>
  </kbn-grid>

  <input ng-model="agg.params.ranges.length" name="rangeLength" required min="1" type="number" class="ng-hide" />
  <div class="hintbox" ng-show="aggForm.rangeLength.$invalid">
    <p>
      <i class="fa fa-danger text-danger"></i>
      <strong>Required:</strong> You must specify at least one date range.
    </p>
  </div>

  <div
    ng-click="agg.params.ranges.push({})"
    class="sidebar-item-button primary">
    Add Range
  </div>
</div>
