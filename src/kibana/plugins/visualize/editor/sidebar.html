<div class="vis-editor-sidebar">
  <div class="sidebar-container">
    <form class="sidebar-list"
          ng-class="{'hide-errors': hideErrors}"
          ng-submit="visualizeEditor.$invalid ? dontApply() : apply()"
          name="visualizeEditor">
      <ul class="list-unstyled">
        <!-- metrics -->
        <vis-editor-agg-group
          ng-if="vis.type.schemas.metrics"
          vis="vis"
          saved-vis="savedVis"
          schemas="vis.type.schemas.metrics"
          group="vis.aggs.bySchemaGroup.metrics"
          group-name="'metrics'"
          >
        </vis-editor-agg-group>

        <!-- buckets -->
        <vis-editor-agg-group
          ng-if="vis.type.schemas.buckets"
          vis="vis"
          saved-vis="savedVis"
          schemas="vis.type.schemas.buckets"
          group="vis.aggs.bySchemaGroup.buckets"
          group-name="'buckets'"
          >
        </vis-editor-agg-group>

        <!-- vis options -->
        <vis-editor-vis-options
          vis="vis"
          >
        </vis-editor-vis-options>

        <!-- apply/discard -->
        <li class="vis-editor-sidebar-buttons sidebar-item">
          <button
            ng-disabled="!vis.dirty || visualizeEditor.$invalid"
            type="submit"
            class="sidebar-item-button success">
            Apply
          </button>
          <button
            ng-disabled="!vis.dirty"
            type="button"
            ng-click="reset()"
            class="sidebar-item-button warn">
            Discard
          </button>
        </li>
      </ul>
    </form>
  </div>
</div>