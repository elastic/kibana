<div class="sidebar-container">
  <form class="sidebar-list"
        ng-class="{'hide-errors': hideErrors}"
        ng-submit="visualizeEditor.$invalid ? dontApply() : stageEditableVis()"
        name="visualizeEditor">

    <div css-truncate css-truncate-expandable="true" ng-if="vis.type.requiresSearch" class="index-pattern">
      {{ indexPattern.id }}
    </div>

    <ul class="list-unstyled">
      <!-- metrics -->
      <vis-editor-agg-group ng-if="vis.type.schemas.metrics" group-name="metrics"></vis-editor-agg-group>

      <!-- buckets -->
      <vis-editor-agg-group ng-if="vis.type.schemas.buckets" group-name="buckets"></vis-editor-agg-group>

      <!-- vis options -->
      <vis-editor-vis-options
        vis="vis"
        >
      </vis-editor-vis-options>

      <!-- apply/discard -->
    </ul>
    <div class="vis-editor-sidebar-buttons">
      <p
        ng-if="visualizeEditor.$invalid"
        class="text-center text-danger sidebar-item-text">
        <i class="fa fa-warning"></i> {{visualizeEditor.describeErrors()}}
      </p>
      <button
        ng-disabled="!vis.dirty || visualizeEditor.$invalid"
        type="submit"
        class="sidebar-item-button success">
        Apply
      </button>
      <button
        ng-disabled="!vis.dirty"
        type="button"
        ng-click="resetEditableVis()"
        class="sidebar-item-button default">
        Discard
      </button>
    </div>
  </form>
</div>

