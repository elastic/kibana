There's an occacional flaky test

discover/tabs discover - ES|QL controls should reset successfully a saved session with a control group

it's here
/Users/matthiaswilhelm/projects/kibana/src/platform/test/functional/apps/discover/tabs/_controls.ts

I've added .only to make sure just this test suite is executed. 

according to the screenshot the geo_dest control is set on CN, and the selection of geo_dest is open 



Failure:
--------
Error: expected testSubject(unsavedChangesBadge) to exist
    at TestSubjects.existOrFail (test_subjects.ts:76:13)
    at Context.<anonymous> (_controls.ts:157:7)
    at Object.apply (wrap_function.js:74:16)

That's the logs 
---------
[00:19:59]         â”‚ debg Find.existsByDisplayedByCssSelector('[data-test-subj="optionsList-control-available-options"]') with timeout=2500
[00:19:59]         â”‚ debg Find.waitForDeletedByCssSelector('[data-test-subj="optionsList-control-popover-loading"]') with timeout=10000
[00:19:59]         â”‚ debg TestSubjects.exists(optionsList-control-selection-CN)
[00:19:59]         â”‚ debg Find.existsByDisplayedByCssSelector('[data-test-subj="optionsList-control-selection-CN"]') with timeout=120000
[00:19:59]         â”‚ debg TestSubjects.click(optionsList-control-selection-CN)
[00:19:59]         â”‚ debg Find.clickByCssSelector('[data-test-subj="optionsList-control-selection-CN"]') with timeout=10000
[00:19:59]         â”‚ debg Find.findByCssSelector('[data-test-subj="optionsList-control-selection-CN"]') with timeout=10000
[00:19:59]         â”‚ debg clearing search from options list
[00:19:59]         â”‚ debg TestSubjects.exists(optionsList-control-available-options)
[00:19:59]         â”‚ debg Find.existsByDisplayedByCssSelector('[data-test-subj="optionsList-control-available-options"]') with timeout=2500
[00:19:59]         â”‚ debg Find.clickByCssSelector('.euiFormControlLayoutClearButton') with timeout=10000
[00:19:59]         â”‚ debg Find.findByCssSelector('.euiFormControlLayoutClearButton') with timeout=10000
[00:20:00]         â”‚ debg wait for the suggestions in the popover to load
[00:20:00]         â”‚ debg TestSubjects.exists(optionsList-control-available-options)
[00:20:00]         â”‚ debg Find.existsByDisplayedByCssSelector('[data-test-subj="optionsList-control-available-options"]') with timeout=2500
[00:20:00]         â”‚ debg Find.waitForDeletedByCssSelector('[data-test-subj="optionsList-control-popover-loading"]') with timeout=10000
[00:20:00]         â”‚ debg isGlobalLoadingIndicatorVisible
[00:20:00]         â”‚ debg TestSubjects.exists(globalLoadingIndicator)
[00:20:00]         â”‚ debg Find.existsByDisplayedByCssSelector('[data-test-subj="globalLoadingIndicator"]') with timeout=1500
[00:20:02]         â”‚ debg --- retry.tryForTime error: [data-test-subj="globalLoadingIndicator"] is not displayed
[00:20:02]         â”‚ debg TestSubjects.exists(globalLoadingIndicator-hidden)
[00:20:02]         â”‚ debg Find.existsByCssSelector('[data-test-subj="globalLoadingIndicator-hidden"]') with timeout=100000
[00:20:02]         â”‚ debg TestSubjects.missingOrFail(loadingSpinner)
[00:20:02]         â”‚ debg Find.waitForDeletedByCssSelector('[data-test-subj="loadingSpinner"]') with timeout=100000
[00:20:03]         â”‚ debg TestSubjects.exists(unsavedChangesBadge)
[00:20:03]         â”‚ debg Find.existsByDisplayedByCssSelector('[data-test-subj="unsavedChangesBadge"]') with timeout=120000
[00:20:05]         â”‚ debg --- retry.tryForTime error: [data-test-subj="unsavedChangesBadge"] is not displayed
[00:20:08]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:11]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:14]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:17]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:20]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:23]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:26]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:29]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:32]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:35]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:38]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:41]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:45]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:48]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:51]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:54]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:20:57]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:00]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:03]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:06]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:09]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:12]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:15]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:18]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:21]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:24]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:27]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:30]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:33]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:36]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:39]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:42]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:45]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:48]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:51]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:54]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:21:57]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:22:00]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:22:03]         â”‚ debg --- retry.tryForTime failed again with the same message...
[00:22:04]         â”‚ info Taking window screenshot "/opt/buildkite-agent/builds/bk-agent-prod-gcp-1769181619419545480/elastic/kibana-on-merge/kibana/src/platform/test/functional/screenshots/failure/discovertabs discover - ESQL controls should reset successfully a saved session -5f183a8f3fbf68622a97420d2a0d633c1f18428931257de48ed026acfbb0e5df.png"
[00:22:04]         â”‚ info Current URL is: http://localhost:5620/app/discover#/view/571d1c4d-85ed-41f2-bd06-393ad7e525d1?_tab=(tabId:%27933dc076-03ed-4824-8e15-d40c48c68b22%27)&_g=(filters:!(),refreshInterval:(pause:!t,value:60000),time:(from:%272015-09-19T06:31:44.000Z%27,to:%272015-09-23T18:31:44.000Z%27))&_a=(columns:!(),dataSource:(type:esql),filters:!(),grid:(),hideChart:!f,interval:auto,query:(esql:%27FROM%20logstash-*%20%7C%20WHERE%20geo.dest%20%3D%3D%20%3Fgeo_dest%27),sort:!())
[00:22:04]         â”‚ info Saving page source to: /opt/buildkite-agent/builds/bk-agent-prod-gcp-1769181619419545480/elastic/kibana-on-merge/kibana/src/platform/test/functional/failure_debug/html/discovertabs discover - ESQL controls should reset successfully a saved session -5f183a8f3fbf68622a97420d2a0d633c1f18428931257de48ed026acfbb0e5df.html
[00:22:04]         â””- âœ– fail: discover/tabs discover - ES|QL controls should reset successfully a saved session with a control group
[00:22:04]         â”‚      Error: expected testSubject(unsavedChangesBadge) to exist
[00:22:04]         â”‚       at TestSubjects.existOrFail (test_subjects.ts:76:13)
[00:22:04]         â”‚       at Context.<anonymous> (_controls.ts:157:7)
[00:22:04]         â”‚       at Object.apply (wrap_function.js:74:16)
[00:22:04]         â”‚ 
[00:22:04]         â”‚     