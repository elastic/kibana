/*
 * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
 * or more contributor license agreements. Licensed under the "Elastic License
 * 2.0", the "GNU Affero General Public License v3.0 only", and the "Server Side
 * Public License v 1"; you may not use this file except in compliance with, at
 * your election, the "Elastic License 2.0", the "GNU Affero General Public
 * License v3.0 only", or the "Server Side Public License, v 1".
 */

import { i18n } from '@kbn/i18n';

// DO NOT RENAME!
export const functions = {
  label: i18n.translate('languageDocumentation.documentationESQL.aggregationFunctions', {
    defaultMessage: 'Aggregation functions',
  }),
  description: i18n.translate(
    'languageDocumentation.documentationESQL.aggregationFunctionsDocumentationESQLDescription',
    {
      defaultMessage: `These functions can by used with STATS...BY:`,
    }
  ),
  // items are managed by scripts/generate_esql_docs.ts
  items: [
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.absent', {
        defaultMessage: 'ABSENT',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.absent.markdown', {
          defaultMessage: `
  ### ABSENT
  Returns true if the input expression yields no non-null values within the current aggregation context. Otherwise it returns false.

  \`\`\`esql
  FROM employees
  | WHERE emp_no == 10020
  | STATS is_absent = ABSENT(languages)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.avg', {
        defaultMessage: 'AVG',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.avg.markdown', {
          defaultMessage: `
  ### AVG
  The average of a numeric field.

  \`\`\`esql
  FROM employees
  | STATS AVG(height)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.count', {
        defaultMessage: 'COUNT',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.count.markdown', {
          defaultMessage: `
  ### COUNT
  Returns the total number (count) of input values.

  \`\`\`esql
  FROM employees
  | STATS COUNT(height)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.count_distinct', {
        defaultMessage: 'COUNT_DISTINCT',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.count_distinct.markdown',
          {
            defaultMessage: `
  ### COUNT DISTINCT
  Returns the approximate number of distinct values.

  Note: [Counts are approximate](https://www.elastic.co/docs/reference/query-languages/esql/functions-operators/aggregation-functions#esql-agg-count-distinct-approximate).

  \`\`\`esql
  FROM hosts
  | STATS COUNT_DISTINCT(ip0), COUNT_DISTINCT(ip1)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.first', {
        defaultMessage: 'FIRST',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.first.markdown', {
          defaultMessage: `
  ### FIRST
  This function calculates the earliest occurrence of the search field
  (the first parameter), where sorting order is determined by the sort
  field (the second parameter). This sorting order is always ascending
  and null values always sort last. Both fields support null,
  single-valued, and multi-valued input. If the earliest sort field
  value appears in multiple documents, this function is allowed to
  return any corresponding search field value.

  \`\`\`esql
          @timestamp        |  name   | number
  "2025-11-25T00:00:00.000Z | alpha   | 1"
  "2025-11-25T00:00:01.000Z | alpha   | 2"
  "2025-11-25T00:00:02.000Z | bravo   | null"
  "2025-11-25T00:00:03.000Z | alpha   | 4"
  "2025-11-25T00:00:04.000Z | bravo   | 5"
  "2025-11-25T00:00:05.000Z | charlie | [6, 7, 8]"
  "2025-11-25T00:00:06.000Z | delta   | null"

  From dataset
  | STATS first_val = FIRST(number, @timestamp)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.last', {
        defaultMessage: 'LAST',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.last.markdown', {
          defaultMessage: `
  ### LAST
  This function calculates the latest occurrence of the search field
  (the first parameter), where sorting order is determined by the sort
  field (the second parameter). This sorting order is always ascending
  and null values always sort last. Both fields support null,
  single-valued, and multi-valued input. If the latest sort field
  value appears in multiple documents, this function is allowed to
  return any corresponding search field value.

  \`\`\`esql
          @timestamp        |  name   | number
  "2025-11-25T00:00:00.000Z | alpha   | 1"
  "2025-11-25T00:00:01.000Z | alpha   | 2"
  "2025-11-25T00:00:02.000Z | bravo   | null"
  "2025-11-25T00:00:03.000Z | alpha   | 4"
  "2025-11-25T00:00:04.000Z | bravo   | 5"
  "2025-11-25T00:00:05.000Z | charlie | [6, 7, 8]"
  "2025-11-25T00:00:06.000Z | delta   | null"

  From dataset
  | STATS last_val = LAST(number, @timestamp) BY name
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.max', {
        defaultMessage: 'MAX',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.max.markdown', {
          defaultMessage: `
  ### MAX
  The maximum value of a field.

  \`\`\`esql
  FROM employees
  | STATS MAX(languages)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.median', {
        defaultMessage: 'MEDIAN',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.median.markdown', {
          defaultMessage: `
  ### MEDIAN
  The value that is greater than half of all values and less than half of all values, also known as the 50% [\`PERCENTILE\`](https://www.elastic.co/docs/reference/query-languages/esql/functions-operators/aggregation-functions#esql-percentile).

  Note: Like [\`PERCENTILE\`](https://www.elastic.co/docs/reference/query-languages/esql/functions-operators/aggregation-functions#esql-percentile), \`MEDIAN\` is [usually approximate](https://www.elastic.co/docs/reference/query-languages/esql/functions-operators/aggregation-functions#esql-percentile-approximate).

  \`\`\`esql
  FROM employees
  | STATS MEDIAN(salary), PERCENTILE(salary, 50)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.median_absolute_deviation', {
        defaultMessage: 'MEDIAN_ABSOLUTE_DEVIATION',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.median_absolute_deviation.markdown',
          {
            defaultMessage: `
  ### MEDIAN ABSOLUTE DEVIATION
  Returns the median absolute deviation, a measure of variability. It is a robust statistic, meaning that it is useful for describing data that may have outliers, or may not be normally distributed. For such data it can be more descriptive than standard deviation.

  It is calculated as the median of each data point’s deviation from the median of the entire sample. That is, for a random variable \`X\`, the median absolute deviation is \`median(|median(X) - X|)\`.

  Note: Like [\`PERCENTILE\`](https://www.elastic.co/docs/reference/query-languages/esql/functions-operators/aggregation-functions#esql-percentile), \`MEDIAN_ABSOLUTE_DEVIATION\` is [usually approximate](https://www.elastic.co/docs/reference/query-languages/esql/functions-operators/aggregation-functions#esql-percentile-approximate).

  \`\`\`esql
  FROM employees
  | STATS MEDIAN(salary), MEDIAN_ABSOLUTE_DEVIATION(salary)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.min', {
        defaultMessage: 'MIN',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.min.markdown', {
          defaultMessage: `
  ### MIN
  The minimum value of a field.

  \`\`\`esql
  FROM employees
  | STATS MIN(languages)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.percentile', {
        defaultMessage: 'PERCENTILE',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.percentile.markdown',
          {
            defaultMessage: `
  ### PERCENTILE
  Returns the value at which a certain percentage of observed values occur. For example, the 95th percentile is the value which is greater than 95% of the observed values and the 50th percentile is the \`MEDIAN\`.

  \`\`\`esql
  FROM employees
  | STATS p0 = PERCENTILE(salary,  0)
       , p50 = PERCENTILE(salary, 50)
       , p99 = PERCENTILE(salary, 99)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.present', {
        defaultMessage: 'PRESENT',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.present.markdown',
          {
            defaultMessage: `
  ### PRESENT
  Returns true if the input expression yields any non-null values within the current aggregation context. Otherwise it returns false.

  \`\`\`esql
  FROM employees
  | STATS is_present = PRESENT(languages)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.sample', {
        defaultMessage: 'SAMPLE',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.sample.markdown', {
          defaultMessage: `
  ### SAMPLE
  Collects sample values for a field.

  \`\`\`esql
  FROM employees
  | STATS sample = SAMPLE(gender, 5)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.st_centroid_agg', {
        defaultMessage: 'ST_CENTROID_AGG',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.st_centroid_agg.markdown',
          {
            defaultMessage: `
  ### ST CENTROID AGG
  Calculate the spatial centroid over a field with spatial point geometry type.

  \`\`\`esql
  FROM airports
  | STATS centroid=ST_CENTROID_AGG(location)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.st_extent_agg', {
        defaultMessage: 'ST_EXTENT_AGG',
      }),
      preview: true,
      license: {
        licenses: [
          {
            name: 'platinum',
            isSignatureSpecific: true,
            paramsWithLicense: ['cartesian_shape', 'geo_shape'],
          },
        ],
        hasMultipleLicenses: false,
      },
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.st_extent_agg.markdown',
          {
            defaultMessage: `
  ### ST EXTENT AGG
  Calculate the spatial extent over a field with geometry type. Returns a bounding box for all values of the field.

  \`\`\`esql
  FROM airports
  | WHERE country == "India"
  | STATS extent = ST_EXTENT_AGG(location)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.std_dev', {
        defaultMessage: 'STD_DEV',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.std_dev.markdown',
          {
            defaultMessage: `
  ### STD DEV
  The population standard deviation of a numeric field.

  \`\`\`esql
  FROM employees
  | STATS std_dev_height = STD_DEV(height)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.sum', {
        defaultMessage: 'SUM',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.sum.markdown', {
          defaultMessage: `
  ### SUM
  The sum of a numeric expression.

  \`\`\`esql
  FROM employees
  | STATS SUM(languages)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.top', {
        defaultMessage: 'TOP',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.top.markdown', {
          defaultMessage: `
  ### TOP
  Collects the top values for a field. Includes repeated values.

  \`\`\`esql
  FROM employees
  | STATS top_salaries = TOP(salary, 3, "desc"), top_salary = MAX(salary)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.values', {
        defaultMessage: 'VALUES',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.values.markdown', {
          defaultMessage: `
  ### VALUES
  Returns unique values as a multivalued field. The order of the returned values isn’t guaranteed.
  If you need the values returned in order use
  [\`MV_SORT\`](https://www.elastic.co/docs/reference/query-languages/esql/functions-operators/mv-functions#esql-mv_sort).

  \`\`\`esql
  FROM employees
  | EVAL first_letter = SUBSTRING(first_name, 0, 1)
  | STATS first_name = MV_SORT(VALUES(first_name)) BY first_letter
  | SORT first_letter
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.variance', {
        defaultMessage: 'VARIANCE',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.variance.markdown',
          {
            defaultMessage: `
  ### VARIANCE
  The population variance of a numeric field.

  \`\`\`esql
  FROM employees
  | STATS var_height = VARIANCE(height)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.weighted_avg', {
        defaultMessage: 'WEIGHTED_AVG',
      }),
      preview: false,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.weighted_avg.markdown',
          {
            defaultMessage: `
  ### WEIGHTED AVG
  The weighted average of a numeric expression.

  \`\`\`esql
  FROM employees
  | STATS w_avg = WEIGHTED_AVG(salary, height) BY languages
  | EVAL w_avg = ROUND(w_avg)
  | KEEP w_avg, languages
  | SORT languages
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
  ],
};
