/*
 * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
 * or more contributor license agreements. Licensed under the "Elastic License
 * 2.0", the "GNU Affero General Public License v3.0 only", and the "Server Side
 * Public License v 1"; you may not use this file except in compliance with, at
 * your election, the "Elastic License 2.0", the "GNU Affero General Public
 * License v3.0 only", or the "Server Side Public License, v 1".
 */
import { i18n } from '@kbn/i18n';

// DO NOT RENAME!
export const functions = {
  label: i18n.translate('languageDocumentation.documentationESQL.timeseriesAggregationFunctions', {
    defaultMessage: 'Timeseries aggregation functions',
  }),
  description: i18n.translate(
    'languageDocumentation.documentationESQL.timeseriesAggregationFunctionsDocumentationESQLDescription',
    {
      defaultMessage: `These functions can by used with STATS ...BY when a TS command is used:`,
    }
  ),
  // items are managed by scripts/generate_esql_docs.ts
  items: [
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.absent_over_time', {
        defaultMessage: 'ABSENT_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.absent_over_time.markdown',
          {
            defaultMessage: `
  ### ABSENT OVER TIME
  Calculates the absence of a field in the output result over time range.

  \`\`\`esql
  TS k8s
  | WHERE cluster == "prod" AND pod == "two"
  | STATS events_received = MAX(ABSENT_OVER_TIME(events_received)) BY pod, time_bucket = TBUCKET(2 minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.avg_over_time', {
        defaultMessage: 'AVG_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.avg_over_time.markdown',
          {
            defaultMessage: `
  ### AVG OVER TIME
  Calculates the average over time of a numeric field.

  \`\`\`esql
  TS k8s
  | STATS max_cost=MAX(AVG_OVER_TIME(network.cost)) BY cluster, time_bucket = TBUCKET(1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.count_distinct_over_time', {
        defaultMessage: 'COUNT_DISTINCT_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.count_distinct_over_time.markdown',
          {
            defaultMessage: `
  ### COUNT DISTINCT OVER TIME
  Calculates the count of distinct values over time for a field.

  \`\`\`esql
  TS k8s
  | STATS distincts=COUNT_DISTINCT(COUNT_DISTINCT_OVER_TIME(network.cost)),
          distincts_imprecise=COUNT_DISTINCT(COUNT_DISTINCT_OVER_TIME(network.cost, 100))
    BY cluster, time_bucket = TBUCKET(1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.count_over_time', {
        defaultMessage: 'COUNT_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.count_over_time.markdown',
          {
            defaultMessage: `
  ### COUNT OVER TIME
  Calculates the count over time value of a field.

  \`\`\`esql
  TS k8s
  | STATS count=COUNT(COUNT_OVER_TIME(network.cost))
    BY cluster, time_bucket = BUCKET(@timestamp,1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.delta', {
        defaultMessage: 'DELTA',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.delta.markdown', {
          defaultMessage: `
  ### DELTA
  Calculates the absolute change of a gauge field in a time window.

  \`\`\`esql
  TS k8s
  | WHERE pod == "one"
  | STATS tx = SUM(DELTA(network.bytes_in)) BY cluster, time_bucket = TBUCKET(10minute)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.deriv', {
        defaultMessage: 'DERIV',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.deriv.markdown', {
          defaultMessage: `
  ### DERIV
  Calculates the derivative over time of a numeric field using linear regression.

  \`\`\`esql
  TS datenanos-k8s
  | WHERE pod == "three"
  | STATS max_deriv = MAX(DERIV(network.cost)) BY time_bucket = BUCKET(@timestamp,5minute), pod
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.first_over_time', {
        defaultMessage: 'FIRST_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.first_over_time.markdown',
          {
            defaultMessage: `
  ### FIRST OVER TIME
  Calculates the earliest value of a field, where recency determined by the \`@timestamp\` field.

  \`\`\`esql
  TS k8s
  | STATS max_cost=MAX(FIRST_OVER_TIME(network.cost)) BY cluster, time_bucket = TBUCKET(1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.idelta', {
        defaultMessage: 'IDELTA',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.idelta.markdown', {
          defaultMessage: `
  ### IDELTA
  Calculates the idelta of a gauge. idelta is the absolute change between the last two data points (it ignores all but the last two data points in each time period). This function is very similar to delta, but is more responsive to recent changes.

  \`\`\`esql
  TS k8s
  | STATS events = SUM(IDELTA(events_received)) by pod, time_bucket = TBUCKET(10minute)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.increase', {
        defaultMessage: 'INCREASE',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.increase.markdown',
          {
            defaultMessage: `
  ### INCREASE
  Calculates the absolute increase of a counter field in a time window.

  \`\`\`esql
  TS k8s
  | WHERE pod == "one"
  | STATS increase_bytes_in = SUM(INCREASE(network.total_bytes_in)) BY cluster, time_bucket = TBUCKET(10minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.irate', {
        defaultMessage: 'IRATE',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.irate.markdown', {
          defaultMessage: `
  ### IRATE
  Calculates the irate of a counter field. irate is the per-second rate of increase between the last two data points (it ignores all but the last two data points in each time period). This function is very similar to rate, but is more responsive to recent changes in the rate of increase.

  \`\`\`esql
  TS k8s | WHERE pod == "one"
  | STATS irate_bytes_in = SUM(IRATE(network.total_bytes_in)) BY cluster, time_bucket = TBUCKET(10minute)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.last_over_time', {
        defaultMessage: 'LAST_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.last_over_time.markdown',
          {
            defaultMessage: `
  ### LAST OVER TIME
  Calculates the latest value of a field, where recency determined by the \`@timestamp\` field.

  \`\`\`esql
  TS k8s
  | STATS max_cost=MAX(LAST_OVER_TIME(network.cost)) BY cluster, time_bucket = TBUCKET(1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.max_over_time', {
        defaultMessage: 'MAX_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.max_over_time.markdown',
          {
            defaultMessage: `
  ### MAX OVER TIME
  Calculates the maximum over time value of a field.

  \`\`\`esql
  TS k8s
  | STATS cost=SUM(MAX_OVER_TIME(network.cost)) BY cluster, time_bucket = TBUCKET(1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.min_over_time', {
        defaultMessage: 'MIN_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.min_over_time.markdown',
          {
            defaultMessage: `
  ### MIN OVER TIME
  Calculates the minimum over time value of a field.

  \`\`\`esql
  TS k8s
  | STATS cost=SUM(MIN_OVER_TIME(network.cost)) BY cluster, time_bucket = TBUCKET(1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.percentile_over_time', {
        defaultMessage: 'PERCENTILE_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.percentile_over_time.markdown',
          {
            defaultMessage: `
  ### PERCENTILE OVER TIME
  Calculates the percentile over time of a field.

  \`\`\`esql
  TS k8s
  | STATS p95_cost=MAX(PERCENTILE_OVER_TIME(network.cost, 95)), p99_cost=MAX(PERCENTILE_OVER_TIME(network.cost, 99)) BY cluster, time_bucket = TBUCKET(1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.present_over_time', {
        defaultMessage: 'PRESENT_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.present_over_time.markdown',
          {
            defaultMessage: `
  ### PRESENT OVER TIME
  Calculates the presence of a field in the output result over time range.

  \`\`\`esql
  TS k8s
  | WHERE cluster == "prod" AND pod == "two"
  | STATS events_received = MAX(PRESENT_OVER_TIME(events_received)) BY pod, time_bucket = TBUCKET(2 minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.rate', {
        defaultMessage: 'RATE',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate('languageDocumentation.documentationESQL.rate.markdown', {
          defaultMessage: `
  ### RATE
  Calculates the per-second average rate of increase of a [counter](docs-content://manage-data/data-store/data-streams/time-series-data-stream-tsds.md#time-series-metric). Rate calculations account for breaks in monotonicity, such as counter resets when a service restarts, and extrapolate values within each bucketed time interval. Rate is the most appropriate aggregate function for counters. It is only allowed in a [STATS](https://www.elastic.co/docs/reference/query-languages/esql/commands/stats-by) command under a [\`TS\`](https://www.elastic.co/docs/reference/query-languages/esql/commands/ts) source command, to be properly applied per time series.

  \`\`\`esql
  TS k8s
  | STATS max_rate=MAX(RATE(network.total_bytes_in)) BY time_bucket = TBUCKET(5minute)
  \`\`\`
  `,
          description:
            'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
          ignoreTag: true,
        }),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.stddev_over_time', {
        defaultMessage: 'STDDEV_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.stddev_over_time.markdown',
          {
            defaultMessage: `
  ### STDDEV OVER TIME
  Calculates the population standard deviation over time of a numeric field.

  \`\`\`esql
  TS k8s
  | STATS max_stddev_cost=MAX(STDDEV_OVER_TIME(network.cost)) BY cluster, time_bucket = TBUCKET(1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.sum_over_time', {
        defaultMessage: 'SUM_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.sum_over_time.markdown',
          {
            defaultMessage: `
  ### SUM OVER TIME
  Calculates the sum over time value of a field.

  \`\`\`esql
  TS k8s
  | STATS sum_cost=SUM(SUM_OVER_TIME(network.cost)) BY cluster, time_bucket = TBUCKET(1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
    // Do not edit manually... automatically generated by scripts/generate_esql_docs.ts
    {
      label: i18n.translate('languageDocumentation.documentationESQL.variance_over_time', {
        defaultMessage: 'VARIANCE_OVER_TIME',
      }),
      preview: true,
      license: undefined,
      description: {
        markdownContent: i18n.translate(
          'languageDocumentation.documentationESQL.variance_over_time.markdown',
          {
            defaultMessage: `
  ### VARIANCE OVER TIME
  Calculates the population variance over time of a numeric field.

  \`\`\`esql
  TS k8s
  | STATS avg_var_cost=AVG(VARIANCE_OVER_TIME(network.cost)) BY cluster, time_bucket = TBUCKET(1minute)
  \`\`\`
  `,
            description:
              'Text is in markdown. Do not translate function names, special characters, or field names like sum(bytes)',
            ignoreTag: true,
          }
        ),
      },
    },
  ],
};
