<!-- Local nav. -->
<kbn-top-nav name="visualize" ng-if="listingController.showPluginBreadcrumbs">
  <!-- Transcluded elements. -->
  <div data-transclude-slots>
    <!-- Title. -->
    <div data-transclude-slot="topLeftCorner">
      <div
        class="kuiLocalTitle"
        role="heading"
        aria-level="1">
        Visualize
      </div>
    </div>
  </div>
</kbn-top-nav>

<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem"
     data-test-subj="visualizeLandingPage"
>
  <div class="kuiViewContentItem kuiVerticalRhythm" ng-if="listingController.showLimitError">
    <div class="kuiInfoPanel kuiInfoPanel--warning">
      <div class="kuiInfoPanelBody">
        <div class="kuiInfoPanelBody__message">
          You have {{ listingController.totalItems }} visualizations, but your "listingLimit" setting prevents the table below from displaying more than {{ listingController.listingLimit }}. You can change this setting under <a kbn-href="#/management/kibana/settings" class="kuiLink">Advanced Settings</a>.
        </div>
      </div>
    </div>
  </div>

  <visualize-listing-table
    fetch-items="listingController.fetchItems"
    delete-selected-items="listingController.deleteSelectedItems"
    on-create-vis="listingController.createNewVis"
  ></visualize-listing-table>

  <new-vis-modal
    is-open="listingController.showNewVisModal"
    on-close="listingController.closeNewVisModal"
    vis-types-registry="listingController.visTypeRegistry"
  ></new-vis-modal>

</div>
