[[geo-alerting]]
== Create a tracking containment rule
:frontmatter-description: Generate alerts when a geographic entity is contained or no longer contained within a boundary.
:frontmatter-tags-products: [kibana,alerting]
:frontmatter-tags-content-type: [how-to]
:frontmatter-tags-user-goals: [analyze]
++++
<titleabbrev>Tracking containment</titleabbrev>
++++

The tracking containment rule alerts when an entity is contained or no longer contained within a boundary. 

[float]
=== Requirements
To create a tracking containment rule, the following requirements must be present:

- *Entities index*: An index containing a `geo_point` or `geo_shape` field, `date` field, and entity identifier. An entity identifier is a `keyword`, `number`, or `ip` field that identifies the entity. Entity data is expected to be updating so that there are entity movements to alert upon.
- *Boundaries index*: An index containing `geo_shape` data.
Boundaries data is expected to be static (not updating). Boundaries are collected once when the rule is created and anytime after when boundary configuration is modified.

Entity locations are queried to determine if they are contained within any monitored boundaries.
Entity data should be somewhat "real time", meaning the dates of new documents arenâ€™t older
than the current time minus the amount of the interval. If data older than
`now - <current interval>` is ingested, it won't trigger a rule.

[float]
=== Actions

A rule can be triggered either when a containment condition is met or when an entity is no longer contained.

[role="screenshot"]
image::user/alerting/images/alert-types-tracking-containment-action-options.png[Action frequency options for an action,width=75%]
// NOTE: This is an autogenerated screenshot. Do not edit it directly.
