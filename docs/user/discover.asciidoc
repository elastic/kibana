[[discover]]
= Explore your data

[partintro]
--
You have questions about your data.
What pages on your website contain a
specific word or phrase? What events were logged most recently?
What processes take longer than 500 milliseconds to respond?

With *Discover*, you can quickly gain insight to your data: search and filter your data, get information
about the structure of the fields, and display your findings in a visualization.
You can also customize and save your searches and place them on a dashboard.

[role="screenshot"]
image::images/discover.png[A view of the Discover app]

Once you've found a document of interest in *Discover*, you have two more ways to
view it: in a view by itself or in context with surrounding documents.

[float]
[[discover-view-single-document]]
=== View a single document

Access a single document so you can bookmark it and share the link.

. In the document table, click the expand icon (>).
. In the expanded view, click **View single document**.
+
You can view the document in two ways. The **Table** view displays the document fields row-by-row.
The **JSON** (JavaScript Object Notation) view allows you to look at how {es} returns the document.
+
[role="screenshot"]
image::images/discover-view-single-document.png[Discover single document view]
+
The link is valid for the time the document is available in Elasticsearch. To create a customized view of the document,
you can create <<external-plugin-development, your own plugin>>.

[float]
[[discover-view-surrounding-documents]]
=== View surrounding documents

To inspect the documents that occurred immediately before and after a document,
your {data-source} must contain time-based events.

. In the document table, click the expand icon (>).
. In the expanded view, click **View surrounding documents**.
+
Documents are displayed using the same set of columns as the *Discover* view from which
the context was opened. The anchor document is highlighted in blue.
+
[role="screenshot"]
image::images/discover-context.png[Image showing context view feature, with anchor documents highlighted in blue]
+
The filters you applied in *Discover* are carried over to the context view. Pinned
filters remain active, while normal filters are copied in a disabled state.
+
[role="screenshot"]
image::images/discover-context-filters-inactive.png[Filter in context view]

. To find the documents of interest, add filters.

. To increase the number of documents that surround the anchor document, click *Load*.
By default, five documents are added with each click.
+
[role="screenshot"]
image::images/discover-context-load-newer-documents.png[Load button and the number of documents to load, width=50%]
. To configure the number of documents to display and
the number of documents to load with each button click, go to *Stack Management > Advanced Settings*
and edit the <<kibana-discover-settings, context settings>>.

[[discover-search-for-relevance]]
== Search for relevance

{es} assigns a relevancy, or score to each document, so you can
can narrow your search to the documents with the most relevant results.
The higher the score, the better it matches your query.

This example shows how to use *Discover* to list
your documents from most relevant to least relevant. This example uses
the <<gs-get-data-into-kibana, sample flights data set>>, or you can use your own data.

.  In *Discover*, open the {data-source} dropdown, and select that data you want to work with.
+
For the sample flights data, set the {data-source} to *kibana_sample_data_flights*.

.  Run your search.  For the sample data, try:
+
```ts
Warsaw OR Venice OR Clear
```
. If you don't see any results, expand the <<set-time-filter,time range>>, for example to *Last 7 days*.
. From the list of *Available fields*, add `_score` and any other fields you want to the document table.
. To sort the `_score` column in descending order, hover over its header, and set
the sort icon to
image:images/downward-arrow.png[Downward pointing arrow to indicate descending sorting].
+
At this point, you're doing a multi-column sort: first by `Time`, and then by `_score`.
. To turn off sorting for the `Time` field, hover over its header, and set the sort icon to
image:images/double-arrow.png[Arrow on both ends of the icon indicates sorting is off].
+
Your table now sorts documents from most to least relevant.
+
[role="screenshot"]
image::images/discover-search-for-relevance.png["Documents are sorted from most relevant to least relevant."]

[float]
=== Tutorial: Explore and query your data

This tutorial shows you how to use *Discover* to quickly search large amounts of
data and understand what’s going on at any given time.

You’ll learn to:

- **Select** data for your exploration, set a time range for that data,
search it with the {kib} Query Language, and filter the results.
- **Explore** the details of your data, view individual documents, and create tables
that summarize the contents of the data.
- **Present** your findings in a visualization.

At the end of this tutorial, you’ll be ready to start exploring with your own
data in *Discover*.

*Prerequisites:*

- If you don’t already have {kib}, set it up with https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&elektra=docs[our free trial].
- You must have data in {es}.  This tutorial uses the
<<gs-get-data-into-kibana,ecommerce sample data set>>, but you can use your own data.
- You should have an understanding of {ref}/documents-indices.html[{es} documents and indices]
and <<kibana-concepts-analysts, {kib} concepts>>.

[float]
[[find-the-data-you-want-to-use]]
=== Find your data

Tell {kib} where to find the data you want to explore, and then specify the time range in which to view that data.

. Open the main menu, and select **Discover**.

. Select the data you want to work with.
+
{kib} uses a <<data-views,{data-source}>> to tell it where to find
your {es} data.
To view the ecommerce sample data, make sure the {data-source} is set to **kibana_sample_data_ecommerce**.
+
[role="screenshot"]
image::images/discover-data-view.png[How to set the {data-source} in Discover, width=50%]

. Adjust the <<set-time-filter,time range>> to view data for the *Last 7 days*.
+
The range selection is based on the default time field in your data.
If you are using the sample data, this value was set when you added the data.
If you  are using your own data, and it does not have a time field, the range selection is not available.

. To view the count of documents for a given time in the specified range,
click and drag the mouse over the chart.

[float]
[[explore-fields-in-your-data]]
=== Explore the fields in your data

**Discover** includes a table that shows all the documents that match your search.
By default, the table includes columns for the time field and the document `_source`,
which can be overwhelming. You’ll modify this table to display only your fields of interest.

. Scan through the list of **Available fields** until you find the `manufacturer` field.
You can also search for the field by name.
+
[role="screenshot"]
image:images/discover-sidebar-available-fields.png[Fields list that displays the top five search results, width=50%]

. Click the `manufacturer` field to view its five most popular values.
+
[role="screenshot"]
image:images/find-manufacturer-field.png[Fields list that displays the top five search results, width=75%]

. Click image:images/add-icon.png[Add icon] to toggle the field into the document table.

. Find the `customer_first_name` and `customer_last_name` fields and add
them to your document table. Your table should look similar to this:
+
[role="screenshot"]
image:images/document-table.png[Document table with fields for manufacturer, customer_first_name, and customer_last_name]

. To rearrange the table columns, hover the mouse over a
column header, and then use the move control.

. To view more of the document table, click *Chart options > Hide chart*.

[float]
[[look-inside-a-document]]
=== View data fields

Dive into an individual document to view its fields and the documents
that occurred before and after it.

. In the document table, expand any document.
+
[role="screenshot"]
image:images/document-table-expanded.png[Table view with document expanded]

. Scan through the fields and their values. If you find a field of interest,
hover over its name for filters and other controls.

. To view documents that occurred before or after the event you are looking at, click
<<discover-view-surrounding-documents, View surrounding documents>>.

. For direct access to a particular document, click **<<discover-view-single-document,View single document>>**.
+
You can bookmark this document and share the link.

[[save-open-search]]
== Save a search for reuse

A saved search is a convenient way to reuse a search
that you've created in *Discover*.
Saved searches are good for adding search results to a dashboard,
and can also serve as a foundation for building visualizations.

A saved search stores the query text, filters, and
current view of *Discover*&mdash;the columns selected in the document table,
the sort order, and the {data-source}.
Saved searches are different from <<save-load-delete-query,saved queries>>, which
are primarily used for storing query text and are available in any app with a query bar.

[role="xpack"]
[[discover-read-only-access]]
[float]
=== Read-only access
If you don't have sufficient privileges to save searches, the following indicator is
displayed and the *Save* button is not visible. For more information, refer to <<xpack-security-authorization>>.

[role="screenshot"]
image::discover/images/read-only-badge.png[Example of Discover's read only access indicator in Kibana's header]

[float]
=== Visualize your findings
If a field can be {ref}/search-aggregations.html[aggregated], you can quickly
visualize it from **Discover**.

. From the **Available fields** list, click  `day_of_week`, and then click **Visualize**.
+
[role="screenshot"]
image:images/discover-visualize.png[Discover sidebar field popover with visualize button, width=75%]
+
{kib} creates a visualization best suited for this field.

. From the *Available fields* list, drag and drop `manufacturer.keyword` onto the workspace.
+
[role="screenshot"]
image:images/discover-from-visualize.png[Visualization that opens from Discover based on your data]

. Save your visualization for use on a dashboard.
+
For geo point fields (image:images/geoip-icon.png[Geo point field icon, width=20px]),
if you click **Visualize**,
your data appears in a map.
+
[role="screenshot"]
image:images/discover-maps.png[Map containing documents]

[float]
[[share-your-findings]]
=== Share your findings

To share your findings with a larger audience, click *Share* in the *Discover* toolbar. For detailed information about the sharing options, refer to <<reporting-getting-started,Reporting>>.

[float]
=== What’s next?

* <<kuery-query, Learn more about the structure of a KQL query>>.

* <<discover-search-for-relevance, Search for relevance>>.

* <<kibana-discover-settings, Configure Discover>> to better meet your needs.
Go to **Advanced Settings** to configure the number of documents to show,
the table columns that display by default, and more.

--

include::{kib-repo-dir}/discover/search-for-relevance.asciidoc[]

include::{kib-repo-dir}/discover/view-document.asciidoc[]
