[[make-dashboards-interactive]]
== Make dashboards interactive

Dashboards are interactive. When you interact with the values and in a visualization panel, {kib} creates and applies a filter for the value to the entire dashboard. To customize the behavior of what happens when you click a value, create drilldowns. 

the data on the dashboard Add interactive capabilities to your dashboard, such as controls and drilldowns. 

Add filter panels to interact with the data in your visualization panels

++++
<script type="text/javascript" async 
src="https://play.vidyard.com/embed/v4.js"></script>
<img
style="width: 100%; margin: auto; display: block;"
class="vidyard-player-embed"
src="https://play.vidyard.com/UhGkdJGC32HRn3oS5ZYJL1.jpg"
data-uuid="UhGkdJGC32HRn3oS5ZYJL1"
data-v="4"
data-type="inline"
/>
</br>
++++

[float]
[[add-controls]]
=== Add control panels

To filter the data on your dashboard in real-time, add *Controls* panels.

{kib} supports two types of *Controls*:

* *Options list* — Filters content based on one or more specified options. The dropdown menu is dynamically populated with the results of a terms aggregation. 
For example, use the options list on the sample flight dashboard when you want to filter the data by origin city and destination city.

* *Range slider* — Filters data within a specified range of numbers. The minimum and maximum values are dynamically populated with the results of a 
min and max aggregation. For example, use the range slider when you want to filter the sample flight dashboard by a specific average ticket price.
+
[role="screenshot"]
image::images/dashboard-controls.png[]

. On the dashboard, click *All types*, then select *Controls*.

. Click *Options*, then configure the following options:

* *Update {kib} filters on each change* &mdash; When selected, all interactive inputs create filters that refresh the dashboard. When unselected,
 {kib} filters are created only when you click *Apply changes*.

* *Use time filter* &mdash; When selected, the aggregations that generate the options list and time range are connected to the <<set-time-filter,time filter>>.

* *Pin filters for all applications* &mdash; When selected, all filters created by interacting with the inputs are automatically pinned.

. Click *Update*

[role="xpack"]
[[drilldowns]]
== Create drilldowns

Drilldows are shortcuts that allow you to quickly navigate between your most used dashboards, or navigate to external websites from your dashboards. You can create multiple drilldowns for a single panel. 
Drilldowns apply only to the panel that you created the drilldown on, and are not shared across panels.

Third-party developers can create drilldowns. To learn how to code drilldowns, refer to {kib-repo}blob/{branch}/x-pack/examples/ui_actions_enhanced_examples[this example plugin].

[float]
[[dashboard-drilldowns]]
=== Create dashboard drilldowns

Dashboard drilldowns enable you to open a dashboard from another dashboard, taking the time range, filters, and other parameters with you so the context remains the same. Dashboard drilldowns help you to continue your analysis from a new perspective.

For example, if you have a dashboard that shows the overall status of multiple data center, you can create a drilldown that navigates from the overall status dashboard to a dashboard that shows a single data center or server.

[role="screenshot"]
image:images/drilldown_on_piechart.gif[Drilldown on pie chart that navigates to another dashboard]

The panels you create using the following editors support dashboard drilldowns:

* *Lens*
* *Maps*
* *TSVB*
* *Vega*
* *Aggregation-based* area chart, data table, heat map, horitizontal bar chart, line chart, pie chart, tag cloud, and vertical bar chart
* *Timelion*

[float]
==== Create and set up the dashboards you want to connect

Use the *Sample web logs* data to create a dashboard and add panels, then set a search and filter on the *[Logs] Web traffic* dashboard.

. Add the *Sample web logs* data.

. Create a new dashboard, then add the following panels from the *Visualize Library*:

* *[Logs] Heatmap*
* *[Logs] Host, Visits, and Bytes Table*
* *[Logs] Total Requests and Bytes*
* *[Logs] Visitors by OS*
+
If you don’t see the data on a panel, change the <<set-time-filter,time filter>>.

. Save the dashboard. In the *Title* field, enter `Host Overview`.

. Open the *[Logs] Web traffic* dashboard.

. Set a search and filter.
+
[%hardbreaks]
Search: `extension.keyword: ("gz" or "css" or "deb")`
Filter: `geo.src: CN`

[float]
==== Create the drilldown

Create a drilldown that allows you to open the *Host Overview* dashboard from the *[Logs] Web traffic* dashboard.

. In the toolbar, click *Edit*.

. Open the *[Logs] Visitors by OS* panel menu, then select *Create drilldown*.

. Click *Go to dashboard*.

.. Give the drilldown a name. For example, `My Drilldown`.

.. From the *Choose a destination dashboard* dropdown, select *Host Overview*.

.. To use the geo.src filter, KQL query, and time filter, select *Use filters and query from origin dashboard* and *Use date range from origin dashboard*.

.. Click *Create drilldown*.

. Save the dashboard.

. In the *[Logs] Visitors by OS* panel, click *win 8*, then select `My Drilldown`.
+
[role="screenshot"]
image::images/drilldown_on_panel.png[Drilldown on pie chart that navigates to another dashboard]

. On the *Host Overview* dashboard, verify that the geo.src filter, KQL query, and time filter are applied.

[float]
[[url-drilldowns]]
=== Create URL drilldowns

URL drilldowns enable you to navigate from a dashboard to external websites. Destination URLs can be dynamic, depending on the dashboard context or user interaction with a panel. To create URL drilldowns, you add <<variables,variables>> to a URL template, which configures the behavior of the drilldown.

[role="screenshot"]
image:images/url_drilldown_go_to_github.gif[Drilldown on pie chart that navigates to Github]

Some panels support multiple interactions, also known as triggers. 
The <<url-template-variables,variables>> you use to create a <<url_templating-language, URL template>> depends on the trigger you choose. URL drilldowns support these types of triggers:

* *Single click* &mdash; A single data point in the panel.

* *Range selection* &mdash; A range of values in a panel.

For example, *Single click* has `{{event.value}}` and *Range selection* has `{{event.from}}` and `{{event.to}}`.

The panels you create using the following editors support dashboard drilldowns:

* *Lens*
* *Maps*
* *TSVB*
* *Aggregation-based* area chart, data table, heat map, horitizontal bar chart, line chart, pie chart, tag cloud, and vertical bar chart

[float]
==== Create a URL drilldown

For example, if you have a dashboard that shows data from a Github repository, you can create a URL drilldown that opens Github from the dashboard panel.

. Add the *Sample web logs* data.

. Open the *[Logs] Web traffic* dashboard.

. In the toolbar, click *Edit*.

. Open the *[Logs] Visitors by OS* panel menu, then select *Create drilldown*.

. Click *Go to URL*.

.. Give the drilldown a name. For example, `Show on Github`.

.. For the *Trigger*, select *Single click*.

.. To navigate to the {kib} repository Github issues, enter the following in the *Enter URL* field:
+
[source, bash]
----
https://github.com/elastic/kibana/issues?q=is:issue+is:open+{{event.value}}
----
+
`{{event.value}}` is substituted with a value associated with a selected pie slice.

.. Click *Create drilldown*.

. Save the dashboard.

. On the *[Logs] Visitors by OS* panel, click any chart slice, then select *Show on Github*.
+
[role="screenshot"]
image:images/url_drilldown_popup.png[URL drilldown popup]

. In the list of {kib} repository issues, verify that the slice value appears.
+
[role="screenshot"]
image:images/url_drilldown_github.png[Github]

[float]
[[manage-drilldowns]]
=== Manage drilldowns

Make changes to your drilldowns, make a copy of your drilldowns for another panel, and delete drilldowns. 

. Open the panel menu that includes the drilldown, then click *Manage drilldowns*.

. On the *Manage* tab, use the following options:

* To change drilldowns, click *Edit* next to the drilldown you want to change, make your changes, then click *Save*.

* To make a copy, click *Copy* next to the drilldown you want to change, enter the drilldown name, then click *Create drilldown*. 

* To delete a drilldown, select the drilldown you want to delete, then click *Delete*.

include::url-drilldown.asciidoc[]
