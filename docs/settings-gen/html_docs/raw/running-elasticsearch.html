<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Kibana diagnostic, diagnostics">
<title>Running Elasticsearch during development | Kibana Guide | Elastic</title>
<meta class="elastic" name="content" content="Running Elasticsearch during development | Kibana Guide">

<link rel="home" href="index.html" title="Kibana Guide"/>
<link rel="up" href="advanced.html" title="Advanced"/>
<link rel="prev" href="advanced.html" title="Advanced"/>
<link rel="next" href="development-basepath.html" title="Considerations for basepath"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="advanced.html">« Advanced</a>
</span>
<span class="next">
<a href="development-basepath.html">Considerations for basepath »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="development.html">Developer guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="advanced.html">Advanced</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Running Elasticsearch during development</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/developer/advanced/running-elasticsearch.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="running-elasticsearch"></a>Running Elasticsearch during development</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/developer/advanced/running-elasticsearch.asciidoc">edit</a></div>
</div></div></div>
<p>There are many ways to run Elasticsearch while you are developing.</p>
<div class="position-relative"><h4><a id="_by_snapshot"></a>By snapshot</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/developer/advanced/running-elasticsearch.asciidoc">edit</a></div>
<p>This will run a snapshot of Elasticsearch that is usually built nightly. Snapshot status is available on the <a href="https://ci.kibana.dev/es-snapshots" class="ulink" target="_top">dashboard</a>.</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">yarn es snapshot</pre>
</div>
<p>By default, two users are added to Elasticsearch:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A superuser with username: <code class="literal">elastic</code> and password: <code class="literal">changeme</code>, which can be used to log into Kibana with.
</li>
<li class="listitem">
A user with username: <code class="literal">kibana_system</code> and password <code class="literal">changeme</code>. This account is used by the Kibana server to authenticate itself to Elasticsearch, and to perform certain actions on behalf of the end user. These credentials should be specified in your kibana.yml as described in <a class="xref" href="using-kibana-with-security.html" title="Configure security in Kibana"><em>Configure security</em></a>
</li>
</ul>
</div>
<p>See all available options, like how to specify a specific license, with the <code class="literal">--help</code> flag.</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">yarn es snapshot --help</pre>
</div>
<p><code class="literal">--license trial</code> will give you access to all capabilities.</p>
<p><span class="strong strong"><strong>Keeping data between snapshots</strong></span></p>
<p>If you want to keep the data inside your Elasticsearch between usages of this command, you should use the following command, to keep your data folder outside the downloaded snapshot folder:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">yarn es snapshot -E path.data=../data</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_by_source"></a>By source</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/developer/advanced/running-elasticsearch.asciidoc">edit</a></div>
</div></div></div>
<p>If you have the Elasticsearch repo checked out locally and wish to run against that, use <code class="literal">source</code>. By default, it will reference an Elasticsearch checkout which is a sibling to the Kibana directory named elasticsearch. If you wish to use a checkout in another location you can provide that by supplying --source-path</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">yarn es source</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_from_an_archive"></a>From an archive</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/developer/advanced/running-elasticsearch.asciidoc">edit</a></div>
</div></div></div>
<p>Use this if you already have a distributable. For released versions, one can be obtained on the Elasticsearch downloads page.</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">yarn es archive &lt;full_path_to_archive&gt;</pre>
</div>
<p>Each of these will run Elasticsearch with a basic license. Additional options are available, pass --help for more information.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_from_a_remote_host"></a>From a remote host</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/developer/advanced/running-elasticsearch.asciidoc">edit</a></div>
</div></div></div>
<p>You can save some system resources, and the effort of generating sample data, if you have a remote Elasticsearch cluster to connect to. (Elasticians: you do! Check with your team about where to find credentials)</p>
<p>You&#8217;ll need to create a kibana.dev.yml (<a class="xref" href="running-kibana-advanced.html#customize-kibana-yml" title="Customizing config/kibana.dev.yml">Customizing <code class="literal">config/kibana.dev.yml</code></a>) and add the following to it:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">elasticsearch.hosts:
  - {{ url }}
elasticsearch.username: {{ username }}
elasticsearch.password: {{ password }}
elasticsearch.ssl.verificationMode: none</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="_running_remote_clusters"></a>Running remote clusters</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/developer/advanced/running-elasticsearch.asciidoc">edit</a></div>
</div></div></div>
<p>Setup remote clusters for cross cluster search (CCS) and cross cluster replication (CCR).</p>
<p>Start your primary cluster by running:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">yarn es snapshot -E path.data=../data_prod1</pre>
</div>
<p>Start your remote cluster by running:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">yarn es snapshot -E transport.port=9500 -E http.port=9201 -E path.data=../data_prod2</pre>
</div>
<p>Once both clusters are running, start Kibana. Kibana will connect to the primary cluster.</p>
<p>Setup the remote cluster in Kibana from either Management &#8594; Elasticsearch &#8594; Remote Clusters UI or by running the following script in Console.</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">PUT _cluster/settings
{
  "persistent": {
    "cluster": {
      "remote": {
        "cluster_one": {
          "seeds": [
            "localhost:9500"
          ]
        }
      }
    }
  }
}</pre>
</div>
<p>Follow the cross-cluster search instructions for setting up index patterns to search across clusters (<a class="xref" href="data-views.html#management-cross-cluster-search" title="Use data views with cross-cluster search">Use data views with cross-cluster search</a>).</p>
</div>

</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="advanced.html">« Advanced</a>
</span>
<span class="next">
<a href="development-basepath.html">Considerations for basepath »</a>
</span>
</div>
</body>
</html>
