<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Canvas function reference | Kibana Guide | Elastic</title>
<meta class="elastic" name="content" content="Canvas function reference | Kibana Guide">

<link rel="home" href="index.html" title="Kibana Guide"/>
<link rel="up" href="canvas.html" title="Canvas"/>
<link rel="prev" href="canvas-handling-context-and-argument-types.html" title="Handling context and argument types"/>
<link rel="next" href="canvas-tinymath-functions.html" title="TinyMath functions"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="canvas-handling-context-and-argument-types.html">« Handling context and argument types</a>
</span>
<span class="next">
<a href="canvas-tinymath-functions.html">TinyMath functions »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="canvas.html">Canvas</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Canvas function reference</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="canvas-function-reference"></a>Canvas function reference</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
</div></div></div>
<p>Behind the scenes, Canvas is driven by a powerful expression language,
with dozens of functions and other capabilities, including table transforms,
type casting, and sub-expressions.</p>
<p>The Canvas expression language also supports <a class="xref" href="canvas-tinymath-functions.html" title="TinyMath functions">TinyMath functions</a>, which
perform complex math calculations.</p>
<p>A <span class="strong strong"><strong>*</strong></span> denotes a required argument.</p>
<p>A † denotes an argument can be passed multiple times.</p>
<p><a class="xref" href="canvas-function-reference.html#a_fns" title="A">A</a> | B | <a class="xref" href="canvas-function-reference.html#c_fns" title="C">C</a> | <a class="xref" href="canvas-function-reference.html#d_fns" title="D">D</a> | <a class="xref" href="canvas-function-reference.html#e_fns" title="E">E</a> | <a class="xref" href="canvas-function-reference.html#f_fns" title="F">F</a> | <a class="xref" href="canvas-function-reference.html#g_fns" title="G">G</a> | <a class="xref" href="canvas-function-reference.html#h_fns" title="H">H</a> | <a class="xref" href="canvas-function-reference.html#i_fns" title="I">I</a> | <a class="xref" href="canvas-function-reference.html#j_fns" title="J">J</a> | <a class="xref" href="canvas-function-reference.html#k_fns" title="K">K</a> | <a class="xref" href="canvas-function-reference.html#l_fns" title="L">L</a> | <a class="xref" href="canvas-function-reference.html#m_fns" title="M">M</a> | <a class="xref" href="canvas-function-reference.html#n_fns" title="N">N</a> | O | <a class="xref" href="canvas-function-reference.html#p_fns" title="P">P</a> | Q | <a class="xref" href="canvas-function-reference.html#r_fns" title="R">R</a> | <a class="xref" href="canvas-function-reference.html#s_fns" title="S">S</a> | <a class="xref" href="canvas-function-reference.html#t_fns" title="T">T</a> | <a class="xref" href="canvas-function-reference.html#u_fns" title="U">U</a> | <a class="xref" href="canvas-function-reference.html#v_fns" title="V">V</a> | W | X | Y | Z</p>
<div class="position-relative"><h2><a id="a_fns"></a>A</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="all_fn"></a><code class="literal">all</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns <code class="literal">true</code> if all of the conditions are met. See also <a class="xref" href="canvas-function-reference.html#any_fn" title="any"><code class="literal">any</code></a>.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">all {neq "foo"} {neq "bar"} {neq "fizz"}
all condition={gt 10} condition={lt 20}</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| math "mean(percent_uptime)"
| formatnumber "0.0%"
| metric "Average uptime"
  metricFont={
    font size=48 family="'Open Sans', Helvetica, Arial, sans-serif"
      color={
        if {all {gte 0} {lt 0.8}} then="red" else="green"
      }
      align="center" lHeight=48
  }
| render</pre>
</div>
<p>This sets the color of the metric text to <code class="literal">"red"</code> if the context passed into <code class="literal">metric</code> is greater than or equal to 0 and less than 0.8. Otherwise, the color is set to <code class="literal">"green"</code>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span> †</p>
<p>Alias: <code class="literal">condition</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>The conditions to check.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">boolean</code></p>
<div class="position-relative"><h3><a id="alterColumn_fn"></a><code class="literal">alterColumn</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Converts between core types, including <code class="literal">string</code>, <code class="literal">number</code>, <code class="literal">null</code>, <code class="literal">boolean</code>, and <code class="literal">date</code>, and renames columns. See also <a class="xref" href="canvas-function-reference.html#mapColumn_fn" title="mapColumn"><code class="literal">mapColumn</code></a>, <a class="xref" href="canvas-function-reference.html#mathColumn_fn" title="mathColumn"><code class="literal">mathColumn</code></a>, and <a class="xref" href="canvas-function-reference.html#staticColumn_fn" title="staticColumn"><code class="literal">staticColumn</code></a>.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">alterColumn "cost" type="string"
alterColumn column="@timestamp" name="foo"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| alterColumn "time" name="time_in_ms" type="number"
| table
| render</pre>
</div>
<p>This renames the <code class="literal">time</code> column to <code class="literal">time_in_ms</code> and converts the type of the column’s values from <code class="literal">date</code> to <code class="literal">number</code>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">column</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The name of the column to alter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">name</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The resultant column name. Leave blank to not rename.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">type</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The type to convert the column to. Leave blank to not change the type.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="any_fn"></a><code class="literal">any</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns <code class="literal">true</code> if at least one of the conditions is met. See also <a class="xref" href="canvas-function-reference.html#all_fn" title="all"><code class="literal">all</code></a>.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">any {eq "foo"} {eq "bar"} {eq "fizz"}
any condition={lte 10} condition={gt 30}</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| filterrows {
    getCell "project" | any {eq "elasticsearch"} {eq "kibana"} {eq "x-pack"}
  }
| pointseries color="project" size="max(price)"
| pie
| render</pre>
</div>
<p>This filters out any rows that don’t contain <code class="literal">"elasticsearch"</code>, <code class="literal">"kibana"</code> or <code class="literal">"x-pack"</code> in the <code class="literal">project</code> field.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span> †</p>
<p>Alias: <code class="literal">condition</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>The conditions to check.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">boolean</code></p>
<div class="position-relative"><h3><a id="as_fn"></a><code class="literal">as</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Creates a <code class="literal">datatable</code> with a single value. See also <a class="xref" href="canvas-function-reference.html#getCell_fn" title="getCell"><code class="literal">getCell</code></a>.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">as
as "foo"
as name="bar"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| ply by="project" fn={math "count(username)" | as "num_users"} fn={math "mean(price)" | as "price"}
| pointseries x="project" y="num_users" size="price" color="project"
| plot
| render</pre>
</div>
<p><code class="literal">as</code> casts any primitive value (<code class="literal">string</code>, <code class="literal">number</code>, <code class="literal">date</code>, <code class="literal">null</code>) into a <code class="literal">datatable</code> with a single row and a single column with the given name (or defaults to <code class="literal">"value"</code> if no name is provided). This is useful when piping a primitive value into a function that only takes <code class="literal">datatable</code> as an input.</p>
<p>In the example, <code class="literal">ply</code> expects each <code class="literal">fn</code> subexpression to return a <code class="literal">datatable</code> in order to merge the results of each <code class="literal">fn</code> back into a <code class="literal">datatable</code>, but using a <code class="literal">math</code> aggregation in the subexpressions returns a single <code class="literal">math</code> value, which is then cast into a <code class="literal">datatable</code> using <code class="literal">as</code>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">string</code>, <code class="literal">boolean</code>, <code class="literal">number</code>, <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">name</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The name to give the column.</p>
<p>Default: <code class="literal">"value"</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="asset_fn"></a><code class="literal">asset</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Retrieves Canvas workpad asset objects to provide as argument values. Usually images.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">asset "asset-52f14f2b-fee6-4072-92e8-cd2642665d02"
asset id="asset-498f7429-4d56-42a2-a7e4-8bf08d98d114"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">image dataurl={asset "asset-c661a7cc-11be-45a1-a401-d7592ea7917a"} mode="contain"
| render</pre>
</div>
<p>The image asset stored with the ID <code class="literal">"asset-c661a7cc-11be-45a1-a401-d7592ea7917a"</code> is passed into the <code class="literal">dataurl</code> argument of the <code class="literal">image</code> function to display the stored asset.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">id</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The ID of the asset to retrieve.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">string</code></p>
<div class="position-relative"><h3><a id="axisConfig_fn"></a><code class="literal">axisConfig</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Configures the axis of a visualization. Only used with <a class="xref" href="canvas-function-reference.html#plot_fn" title="plot"><code class="literal">plot</code></a>.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">axisConfig show=false
axisConfig position="right" min=0 max=10 tickSize=1</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| pointseries x="size(cost)" y="project" color="project"
| plot defaultStyle={seriesStyle bars=0.75 horizontalBars=true}
  legend=false
  xaxis={axisConfig position="top" min=0 max=400 tickSize=100}
  yaxis={axisConfig position="right"}
| render</pre>
</div>
<p>This sets the <code class="literal">x-axis</code> to display on the top of the chart and sets the range of values to <code class="literal">0-400</code> with ticks displayed at <code class="literal">100</code> intervals. The <code class="literal">y-axis</code> is configured to display on the <code class="literal">right</code>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">max</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The maximum value displayed in the axis. Must be a number, a date in milliseconds since epoch, or an ISO8601 string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">min</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The minimum value displayed in the axis. Must be a number, a date in milliseconds since epoch, or an ISO8601 string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">position</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The position of the axis labels. For example, <code class="literal">"top"</code>, <code class="literal">"bottom"</code>, <code class="literal">"left"</code>, or <code class="literal">"right"</code>.</p>
<p>Default: <code class="literal">"left"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">show</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Show the axis labels?</p>
<p>Default: <code class="literal">true</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">tickSize</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The increment size between each tick. Use for <code class="literal">number</code> axes only.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">axisConfig</code></p>
<div class="position-relative"><h2><a id="c_fns"></a>C</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="case_fn"></a><code class="literal">case</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Builds a <a class="xref" href="canvas-function-reference.html#case_fn" title="case"><code class="literal">case</code></a>, including a condition and a result, to pass to the <a class="xref" href="canvas-function-reference.html#switch_fn" title="switch"><code class="literal">switch</code></a> function.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">case 0 then="red"
case when=5 then="yellow"
case if={lte 50} then="green"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">math "random()"
| progress shape="gauge" label={formatnumber "0%"}
  font={
    font size=24 family="'Open Sans', Helvetica, Arial, sans-serif" align="center"
      color={
        switch {case if={lte 0.5} then="green"}
          {case if={all {gt 0.5} {lte 0.75}} then="orange"}
          default="red"
      }
  }
  valueColor={
    switch {case if={lte 0.5} then="green"}
      {case if={all {gt 0.5} {lte 0.75}} then="orange"}
      default="red"
  }
| render</pre>
</div>
<p>This sets the color of the progress indicator and the color of the label to <code class="literal">"green"</code> if the value is less than or equal to <code class="literal">0.5</code>, <code class="literal">"orange"</code> if the value is greater than <code class="literal">0.5</code> and less than or equal to <code class="literal">0.75</code>, and <code class="literal">"red"</code> if <code class="literal">none</code> of the case conditions are met.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">any</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">when</code></p></td>
<td align="left" valign="top"><p><code class="literal">any</code></p></td>
<td align="left" valign="top"><p>The value compared to the <em>context</em> to see if they are equal. The <code class="literal">when</code> argument is ignored when the <code class="literal">if</code> argument is also specified.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">if</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>This value indicates whether the condition is met. The <code class="literal">if</code> argument overrides the <code class="literal">when</code> argument when both are provided.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">then</code> <span class="strong strong"><strong>*</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">any</code></p></td>
<td align="left" valign="top"><p>The value returned if the condition is met.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">case</code></p>
<div class="position-relative"><h3><a id="clear_fn"></a><code class="literal">clear</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Clears the <em>context</em>, and returns <code class="literal">null</code>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">null</code></p>
<div class="position-relative"><h3><a id="clog_fn"></a><code class="literal">clog</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Outputs the <em>input</em> in the console. This function is for debug purposes</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">clog</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| demodata
| clog
| filterrows fn={getCell "age" | gt 70}
| clog
| pointseries x="time" y="mean(price)"
| plot defaultStyle={seriesStyle lines=1 fill=1}
| render</pre>
</div>
<p>This prints the <code class="literal">datatable</code> objects in the browser console before and after the <code class="literal">filterrows</code> function.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">any</code></p>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h3><a id="columns_fn"></a><code class="literal">columns</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Includes or excludes columns from a <code class="literal">datatable</code>. When both arguments are specified, the excluded columns will be removed first.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">columns include="@timestamp, projects, cost"
columns exclude="username, country, age"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| columns include="price, cost, state, project"
| table
| render</pre>
</div>
<p>This only keeps the <code class="literal">price</code>, <code class="literal">cost</code>, <code class="literal">state</code>, and <code class="literal">project</code> columns from the <code class="literal">demodata</code> data source and removes all other columns.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">include</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A comma-separated list of column names to keep in the <code class="literal">datatable</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">exclude</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A comma-separated list of column names to remove from the <code class="literal">datatable</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="compare_fn"></a><code class="literal">compare</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Compares the <em>context</em> to specified value to determine <code class="literal">true</code> or <code class="literal">false</code>. Usually used in combination with <code class="literal">&lt;&lt;if_fn&gt;&gt;</code> or <a class="xref" href="canvas-function-reference.html#case_fn" title="case"><code class="literal">case</code></a>. This only works with primitive types, such as <code class="literal">number</code>, <code class="literal">string</code>, <code class="literal">boolean</code>, <code class="literal">null</code>. See also <a class="xref" href="canvas-function-reference.html#eq_fn" title="eq"><code class="literal">eq</code></a>, <a class="xref" href="canvas-function-reference.html#gt_fn" title="gt"><code class="literal">gt</code></a>, <a class="xref" href="canvas-function-reference.html#gte_fn" title="gte"><code class="literal">gte</code></a>, <a class="xref" href="canvas-function-reference.html#lt_fn" title="lt"><code class="literal">lt</code></a>, <a class="xref" href="canvas-function-reference.html#lte_fn" title="lte"><code class="literal">lte</code></a>, <a class="xref" href="canvas-function-reference.html#neq_fn" title="neq"><code class="literal">neq</code></a></p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">compare "neq" to="elasticsearch"
compare op="lte" to=100</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| mapColumn project
  fn={getCell project |
    switch
      {case if={compare eq to=kibana} then=kibana}
      {case if={compare eq to=elasticsearch} then=elasticsearch}
      default="other"
  }
| pointseries size="size(cost)" color="project"
| pie
| render</pre>
</div>
<p>This maps all <code class="literal">project</code> values that aren’t <code class="literal">"kibana"</code> and <code class="literal">"elasticsearch"</code> to <code class="literal">"other"</code>. Alternatively, you can use the individual comparator functions instead of compare.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">string</code>, <code class="literal">number</code>, <code class="literal">boolean</code>, <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">op</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The operator to use in the comparison: <code class="literal">"eq"</code> (equal to), <code class="literal">"gt"</code> (greater than), <code class="literal">"gte"</code> (greater than or equal to), <code class="literal">"lt"</code> (less than), <code class="literal">"lte"</code> (less than or equal to), <code class="literal">"ne"</code> or <code class="literal">"neq"</code> (not equal to).</p>
<p>Default: <code class="literal">"eq"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">to</code></p>
<p>Aliases: <code class="literal">b</code>, <code class="literal">this</code></p></td>
<td align="left" valign="top"><p><code class="literal">any</code></p></td>
<td align="left" valign="top"><p>The value compared to the <em>context</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">boolean</code></p>
<div class="position-relative"><h3><a id="containerStyle_fn"></a><code class="literal">containerStyle</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Creates an object used for styling an element&#8217;s container, including background, border, and opacity.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">containerStyle backgroundColor="red"’
containerStyle borderRadius="50px"
containerStyle border="1px solid black"
containerStyle padding="5px"
containerStyle opacity="0.5"
containerStyle overflow="hidden"
containerStyle backgroundImage={asset id=asset-f40d2292-cf9e-4f2c-8c6f-a504a25e949c}
  backgroundRepeat="no-repeat"
  backgroundSize="cover"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">shape "star" fill="#E61D35" maintainAspect=true
| render containerStyle={
    containerStyle backgroundColor="#F8D546"
      borderRadius="200px"
      border="4px solid #05509F"
      padding="0px"
      opacity="0.9"
      overflow="hidden"
  }</pre>
</div>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">backgroundColor</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A valid CSS background color.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">backgroundImage</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A valid CSS background image.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">backgroundRepeat</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A valid CSS background repeat.</p>
<p>Default: <code class="literal">"no-repeat"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">backgroundSize</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A valid CSS background size.</p>
<p>Default: <code class="literal">"contain"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">border</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A valid CSS border.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">borderRadius</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The number of pixels to use when rounding the corners.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">opacity</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>A number between 0 and 1 that represents the degree of transparency of the element.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">overflow</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A valid CSS overflow.</p>
<p>Default: <code class="literal">"hidden"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">padding</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The distance of the content, in pixels, from the border.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">containerStyle</code></p>
<div class="position-relative"><h3><a id="context_fn"></a><code class="literal">context</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns whatever you pass into it. This can be useful when you need to use <em>context</em> as argument to a function as a sub-expression.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">context</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">date
| formatdate "LLLL"
| markdown "Last updated: " {context}
| render</pre>
</div>
<p>Using the <code class="literal">context</code> function allows us to pass the output, or <em>context</em>, of the previous function as a value to an argument in the next function. Here we get the formatted date string from the previous function and pass it as <code class="literal">content</code> for the markdown element.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">any</code></p>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h3><a id="createTable_fn"></a><code class="literal">createTable</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Creates a datatable with a list of columns, and 1 or more empty rows. To populate the rows, use <a class="xref" href="canvas-function-reference.html#mapColumn_fn" title="mapColumn"><code class="literal">mapColumn</code></a> or <a class="xref" href="canvas-function-reference.html#mathColumn_fn" title="mathColumn"><code class="literal">mathColumn</code></a>.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">createTable id="a" id="b"
createTable id="a" name="A" id="b" name="B" rowCount=5</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">var_set
name="logs" value={essql "select count(*) as a from kibana_sample_data_logs"}
name="commerce" value={essql "select count(*) as b from kibana_sample_data_ecommerce"}
| createTable ids="totalA" ids="totalB"
| staticColumn name="totalA" value={var "logs" | getCell "a"}
| alterColumn column="totalA" type="number"
| staticColumn name="totalB" value={var "commerce" | getCell "b"}
| alterColumn column="totalB" type="number"
| mathColumn id="percent" name="percent" expression="totalA / totalB"
| render</pre>
</div>
<p>This creates a table based on the results of two <code class="literal">essql</code> queries, joined into one table.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ids</code> †</p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Column ids to generate in positional order. ID represents the key in the row.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">names</code> †</p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Column names to generate in positional order. Names are not required to be unique, and default to the ID if not provided.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">rowCount</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The number of empty rows to add to the table, to be assigned a value later</p>
<p>Default: <code class="literal">1</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="csv_fn"></a><code class="literal">csv</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Creates a <code class="literal">datatable</code> from CSV input.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">csv "fruit, stock
  kiwi, 10
  Banana, 5"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">csv "fruit,stock
  kiwi,10
  banana,5"
| pointseries color=fruit size=stock
| pie
| render</pre>
</div>
<p>This creates a <code class="literal">datatable</code> with <code class="literal">fruit</code> and <code class="literal">stock</code> columns with two rows. This is useful for quickly mocking data.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">data</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The CSV data to use.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">delimiter</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The data separation character.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">newline</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The row separation character.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h2><a id="d_fns"></a>D</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="date_fn"></a><code class="literal">date</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns the current time, or a time parsed from a specified string, as milliseconds since epoch.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">date
date value=1558735195
date "2019-05-24T21:59:55+0000"
date "01/31/2019" format="MM/DD/YYYY"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">date
| formatdate "LLL"
| markdown {context}
  font={font family="Arial, sans-serif" size=30 align="left"
    color="#000000"
    weight="normal"
    underline=false
    italic=false}
| render</pre>
</div>
<p>Using <code class="literal">date</code> without passing any arguments will return the current date and time.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">value</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>An optional date string that is parsed into milliseconds since epoch. The date string can be either a valid JavaScript <code class="literal">Date</code> input or a string to parse using the <code class="literal">format</code> argument. Must be an ISO8601 string, or you must provide the format.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">format</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The MomentJS format used to parse the specified date string. For more information, see <a href="https://momentjs.com/docs/#/displaying/" class="ulink" target="_top">https://momentjs.com/docs/#/displaying/</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">number</code></p>
<div class="position-relative"><h3><a id="demodata_fn"></a><code class="literal">demodata</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>A sample data set that includes project CI times with usernames, countries, and run phases.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">demodata
demodata "ci"
demodata type="shirts"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| table
| render</pre>
</div>
<p><code class="literal">demodata</code> is a mock data set that you can use to start playing around in Canvas.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">filter</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">type</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The name of the demo data set to use.</p>
<p>Default: <code class="literal">"ci"</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="do_fn"></a><code class="literal">do</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Executes multiple sub-expressions, then returns the original <em>context</em>. Use for running functions that produce an action or a side effect without changing the original <em>context</em>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">any</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> †</p>
<p>Aliases: <code class="literal">exp</code>, <code class="literal">expression</code>, <code class="literal">fn</code>, <code class="literal">function</code></p></td>
<td align="left" valign="top"><p><code class="literal">any</code></p></td>
<td align="left" valign="top"><p>The sub-expressions to execute. The return values of these sub-expressions are not available in the root pipeline as this function simply returns the original <em>context</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h3><a id="dropdownControl_fn"></a><code class="literal">dropdownControl</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Configures a dropdown filter control element.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">dropdownControl valueColumn=project filterColumn=project
dropdownControl valueColumn=agent filterColumn=agent.keyword filterGroup=group1</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">demodata
| dropdownControl valueColumn=project filterColumn=project
| render</pre>
</div>
<p>This creates a dropdown filter element. It requires a data source and uses the unique values from the given <code class="literal">valueColumn</code> (i.e. <code class="literal">project</code>) and applies the filter to the <code class="literal">project</code> column. Note: <code class="literal">filterColumn</code> should point to a keyword type field for Elasticsearch data sources.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">filterColumn</code> <span class="strong strong"><strong>*</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The column or field that you want to filter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">filterGroup</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The group name for the filter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">labelColumn</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The column or field to use as the label in the dropdown control</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">valueColumn</code> <span class="strong strong"><strong>*</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The column or field from which to extract the unique values for the dropdown control.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h2><a id="e_fns"></a>E</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="embeddable_fn"></a><code class="literal">embeddable</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns an embeddable with the provided configuration</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">filter</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">config</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The base64 encoded embeddable input object</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">type</code> <span class="strong strong"><strong>*</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The embeddable type</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">embeddable</code></p>
<div class="position-relative"><h3><a id="eq_fn"></a><code class="literal">eq</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns whether the <em>context</em> is equal to the argument.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">eq true
eq null
eq 10
eq "foo"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| mapColumn project
  fn={getCell project |
    switch
      {case if={eq kibana} then=kibana}
      {case if={eq elasticsearch} then=elasticsearch}
      default="other"
  }
| pointseries size="size(cost)" color="project"
| pie
| render</pre>
</div>
<p>This changes all values in the project column that don’t equal <code class="literal">"kibana"</code> or <code class="literal">"elasticsearch"</code> to <code class="literal">"other"</code>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">boolean</code>, <code class="literal">number</code>, <code class="literal">string</code>, <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">value</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>, <code class="literal">number</code>, <code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The value compared to the <em>context</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">boolean</code></p>
<div class="position-relative"><h3><a id="escount_fn"></a><code class="literal">escount</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Query Elasticsearch for the number of hits matching the specified query.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">escount index="logstash-*"
escount "currency:"EUR"" index="kibana_sample_data_ecommerce"
escount query="response:404" index="kibana_sample_data_logs"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| escount "Cancelled:true" index="kibana_sample_data_flights"
| math "value"
| progress shape="semicircle"
  label={formatnumber 0,0}
  font={font size=24 family="'Open Sans', Helvetica, Arial, sans-serif" color="#000000" align=center}
  max={filters | escount index="kibana_sample_data_flights"}
| render</pre>
</div>
<p>The first <code class="literal">escount</code> expression retrieves the number of flights that were cancelled. The second <code class="literal">escount</code> expression retrieves the total number of flights.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">filter</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Aliases: <code class="literal">q</code>, <code class="literal">query</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A Lucene query string.</p>
<p>Default: <code class="literal">"-_index:.kibana"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">index</code></p>
<p>Alias: <code class="literal">dataView</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>An index or data view. For example, <code class="literal">"logstash-*"</code>.</p>
<p>Default: <code class="literal">"_all"</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">number</code></p>
<div class="position-relative"><h3><a id="esdocs_fn"></a><code class="literal">esdocs</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Query Elasticsearch for raw documents. Specify the fields you want to retrieve, especially if you are asking for a lot of rows.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">esdocs index="logstash-*"
esdocs "currency:"EUR"" index="kibana_sample_data_ecommerce"
esdocs query="response:404" index="kibana_sample_data_logs"
esdocs index="kibana_sample_data_flights" count=100
esdocs index="kibana_sample_data_flights" sort="AvgTicketPrice, asc"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| esdocs index="kibana_sample_data_ecommerce"
  fields="customer_gender, taxful_total_price, order_date"
  sort="order_date, asc"
  count=10000
| mapColumn "order_date"
  fn={getCell "order_date" | date {context} | rounddate "YYYY-MM-DD"}
| alterColumn "order_date" type="date"
| pointseries x="order_date" y="sum(taxful_total_price)" color="customer_gender"
| plot defaultStyle={seriesStyle lines=3}
  palette={palette "#7ECAE3" "#003A4D" gradient=true}
| render</pre>
</div>
<p>This retrieves the first 10000 documents data from the <code class="literal">kibana_sample_data_ecommerce</code> index sorted by <code class="literal">order_date</code> in ascending order, and only requests the <code class="literal">customer_gender</code>, <code class="literal">taxful_total_price</code>, and <code class="literal">order_date</code> fields.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">filter</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Aliases: <code class="literal">q</code>, <code class="literal">query</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A Lucene query string.</p>
<p>Default: <code class="literal">"-_index:.kibana"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">count</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The number of documents to retrieve. For better performance, use a smaller data set.</p>
<p>Default: <code class="literal">1000</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">fields</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A comma-separated list of fields. For better performance, use fewer fields.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">index</code></p>
<p>Alias: <code class="literal">dataView</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>An index or data view. For example, <code class="literal">"logstash-*"</code>.</p>
<p>Default: <code class="literal">"_all"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">metaFields</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Comma separated list of meta fields. For example, <code class="literal">"_index,_type"</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">sort</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The sort direction formatted as <code class="literal">"field, direction"</code>. For example, <code class="literal">"@timestamp, desc"</code> or <code class="literal">"bytes, asc"</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="essql_fn"></a><code class="literal">essql</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Queries Elasticsearch using Elasticsearch SQL.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">essql query="SELECT * FROM "logstash*""
essql "SELECT * FROM "apm*"" count=10000</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| essql query="SELECT Carrier, FlightDelayMin, AvgTicketPrice FROM   "kibana_sample_data_flights""
| table
| render</pre>
</div>
<p>This retrieves the <code class="literal">Carrier</code>, <code class="literal">FlightDelayMin</code>, and <code class="literal">AvgTicketPrice</code> fields from the "kibana_sample_data_flights" index.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">kibana_context</code>, <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Aliases: <code class="literal">q</code>, <code class="literal">query</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>An Elasticsearch SQL query.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">count</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The number of documents to retrieve. For better performance, use a smaller data set.</p>
<p>Default: <code class="literal">1000</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">parameter</code> †</p>
<p>Alias: <code class="literal">param</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">number</code>, <code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>A parameter to be passed to the SQL query.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">timeField</code></p>
<p>Alias: <code class="literal">timeField</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The time field to use in the time range filter, which is set in the context.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">timezone</code></p>
<p>Alias: <code class="literal">tz</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The timezone to use for date operations. Valid ISO8601 formats and UTC offsets both work.</p>
<p>Default: <code class="literal">"UTC"</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="exactly_fn"></a><code class="literal">exactly</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Creates a filter that matches a given column to an exact value.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">exactly "state" value="running"
exactly "age" value=50 filterGroup="group2"
exactly column="project" value="beats"</pre>
</div>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">filter</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">column</code> <span class="strong strong"><strong>*</strong></span></p>
<p>Aliases: <code class="literal">c</code>, <code class="literal">field</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The column or field that you want to filter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">filterGroup</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The group name for the filter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">value</code> <span class="strong strong"><strong>*</strong></span></p>
<p>Aliases: <code class="literal">v</code>, <code class="literal">val</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The value to match exactly, including white space and capitalization.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">filter</code></p>
<div class="position-relative"><h2><a id="f_fns"></a>F</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="filterrows_fn"></a><code class="literal">filterrows</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Filters rows in a <code class="literal">datatable</code> based on the return value of a sub-expression.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">filterrows {getCell "project" | eq "kibana"}
filterrows fn={getCell "age" | gt 50}</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| filterrows {getCell "country" | any {eq "IN"} {eq "US"} {eq "CN"}}
| mapColumn "@timestamp"
  fn={getCell "@timestamp" | rounddate "YYYY-MM"}
| alterColumn "@timestamp" type="date"
| pointseries x="@timestamp" y="mean(cost)" color="country"
| plot defaultStyle={seriesStyle points="2" lines="1"}
  palette={palette "#01A4A4" "#CC6666" "#D0D102" "#616161" "#00A1CB" "#32742C" "#F18D05" "#113F8C" "#61AE24" "#D70060" gradient=false}
| render</pre>
</div>
<p>This uses <code class="literal">filterrows</code> to only keep data from India (<code class="literal">IN</code>), the United States (<code class="literal">US</code>), and China (<code class="literal">CN</code>).</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Aliases: <code class="literal">exp</code>, <code class="literal">expression</code>, <code class="literal">fn</code>, <code class="literal">function</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>An expression to pass into each row in the <code class="literal">datatable</code>. The expression should return a <code class="literal">boolean</code>. A <code class="literal">true</code> value preserves the row, and a <code class="literal">false</code> value removes it.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="filters_fn"></a><code class="literal">filters</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Aggregates element filters from the workpad for use elsewhere, usually a data source. <a class="xref" href="canvas-function-reference.html#filters_fn" title="filters"><code class="literal">filters</code></a> is deprecated and will be removed in a future release. Use <code class="literal">kibana | selectFilter</code> instead.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">filters
filters group="timefilter1"
filters group="timefilter2" group="dropdownfilter1" ungrouped=true</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">filters group=group2 ungrouped=true
| demodata
| pointseries x="project" y="size(cost)" color="project"
| plot defaultStyle={seriesStyle bars=0.75} legend=false
  font={
    font size=14
    family="'Open Sans', Helvetica, Arial, sans-serif"
    align="left"
    color="#FFFFFF"
    weight="lighter"
    underline=true
    italic=true
  }
| render</pre>
</div>
<p><code class="literal">filters</code> sets the existing filters as context and accepts a <code class="literal">group</code> parameter to opt into specific filter groups. Setting <code class="literal">ungrouped</code> to <code class="literal">true</code> opts out of using global filters.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> †</p>
<p>Alias: <code class="literal">group</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The name of the filter group to use.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ungrouped</code></p>
<p>Aliases: <code class="literal">nogroup</code>, <code class="literal">nogroups</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Exclude filters that belong to a filter group?</p>
<p>Default: <code class="literal">false</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">filter</code></p>
<div class="position-relative"><h3><a id="font_fn"></a><code class="literal">font</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Create a font style.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">font size=12
font family=Arial
font align=middle
font color=pink
font weight=lighter
font underline=true
font italic=false
font lHeight=32</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| pointseries x="project" y="size(cost)" color="project"
| plot defaultStyle={seriesStyle bars=0.75} legend=false
  font={
    font size=14
    family="'Open Sans', Helvetica, Arial, sans-serif"
    align="left"
    color="#FFFFFF"
    weight="lighter"
    underline=true
    italic=true
  }
| render</pre>
</div>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">align</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The horizontal text alignment.</p>
<p>Default: <code class="literal">${ theme "font.align" default="left" }</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">color</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The text color.</p>
<p>Default: <code class="literal">${ theme "font.color" }</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">family</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>An acceptable CSS web font string</p>
<p>Default: <code class="literal">${ theme "font.family" default="'Open Sans', Helvetica, Arial, sans-serif" }</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">italic</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Italicize the text?</p>
<p>Default: <code class="literal">${ theme "font.italic" default=false }</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">lHeight</code></p>
<p>Alias: <code class="literal">lineHeight</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The line height in pixels</p>
<p>Default: <code class="literal">${ theme "font.lHeight" }</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">size</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The font size</p>
<p>Default: <code class="literal">${ theme "font.size" default=14 }</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">sizeUnit</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The font size unit</p>
<p>Default: <code class="literal">"px"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">underline</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Underline the text?</p>
<p>Default: <code class="literal">${ theme "font.underline" default=false }</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">weight</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The font weight. For example, <code class="literal">"normal"</code>, <code class="literal">"bold"</code>, <code class="literal">"bolder"</code>, <code class="literal">"lighter"</code>, <code class="literal">"100"</code>, <code class="literal">"200"</code>, <code class="literal">"300"</code>, <code class="literal">"400"</code>, <code class="literal">"500"</code>, <code class="literal">"600"</code>, <code class="literal">"700"</code>, <code class="literal">"800"</code>, or <code class="literal">"900"</code>.</p>
<p>Default: <code class="literal">${ theme "font.weight" default="normal" }</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">style</code></p>
<div class="position-relative"><h3><a id="formatdate_fn"></a><code class="literal">formatdate</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Formats an ISO8601 date string or a date in milliseconds since epoch using MomentJS. See <a href="https://momentjs.com/docs/#/displaying/" class="ulink" target="_top">https://momentjs.com/docs/#/displaying/</a>.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">formatdate format="YYYY-MM-DD"
formatdate "MM/DD/YYYY"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| mapColumn "time" fn={getCell time | formatdate "MMM 'YY"}
| pointseries x="time" y="sum(price)" color="state"
| plot defaultStyle={seriesStyle points=5}
| render</pre>
</div>
<p>This transforms the dates in the <code class="literal">time</code> field into strings that look like <code class="literal">"Jan ‘19"</code>, <code class="literal">"Feb ‘19"</code>, etc. using a MomentJS format.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code>, <code class="literal">string</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">format</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A MomentJS format. For example, <code class="literal">"MM/DD/YYYY"</code>. See <a href="https://momentjs.com/docs/#/displaying/" class="ulink" target="_top">https://momentjs.com/docs/#/displaying/</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">string</code></p>
<div class="position-relative"><h3><a id="formatnumber_fn"></a><code class="literal">formatnumber</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Formats a number into a formatted number string using the Numeral pattern.</p>
<p><span class="strong strong"><strong>Expression syntax</strong></span></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">formatnumber format="$0,0.00"
formatnumber "0.0a"</pre>
</div>
<p><span class="strong strong"><strong>Code example</strong></span></p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">kibana
| selectFilter
| demodata
| math "mean(percent_uptime)"
| progress shape="gauge"
  label={formatnumber "0%"}
  font={font size=24 family="'Open Sans', Helvetica, Arial, sans-serif" color="#000000" align="center"}
| render</pre>
</div>
<p>The <code class="literal">formatnumber</code> subexpression receives the same <code class="literal">context</code> as the <code class="literal">progress</code> function, which is the output of the <code class="literal">math</code> function. It formats the value into a percentage.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">format</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A Numeral pattern format string. For example, <code class="literal">"0.0a"</code> or <code class="literal">"0%"</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">string</code></p>
<div class="position-relative"><h2><a id="g_fns"></a>G</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="getCell_fn"></a><code class="literal">getCell</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Fetches a single cell from a <code class="literal">datatable</code>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Aliases: <code class="literal">c</code>, <code class="literal">column</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The name of the column to fetch the value from. If not provided, the value is retrieved from the first column.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">row</code></p>
<p>Alias: <code class="literal">r</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The row number, starting at 0.</p>
<p>Default: <code class="literal">0</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h3><a id="gt_fn"></a><code class="literal">gt</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns whether the <em>context</em> is greater than the argument.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code>, <code class="literal">string</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">value</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The value compared to the <em>context</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">boolean</code></p>
<div class="position-relative"><h3><a id="gte_fn"></a><code class="literal">gte</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns whether the <em>context</em> is greater or equal to the argument.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code>, <code class="literal">string</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">value</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The value compared to the <em>context</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">boolean</code></p>
<div class="position-relative"><h2><a id="h_fns"></a>H</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="head_fn"></a><code class="literal">head</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Retrieves the first N rows from the <code class="literal">datatable</code>. See also <a class="xref" href="canvas-function-reference.html#tail_fn" title="tail"><code class="literal">tail</code></a>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">count</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The number of rows to retrieve from the beginning of the <code class="literal">datatable</code>.</p>
<p>Default: <code class="literal">1</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h2><a id="i_fns"></a>I</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="if_fn"></a><code class="literal">if</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Performs conditional logic.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">any</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">condition</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>A <code class="literal">true</code> or <code class="literal">false</code> indicating whether a condition is met, usually returned by a sub-expression. When unspecified, the original <em>context</em> is returned.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">else</code></p></td>
<td align="left" valign="top"><p><code class="literal">any</code></p></td>
<td align="left" valign="top"><p>The return value when the condition is <code class="literal">false</code>. When unspecified and the condition is not met, the original <em>context</em> is returned.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">then</code></p></td>
<td align="left" valign="top"><p><code class="literal">any</code></p></td>
<td align="left" valign="top"><p>The return value when the condition is <code class="literal">true</code>. When unspecified and the condition is met, the original <em>context</em> is returned.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h3><a id="image_fn"></a><code class="literal">image</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Displays an image. Provide an image asset as a <code class="literal">base64</code> data URL, or pass in a sub-expression.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Aliases: <code class="literal">dataurl</code>, <code class="literal">url</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The HTTP(S) URL or <code class="literal">base64</code> data URL of an image.</p>
<p>Default: <code class="literal">null</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">mode</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p><code class="literal">"contain"</code> shows the entire image, scaled to fit. <code class="literal">"cover"</code> fills the container with the image, cropping from the sides or bottom as needed. <code class="literal">"stretch"</code> resizes the height and width of the image to 100% of the container.</p>
<p>Default: <code class="literal">"contain"</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">image</code></p>
<div class="position-relative"><h2><a id="j_fns"></a>J</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="joinRows_fn"></a><code class="literal">joinRows</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Concatenates values from rows in a <code class="literal">datatable</code> into a single string.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">column</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The column or field from which to extract the values.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">distinct</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Extract only unique values?</p>
<p>Default: <code class="literal">true</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">quote</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The quote character to wrap around each extracted value.</p>
<p>Default: <code class="literal">"'"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">separator</code></p>
<p>Aliases: <code class="literal">delimiter</code>, <code class="literal">sep</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The delimiter to insert between each extracted value.</p>
<p>Default: <code class="literal">","</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">string</code></p>
<div class="position-relative"><h2><a id="k_fns"></a>K</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="kibana_fn"></a><code class="literal">kibana</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Gets kibana global context</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">kibana_context</code>, <code class="literal">null</code></p>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">kibana_context</code></p>
<div class="position-relative"><h2><a id="l_fns"></a>L</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="location_fn"></a><code class="literal">location</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Find your current location using the Geolocation API of the browser. Performance can vary, but is fairly accurate. See <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/geolocation" class="ulink" target="_top">https://developer.mozilla.org/en-US/docs/Web/API/Navigator/geolocation</a>. Don’t use <a class="xref" href="canvas-function-reference.html#location_fn" title="location"><code class="literal">location</code></a> if you plan to generate PDFs as this function requires user input.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="lt_fn"></a><code class="literal">lt</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns whether the <em>context</em> is less than the argument.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code>, <code class="literal">string</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">value</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The value compared to the <em>context</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">boolean</code></p>
<div class="position-relative"><h3><a id="lte_fn"></a><code class="literal">lte</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns whether the <em>context</em> is less than or equal to the argument.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code>, <code class="literal">string</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">value</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The value compared to the <em>context</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">boolean</code></p>
<div class="position-relative"><h2><a id="m_fns"></a>M</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="mapCenter_fn"></a><code class="literal">mapCenter</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns an object with the center coordinates and zoom level of the map.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">lat</code> <span class="strong strong"><strong>*</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>Latitude for the center of the map</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">lon</code> <span class="strong strong"><strong>*</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>Longitude for the center of the map</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">zoom</code> <span class="strong strong"><strong>*</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>Zoom level of the map</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">mapCenter</code></p>
<div class="position-relative"><h3><a id="mapColumn_fn"></a><code class="literal">mapColumn</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Adds a column calculated as the result of other columns. Changes are made only when you provide arguments.See also <a class="xref" href="canvas-function-reference.html#alterColumn_fn" title="alterColumn"><code class="literal">alterColumn</code></a> and <a class="xref" href="canvas-function-reference.html#staticColumn_fn" title="staticColumn"><code class="literal">staticColumn</code></a>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Aliases: <code class="literal">column</code>, <code class="literal">name</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The name of the resulting column. Names are not required to be unique.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">copyMetaFrom</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>If set, the meta object from the specified column id is copied over to the specified target column. If the column doesn&#8217;t exist it silently fails.</p>
<p>Default: <code class="literal">null</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">expression</code> <span class="strong strong"><strong>*</strong></span></p>
<p>Aliases: <code class="literal">exp</code>, <code class="literal">fn</code>, <code class="literal">function</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>, <code class="literal">number</code>, <code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>An expression that is executed on every row, provided with a single-row <code class="literal">datatable</code> context and returning the cell value.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">id</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>An optional id of the resulting column. When no id is provided, the id will be looked up from the existing column by the provided name argument. If no column with this name exists yet, a new column with this name and an identical id will be added to the table.</p>
<p>Default: <code class="literal">null</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="markdown_fn"></a><code class="literal">markdown</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Adds an element that renders Markdown text. TIP: Use the <a class="xref" href="canvas-function-reference.html#markdown_fn" title="markdown"><code class="literal">markdown</code></a> function for single numbers, metrics, and paragraphs of text.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code>, <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> †</p>
<p>Aliases: <code class="literal">content</code>, <code class="literal">expression</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A string of text that contains Markdown. To concatenate, pass the <code class="literal">string</code> function multiple times.</p>
<p>Default: <code class="literal">""</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">font</code></p></td>
<td align="left" valign="top"><p><code class="literal">style</code></p></td>
<td align="left" valign="top"><p>The CSS font properties for the content. For example, "font-family" or "font-weight".</p>
<p>Default: <code class="literal">${font}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">openLinksInNewTab</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>A true or false value for opening links in a new tab. The default value is <code class="literal">false</code>. Setting to <code class="literal">true</code> opens all links in a new tab.</p>
<p>Default: <code class="literal">false</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h3><a id="math_fn"></a><code class="literal">math</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Interprets a <code class="literal">TinyMath</code> math expression using a <code class="literal">number</code> or <code class="literal">datatable</code> as <em>context</em>. The <code class="literal">datatable</code> columns are available by their column name. If the <em>context</em> is a number it is available as <code class="literal">value</code>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code>, <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">expression</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>An evaluated <code class="literal">TinyMath</code> expression. See <a href="https://www.elastic.co/guide/en/kibana/current/canvas-tinymath-functions.html" class="ulink" target="_top">https://www.elastic.co/guide/en/kibana/current/canvas-tinymath-functions.html</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">onError</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>In case the <code class="literal">TinyMath</code> evaluation fails or returns NaN, the return value is specified by onError. When <code class="literal">'throw'</code>, it will throw an exception, terminating expression execution (default).</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h3><a id="mathColumn_fn"></a><code class="literal">mathColumn</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Adds a column by evaluating <code class="literal">TinyMath</code> on each row. This function is optimized for math and performs better than using a math expression in <a class="xref" href="canvas-function-reference.html#mapColumn_fn" title="mapColumn"><code class="literal">mapColumn</code></a>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Aliases: <code class="literal">column</code>, <code class="literal">name</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The name of the resulting column. Names are not required to be unique.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">expression</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>An evaluated <code class="literal">TinyMath</code> expression. See <a href="https://www.elastic.co/guide/en/kibana/current/canvas-tinymath-functions.html" class="ulink" target="_top">https://www.elastic.co/guide/en/kibana/current/canvas-tinymath-functions.html</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">castColumns</code> †</p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The column ids that are cast to numbers before the formula is applied.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">copyMetaFrom</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>If set, the meta object from the specified column id is copied over to the specified target column. If the column doesn&#8217;t exist it silently fails.</p>
<p>Default: <code class="literal">null</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">id</code> <span class="strong strong"><strong>*</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>id of the resulting column. Must be unique.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">onError</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>In case the <code class="literal">TinyMath</code> evaluation fails or returns NaN, the return value is specified by onError. When <code class="literal">'throw'</code>, it will throw an exception, terminating expression execution (default).</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="metric_fn"></a><code class="literal">metric</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Displays a number over a label.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code>, <code class="literal">string</code>, <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Aliases: <code class="literal">description</code>, <code class="literal">label</code>, <code class="literal">text</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The text describing the metric.</p>
<p>Default: <code class="literal">""</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">labelFont</code></p></td>
<td align="left" valign="top"><p><code class="literal">style</code></p></td>
<td align="left" valign="top"><p>The CSS font properties for the label. For example, <code class="literal">font-family</code> or <code class="literal">font-weight</code>.</p>
<p>Default: <code class="literal">${font size=14 family="'Open Sans', Helvetica, Arial, sans-serif" color="#000000" align=center}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">metricFont</code></p></td>
<td align="left" valign="top"><p><code class="literal">style</code></p></td>
<td align="left" valign="top"><p>The CSS font properties for the metric. For example, <code class="literal">font-family</code> or <code class="literal">font-weight</code>.</p>
<p>Default: <code class="literal">${font size=48 family="'Open Sans', Helvetica, Arial, sans-serif" color="#000000" align=center lHeight=48}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">metricFormat</code></p>
<p>Alias: <code class="literal">format</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A Numeral pattern format string. For example, <code class="literal">"0.0a"</code> or <code class="literal">"0%"</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h2><a id="n_fns"></a>N</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="neq_fn"></a><code class="literal">neq</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns whether the <em>context</em> is not equal to the argument.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">boolean</code>, <code class="literal">number</code>, <code class="literal">string</code>, <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">value</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>, <code class="literal">number</code>, <code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The value compared to the <em>context</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">boolean</code></p>
<div class="position-relative"><h2><a id="p_fns"></a>P</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="palette_fn"></a><code class="literal">palette</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Creates a color palette.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> †</p>
<p>Alias: <code class="literal">color</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The palette colors. Accepts an HTML color name, HEX, HSL, HSLA, RGB, or RGBA.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">continuity</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Default: <code class="literal">"above"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">gradient</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Make a gradient palette where supported?</p>
<p>Default: <code class="literal">false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">range</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Default: <code class="literal">"percent"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">rangeMax</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">rangeMin</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">reverse</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Reverse the palette?</p>
<p>Default: <code class="literal">false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">stop</code> †</p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The palette color stops. When used, it must be associated with each color.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">palette</code></p>
<div class="position-relative"><h3><a id="pie_fn"></a><code class="literal">pie</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Configures a pie chart element.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">pointseries</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">font</code></p></td>
<td align="left" valign="top"><p><code class="literal">style</code></p></td>
<td align="left" valign="top"><p>The CSS font properties for the labels. For example, <code class="literal">font-family</code> or <code class="literal">font-weight</code>.</p>
<p>Default: <code class="literal">${font}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">hole</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>Draws a hole in the pie, between <code class="literal">0</code> and <code class="literal">100</code>, as a percentage of the pie radius.</p>
<p>Default: <code class="literal">0</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">labelRadius</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The percentage of the container area to use as a radius for the label circle.</p>
<p>Default: <code class="literal">100</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">labels</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Display the pie labels?</p>
<p>Default: <code class="literal">true</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">legend</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>The legend position. For example, <code class="literal">"nw"</code>, <code class="literal">"sw"</code>, <code class="literal">"ne"</code>, <code class="literal">"se"</code>, or <code class="literal">false</code>. When <code class="literal">false</code>, the legend is hidden.</p>
<p>Default: <code class="literal">false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">palette</code></p></td>
<td align="left" valign="top"><p><code class="literal">palette</code></p></td>
<td align="left" valign="top"><p>A <code class="literal">palette</code> object for describing the colors to use in this pie chart.</p>
<p>Default: <code class="literal">${palette}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">radius</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The radius of the pie as a percentage, between <code class="literal">0</code> and <code class="literal">1</code>, of the available space. To automatically set the radius, use <code class="literal">"auto"</code>.</p>
<p>Default: <code class="literal">"auto"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">seriesStyle</code> †</p></td>
<td align="left" valign="top"><p><code class="literal">seriesStyle</code></p></td>
<td align="left" valign="top"><p>A style of a specific series</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">tilt</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The percentage of tilt where <code class="literal">1</code> is fully vertical, and <code class="literal">0</code> is completely flat.</p>
<p>Default: <code class="literal">1</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h3><a id="plot_fn"></a><code class="literal">plot</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Configures a chart element.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">pointseries</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">defaultStyle</code></p></td>
<td align="left" valign="top"><p><code class="literal">seriesStyle</code></p></td>
<td align="left" valign="top"><p>The default style to use for every series.</p>
<p>Default: <code class="literal">${seriesStyle points=5}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">font</code></p></td>
<td align="left" valign="top"><p><code class="literal">style</code></p></td>
<td align="left" valign="top"><p>The CSS font properties for the labels. For example, <code class="literal">font-family</code> or <code class="literal">font-weight</code>.</p>
<p>Default: <code class="literal">${font}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">legend</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>The legend position. For example, <code class="literal">"nw"</code>, <code class="literal">"sw"</code>, <code class="literal">"ne"</code>, <code class="literal">"se"</code>, or <code class="literal">false</code>. When <code class="literal">false</code>, the legend is hidden.</p>
<p>Default: <code class="literal">"ne"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">palette</code></p></td>
<td align="left" valign="top"><p><code class="literal">palette</code></p></td>
<td align="left" valign="top"><p>A <code class="literal">palette</code> object for describing the colors to use in this chart.</p>
<p>Default: <code class="literal">${palette}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">seriesStyle</code> †</p></td>
<td align="left" valign="top"><p><code class="literal">seriesStyle</code></p></td>
<td align="left" valign="top"><p>A style of a specific series</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">xaxis</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>, <code class="literal">axisConfig</code></p></td>
<td align="left" valign="top"><p>The axis configuration. When <code class="literal">false</code>, the axis is hidden.</p>
<p>Default: <code class="literal">true</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">yaxis</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>, <code class="literal">axisConfig</code></p></td>
<td align="left" valign="top"><p>The axis configuration. When <code class="literal">false</code>, the axis is hidden.</p>
<p>Default: <code class="literal">true</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h3><a id="ply_fn"></a><code class="literal">ply</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Subdivides a <code class="literal">datatable</code> by the unique values of the specified columns, and passes the resulting tables into an expression, then merges the outputs of each expression.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">by</code> †</p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The column to subdivide the <code class="literal">datatable</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">expression</code> †</p>
<p>Aliases: <code class="literal">exp</code>, <code class="literal">fn</code>, <code class="literal">function</code></p></td>
<td align="left" valign="top"><p><code class="literal">datatable</code></p></td>
<td align="left" valign="top"><p>An expression to pass each resulting <code class="literal">datatable</code> into. Tips: Expressions must return a <code class="literal">datatable</code>. Use <a class="xref" href="canvas-function-reference.html#as_fn" title="as"><code class="literal">as</code></a> to turn literals into `datatable`s. Multiple expressions must return the same number of rows.If you need to return a different row count, pipe into another instance of <a class="xref" href="canvas-function-reference.html#ply_fn" title="ply"><code class="literal">ply</code></a>. If multiple expressions returns the columns with the same name, the last one wins.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="pointseries_fn"></a><code class="literal">pointseries</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Turn a <code class="literal">datatable</code> into a point series model. Currently we differentiate measure from dimensions by looking for a <code class="literal">TinyMath</code> expression. See <a href="https://www.elastic.co/guide/en/kibana/current/canvas-tinymath-functions.html" class="ulink" target="_top">https://www.elastic.co/guide/en/kibana/current/canvas-tinymath-functions.html</a>. If you enter a <code class="literal">TinyMath</code> expression in your argument, we treat that argument as a measure, otherwise it is a dimension. Dimensions are combined to create unique keys. Measures are then deduplicated by those keys using the specified <code class="literal">TinyMath</code> function</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">color</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>An expression to use in determining the mark&#8217;s color.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">size</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The size of the marks. Only applicable to supported elements.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">text</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The text to show on the mark. Only applicable to supported elements.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">x</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The values along the X-axis.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">y</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The values along the Y-axis.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">pointseries</code></p>
<div class="position-relative"><h3><a id="progress_fn"></a><code class="literal">progress</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Configures a progress element.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">shape</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Select <code class="literal">"gauge"</code>, <code class="literal">"horizontalBar"</code>, <code class="literal">"horizontalPill"</code>, <code class="literal">"semicircle"</code>, <code class="literal">"unicorn"</code>, <code class="literal">"verticalBar"</code>, <code class="literal">"verticalPill"</code>, or <code class="literal">"wheel"</code>.</p>
<p>Default: <code class="literal">"gauge"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">barColor</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The color of the background bar.</p>
<p>Default: <code class="literal">"#f0f0f0"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">barWeight</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The thickness of the background bar.</p>
<p>Default: <code class="literal">20</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">font</code></p></td>
<td align="left" valign="top"><p><code class="literal">style</code></p></td>
<td align="left" valign="top"><p>The CSS font properties for the label. For example, <code class="literal">font-family</code> or <code class="literal">font-weight</code>.</p>
<p>Default: <code class="literal">${font size=24 family="'Open Sans', Helvetica, Arial, sans-serif" color="#000000" align=center}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">label</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>, <code class="literal">string</code></p></td>
<td align="left" valign="top"><p>To show or hide the label, use <code class="literal">true</code> or <code class="literal">false</code>. Alternatively, provide a string to display as a label.</p>
<p>Default: <code class="literal">true</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">max</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The maximum value of the progress element.</p>
<p>Default: <code class="literal">1</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">valueColor</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The color of the progress bar.</p>
<p>Default: <code class="literal">"#1785b0"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">valueWeight</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The thickness of the progress bar.</p>
<p>Default: <code class="literal">20</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h2><a id="r_fns"></a>R</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="removeFilter_fn"></a><code class="literal">removeFilter</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Removes filters from context</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">kibana_context</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">group</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Removes only filters belonging to the provided group</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">from</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Removes only filters owned by the provided id</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ungrouped</code></p>
<p>Aliases: <code class="literal">nogroup</code>, <code class="literal">nogroups</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Should filters without group be removed</p>
<p>Default: <code class="literal">false</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">kibana_context</code></p>
<div class="position-relative"><h3><a id="render_fn"></a><code class="literal">render</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Renders the <em>context</em> as a specific element and sets element level options, such as background and border styling.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">render</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">as</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The element type to render. You probably want a specialized function instead, such as <a class="xref" href="canvas-function-reference.html#plot_fn" title="plot"><code class="literal">plot</code></a> or <a class="xref" href="canvas-function-reference.html#shape_fn" title="shape"><code class="literal">shape</code></a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">containerStyle</code></p></td>
<td align="left" valign="top"><p><code class="literal">containerStyle</code></p></td>
<td align="left" valign="top"><p>The style for the container, including background, border, and opacity.</p>
<p>Default: <code class="literal">${containerStyle}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">css</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Any block of custom CSS to be scoped to the element.</p>
<p>Default: <code class="literal">".canvasRenderEl${}"</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h3><a id="repeatImage_fn"></a><code class="literal">repeatImage</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Configures a repeating image element.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">emptyImage</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>Fills the difference between the <em>context</em> and <code class="literal">max</code> parameter for the element with this image. Provide an image asset as a <code class="literal">base64</code> data URL, or pass in a sub-expression.</p>
<p>Default: <code class="literal">null</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">image</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The image to repeat. Provide an image asset as a <code class="literal">base64</code> data URL, or pass in a sub-expression.</p>
<p>Default: <code class="literal">null</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">max</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The maximum number of times the image can repeat.</p>
<p>Default: <code class="literal">1000</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">size</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The maximum height or width of the image, in pixels. When the image is taller than it is wide, this function limits the height.</p>
<p>Default: <code class="literal">100</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h3><a id="replace_fn"></a><code class="literal">replace</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Uses a regular expression to replace parts of a string.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">string</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Aliases: <code class="literal">pattern</code>, <code class="literal">regex</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The text or pattern of a JavaScript regular expression. For example, <code class="literal">"[aeiou]"</code>. You can use capturing groups here.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">flags</code></p>
<p>Alias: <code class="literal">modifiers</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Specify flags. See <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="ulink" target="_top">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp</a>.</p>
<p>Default: <code class="literal">"g"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">replacement</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The replacement for the matching parts of string. Capturing groups can be accessed by their index. For example, <code class="literal">"$1"</code>.</p>
<p>Default: <code class="literal">""</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">string</code></p>
<div class="position-relative"><h3><a id="revealImage_fn"></a><code class="literal">revealImage</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Configures an image reveal element.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">emptyImage</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>An optional background image to reveal over. Provide an image asset as a ``base64`` data URL, or pass in a sub-expression.</p>
<p>Default: <code class="literal">null</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">image</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The image to reveal. Provide an image asset as a <code class="literal">base64</code> data URL, or pass in a sub-expression.</p>
<p>Default: <code class="literal">null</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">origin</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The position to start the image fill. For example, <code class="literal">"top"</code>, <code class="literal">"bottom"</code>, <code class="literal">"left"</code>, or right.</p>
<p>Default: <code class="literal">"bottom"</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h3><a id="rounddate_fn"></a><code class="literal">rounddate</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Uses a MomentJS formatting string to round milliseconds since epoch, and returns milliseconds since epoch.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">number</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">format</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The MomentJS format to use for bucketing. For example, <code class="literal">"YYYY-MM"</code> rounds to months. See <a href="https://momentjs.com/docs/#/displaying/" class="ulink" target="_top">https://momentjs.com/docs/#/displaying/</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">number</code></p>
<div class="position-relative"><h3><a id="rowCount_fn"></a><code class="literal">rowCount</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns the number of rows. Pairs with <a class="xref" href="canvas-function-reference.html#ply_fn" title="ply"><code class="literal">ply</code></a> to get the count of unique column values, or combinations of unique column values.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">number</code></p>
<div class="position-relative"><h2><a id="s_fns"></a>S</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="selectFilter_fn"></a><code class="literal">selectFilter</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Selects filters from context</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">kibana_context</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> †</p>
<p>Alias: <code class="literal">group</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Select only filters belonging to the provided group</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">from</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Select only filters owned by the provided id</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ungrouped</code></p>
<p>Aliases: <code class="literal">nogroup</code>, <code class="literal">nogroups</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Should filters without group be included</p>
<p>Default: <code class="literal">false</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">kibana_context</code></p>
<div class="position-relative"><h3><a id="seriesStyle_fn"></a><code class="literal">seriesStyle</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Creates an object used for describing the properties of a series on a chart. Use <a class="xref" href="canvas-function-reference.html#seriesStyle_fn" title="seriesStyle"><code class="literal">seriesStyle</code></a> inside of a charting function, like <a class="xref" href="canvas-function-reference.html#plot_fn" title="plot"><code class="literal">plot</code></a> or <a class="xref" href="canvas-function-reference.html#pie_fn" title="pie"><code class="literal">pie</code></a>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">bars</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The width of bars.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">color</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The line color.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">fill</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Should we fill in the points?</p>
<p>Default: <code class="literal">false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">horizontalBars</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Sets the orientation of the bars in the chart to horizontal.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">label</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The name of the series to style.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">lines</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The width of the line.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">points</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The size of points on line.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">stack</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>Specifies if the series should be stacked. The number is the stack ID. Series with the same stack ID are stacked together.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">seriesStyle</code></p>
<div class="position-relative"><h3><a id="shape_fn"></a><code class="literal">shape</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Creates a shape.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">shape</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Pick a shape.</p>
<p>Default: <code class="literal">"square"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">border</code></p>
<p>Alias: <code class="literal">stroke</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>An SVG color for the border outlining the shape.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">borderWidth</code></p>
<p>Alias: <code class="literal">strokeWidth</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The thickness of the border.</p>
<p>Default: <code class="literal">0</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">fill</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>An SVG color to fill the shape.</p>
<p>Default: <code class="literal">"black"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">maintainAspect</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Maintain the shape&#8217;s original aspect ratio?</p>
<p>Default: <code class="literal">false</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h3><a id="sort_fn"></a><code class="literal">sort</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Sorts a <code class="literal">datatable</code> by the specified column.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Aliases: <code class="literal">by</code>, <code class="literal">column</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The column to sort by. When unspecified, the <code class="literal">datatable</code> is sorted by the first column.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">reverse</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Reverses the sorting order. When unspecified, the <code class="literal">datatable</code> is sorted in ascending order.</p>
<p>Default: <code class="literal">false</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="staticColumn_fn"></a><code class="literal">staticColumn</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Adds a column with the same static value in every row. See also <a class="xref" href="canvas-function-reference.html#alterColumn_fn" title="alterColumn"><code class="literal">alterColumn</code></a>, <a class="xref" href="canvas-function-reference.html#mapColumn_fn" title="mapColumn"><code class="literal">mapColumn</code></a>, and <a class="xref" href="canvas-function-reference.html#mathColumn_fn" title="mathColumn"><code class="literal">mathColumn</code></a></p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Aliases: <code class="literal">column</code>, <code class="literal">name</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The name of the new column.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">value</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">number</code>, <code class="literal">boolean</code>, <code class="literal">null</code></p></td>
<td align="left" valign="top"><p>The value to insert in each row in the new column. TIP: use a sub-expression to rollup other columns into a static value.</p>
<p>Default: <code class="literal">null</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="string_fn"></a><code class="literal">string</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Concatenates all of the arguments into a single string.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> †</p>
<p>Alias: <code class="literal">value</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code>, <code class="literal">number</code>, <code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>The values to join together into one string. Include spaces where needed.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">string</code></p>
<div class="position-relative"><h3><a id="switch_fn"></a><code class="literal">switch</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Performs conditional logic with multiple conditions. See also <a class="xref" href="canvas-function-reference.html#case_fn" title="case"><code class="literal">case</code></a>, which builds a <code class="literal">case</code> to pass to the <a class="xref" href="canvas-function-reference.html#switch_fn" title="switch"><code class="literal">switch</code></a> function.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">any</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span> †</p>
<p>Alias: <code class="literal">case</code></p></td>
<td align="left" valign="top"><p><code class="literal">case</code></p></td>
<td align="left" valign="top"><p>The conditions to check.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">default</code></p>
<p>Alias: <code class="literal">finally</code></p></td>
<td align="left" valign="top"><p><code class="literal">any</code></p></td>
<td align="left" valign="top"><p>The value returned when no conditions are met. When unspecified and no conditions are met, the original <em>context</em> is returned.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h2><a id="t_fns"></a>T</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="table_fn"></a><code class="literal">table</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Configures a table element.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">font</code></p></td>
<td align="left" valign="top"><p><code class="literal">style</code></p></td>
<td align="left" valign="top"><p>The CSS font properties for the contents of the table. For example, <code class="literal">font-family</code> or <code class="literal">font-weight</code>.</p>
<p>Default: <code class="literal">${font}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">paginate</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Show pagination controls? When <code class="literal">false</code>, only the first page is displayed.</p>
<p>Default: <code class="literal">true</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">perPage</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The number of rows to display on each page.</p>
<p>Default: <code class="literal">10</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">showHeader</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Show or hide the header row with titles for each column.</p>
<p>Default: <code class="literal">true</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h3><a id="tail_fn"></a><code class="literal">tail</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Retrieves the last N rows from the end of a <code class="literal">datatable</code>. See also <a class="xref" href="canvas-function-reference.html#head_fn" title="head"><code class="literal">head</code></a>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">datatable</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Alias: <code class="literal">count</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The number of rows to retrieve from the end of the <code class="literal">datatable</code>.</p>
<p>Default: <code class="literal">1</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="timefilter_fn"></a><code class="literal">timefilter</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Creates a time filter for querying a source.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">filter</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">column</code></p>
<p>Aliases: <code class="literal">c</code>, <code class="literal">field</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The column or field that you want to filter.</p>
<p>Default: <code class="literal">"@timestamp"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">filterGroup</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The group name for the filter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">from</code></p>
<p>Aliases: <code class="literal">f</code>, <code class="literal">start</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The beginning of the range, in ISO8601 or Elasticsearch <code class="literal">datemath</code> format</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">to</code></p>
<p>Aliases: <code class="literal">end</code>, <code class="literal">t</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The end of the range, in ISO8601 or Elasticsearch <code class="literal">datemath</code> format</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">filter</code></p>
<div class="position-relative"><h3><a id="timefilterControl_fn"></a><code class="literal">timefilterControl</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Configures a time filter control element.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">column</code></p>
<p>Aliases: <code class="literal">c</code>, <code class="literal">field</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The column or field that you want to filter.</p>
<p>Default: <code class="literal">"@timestamp"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">compact</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p>Shows the time filter as a button, which triggers a popover.</p>
<p>Default: <code class="literal">true</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">filterGroup</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The group name for the filter.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">render</code></p>
<div class="position-relative"><h3><a id="timelion_fn"></a><code class="literal">timelion</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Uses Timelion to extract one or more time series from many sources.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">filter</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em></p>
<p>Aliases: <code class="literal">q</code>, <code class="literal">query</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A Timelion query</p>
<p>Default: <code class="literal">".es(*)"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">from</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The Elasticsearch <code class="literal">datemath</code> string for the beginning of the time range.</p>
<p>Default: <code class="literal">"now-1y"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">interval</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The bucket interval for the time series.</p>
<p>Default: <code class="literal">"auto"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">timezone</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The timezone for the time range. See <a href="https://momentjs.com/timezone/" class="ulink" target="_top">https://momentjs.com/timezone/</a>.</p>
<p>Default: <code class="literal">"UTC"</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">to</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The Elasticsearch <code class="literal">datemath</code> string for the end of the time range.</p>
<p>Default: <code class="literal">"now"</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">datatable</code></p>
<div class="position-relative"><h3><a id="timerange_fn"></a><code class="literal">timerange</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>An object that represents a span of time.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">from</code> <span class="strong strong"><strong>*</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The start of the time range</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">to</code> <span class="strong strong"><strong>*</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The end of the time range</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">timerange</code></p>
<div class="position-relative"><h3><a id="to_fn"></a><code class="literal">to</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Explicitly casts the type of the <em>context</em> from one type to the specified type.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">any</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> †</p>
<p>Alias: <code class="literal">type</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>A known data type in the expression language.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h2><a id="u_fns"></a>U</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="uiSetting_fn"></a><code class="literal">uiSetting</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Returns a UI settings parameter value.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">any</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">parameter</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The parameter name.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">default</code></p></td>
<td align="left" valign="top"><p><code class="literal">any</code></p></td>
<td align="left" valign="top"><p>A default value in case of the parameter is not set.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h3><a id="urlparam_fn"></a><code class="literal">urlparam</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Retrieves a URL parameter to use in an expression. The <a class="xref" href="canvas-function-reference.html#urlparam_fn" title="urlparam"><code class="literal">urlparam</code></a> function always returns a <code class="literal">string</code>. For example, you can retrieve the value <code class="literal">"20"</code> from the parameter <code class="literal">myVar</code> from the URL <code class="literal">https://localhost:5601/app/canvas?myVar=20</code>.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">null</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Aliases: <code class="literal">param</code>, <code class="literal">var</code>, <code class="literal">variable</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The URL hash parameter to retrieve.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">default</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>The string returned when the URL parameter is unspecified.</p>
<p>Default: <code class="literal">""</code></p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> <code class="literal">string</code></p>
<div class="position-relative"><h2><a id="v_fns"></a>V</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<div class="position-relative"><h3><a id="var_fn"></a><code class="literal">var</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Updates the Kibana global context.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">any</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span></p>
<p>Alias: <code class="literal">name</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Specify the name of the variable.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>
<div class="position-relative"><h3><a id="var_set_fn"></a><code class="literal">var_set</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/canvas/canvas-function-reference.asciidoc">edit</a></div>
<p>Updates the Kibana global context.</p>
<p><span class="strong strong"><strong>Accepts:</strong></span> <code class="literal">any</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Argument</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><em>Unnamed</em> <span class="strong strong"><strong>*</strong></span> †</p>
<p>Alias: <code class="literal">name</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Specify the name of the variable.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">value</code> †</p>
<p>Alias: <code class="literal">val</code></p></td>
<td align="left" valign="top"><p><code class="literal">any</code></p></td>
<td align="left" valign="top"><p>Specify the value for the variable. When unspecified, the input context is used.</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Returns:</strong></span> Depends on your input and arguments</p>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="canvas-handling-context-and-argument-types.html">« Handling context and argument types</a>
</span>
<span class="next">
<a href="canvas-tinymath-functions.html">TinyMath functions »</a>
</span>
</div>
</body>
</html>
