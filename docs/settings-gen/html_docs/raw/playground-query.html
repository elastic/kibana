<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>View and modify queries | Kibana Guide | Elastic</title>
<meta class="elastic" name="content" content="View and modify queries | Kibana Guide">

<link rel="home" href="index.html" title="Kibana Guide"/>
<link rel="up" href="playground.html" title="Playground"/>
<link rel="prev" href="playground-context.html" title="Optimize model context"/>
<link rel="next" href="playground-troubleshooting.html" title="Troubleshooting"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="playground-context.html">« Optimize model context</a>
</span>
<span class="next">
<a href="playground-troubleshooting.html">Troubleshooting »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="playground.html">Playground</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>View and modify queries</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/playground/playground-query.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="playground-query"></a>View and modify queries</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/playground/playground-query.asciidoc">edit</a></div>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>Once you&#8217;ve set up your chat interface, you can start chatting with the model.
Playground will automatically generate Elasticsearch queries based on your questions, and retrieve the most relevant documents from your Elasticsearch indices.
The Playground UI enables you to view and modify these queries.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Click <span class="strong strong"><strong>View query</strong></span> to open the visual query editor.
</li>
<li class="listitem">
Modify the query by selecting fields to query per index.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save changes</strong></span>.
</li>
</ul>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">{query}</code> variable represents the user&#8217;s question, rewritten as an Elasticsearch query.</p>
</div>
</div>
<p>The following screenshot shows the query editor in the Playground UI.
In this simple example, the <code class="literal">books</code> index has two fields: <code class="literal">author</code> and <code class="literal">name</code>.
Selecting a field adds it to the <code class="literal">fields</code> array in the query.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/query-interface.png" alt="View and modify queries">
</div>
</div>
<p>Certain fields in your documents may be hidden.
Learn more about <a class="xref" href="playground-query.html#playground-hidden-fields" title="Hidden fields">hidden fields</a>.</p>
<div class="position-relative"><h3><a id="playground-query-relevance"></a>Improving relevance</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/playground/playground-query.asciidoc">edit</a></div>
<p>The fields you select in the query editor determine the relevance of the retrieved documents.</p>
<p>Remember that the next step in the workflow is to send the retrieved documents to the LLM to answer the question.
Context length is an important factor in ensuring the model has enough information to generate a relevant answer.
Refer to <a class="xref" href="playground-context.html" title="Optimize model context">Optimize context</a> for more information.</p>
<p><a class="xref" href="playground-troubleshooting.html" title="Troubleshooting">Troubleshooting</a> provides tips on how to diagnose and fix relevance issues.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Playground uses the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/retriever.html" class="ulink" target="_top"><code class="literal">retriever</code></a> syntax for Elasticsearch queries.
Retrievers make it easier to compose and test different retrieval strategies in your search pipelines.
Refer to <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/retrievers-overview.html" class="ulink" target="_top">documentation</a> for a high level overview of retrievers.</p>
</div>
</div>
<div class="position-relative"><h3><a id="playground-hidden-fields"></a>Hidden fields</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/playground/playground-query.asciidoc">edit</a></div>
<p>The query editor shows fields which make sense for the user to search on, but not all fields in your documents are visible from the editor.</p>
<p>Available field types:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Semantic fields like <code class="literal">sparse_vector</code> or <code class="literal">dense_vector</code> fields where the embeddings have been created from a inference processor
</li>
<li class="listitem">
<code class="literal">text</code> fields
</li>
</ul>
</div>
<p>Hidden Field Types:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
non <code class="literal">text</code> fields like <code class="literal">keyword</code> fields
</li>
<li class="listitem">
fields that are not indexed
</li>
<li class="listitem">
semantic fields where the embeddings have not been created from a inference processor
</li>
<li class="listitem">
nested fields
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="playground-context.html">« Optimize model context</a>
</span>
<span class="next">
<a href="playground-troubleshooting.html">Troubleshooting »</a>
</span>
</div>
</body>
</html>
