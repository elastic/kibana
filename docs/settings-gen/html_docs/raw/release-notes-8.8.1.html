<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Kibana diagnostic, diagnostics">
<title>Kibana 8.8.1 | Kibana Guide | Elastic</title>
<meta class="elastic" name="content" content="Kibana 8.8.1 | Kibana Guide">

<link rel="home" href="index.html" title="Kibana Guide"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.8.2.html" title="Kibana 8.8.2"/>
<link rel="next" href="release-notes-8.8.0.html" title="Kibana 8.8.0"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.8.2.html">« Kibana 8.8.2</a>
</span>
<span class="next">
<a href="release-notes-8.8.0.html">Kibana 8.8.0 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Kibana 8.8.1</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/CHANGELOG.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-notes-8.8.1"></a>Kibana 8.8.1</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/CHANGELOG.asciidoc">edit</a></div>
</div></div></div>
<p>Review the following information about the Kibana 8.8.1 release.</p>
<div class="position-relative"><h3><a id="known-issues-8.8.1"></a>Known issues</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/CHANGELOG.asciidoc">edit</a></div>
<details>
<summary class="title">Kibana can run out of memory during an upgrade when there are many Fleet agent policies.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Due to a schema version update, during Fleet setup in 8.8.x, all agent policies are being queried and deployed.
This action triggers a lot of queries to the Elastic Package Registry (EPR) to fetch integration packages.  As a result,
there is an increase in Kibana&#8217;s resident memory usage (RSS).</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Because the default batch size of <code class="literal">100</code> for schema version upgrade of Fleet agent policies is too high, this can
cause Kibana to run out of memory during an upgrade.  For example, we have observed 1GB Kibana instances run
out of memory during an upgrade when there were 20 agent policies with 5 integrations in each.</p>
<p><span class="strong strong"><strong>Workaround</strong></span><br>
Two workaround options are available:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Increase the Kibana instance size to 2GB. So far, we are not able to reproduce the issue with 2GB instances.
</li>
<li class="listitem">
Set <code class="literal">xpack.fleet.setup.agentPolicySchemaUpgradeBatchSize</code> to <code class="literal">2</code> in the <code class="literal">kibana.yml</code> and restart the Kibana instance(s).
</li>
</ul>
</div>
<p>In 8.9.0, we are addressing this by changing the default batch size to <code class="literal">2</code>.</p>
</div>
</details>
<details>
<summary class="title">Memory leak in Fleet audit logging.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Fleet introduced audit logging for various CRUD (create, read, update, and delete) operations in version 8.8.0.</p>
<p>While audit logging is not enabled by default, we have identified an off-heap memory leak in the implementation of Fleet audit logging that can result in poor Kibana performance, and in some cases Kibana instances being terminated by the OS kernel&#8217;s oom-killer. This memory leak can occur even when Kibana audit logging is not explicitly enabled (regardless of whether <code class="literal">xpack.security.audit.enabled</code> is set in the <code class="literal">kibana.yml</code> settings file).</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
The version 8.8.2 release includes in <a href="https://github.com/elastic/kibana/pull/159807" class="ulink" target="_top">a fix</a> for this problem. If you are using Fleet integrations
and Kibana audit logging in version 8.8.0 or 8.8.1, you should upgrade to 8.8.2 or above to obtain the fix.</p>
</div>
</details>
<div class="position-relative"><h3><a id="breaking-changes-8.8.1"></a>Breaking changes</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/CHANGELOG.asciidoc">edit</a></div>
<p>Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.8.1, review the breaking changes, then mitigate the impact to your application.</p>
<p>There are no breaking changes in the Kibana 8.8.1 release.</p>
<p>To review the breaking changes in the previous release, check <a href="https://www.elastic.co/guide/en/kibana/8.8/release-notes-8.8.0.html#breaking-changes-8.8.0" class="ulink" target="_top">8.8.0</a>.</p>
<div class="position-relative"><h3><a id="enhancement-v8.8.1"></a>Enhancements</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/CHANGELOG.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Elastic Security
</span>
</dt>
<dd>
For the Elastic Security 8.8.1 release information, refer to <a href="https://www.elastic.co/guide/en/security/master/release-notes.html" class="ulink" target="_top"><em>Elastic Security Solution Release Notes</em></a>.
</dd>
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Elastic Agent UI instructions for Universal Profile <a href="https://github.com/elastic/kibana/pull/158936" class="ulink" target="_top">#158936</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="fixes-v8.8.1"></a>Bug fixes</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/CHANGELOG.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Alerting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes a bug where ML embeddables, OsQuery, and IoCs attachments in a case render the wrong view <a href="https://github.com/elastic/kibana/pull/158441" class="ulink" target="_top">#158441</a>
</li>
<li class="listitem">
Makes alert links shorter <a href="https://github.com/elastic/kibana/pull/158582" class="ulink" target="_top">#158582</a>
</li>
<li class="listitem">
Throws a Mustache error when validating action message for warnings <a href="https://github.com/elastic/kibana/pull/158668" class="ulink" target="_top">#158668</a>
</li>
<li class="listitem">
Adds null checks when iterating through an index template list <a href="https://github.com/elastic/kibana/pull/158742" class="ulink" target="_top">#158742</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
APM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Displays the size of hidden indices in storage explorer <a href="https://github.com/elastic/kibana/pull/158746" class="ulink" target="_top">#158746</a>
</li>
<li class="listitem">
Changes the APM latency value and latency threshold to microseconds <a href="https://github.com/elastic/kibana/pull/158703" class="ulink" target="_top">#158703</a>
</li>
<li class="listitem">
Fixes service transaction metrics by using <code class="literal">transaction.duration.histogram</code> for percentile aggregations <a href="https://github.com/elastic/kibana/pull/158909" class="ulink" target="_top">#158909</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Discover
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update single doc view locator to URL encode <code class="literal">rowId</code> <a href="https://github.com/elastic/kibana/pull/158635" class="ulink" target="_top">#158635</a>
</li>
<li class="listitem">
Fixes the display of grid row selection when in dark mode <a href="https://github.com/elastic/kibana/pull/158231" class="ulink" target="_top">#158231</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Security
</span>
</dt>
<dd>
For the Elastic Security 8.8.1 release information, refer to <a href="https://www.elastic.co/guide/en/security/master/release-notes.html" class="ulink" target="_top"><em>Elastic Security Solution Release Notes</em></a>.
</dd>
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Include hidden data streams in package upgrade <a href="https://github.com/elastic/kibana/pull/158654" class="ulink" target="_top">#158654</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Logs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes Log Categorization UI failure due to an infinite loop <a href="https://github.com/elastic/kibana/pull/159090" class="ulink" target="_top">#159090</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Increases calendar events request limit <a href="https://github.com/elastic/kibana/pull/158726" class="ulink" target="_top">#158726</a>
</li>
<li class="listitem">
Disables the delete option for deployed models <a href="https://github.com/elastic/kibana/pull/158533" class="ulink" target="_top">#158533</a>
</li>
<li class="listitem">
Applies theme based on the User Profile settings <a href="https://github.com/elastic/kibana/pull/158258" class="ulink" target="_top">#158258</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Maps
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes toolbar action button not filled when selected <a href="https://github.com/elastic/kibana/pull/158284" class="ulink" target="_top">#158284</a>
</li>
<li class="listitem">
Fixes Maps to display dark theme when enabled <a href="https://github.com/elastic/kibana/pull/158219" class="ulink" target="_top">#158219</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Operations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes configuration stacking order <a href="https://github.com/elastic/kibana/pull/158827" class="ulink" target="_top">#158827</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Platform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes Kibana crashing on Safari versions prior to 16.4 <a href="https://github.com/elastic/kibana/pull/158825" class="ulink" target="_top">#158825</a>
</li>
<li class="listitem">
Updates all aliases with a single <code class="literal">updateAliases()</code> when relocating saved objects <a href="https://github.com/elastic/kibana/pull/158940" class="ulink" target="_top">#158940</a>
</li>
<li class="listitem">
Fixes a race condition that could cause intermittent upgrade migration failures when Kibana connects to a single node Elasticsearch cluster <a href="https://github.com/elastic/kibana/pull/158182" class="ulink" target="_top">#158182</a>
</li>
<li class="listitem">
Dynamically reduces the <code class="literal">migrations.batchSize</code> value when Kibana encounters a migration batch that&#8217;s too big to process <a href="https://github.com/elastic/kibana/pull/157494" class="ulink" target="_top">#157494</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-8.8.2.html">« Kibana 8.8.2</a>
</span>
<span class="next">
<a href="release-notes-8.8.0.html">Kibana 8.8.0 »</a>
</span>
</div>
</body>
</html>
