<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Using Kibana server logs | Kibana Guide | Elastic</title>
<meta class="elastic" name="content" content="Using Kibana server logs | Kibana Guide">

<link rel="home" href="index.html" title="Kibana Guide"/>
<link rel="up" href="kibana-troubleshooting.html" title="Troubleshooting"/>
<link rel="prev" href="kibana-troubleshooting.html" title="Troubleshooting"/>
<link rel="next" href="kibana-troubleshooting-trace-query.html" title="Trace Elasticsearch query to the origin in Kibana"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="kibana-troubleshooting.html">« Troubleshooting</a>
</span>
<span class="next">
<a href="kibana-troubleshooting-trace-query.html">Trace Elasticsearch query to the origin in Kibana »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="kibana-troubleshooting.html">Troubleshooting</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Using Kibana server logs</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/troubleshooting/using-server-logs.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="kibana-troubleshooting-kibana-server-logs"></a>Using Kibana server logs</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/troubleshooting/using-server-logs.asciidoc">edit</a></div>
</div></div></div>
<p>Kibana Logs is a great way to see what&#8217;s going on in your application and to debug performance issues. Navigating through a large number of generated logs can be overwhelming, and following are some techniques that you can use to optimize the process.</p>
<p>Start by defining a problem area that you are interested in. For example, you might be interested in seeing how a particular Kibana Plugin is performing, so no need to gather logs for all of Kibana. Or you might want to focus on a particular feature, such as requests from the Kibana server to the Elasticsearch server.
Depending on your needs, you can configure Kibana to generate logs for a specific feature.</p>
<div class="pre_wrapper lang-yml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yml">logging:
  appenders:
    file:
      type: file
      fileName: ./kibana.log
      layout:
        type: json

### gather all the Kibana logs into a file
logging.root:
    appenders: [file]
    level: all

### or gather a subset of the logs
logging.loggers:
  ### responses to an HTTP request
  - name: http.server.response
    level: debug
    appenders: [file]
  ### result of a query to the Elasticsearch server
  - name: elasticsearch.query
    level: debug
    appenders: [file]
  ### logs generated by my plugin
  - name: plugins.myPlugin
    level: debug
    appenders: [file]</pre>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Kibana&#8217;s <code class="literal">file</code> appender is configured to produce logs in <a href="https://www.elastic.co/guide/en/ecs/8.11/ecs-reference.html" class="ulink" target="_top">ECS JSON</a> format. It&#8217;s the only format that includes the meta information necessary for <a href="https://www.elastic.co/guide/en/apm/agent/nodejs/current/log-correlation.html" class="ulink" target="_top">log correlation</a> out-of-the-box.</p>
</div>
</div>
<p>The next step is to define what <a href="https://www.elastic.co/observability" class="ulink" target="_top">observability tools</a> are available.
For a better experience, set up an <a href="https://www.elastic.co/guide/en/apm/get-started/current/observability-integrations.html" class="ulink" target="_top">Observability integration</a> provided by Elastic to debug your application with the <a class="xref" href="kibana-troubleshooting-kibana-server-logs.html#debugging-logs-apm-ui" title="APM UI">APM UI.</a>
To debug something quickly without setting up additional tooling, you can work with <a class="xref" href="kibana-troubleshooting-kibana-server-logs.html#plain-kibana-logs" title="Plain Kibana logs">the plain Kibana logs.</a></p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="debugging-logs-apm-ui"></a>APM UI</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/troubleshooting/using-server-logs.asciidoc">edit</a></div>
</div></div></div>
<p><span class="strong strong"><strong>Prerequisites</strong></span> Kibana logs are configured to be in <a href="https://www.elastic.co/guide/en/ecs/8.11/ecs-reference.html" class="ulink" target="_top">ECS JSON</a> format to include tracing identifiers.</p>
<p>To debug Kibana with the APM UI, you must set up the APM infrastructure. You can find instructions for the setup process
<a href="https://www.elastic.co/guide/en/apm/get-started/current/observability-integrations.html" class="ulink" target="_top">on the Observability integrations page</a>.</p>
<p>Once you set up the APM infrastructure, you can enable the APM agent and put Kibana under load to collect APM events. To analyze the collected metrics and logs, use the APM UI as demonstrated <a href="https://www.elastic.co/guide/en/observability/master/apm-transactions.html#transaction-trace-sample" class="ulink" target="_top">in the docs</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="plain-kibana-logs"></a>Plain Kibana logs</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/troubleshooting/using-server-logs.asciidoc">edit</a></div>
</div></div></div>
<p><span class="strong strong"><strong>Prerequisites</strong></span> Kibana logs are configured to be in <a href="https://www.elastic.co/guide/en/ecs/8.11/ecs-reference.html" class="ulink" target="_top">ECS JSON</a> format to include tracing identifiers.</p>
<p>Open Kibana Logs and search for an operation you are interested in.
For example, suppose you want to investigate the response times for queries to the <code class="literal">/internal/telemetry/clusters/_stats</code> Kibana endpoint.
Open Kibana Logs and search for the HTTP server response for the endpoint. It looks similar to the following (some fields are omitted for brevity).</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "message":"POST /internal/telemetry/clusters/_stats 200 1014ms - 43.2KB",
  "log":{"level":"DEBUG","logger":"http.server.response"},
  "trace":{"id":"9b99131a6f66587971ef085ef97dfd07"},
  "transaction":{"id":"d0c5bbf14f5febca"}
}</pre>
</div>
<p>You are interested in the <a href="https://www.elastic.co/guide/en/ecs/current/ecs-tracing.html#field-trace-id" class="ulink" target="_top">trace.id</a> field, which is a unique identifier of a trace. The <code class="literal">trace.id</code> provides a way to group multiple events, like transactions, which belong together. You can search for <code class="literal">"trace":{"id":"9b99131a6f66587971ef085ef97dfd07"}</code> to get all the logs that belong to the same trace. This enables you to see how many Elasticsearch requests were triggered during the <code class="literal">9b99131a6f66587971ef085ef97dfd07</code> trace, what they looked like, what Elasticsearch endpoints were hit, and so on.</p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="kibana-troubleshooting.html">« Troubleshooting</a>
</span>
<span class="next">
<a href="kibana-troubleshooting-trace-query.html">Trace Elasticsearch query to the origin in Kibana »</a>
</span>
</div>
</body>
</html>
