<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Reporting settings in Kibana | Kibana Guide | Elastic</title>
<meta class="elastic" name="content" content="Reporting settings in Kibana | Kibana Guide">

<link rel="home" href="index.html" title="Kibana Guide"/>
<link rel="up" href="settings.html" title="Configure Kibana"/>
<link rel="prev" href="monitoring-settings-kb.html" title="Monitoring settings in Kibana"/>
<link rel="next" href="search-session-settings-kb.html" title="Search sessions settings in Kibana"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="monitoring-settings-kb.html">« Monitoring settings in Kibana</a>
</span>
<span class="next">
<a href="search-session-settings-kb.html">Search sessions settings in Kibana »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup.html">Set up</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="settings.html">Configure Kibana</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Reporting settings in Kibana</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="reporting-settings-kb"></a>Reporting settings in Kibana</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
</div></div></div>

<p>You can configure <code class="literal">xpack.reporting</code> settings in your <code class="literal">kibana.yml</code> to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="reporting-settings-kb.html#general-reporting-settings" title="Enable reporting">Enable or disable the reporting features</a>
</li>
<li class="listitem">
<a class="xref" href="reporting-settings-kb.html#encryption-keys" title="Encryption key setting">Configure an encryption key to protect sensitive authentication data</a>
</li>
<li class="listitem">
<a class="xref" href="reporting-settings-kb.html#reporting-advanced-settings" title="Security settings">Choose an access control model of how users will be granted privileges to reporting features</a>
</li>
<li class="listitem">
<a class="xref" href="reporting-settings-kb.html#reporting-job-queue-settings" title="Background job settings">Manage the way reporting tasks run in the Kibana server background</a>
</li>
<li class="listitem">
<a class="xref" href="reporting-settings-kb.html#reporting-capture-settings" title="PNG/PDF settings">Control how screenshots are captured for PNG/PDF reports</a>
</li>
<li class="listitem">
<a class="xref" href="reporting-settings-kb.html#reporting-csv-settings" title="CSV settings">Control the limits and capabilities of CSV reports</a>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="general-reporting-settings"></a>Enable reporting</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="xpack-enable-reporting"></a><code class="literal">xpack.reporting.enabled</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
When <code class="literal">true</code>, enables the reporting features. Set this to <code class="literal">false</code> to disable reporting features entirely. The default is <code class="literal">true</code>.
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Disabling the reporting features is discouraged. If you need to turn off the ability to generate reports,
configure the roles and spaces in the <a class="xref" href="secure-reporting.html#grant-user-access" title="Grant users access to reporting">Kibana application privileges</a>.</p>
<p>If needed, you can also prevent a Kibana instance from claiming reporting work by setting
<a class="xref" href="reporting-settings-kb.html#xpack-reportingQueue-pollEnabled"><code class="literal">xpack.reporting.queue.pollEnabled: false</code></a>.</p>
</div>
</div>
<div class="position-relative"><h3><a id="encryption-keys"></a>Encryption key setting</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
<p>By default, an encryption key is generated for the reporting features each
time you start Kibana. If a static encryption key is not persisted in
the Kibana configuration, any pending reports fail when you restart Kibana.</p>
<p>If you are load balancing across multiple Kibana instances, each instance needs to have
the same reporting encryption key. Otherwise, report generation fails if a
report is queued through one instance, and another instance picks up the job
from the report queue. The instance that picks up the job is unable to decrypt the
reporting job metadata.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="xpack-reporting-encryptionKey"></a> <code class="literal">xpack.reporting.encryptionKey</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
The static encryption key for reporting. Use an alphanumeric text string that is at least 32 characters. By default, Kibana generates a random key when it starts, which causes pending reports to fail after restart. Configure <code class="literal">xpack.reporting.encryptionKey</code> to preserve the same key across multiple restarts and multiple Kibana instances.
</dd>
</dl>
</div>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">xpack.reporting.encryptionKey: "something_secret"</pre>
</div>
<div class="position-relative"><h3><a id="reporting-advanced-settings"></a>Security settings</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
<p>Reporting has two forms of access control: each user can only access their own reports,
and custom roles determine who has the privilege to generate reports. When Reporting is configured with
<a class="xref" href="kibana-privileges.html" title="Kibana privileges">Kibana application privileges</a>, you can control the spaces and applications where users
are allowed to generate reports.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">xpack.reporting.roles</code> settings are for a deprecated system of access control in Reporting. Turning off
this feature allows API keys to generate reports, and allows reporting access through Kibana application
privileges. We recommend that you explicitly turn off reporting&#8217;s deprecated access control feature by adding
<code class="literal">xpack.reporting.roles.enabled: false</code> to kibana.yml. This will enable you to create custom roles that provide
application privileges for reporting, as described in <a class="xref" href="secure-reporting.html#grant-user-access" title="Grant users access to reporting">granting users access to
reporting</a>.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="xpack-reporting-roles-enabled"></a> <code class="literal">xpack.reporting.roles.enabled</code>
</span>
</dt>
<dd>
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">7.14.0</span>]
<span class="Admonishment-detail">
Deprecated in 7.14.0. The default for this setting will be <code class="literal">false</code> in an upcoming version of Kibana.
</span>
</span> Sets access
control to a set of assigned reporting roles, specified by <code class="literal">xpack.reporting.roles.allow</code>. Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.reporting.roles.allow</code>
</span>
</dt>
<dd>
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">7.14.0</span>]
<span class="Admonishment-detail">
Deprecated in 7.14.0.
</span>
</span> In addition to superusers, specifies the roles that can generate reports using the
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/security-api.html#security-role-apis" class="ulink" target="_top">Elasticsearch role management APIs</a>. Requires <code class="literal">xpack.reporting.roles.enabled</code>
to be <code class="literal">true</code>. Defaults to <code class="literal">[ "reporting_user" ]</code>.
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="reporting-job-queue-settings"></a>Background job settings</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
<p>Reporting generates reports on the Kibana server as background tasks, and jobs are coordinated using documents
in Elasticsearch. Depending on how often you generate reports and the overall number of reports, you might need to
change the following settings.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.reporting.capture.maxAttempts</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
If capturing a report fails for any reason, Kibana will re-queue the report job for retry, as many times as this setting. Defaults to <code class="literal">3</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.reporting.queue.indexInterval</code>
</span>
</dt>
<dd>
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">8.15.0</span>]
<span class="Admonishment-detail">
Deprecated in 8.15.0. This setting has no effect.
</span>
</span> How often Reporting creates a new index to store report jobs and file contents.
Valid values are <code class="literal">year</code>, <code class="literal">month</code>, <code class="literal">week</code>, <code class="literal">day</code>, and <code class="literal">hour</code>. Defaults to <code class="literal">week</code>.
<span class="strong strong"><strong>NOTE</strong></span>: This setting exists for backwards compatibility, but is unused. Use the built-in ILM policy provided for the reporting plugin to customize the rollover of Reporting data.
</dd>
<dt>
<span class="term">
<a id="xpack-reportingQueue-pollEnabled"></a> <code class="literal">xpack.reporting.queue.pollEnabled</code>
</span>
</dt>
<dd>
When <code class="literal">true</code>, enables the Kibana instance to poll Elasticsearch for pending jobs and claim them for
execution. When <code class="literal">false</code>, allows the Kibana instance to only add new jobs to the reporting queue, list
jobs, and provide the downloads to completed reports through the UI. This requires a deployment where at least
one other Kibana instance in the Elastic cluster has this setting to <code class="literal">true</code>. The default is <code class="literal">true</code>.
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Running multiple instances of Kibana in a cluster for load balancing of
reporting requires identical values for <a class="xref" href="reporting-settings-kb.html#xpack-reporting-encryptionKey"><code class="literal">xpack.reporting.encryptionKey</code></a> and, if
security is enabled, <a class="xref" href="security-settings-kb.html#xpack-security-encryptionKey"><code class="literal">xpack.security.encryptionKey</code></a>.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.reporting.queue.pollInterval</code>
</span>
</dt>
<dd>
Specifies the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/api-conventions.html#time-units" class="ulink" target="_top">time</a> that the reporting poller waits between polling the index for any pending Reporting jobs. Can be specified as a number of milliseconds. Defaults to <code class="literal">3s</code>.
</dd>
<dt>
<span class="term">
<a id="xpack-reporting-q-timeout"></a> <code class="literal">xpack.reporting.queue.timeout</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/api-conventions.html#time-units" class="ulink" target="_top">How long</a> each worker has to produce a report. If your machine is slow or under heavy load, you
might need to increase this timeout. If a Reporting job execution goes over this time limit, the job is marked
as a failure and no download will be available. Can be specified as a number of milliseconds. Defaults to <code class="literal">4m</code>.
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="reporting-capture-settings"></a>PNG/PDF settings</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>We recommend using PNG/PDF reports to export moderate amounts of data only. The feature enables a high-level
export capability, but it&#8217;s not intended for bulk export. If you need to export several pages of image data,
consider using multiple report jobs to export a small number of pages at a time. If the screenshot of exported
dashboard contains a large number of pixels, consider splitting the large dashboard into smaller artifacts to
use less memory and CPU resources.</p>
<p>For the most reliable configuration of PDF/PNG reporting features, consider installing Kibana using <a class="xref" href="docker.html" title="Install Kibana with Docker">Docker</a> or using <a class="xref" href="get-started.html#set-up-on-cloud" title="Set up on cloud">Elastic Cloud</a>.</p>
</div>
</div>
<p>To generate PDF and PNG files, Reporting uses an internal "screenshotting" plugin which manages a headless browser that captures screenshots from Kibana.</p>
<p>The following settings control the capturing process.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.capture.timeouts.openUrl</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
Specify the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/api-conventions.html#time-units" class="ulink" target="_top">time</a> to allow the Reporting browser to wait for the "Loading&#8230;&#8203;" screen to dismiss
and find the initial data for the page. If the time is exceeded, a screenshot is captured showing the current
page, and the download link shows a warning message. Can be specified as number of milliseconds. Defaults to <code class="literal">1m</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.capture.timeouts.waitForElements</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
Specify the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/api-conventions.html#time-units" class="ulink" target="_top">time</a> to allow the Reporting browser to wait for all visualization panels to load on
the page. If the time is exceeded, a screenshot is captured showing the current page, and the download link
shows a warning message. Can be specified as number of milliseconds. Defaults to <code class="literal">1m</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.capture.timeouts.renderComplete</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
Specify the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/api-conventions.html#time-units" class="ulink" target="_top">time</a> to allow the Reporting browser to wait for all visualizations to fetch and
render the data. If the time is exceeded, a screenshot is captured showing the current page, and the download
link shows a warning message. Can be specified as number of milliseconds. Defaults to <code class="literal">2m</code>.
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If any timeouts from <code class="literal">xpack.screenshotting.capture.timeouts.*</code> settings occur when
running a report job, Reporting will log the error and try to continue
capturing the page with a screenshot. As a result, a download will be
available, but there will likely be errors in the visualizations in the report.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.capture.loadDelay</code>
</span>
</dt>
<dd>
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">8.0.0</span>]
<span class="Admonishment-detail">
Deprecated in 8.0.0. This setting has no effect.
</span>
</span> Specify the <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/api-conventions.html#time-units" class="ulink" target="_top">amount of time</a> before taking a screenshot when visualizations are not evented. All visualizations that ship with Kibana are evented, so this setting should not have much effect. If you are seeing empty images instead of visualizations, try increasing this value. <span class="strong strong"><strong>NOTE</strong></span>: This setting exists for backwards compatibility, but is unused and therefore does not have an affect on reporting performance.
</dd>
</dl>
</div>
<div class="position-relative"><h4><a id="reporting-chromium-settings"></a>Chromium headless browser settings</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
<p>For PDF and PNG reports, Reporting spawns a headless Chromium browser process on the server to load and capture a screenshot of the Kibana app. When installing Kibana on Linux and Windows platforms, the Chromium binary comes bundled with the Kibana download. For Mac platforms, the Chromium binary is downloaded the first time Kibana is started.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.browser.chromium.disableSandbox</code>
</span>
</dt>
<dd>
It is recommended that you research the feasibility of enabling unprivileged user namespaces. An exception is if you are running Kibana in Docker because the container runs in a user namespace with the built-in seccomp/bpf filters. For more information, refer to <a class="xref" href="reporting-production-considerations.html#reporting-chromium-sandbox" title="Chromium sandbox">Chromium sandbox</a>. Defaults to <code class="literal">false</code> for all operating systems except CentOS, Debian, and Red Hat Linux, which use <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.browser.chromium.proxy.enabled</code>
</span>
</dt>
<dd>
Enables the proxy for Chromium to use. When set to <code class="literal">true</code>, you must also specify the <code class="literal">xpack.screenshotting.browser.chromium.proxy.server</code> setting. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.browser.chromium.proxy.server</code>
</span>
</dt>
<dd>
The uri for the proxy server. Providing the username and password for the proxy server via the uri is not supported.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.browser.chromium.proxy.bypass</code>
</span>
</dt>
<dd>
An array of hosts that should not go through the proxy server and should use a direct connection instead. Examples of valid entries are "elastic.co", "*.elastic.co", ".elastic.co", ".elastic.co:5601".
</dd>
</dl>
</div>
<div class="position-relative"><h4><a id="reporting-kibana-server-settings"></a>Kibana server settings for headless browser connection</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
<p>To generate screenshots for PNG and PDF reports, Reporting opens the Kibana web interface using a local
connection to the server. In most cases, using a local connection to the Kibana server presents no issue. If
you prefer the headless browser to connect to Kibana using a specific hostname, there are a number of
settings that allow the headless browser to connect to Kibana through a proxy, rather than directly.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">xpack.reporting.kibanaServer</code> settings are optional. Take caution when editing these settings. Adding
these settings can cause the PDF/PNG reporting features to fail. If reports fail, inspect the server logs and
pay attention to errors regarding the headless browser being unable to connect to the server. The full Kibana
URL that Reporting is attempting to open is logged during report execution.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.reporting.kibanaServer.port</code>
</span>
</dt>
<dd>
The port for accessing Kibana.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.reporting.kibanaServer.protocol</code>
</span>
</dt>
<dd>
The protocol for accessing Kibana, typically <code class="literal">http</code> or <code class="literal">https</code>.
</dd>
<dt>
<span class="term">
<a id="xpack-kibanaServer-hostname"></a> <code class="literal">xpack.reporting.kibanaServer.hostname</code>
</span>
</dt>
<dd>
The hostname for accessing Kibana.
</dd>
</dl>
</div>
<div class="position-relative"><h4><a id="reporting-network-policy"></a>Network policy settings for headless Chromium restrictions</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
<p>To generate PDF reports, Reporting uses a headless Chromium browser to fully load the Kibana page on the server. This potentially involves sending requests to external hosts. For example, a request might go to an external image server to show a field formatted as an image, or to show an image in a Markdown visualization.</p>
<p>If the headless Chromium browser is asked to send a request that violates the network policy, it will stop processing the page before the request goes out, and the report is marked as a failure. Additional information about the event is in the Kibana server logs.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Kibana installations are not designed to be publicly accessible over the internet. The Reporting network policy and other capabilities of the Elastic Stack security features do not change this condition.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.networkPolicy</code>
</span>
</dt>
<dd>
Capturing a screenshot from a Kibana page involves sending out requests for all the linked web assets. For example, a Markdown visualization can show an image from a remote server.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.networkPolicy.enabled</code>
</span>
</dt>
<dd>
When <code class="literal">false</code>, disables the headless browser network policy. Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.screenshotting.networkPolicy.rules</code>
</span>
</dt>
<dd>
A policy is specified as an array of objects that describe what to allow or deny based on a host or protocol. If a host or protocol is not specified, the rule matches any host or protocol.
</dd>
</dl>
</div>
<p>The rule objects are evaluated sequentially from the beginning to the end of the array, and continue until there is a matching rule. If no rules allow a request, the request is denied.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml"># Only allow requests to placeholder.com
xpack.screenshotting.networkPolicy:
  rules: [ { allow: true, host: "placeholder.com" } ]</pre>
</div>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml"># Only allow requests to https://placeholder.com
xpack.screenshotting.networkPolicy:
  rules: [ { allow: true, host: "placeholder.com", protocol: "https:" } ]</pre>
</div>
<p>A final <code class="literal">allow</code> rule with no host or protocol allows all requests that are not explicitly denied:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml"># Denies requests from http://placeholder.com, but anything else is allowed.
xpack.screenshotting.networkPolicy:
  rules: [{ allow: false, host: "placeholder.com", protocol: "http:" }, { allow: true }];</pre>
</div>
<p>A network policy can be composed of multiple rules:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml"># Allow any request to http://placeholder.com but for any other host, https is required
xpack.screenshotting.networkPolicy
  rules: [
    { allow: true, host: "placeholder.com", protocol: "http:" },
    { allow: true, protocol: "https:" },
  ]</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">file:</code> protocol is always denied, even if no network policy is configured.</p>
</div>
</div>
<div class="position-relative"><h3><a id="reporting-csv-settings"></a>CSV settings</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/settings/reporting-settings.asciidoc">edit</a></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>We recommend using CSV reports to export moderate amounts of data only. The feature enables analysis of data in external tools, but it is not intended for bulk export or to backup Elasticsearch data. Report timeout and incomplete data issues are likely if you are exporting data where:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
More than 250 MB of data is being exported
</li>
<li class="listitem">
Data is stored on slow storage tiers
</li>
<li class="listitem">
Any shard needed for the search is unavailable
</li>
<li class="listitem">
Network latency between nodes is high
</li>
<li class="listitem">
Cross-cluster search is used
</li>
<li class="listitem">
ES|QL is used and result row count exceeds the limits of ES|QL queries
</li>
</ul>
</div>
<p>To work around the limitations, use filters to create multiple smaller reports, or extract the data you need directly with the Elasticsearch APIs.</p>
<p>For more information on using Elasticsearch APIs directly, see <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/scroll-api.html" class="ulink" target="_top">Scroll API</a>, <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/point-in-time-api.html" class="ulink" target="_top">Point in time API</a>, <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/esql-rest.html" class="ulink" target="_top">ES|QL</a> or <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/sql-rest-format.html#_csv" class="ulink" target="_top">SQL</a> with CSV response data format. We recommend that you use an official Elastic language client: details for each programming language library that Elastic provides are in the <a href="https://www.elastic.co/guide/en/elasticsearch/client/index.html" class="ulink" target="_top">Elasticsearch Client documentation</a>.</p>
<p><a class="xref" href="reporting-settings-kb.html" title="Reporting settings in Kibana">Reporting parameters</a> can be adjusted to overcome some of these limiting scenarios. Results are dependent on data size, availability, and latency factors and are not guaranteed.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="xpack-reporting-csv"></a> <code class="literal">xpack.reporting.csv.maxSizeBytes</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
The maximum <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/api-conventions.html#byte-units" class="ulink" target="_top">byte size</a> of a CSV file before being truncated. This setting exists to prevent large
exports from causing performance and storage issues. Can be specified as a number of bytes. Defaults to <code class="literal">250mb</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.reporting.csv.scroll.size</code>
</span>
</dt>
<dd>
Number of documents retrieved from Elasticsearch for each scroll iteration during a CSV export. Defaults to <code class="literal">500</code>.
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You may need to lower this setting if the default number of documents creates a strain on network resources.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.reporting.csv.scroll.duration</code>
</span>
</dt>
<dd>
Amount of <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/api-conventions.html#time-units" class="ulink" target="_top">time</a> allowed before Kibana cleans the scroll context during a CSV export. Valid option is either <code class="literal">auto</code> or <a href="https://www.elastic.co/guide/en/elasticsearch/reference/master/api-conventions.html#time-units" class="ulink" target="_top">time</a>, Defaults to <code class="literal">30s</code>.
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If search latency in Elasticsearch is sufficiently high, such as if you are using cross-cluster search, you may either need to increase the time setting or set this config value to <code class="literal">auto</code>. When the config value is set to <code class="literal">auto</code> the scroll context will be preserved for as long as possible, before the report task is terminated due to the limits of <code class="literal">xpack.reporting.queue.timeout</code>.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.reporting.csv.scroll.strategy</code>
</span>
</dt>
<dd>
Choose the API method used to page through data during CSV export. Valid options are <code class="literal">scroll</code> and <code class="literal">pit</code>. Defaults to <code class="literal">pit</code>.
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Each method has its own unique limitations which are important to understand.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Scroll API: Search is limited to 500 shards at the very most. In cases where data shards are unavailable or time out, the export may return partial data.
</li>
<li class="listitem">
PIT API: Permissions to read data aliases alone will not work: the permissions are needed on the underlying indices or datastreams. In cases where data shards are unavailable or time out, the export will be empty rather than returning partial data.
</li>
</ul>
</div>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.reporting.csv.checkForFormulas</code>
</span>
</dt>
<dd>
Enables a check that warns you when there&#8217;s a potential formula included in the output (=, -, +, and @ chars). See OWASP: <a href="https://www.owasp.org/index.php/CSV_Injection" class="ulink" target="_top">https://www.owasp.org/index.php/CSV_Injection</a>. Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.reporting.csv.escapeFormulaValues</code>
</span>
</dt>
<dd>
Escape formula values in cells with a <code class="literal">'</code>. See OWASP: <a href="https://www.owasp.org/index.php/CSV_Injection" class="ulink" target="_top">https://www.owasp.org/index.php/CSV_Injection</a>. Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.reporting.csv.enablePanelActionDownload</code>
</span>
</dt>
<dd>
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">8.14.0</span>]
<span class="Admonishment-detail">
Deprecated in 8.14.0. This setting will be removed in an upcoming version of Kibana.
</span>
</span> When <code class="literal">true</code>, this
setting enables a deprecated feature which allows users to download a CSV export from a saved search
panel on a dashboard. When <code class="literal">false</code>, users can generate regular CSV reports from a saved search panel on a
dashboard and later download them in <span class="strong strong"><strong>Stack Management &gt; Reporting</strong></span>. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.reporting.csv.useByteOrderMarkEncoding</code>
</span>
</dt>
<dd>
Adds a byte order mark (<code class="literal">\ufeff</code>) at the beginning of the CSV file. Defaults to <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="monitoring-settings-kb.html">« Monitoring settings in Kibana</a>
</span>
<span class="next">
<a href="search-session-settings-kb.html">Search sessions settings in Kibana »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
