<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Analyze time series data | Kibana Guide | Elastic</title>
<meta class="elastic" name="content" content="Analyze time series data | Kibana Guide">

<link rel="home" href="index.html" title="Kibana Guide"/>
<link rel="up" href="dashboard.html" title="Dashboard and visualizations"/>
<link rel="prev" href="create-a-dashboard-of-panels-with-web-server-data.html" title="Create your first dashboard"/>
<link rel="next" href="aggregation-reference.html" title="Create panels with editors"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="create-a-dashboard-of-panels-with-web-server-data.html">« Create your first dashboard</a>
</span>
<span class="next">
<a href="aggregation-reference.html">Create panels with editors »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="dashboard.html">Dashboard and visualizations</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Analyze time series data</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="create-a-dashboard-of-panels-with-ecommerce-data"></a>Analyze time series data</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
</div></div></div>
<p>In this tutorial, you&#8217;ll use the ecommerce sample data to analyze sales trends, but you can use any type of data to complete the tutorial.</p>
<p>When you&#8217;re done, you&#8217;ll have a complete overview of the sample web logs data.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_timeSeriesDataTutorialDashboard_8.3.png" alt="Final dashboard with ecommerce sample data">
</div>
</div>
<p>Before you begin, you should be familiar with the <a class="xref" href="kibana-concepts-analysts.html" title="Kibana concepts"><em>Kibana concepts</em></a>.</p>
<div class="position-relative"><h3><a id="add-the-data-and-create-the-dashboard-advanced"></a>Add the data and create the dashboard</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>Add the sample ecommerce data, and create and set up the dashboard.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the home page, click <span class="strong strong"><strong>Try sample data</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Other sample data sets</strong></span>.
</li>
<li class="listitem">
On the <span class="strong strong"><strong>Sample eCommerce orders</strong></span> card, click <span class="strong strong"><strong>Add data</strong></span>.
</li>
</ol>
</div>
<p>Create the dashboard where you&#8217;ll display the visualization panels.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open the main menu, then click <span class="strong strong"><strong>Dashboard</strong></span>.
</li>
<li class="listitem">
On the <span class="strong strong"><strong>Dashboards</strong></span> page, click <span class="strong strong"><strong>Create dashboard</strong></span>.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="open-and-set-up-lens-advanced"></a>Open and set up the visualization editor</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>Open the visualization editor, then make sure the correct fields appear.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the dashboard, click <span class="strong strong"><strong>Create visualization</strong></span>.
</li>
<li class="listitem">
Make sure the <span class="strong strong"><strong>Kibana Sample Data eCommerce</strong></span> data view appears, then set the <a class="xref" href="set-time-filter.html" title="Set the time range">time filter</a> to <span class="strong strong"><strong>Last 30 days</strong></span>.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="custom-time-interval"></a>Create visualizations with custom time intervals</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>When you create visualizations with time series data, you can use the default time interval, or increase and decrease the interval. For performance reasons, the visualization editor allows you to choose the minimum time interval, but not the exact time interval. The interval limit is controlled by the <a class="xref" href="advanced-options.html#histogram-maxbars"><code class="literal">histogram:maxBars</code></a> setting and <a class="xref" href="set-time-filter.html" title="Set the time range">time range</a>.</p>
<p>To analyze the data with a custom time interval, create a bar chart that shows you how many orders were made at your store every hour:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>Records</strong></span> to the workspace.</p>
<p>The visualization editor creates a bar chart.</p>
</li>
<li class="listitem">
<p>To zoom in on the data, click and drag your cursor across the bars.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_clickAndDragZoom_7.16.gif" alt="Cursor clicking and dragging across the bars to zoom in on the data">
</div>
</div>
</li>
<li class="listitem">
<p>In the layer pane, click <span class="strong strong"><strong>Count of Records</strong></span>.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>Advanced</strong></span>.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Normalize by unit</strong></span> dropdown, select <span class="strong strong"><strong>per hour</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.</p>
<p><span class="strong strong"><strong>Normalize by unit</strong></span> converts <code class="literal">Count of Records</code> into <code class="literal">Count of records per hour</code> by dividing by 24.</p>
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Name</strong></span> field, enter <code class="literal">Number of orders</code>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</li>
<li class="listitem">
To hide the <span class="strong strong"><strong>Horizontal axis</strong></span> label, open the <span class="strong strong"><strong>Bottom Axis</strong></span> menu, then select <span class="strong strong"><strong>None</strong></span> from the <span class="strong strong"><strong>Axis title</strong></span> dropdown.
</li>
</ol>
</div>
<p>To identify the 75th percentile of orders, add a reference line:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Add layer &gt; Reference lines</strong></span>.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Static value</strong></span>.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>Quick function</strong></span>, then click <span class="strong strong"><strong>Percentile</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Field</strong></span> dropdown, select <span class="strong strong"><strong>total_quantity</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Reference line value</strong></span> field, enter <code class="literal">75</code>.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Configure the <span class="strong strong"><strong>Appearance</strong></span> options.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the <span class="strong strong"><strong>Name</strong></span> field, enter <code class="literal">75th</code>.
</li>
<li class="listitem">
To display the name, select <span class="strong strong"><strong>Name</strong></span> from <span class="strong strong"><strong>Text decoration</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Icon</strong></span> dropdown, select <span class="strong strong"><strong>Tag</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Color</strong></span> field, enter <code class="literal">#E7664C</code>.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Close</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_barChartCustomTimeInterval_8.3.png" alt="Orders per day">
</div>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="add-a-data-layer-advanced"></a>Analyze multiple data series</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>You can create visualizations with multiple data series within the same time interval, even when the series have similar configurations with minor differences.</p>
<p>To analyze multiple series, create a line chart that displays the price distribution of products sold over time:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the dashboard, click <span class="strong strong"><strong>Create visualization</strong></span>.
</li>
<li class="listitem">
Open the <span class="strong strong"><strong>Visualization type</strong></span> dropdown, then select <span class="strong strong"><strong>Line</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>products.price</strong></span> to the workspace.
</li>
</ol>
</div>
<p>Create the 95th price distribution percentile:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Median of products.price</strong></span>.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Percentile</strong></span> function.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Name</strong></span> field, enter <code class="literal">95th</code>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
<p>To copy a function, you drag it to the <span class="strong strong"><strong>Drop a field or click to add</strong></span> field within the same group. To create the 90th percentile, duplicate the <code class="literal">95th</code> percentile:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Drag the <span class="strong strong"><strong>95th</strong></span> field to <span class="strong strong"><strong>Add or drag-and-drop a field</strong></span> for <span class="strong strong"><strong>Vertical axis</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_advanced_2_2.gif" alt="Easily duplicate the items with drag and drop">
</div>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>95th [1]</strong></span>, then enter <code class="literal">90</code> in the <span class="strong strong"><strong>Percentile</strong></span> field.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Name</strong></span> field enter <code class="literal">90th</code>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
<li class="listitem">
To create the <code class="literal">50th</code> and <code class="literal">10th</code> percentiles, repeat the duplication steps.
</li>
<li class="listitem">
<p>Open the <span class="strong strong"><strong>Left Axis</strong></span> menu, select <span class="strong strong"><strong>Custom</strong></span> from the <span class="strong strong"><strong>Axis title</strong></span> dropdown, then enter <code class="literal">Percentiles for product prices</code> in the <span class="strong strong"><strong>Axis title</strong></span> field.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_lineChartMultipleDataSeries_7.16.png" alt="Percentiles for product prices chart">
</div>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="add-a-data-layer"></a>Analyze multiple visualization types</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>With layers, you can analyze your data with multiple visualization types. When you create layered visualizations, match the data on the horizontal axis so that it uses the same scale.</p>
<p>To analyze multiple visualization types, create an area chart that displays the average order prices, then add a line chart layer that displays the number of customers.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the dashboard, click <span class="strong strong"><strong>Create visualization</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>products.price</strong></span> to the workspace.
</li>
<li class="listitem">
<p>In the layer pane, click <span class="strong strong"><strong>Median of products.price</strong></span>.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click the <span class="strong strong"><strong>Average</strong></span> function.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Name</strong></span> field, enter <code class="literal">Average price</code>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</li>
<li class="listitem">
Open the <span class="strong strong"><strong>Visualization type</strong></span> dropdown, then select <span class="strong strong"><strong>Area</strong></span>.
</li>
</ol>
</div>
<p>Add a layer to display the customer traffic:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Add layer &gt; Visualization</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>customer_id</strong></span> to the <span class="strong strong"><strong>Vertical Axis</strong></span> field in the second layer.
</li>
<li class="listitem">
<p>In the layer pane, click <span class="strong strong"><strong>Unique count of customer_id</strong></span>.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the <span class="strong strong"><strong>Name</strong></span> field, enter <code class="literal">Number of customers</code>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Series color</strong></span> field, enter <code class="literal">#D36086</code>.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Right</strong></span> for the <span class="strong strong"><strong>Axis side</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.</p>
<div class="imageblock">
<div class="content">
<img src="images/lens_advancedTutorial_numberOfCustomers_8.5.0.png" alt="Number of customers area chart in Lens">
</div>
</div>
</li>
</ol>
</div>
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>order_date</strong></span> to the <span class="strong strong"><strong>Horizontal Axis</strong></span> field in the second layer.
</li>
<li class="listitem">
<p>In the second layer, open the <span class="strong strong"><strong>Layer visualization type</strong></span> menu, then click <span class="strong strong"><strong>Line</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_layerVisualizationTypeMenu_7.16.png" alt="Layer visualization type menu">
</div>
</div>
</li>
<li class="listitem">
<p>To change the position of the legend, open the <span class="strong strong"><strong>Legend</strong></span> menu, then select the <span class="strong strong"><strong>Alignment</strong></span> arrow that points up.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_mixedXYChart_7.16.png" alt="Layer visualization type menu">
</div>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="percentage-stacked-area"></a>Compare the change in percentage over time</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>By default, the visualization editor displays time series data with stacked charts, which show how the different document sets change over time.</p>
<p>To view change over time as a percentage, create an <span class="strong strong"><strong>Area percentage</strong></span> chart that displays three order categories over time:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the dashboard, click <span class="strong strong"><strong>Create visualization</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>Records</strong></span> to the workspace.
</li>
<li class="listitem">
Open the <span class="strong strong"><strong>Visualization type</strong></span> dropdown, then select <span class="strong strong"><strong>Area percentage</strong></span>.
</li>
</ol>
</div>
<p>For each order category, create a filter:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Add or drag-and-drop a field</strong></span> for <span class="strong strong"><strong>Breakdown</strong></span>.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Filters</strong></span> function.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>All records</strong></span>, enter the following in the query bar, then press Return:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>KQL</strong></span> &mdash; <code class="literal">category.keyword : *Clothing</code>
</li>
<li class="listitem">
<span class="strong strong"><strong>Label</strong></span> &mdash; <code class="literal">Clothing</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Add a filter</strong></span>, enter the following in the query bar, then press Return:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>KQL</strong></span> &mdash; <code class="literal">category.keyword : *Shoes</code>
</li>
<li class="listitem">
<span class="strong strong"><strong>Label</strong></span> &mdash; <code class="literal">Shoes</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Add a filter</strong></span>, enter the following in the query bar, then press Return:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>KQL</strong></span> &mdash; <code class="literal">category.keyword : *Accessories</code>
</li>
<li class="listitem">
<span class="strong strong"><strong>Label</strong></span> &mdash; <code class="literal">Accessories</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Close</strong></span>.
</li>
<li class="listitem">
<p>Open the <span class="strong strong"><strong>Legend</strong></span> menu, then select the <span class="strong strong"><strong>Alignment</strong></span> arrow that points up.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_areaPercentageNumberOfOrdersByCategory_8.3.png" alt="Prices share by category">
</div>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="view-the-cumulative-number-of-products-sold-on-weekends"></a>View the cumulative number of products sold on weekends</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>To determine the number of orders made only on Saturday and Sunday, create an area chart, then add it to the dashboard.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the dashboard, click <span class="strong strong"><strong>Create visualization</strong></span>.
</li>
<li class="listitem">
Open the <span class="strong strong"><strong>Visualization type</strong></span> dropdown, then select <span class="strong strong"><strong>Area</strong></span>.
</li>
</ol>
</div>
<p>Configure the cumulative sum of store orders:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>Records</strong></span> to the workspace.
</li>
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Count of Records</strong></span>.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Cumulative sum</strong></span> function.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Name</strong></span> field, enter <code class="literal">Cumulative weekend orders</code>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
<p>Filter the results to display the data for only Saturday and Sunday:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Add or drag-and-drop a field</strong></span> for <span class="strong strong"><strong>Breakdown</strong></span>.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Filters</strong></span> function.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>All records</strong></span>, enter the following in the query bar, then press Return:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>KQL</strong></span> &mdash; <code class="literal">day_of_week : "Saturday" or day_of_week : "Sunday"</code>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Label</strong></span> &mdash; <code class="literal">Saturday and Sunday</code></p>
<p>The <a class="xref" href="kuery-query.html" title="Kibana Query Language">KQL filter</a> displays all documents where <code class="literal">day_of_week</code> matches <code class="literal">Saturday</code> or <code class="literal">Sunday</code>.</p>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Open the <span class="strong strong"><strong>Legend</strong></span> menu, then click <span class="strong strong"><strong>Hide</strong></span> next to <span class="strong strong"><strong>Display</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_areaChartCumulativeNumberOfSalesOnWeekend_7.16.png" alt="Area chart with cumulative sum of orders made on the weekend">
</div>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="compare-time-ranges"></a>Compare time ranges</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>With <span class="strong strong"><strong>Time shift</strong></span>, you can compare the data from different time ranges. To make sure the data correctly displays, choose a multiple of the date histogram interval when you use multiple time shifts. For example, you are unable to use a <span class="strong strong"><strong>36h</strong></span> time shift for one series, and a <span class="strong strong"><strong>1d</strong></span> time shift for the second series if the interval is <span class="strong strong"><strong>days</strong></span>.</p>
<p>To compare two time ranges, create a line chart that compares the sales in the current week with sales from the previous week:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the dashboard, click <span class="strong strong"><strong>Create visualization</strong></span>.
</li>
<li class="listitem">
Open the <span class="strong strong"><strong>Visualization type</strong></span> dropdown, then select <span class="strong strong"><strong>Line</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>Records</strong></span> to the workspace.
</li>
<li class="listitem">
To duplicate <span class="strong strong"><strong>Count of Records</strong></span>, drag <span class="strong strong"><strong>Count of Records</strong></span> to <span class="strong strong"><strong>Add or drag-and-drop a field</strong></span> for <span class="strong strong"><strong>Vertical axis</strong></span> in the layer pane.
</li>
</ol>
</div>
<p>To create a week-over-week comparison, shift <span class="strong strong"><strong>Count of Records [1]</strong></span> by one week:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Count of Records [1]</strong></span>.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Advanced</strong></span>, select <span class="strong strong"><strong>1 week ago</strong></span> from the <span class="strong strong"><strong>Time shift</strong></span> dropdown, then click <span class="strong strong"><strong>Close</strong></span>.</p>
<p>To use custom time shifts, enter the time value and increment, then press Enter. For example, enter <span class="strong strong"><strong>1w</strong></span> to use the <span class="strong strong"><strong>1 week ago</strong></span> time shift.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_time_shift.png" alt="Line chart with week-over-week sales comparison">
</div>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
</ol>
</div>
<p>Time shifts can be used on any metric. The special shift <span class="strong strong"><strong>previous</strong></span> will show the time window preceding the currently selected one in the time picker in the top right, spanning the same duration.
For example, if <span class="strong strong"><strong>Last 7 days</strong></span> is selected in the time picker, <span class="strong strong"><strong>previous</strong></span> will show data from 14 days ago to 7 days ago. This mode can&#8217;t be used together with date histograms.</p>
<div class="position-relative"><h4><a id="compare-time-as-percent"></a>Analyze the percent change between time ranges</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>With <span class="strong strong"><strong>Formula</strong></span>, you can analyze the percent change in your data from different time ranges.</p>
<p>To compare time range changes as a percent, create a bar chart that compares the sales in the current week with sales from the previous week:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the dashboard, click <span class="strong strong"><strong>Create visualization</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>Records</strong></span> to the workspace.
</li>
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Count of Records</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Formula</strong></span>, then enter <code class="literal">count() / count(shift='1w') - 1</code>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Name</strong></span> field, enter <code class="literal">Percent of change</code>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Value format</strong></span> dropdown, select <span class="strong strong"><strong>Percent</strong></span>, then enter <code class="literal">0</code> in the <span class="strong strong"><strong>Decimals</strong></span> field.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Close</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_percent_chage.png" alt="Bar chart with percent change in sales between the current time and the previous week">
</div>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="view-customers-over-time-by-continents"></a>Analyze the data in a table</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>With tables, you can view and compare the field values, which is useful for displaying the locations of customer orders.</p>
<p>Create a date histogram table and group the customer count metric by category, such as the continent registered in user accounts:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the dashboard, click <span class="strong strong"><strong>Create visualization</strong></span>.
</li>
<li class="listitem">
Open the <span class="strong strong"><strong>Visualization type</strong></span> dropdown, then select <span class="strong strong"><strong>Table</strong></span>.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>customer_id</strong></span> to the <span class="strong strong"><strong>Metrics</strong></span> field in the layer pane.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Unique count of customer_id</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Name</strong></span> field, enter <code class="literal">Customers</code>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>order_date</strong></span> to the <span class="strong strong"><strong>Rows</strong></span> field in the layer pane.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click the <span class="strong strong"><strong>order_date</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Minimum interval</strong></span> field, enter <span class="strong strong"><strong>1d</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Name</strong></span> field, enter <code class="literal">Sales</code>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</li>
</ol>
</div>
<p>To split the metric, add columns for each continent using the <span class="strong strong"><strong>Columns</strong></span> field:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag <span class="strong strong"><strong>geoip.continent_name</strong></span> to the <span class="strong strong"><strong>Split metrics by</strong></span> field in the layer pane.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_table_over_time.png" alt="Date histogram table with groups for the customer count metric">
</div>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="_save_the_dashboard_2"></a>Save the dashboard</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/master/docs/user/dashboard/lens-advanced.asciidoc">edit</a></div>
<p>Now that you have a complete overview of your ecommerce sales data, save the dashboard.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the toolbar, click <span class="strong strong"><strong>Save</strong></span>.
</li>
<li class="listitem">
On the <span class="strong strong"><strong>Save dashboard</strong></span> window, enter <code class="literal">Ecommerce sales</code>, then click <span class="strong strong"><strong>Save</strong></span>.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Store time with dashboard</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save</strong></span>.
</li>
</ol>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_timeSeriesDataTutorialDashboard_8.3.png" alt="Final dashboard with ecommerce sample data">
</div>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="create-a-dashboard-of-panels-with-web-server-data.html">« Create your first dashboard</a>
</span>
<span class="next">
<a href="aggregation-reference.html">Create panels with editors »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
