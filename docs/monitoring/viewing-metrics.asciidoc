[role="xpack"]
[[monitoring-data]]
== Viewing monitoring data in {kib}
++++
<titleabbrev>Viewing monitoring data</titleabbrev>
++++

After you enable monitoring in {es}, {ls}, {kib}, or Beats, you can use {kib} to 
view its health and performance. 

TIP: If you have a dedicated _monitoring cluster_, the information is accessible
even if the cluster you're monitoring is not. If you have at least a gold 
license, you can send data from multiple clusters to the same monitoring cluster 
and view them all through the same instance of {kib}. 

To learn more about typical monitoring architectures, 
see {stack-ov}/how-monitoring-works.html[How monitoring works].

To visualize monitoring data in {kib}:

. Verify that `xpack.monitoring.ui.enabled` is set to `true`, which is the
default value. For more information, see <<monitoring-settings-kb>>.

. Identify where to retrieve monitoring data from. If you want to use a
separate monitoring cluster, set `xpack.monitoring.elasticsearch.url` in the
`kibana.yml` file. Otherwise, the monitoring data is stored in the production
cluster.

. If {security} is enabled on the monitoring cluster: 

.. Use an HTTPS URL such as `https://<your_monitoring_cluster>:9200` in the 
`xpack.monitoring.elasticsearch.url` setting.

.. Identify a user ID and password that {kib} can use to retrieve monitoring 
data. Specify these values in the `xpack.monitoring.elasticsearch.username` and 
`xpack.monitoring.elasticsearch.password` settings in the `kibana.yml` file.
If these settings are omitted, {kib} uses the `elasticsearch.username` and
`elasticsearch.password` setting values.

.. Configure {kib} to encrypt communications between the {kib} server and the 
monitoring cluster. Specify the `xpack.monitoring.elasticsearch.ssl.*` settings 
in the `kibana.yml` file on the {kib} server.
+
--
For example, if you are using your own certificate authority to sign
certificates, specify the location of the PEM file in the `kibana.yml` file:

[source,yaml]
--------------------------------------------------------------------------------
xpack.monitoring.elasticsearch.ssl.certificateAuthorities: /path/to/your/cacert.pem
--------------------------------------------------------------------------------

--

. If {security} is enabled on the {kib} server, identify or create users that 
have access to the {kib} indices and permission to read from the monitoring 
indices.
+
--
You can assign users the `monitoring_user` and `kibana_user` 
{stack-ov}/built-in-roles.html[built-in roles]. These roles have the necessary 
privileges to use the monitoring dashboards. 

NOTE: These users must exist on the cluster where the monitoring data is stored, 
that is to say the monitoring cluster. If you are accessing a remote monitoring 
cluster, you must use credentials that are valid on both the {kib} server and the 
monitoring cluster.

--

. Open {kib} in your web browser and log in. 
+
--
If you are running {kib} locally, go to `http://localhost:5601/`. 
--

. In the side navigation, click *Monitoring*. The first time you open {kib}
monitoring, data collection is
disabled. You will be prompted to turn on data collection.
+
If you have permission to turn on data collection and there is data in the cluster,
{kib} displays the monitoring dashboards.  You'll see cluster alerts
that require your attention and a summary of the available monitoring metrics
for {es}, Logstash, {kib}, and Beats. To view additional information, click the
Overview, Nodes, Indices, or Instances links.
+
[role="screenshot"]
image::images/monitoring-dashboard.png[Monitoring dashboard]
+
If {kib} can't activate monitoring, here are some things to do:
+
* If you don't have permission to activate monitoring,
contact your system administrator.
+
* If {kib} can't find monitoring data, set the time filter to
“Last 1 hour”.  When monitoring data appears in your cluster, the page
automatically refreshes with the monitoring summary.
+
* Check your `xpack.monitoring.elasticsearch.url` setting.
See <<monitoring-settings-kb, Monitoring Settings in Kibana>>.



include::cluster-alerts-license.asciidoc[]
include::beats-details.asciidoc[]
include::cluster-alerts.asciidoc[]
include::elasticsearch-details.asciidoc[]
include::kibana-details.asciidoc[]
include::logstash-details.asciidoc[]
