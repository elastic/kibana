[[data-table]]
== Data table
Display your raw data values in a table format. 

[float]
[[data-table-choose-metric-aggregation]]
=== Select the metric aggregation

To choose the data that you want to display in the table, specify the metric aggregation. 

. In the *Metrics* area, expand the *Metric* options.

. From the *Aggregation* dropdown, select the aggregation.

. From the *Field* dropdown, select the data type.

. In the *Custom label* field, enter a name for the data.

. Click *Apply changes* image:images/apply-changes-button.png[].

[float]
[[data-table-bucket-aggregation]]
=== Select a bucket aggregation

Short description.

. In the *Buckets* area, click *Add*.

. Select *Split series* or *Split chart*.

. Select the bucket aggregation.

. Click *Apply changes* image:images/apply-changes-button.png[].

[float]
[[data-table-choose-sub-aggregation]]
=== Select sub aggregations

To further break down the data, specify sub aggregations.

. In the *Buckets* area, click *Add*, then select *Split series* or *Split chart*.

. Specify the sub aggregation settings.

. To change the order, drag and drop the aggregations.

NOTE: Multiple chart splits must run before any other aggregation.

. Click *Apply changes* image:images/apply-changes-button.png[].

[float]
[[data-table-choose-customize-aggregation]]
=== Customize your metrics or bucket aggregation

To customize your metrics or bucket aggregation, add specific JSON-formatted properties to merge with the aggregation definitions. The availability of the options depends on the aggregation you choose.

. Click *Advanced*.

. In the *JSON Input* field, add the JSON-formatted properties. For example:

[source,shell]
{ "script" : "doc['grade'].value * 1.2" }

NOTE: In Elasticsearch 1.4.3 and later, you must enable {ref}/modules-scripting.html[dynamic Groovy scripting] to add JSON-formatted properties.

. Click *Apply changes* image:images/apply-changes-button.png[].

[float]
[[customize-format-data-table]]
=== Format the table

To make the table look the way you want, change the format options.

. Select *Options*.

. Specify or change the options.

. Click *Apply changes* image:images/apply-changes-button.png[].

[float]
[[data-table-example]]
== Example: Create a data table

Create a data table that shows the average flight distance, in kilometers, every 30 seconds.

[float]
[[data-table-before-you-begin]]
=== Before you begin

. For this example, you'll need to add the {kibana-ref}/add-sample-data.html[Sample flight data].

. Make sure that you change the time filter to *Today*.

[float]
[[data-table-create-visualization]]
=== Create the visualization

To create the area chart visualization, use the visualization builder.

. In the side navigation, click *Visualize*.

. Click *Create new visualization*.

. On the *New Visualization* window, click *Data Table*.

. On the *New Area/Choose a source* window, select *kibana_sample_data_flights*.

[float]
[[data-table-metric-aggregation]]
=== Choose the metric aggregation

. Expand the *Metric* options.

. From the *Aggregation* dropdown, select *Average*.

. From the *Field* dropdown, select *DistanceKilometers*.

. In the *Custom Label* field, enter a name for the data. For example, `Average distance (in kilometers)`.

. Click *Apply changes* image:images/apply-changes-button.png[].

image:images/visualize-data-table01.png[Example data table]

[float]
[[example-data-table-bucket-aggregation]]
=== Choose the bucket aggregation

. In the *Buckets* area, click *Add*, then select *Split rows*.

. From the *Aggregation* dropdown, select *Date Histogram*.

. From the *Field* dropdown, select *timestamp*.

. In the *Custom Label* field, enter a name for the data. For example, `Time`.

. Click *Apply changes* image:images/apply-changes-button.png[].

image:images/visualize-data-table02.png[Example data table]

[float]
[[data-table-format]]
=== Customize the data table

. Select *Options*.

. To show fewer or more rows, click the arrows in the *Per Page* field. For this example, click the down arrow until `5` appears.

. To show the average of the `Average distance (in kilometers)` column, select *Show total*, then make sure that *sum* is selected from the *Total function* dropdown.

. To show the percentage of each value in the `Average distance (in kilometers)` column, select *Average distance (in kilometers)* from the *Percentage column*.

. Click *Apply changes* image:images/apply-changes-button.png[].

image:images/visualize-data-table03.png[Example data table]