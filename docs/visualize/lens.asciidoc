[[lens]]
== Lens

beta[]

To easily make sense of your Elasticsearch data, *Lens* provides you with a simple and fast way to create basic visualizations.

With Lens, you can:

* Get a quick summary of each data field to help you decide exactly what you want to display.

* Quickly build visualizations by simply dragging and dropping data fields.

* Easily change the visualization type by selecting the automatically generated visualization suggestions.

[float]
[[choose-lens-visualization]]
=== Types of Lens visualizations

Lens comes with several types of basic visualizations.

[cols="^,<v,^,<v"]
|===
|*Bar*
|image:images/lens_bar_chart.png[Lens bar chart]
Display numerical comparisons across multiple categories. In bar charts,
data is displayed using a number of bars that represent a particular category.

|*Stacked Bar*
|image:images/lens_stacked_bar_chart.png[Lens stacked bar chart]
Display numerical comparisons across multiple categories, with the
added ability to compare the different parts of a particular category. In
stacked bar charts, each bar represents a particular category, and the segments
of the bar represent the subcategories of that bar.

|*Line*
|image:images/lens_line_chart.png[Lens line chart]
Display data trends over time. In line charts, data is displayed as a
series of data points that are connected by line segments.

|*Area*
|image:images/lens_area.png[Lens area chart]
Display one or more quantities over time. In area charts, points are
plotted and connected by lines to show the value of a quantity at several
different times.

|*Stacked Area*
|image:images/lens_stacked_area.png[Lens stacked area chart]
Display the evolution of numeric variables for several
categories stacked on top of each other.

|*Data Table*
|image:images/lens_data_table.png[Lens data table]
Display your raw data or aggregation results in a tabular format.

|*Metric*
|image:images/lens_metric.png[Lens metric]
Display the latest number in a data series.

|
|

|===

[float]
[[lens-aggregation-types]]
=== Aggregations


[float]
[[create-lens-visualization]]
=== Build visualizations

When you build Lens visualizations, you add data fields from the left column. The data fields that appear are dependent on the time filter.

There are two ways you can add data:

* Drag and drop the data fields onto the visualization builder pane.

* Drag and drop the data fields onto the *X-axis* and *Y-axis* fields in the right column.

As you drag and drop different data fields, Lens automatically builds the visualization that best displays your data.

TIP: Drag and drop capabilities are available only when Lens is able to build a visualization for that data.

If at any time you'd like to update the data that appears, click *Refresh*.

[float]
[[change-the-visualization-type]]
==== Change the visualization type

With Lens, you are no longer required to build each visualization from scratch. With smart suggestions, Lens automatically creates alternative visualizations that already include your selected data fields.

To view your data in another type of visualization, click the *Suggestions*.

[float]
[[view-data-summaries]]
==== View data information

To help you decide exactly the data you want to display, get a quick summary of each data field.

To view the data information, navigate to a data field, then click *i*.

[float]
[[apply-lens-filters]]
==== Filter the data

To narrow the data fields you see in the left column, you can apply filters.

There are two ways you can filter the data fields:

* In *Search for fields*, enter the field name.

* Click *Filter by type*, then click the filter you want to apply.

[float]
[[lens-tutorial]]
=== Lens tutorial

Ready to create a visualization with Lens? Use the following tutorial to create a visualization that displays the average ticket price from the {kib} sample flight data.

[float]
[[lens-before-you-begin]]
==== Before you begin

For this tutorial, you'll need to add the <<add-sample-data, Sample flight data>>.

[float]
[[build-the-lens-visualization]]
==== Build the visualization

Create the visualization, then add your data.

. Open *Visualize*, then click *Create visualization*.

. On the *New Visualization* window, click *Lens*.

. In the left column, make sure that the *kibana_sample_data_flights* data appears.

. Drag and drop the *AvgTicketPrice* data field to the visualization builder pane.
+
[role="screenshot"]
image::images/lens_tutorial_1.png[Lens tutorial]

[float]
[[customize-lens-visualization]]
==== Customize the visualization

Customize your visualization to look the way you want.

. In the right column, click *timestamp*.

.. Select *Customize time interval*.

.. In the *Minimum interval* field, enter `1`, then select *days* from the dropdown.

.. In the *Label* field, enter a name for the x-axis. For example, `Average`.

. Click *Average of AvgTicketPrice*, then enter a name for the y-axis in the *Label* field. For example, `Average Ticket Price`.

. Click image:images/time-filter-calendar.png[], then click *Last 7 days*.
+
[role="screenshot"]
image::images/lens_tutorial_2.png[Lens tutorial]

[float]
[[change-lens-visualization-type]]
==== Change the visualization type

To find the visualization that best displays the flight data, click on each of the *Suggestions*.

[role="screenshot"]
image::images/lens_tutorial_3.gif[Lens tutorial]
