[[release-notes]]
= Release Notes

[partintro]
--
// Use these for links to issue and pulls. Note issues and pulls redirect one to
// each other on Github, so don't worry too much on using the right prefix.
:issue: https://github.com/elastic/kibana/issues/
:pull: https://github.com/elastic/kibana/pull/

This section summarizes the changes in each release.

* <<release-notes-7.10.2>>
* <<release-notes-7.10.1>>
* <<release-notes-7.10.0>>
* <<release-notes-7.9.3>>
* <<release-notes-7.9.2>>
* <<release-notes-7.9.1>>
* <<release-notes-7.9.0>>
* <<release-notes-7.8.1>>
* <<release-notes-7.8.0>>
* <<release-notes-7.7.1>>
* <<release-notes-7.7.0>>
* <<release-notes-7.6.2>>
* <<release-notes-7.6.1>>
* <<release-notes-7.6.0>>
* <<release-notes-7.5.2>>
* <<release-notes-7.5.1>>
* <<release-notes-7.5.0>>
* <<release-notes-7.4.2>>
* <<release-notes-7.4.1>>
* <<release-notes-7.4.0>>
* <<release-notes-7.3.2>>
* <<release-notes-7.3.1>>
* <<release-notes-7.3.0>>
* <<release-notes-7.2.1>>
* <<release-notes-7.2.0>>
* <<release-notes-7.1.1>>
* <<release-notes-7.1.0>>
* <<release-notes-7.0.1>>
* <<release-notes-7.0.0>>
* <<release-notes-7.0.0-rc2>>
* <<release-notes-7.0.0-rc1>>
* <<release-notes-7.0.0-beta1>>
* <<release-notes-7.0.0-alpha2>>
* <<release-notes-7.0.0-alpha1>>

--
[[release-notes-7.10.2]]
== {kib} 7.10.2

For detailed information about the 7.10.2 release, review the following bug fixes. For the breaking changes, refer to the <<breaking-changes-7.10,breaking changes in 7.10>>.

[float]
[[security-update-v7.10.2]]
=== Security update
*Vega* visualizations are susceptible to stored and reflected XSS via a vulnerable version of the Vega library. When you create *Vega* visualizations or create a vulnerable URL that describes the visualization, an arbitrary JavaScript can execute in your browser.

[float]
[[affected-versions-v7.10.2]]
==== Affected versions
Affected versions include 7.10.1 and earlier.

[float]
[[solution-v7.10.2]]
==== Solution
Verify if you use *Vega* visualizations, then complete the following:

* If you use *Vega* visualizations, upgrade to 7.10.2.
* If you do not use *Vega* visualizations, open your kibana.yml file, then change `vega.enabled: true` to `vega.enabled: false`. 

[float]
[[bug-v7.10.2]]
=== Bug fixes
Alerting::
* Don't reset server log level if level is defined {kibana-pull}83651[#83651]
Dashboard::
* Fixes Duplicated Create New Modal {kibana-pull}86489[#86489]
Logs::
* Fixes value completion in the logs stream query bar {kibana-pull}85772[#85772]
Machine Learning::
* Fixes watcher URL to the Anomaly Explorer page {kibana-pull}85123[#85123]
* Fixes Anomaly Explorer data refresh with relative time bounds  {kibana-pull}86142[#86142]
* Fixes zoom missing in Anomaly detection URLs {kibana-pull}86182[#86182] and {kibana-pull}86400[#86400]
* Fixes charts grid on the Anomaly Explorer page {kibana-pull}86904[#86904]
Management::
* When number of replicas is set to zero, it is now correctly displayed in Index Lifecycle Management policies {kibana-pull}85251[#85251]
* The list of data streams in Index Management now sorts numerically by the raw bytes value, which renders them in the correct order {kibana-pull}86204[#86204]
* Fixes a bug where the enterprise level subscription displayed as platinum {kibana-pull}85849[#85849]
* From table actions in the Cross-Cluster Replication app, you can now pause/resume index replication, unfollow leader index, or delete an auto-follow pattern {kibana-pull}84433[#84433]
* Accessibility fix in Rollup Jobs app: when selecting a row in the jobs table, a screen reader pronounces the job's name {kibana-pull}84567[#84567]
Monitoring::
* Makes alert status fetching more resilient {kibana-pull}84676[#84676]
* Adds unmapped_type to additional queries {kibana-pull}85837[#85837]
Security::
* Fixes 500 error when using PKI authentication with an incomplete certificate chain {kibana-pull}86700[#86700]

[[release-notes-7.10.1]]
== {kib} 7.10.1

For detailed information about the 7.10.1 release, review the following enhancements and bug fixes.

For the breaking changes, refer to the <<breaking-changes-7.10,breaking changes in 7.10>>.

[float]
[[enhancement-v7.10.1]]
=== Enhancements
Machine Learning::
* Adds unsigned_long support to data frame analytics and anomaly detection {kibana-pull}82636[#82636]
Platform::
* Fixes a bug causing searching for saved objects using special characters such as * or - to not return any results {kibana-pull}82693[#82693]

[float]
[[bug-v7.10.1]]
=== Bug fixes
APM::
* Fixes missing `service.node.name` {kibana-pull}84269[#84269]
* Page load chart breakdown tooltip formatting {kibana-pull}83627[#83627]
Canvas::
* Fixes elements not being updated properly when filter is changed on workpad {kibana-pull}81863[#81863]
Dashboard::
* Fixes an issue when exporting a Saved Search visualization, inside of a dashboard,ÃŸ to CSV was returning blank rows {kibana-pull}81524[#81524]
Discover::
* Fixes double fetching of saved search embeddable  {kibana-pull}84060[#84060]
Ingest Management::
* Fixes error with creating agent policy during add integration {kibana-pull}83993[#83993]
* Disallows dashes in namespace strings {kibana-pull}83996[#83996]
* Adds config options to accepted docker env vars {kibana-pull}84338[#84338]
Lens and visualizations::
* Reloads on change via history object {kibana-pull}81753[#81753]
* Fixes underlying data drilldown for Lens {kibana-pull}82737[#82737]
* Fixes bug in terms formatting {kibana-pull}82776[#82776]
* Do not reset filter state on incoming app navigation {kibana-pull}83786[#83786]
* Vis listing page breaks on unknown vis type {kibana-pull}82018[#82018]
* Fixes area rendering with negative values {kibana-pull}83313[#83313]
* Vertical cursor is not displayed across visualizations of a dashboard {kibana-pull}83435[#83435]
* Y-axis has number formatting not considering all series formatters in the group {kibana-pull}83438[#83438]
* Fixes tagcloud explicitly pass params {kibana-pull}84107[#84107]
* Fixes timelion not working with single quotes {kibana-pull}84196[#84196]
Machine Learning::
* Fixes setting of anomaly chart time range depending on bucket spans {kibana-pull}81291[#81291]
* Fixes formatting of fields in index data visualizer {kibana-pull}82593[#82593]
* Fixes anomaly detection validation when using advanced properties in the analysis config {kibana-pull}82703[#82703]
* Fixes Anomaly Explorer population charts when multiple causes in anomaly {kibana-pull}84254[#84254]
* Fixes swim lane for top influencers {kibana-pull}84258[#84258]
* Fixes unnecessary trigger of wildcard field type search for {ml} plugin routes {kibana-pull}84605[#84605]
Management::
* Fixes a bug causing Kibana to crash when importing a file with an invalid format from the saved object management section {kibana-pull}82406[#82406]
Maps::
* Fixes threshold alert issue resolving nested fields {kibana-pull}83577[#83577]
Metrics::
* Adds timerange and sorting to node detail metadata request {kibana-pull}81033[#81033]
* Converts legend key to optional {kibana-pull}83495[#83495]
* Optimizations for Snapshot and Inventory Metadata {kibana-pull}83596[#83596]
Monitoring::
* Adds catch clause to handle exceptions on loading page {kibana-pull}82179[#82179]
* Fixes the plugins passed into legacy routes {kibana-pull}82192[#82192]
* Fixes small issue with detecting missing monitoring data from APM {kibana-pull}83646[#83646]
* Only looks at ES for the missing data alert for now {kibana-pull}83839[#83839]
* Fixes rison error {kibana-pull}83987[#83987]
* Fixes issues with show_license_expiration {kibana-pull}84361[#84361]
Security::
* Adjusts encoding for security management pages {kibana-pull}83629[#83629]
* Fixes "Severity override" dropdowns in "Create new rule" -> "About rule" {kibana-pull}82271[#82271]
Sharing::
* Embeddable Error Handling Without ReplacePanel {kibana-pull}82201[#82201]
Uptime::
* Page load chart breakdown tooltip formatting {kibana-pull}83627[#83627]


[[release-notes-7.10.0]]
== {kib} 7.10.0

For detailed information about the 7.10.0 release, review the following sections.

<<known-issue-v7.10.0,Known issue>> | <<deprecation-v7.10.0,Deprecations>> | <<breaking-v7.10.0,Breaking changes>> | <<enhancement-v7.10.0,Enhancements>> | <<bug-v7.10.0,Bug fixes>>

[float]
[[known-issue-v7.10.0]]
=== Known issue

Dashboard:: 
If you are using {kib} 7.9.x and earlier, and you upgrade to 7.10.0 to 7.17.2, all hidden panel titles now appear on your dashboards.
+
To resolve the known issue, upgrade to {kib} 7.17.3 or later.       

[float]
[[deprecation-v7.10.0]]
=== Deprecations
Monitoring::
* "Internal Monitoring" deprecation warning {kibana-pull}72020[#72020]
Platform::
* The /api/status endpoint response format is now deprecated and will change in 8.0 {kibana-pull}76054[#76054]
* These two config keys have been renamed and the old names will no longer work as of 8.0: cpu.cgroup.path.override => ops.cGroupOverrides.cpuPath and cpuacct.cgroup.path.override => ops.cGroupOverrides.cpuAcctPath {kibana-pull}76730[#76730]
Security::
* Deprecates the `xpack.security.authc.providers.saml.<provider-name>.maxRedirectURLSize` setting for SAML authentication {kibana-pull}68117[#68117]
Visualizations::
* In 7.0 and later, *Timelion* app is deprecated. In 7.16 and later, *Timelion* app is removed from {kib} {kibana-pull}74660[#74660]
+
To prepare for the removal of *Timelion* app, you must migrate *Timelion* app worksheets to a dashboard.
+
NOTE: Only *Timelion* app is deprecated. {kib} continues to support *Timelion*
visualizations in *Dashboard*, *Visualize*, and *Canvas*.
+
To migrate a *Timelion* worksheet to a dashboard:

. Open the main menu, click *Dashboard*, then click *Create dashboard*.

. For each *Timelion* app worksheet, complete the following steps.

.. On the dashboard, click *Create New*, then click *Timelion* on the *New Visualization* window.

.. Open a new tab, open the *Timelion* app, select the chart you want to copy, then copy the chart expression.
+
[role="screenshot"]
image::images/timelion-copy-expression.png[Timelion app chart]

.. Go to *Timelion*, paste the chart expression in the *Timelion expression* field, then click *Update*.
+
[role="screenshot"]
image::images/timelion-vis-paste-expression.png[Timelion advanced editor UI]

.. In the toolbar, click *Save*.

.. On the *Save visualization* window, enter the visualization *Title*, then click *Save and return*.
+
The Timelion visualization panel appears on the dashboard.
+
[role="screenshot"]
image::images/timelion-dashboard.png[Final dashboard with saved Timelion app worksheet]

[float]
[[breaking-v7.10.0]]
=== Breaking changes
Lens and visualizations::
* Deprecates schema-less specs in Vega {kibana-pull}73805[#73805]
Operations::
* The bin/kibana-plugin CLI has been updated to work with the new Kibana Platform plugin format instead of the legacy plugin format {kibana-pull}74604[#74604]
Platform::
* The legacy plugin system and the legacy plugin API have been removed. It is no longer possible to use third parties legacy Kibana plugins. Legacy plugin owners should migrate their plugins to the Kibana Platform plugin API {kibana-pull}77599[#77599]

For more information, refer to <<breaking-changes-7.10,breaking changes in 7.10>>.

[float]
[[enhancement-v7.10.0]]
=== Enhancements
Alerting::
* Batches the update operations in Task Manager  {kibana-pull}71470[#71470]
* Actions add proxy support {kibana-pull}74289[#74289]
* Exempt Alerts pre 7.10 from RBAC on their Action execution until updated {kibana-pull}75563[#75563]
* Improves performance of the authorization filter in AlertsClient.find by skipping KQL parsing {kibana-pull}77040[#77040]
* Adds a Test Connector tab in the Connectors list {kibana-pull}77365[#77365]
* Adds a "Test Connector" button on the Connectors List to make discovery of the Test tab easier {kibana-pull}78746[#78746]
* The high-level search API SearchSource is now available on the server {kibana-pull}78383[#78383]
* Adds Role Based Access-Control to the Alerting & Action plugins based on Kibana Feature Controls {kibana-pull}67157[#67157]
APM::
* Metrics-powered UI {kibana-pull}73953[#73953]
* Uses platform history {kibana-pull}74328[#74328]
* Immediately returns terms for unbound queries {kibana-pull}74543[#74543]
* Implements nest level expand/collapse toggle for each span row {kibana-pull}75259[#75259]
* Removes additional "No data" message and re-ordering charts {kibana-pull}75399[#75399]
* Uses the outcome field to calculate the transaction error rate chart {kibana-pull}75528[#75528]
* Improves breakdown data gaps  {kibana-pull}75534[#75534]
* UI filters: Change transaction type selector from dropdown to radio buttons {kibana-pull}75625[#75625]
* Language-specific stacktrace formatting {kibana-pull}75924[#75924]
* Service maps layout enhancements {kibana-pull}76481[#76481]
* Service inventory redesign {kibana-pull}76744[#76744]
* Shows accurate metrics for containerized applications {kibana-pull}76768[#76768]
* Anomaly detection Settings page: Link directly to ML jobs management to filter for the select environment {kibana-pull}77875[#77875]
* Removes `max` validation for transaction_max_spans {kibana-pull}77987[#77987]
* Service maps grouped external resource nodes {kibana-pull}78136[#78136]
* Alerting: Add global option to create all alert types {kibana-pull}78151[#78151]
* Empty prompt and loading spinner for service map {kibana-pull}78382[#78382]
* Adds default message to alerts. {kibana-pull}78930[#78930]
* Persists time range between APM and other apps {kibana-pull}79090[#79090]
* Sets service map cursors {kibana-pull}80920[#80920]
* Persists time range across apps {kibana-pull}79258[#79258]
Dashboard::
* Lens By Value With AttributeService {kibana-pull}77561[#77561]
Discover::
* Uiactions to navigate to visualize or maps {kibana-pull}74121[#74121]
* Supports unsigned_long fields {kibana-pull}81115[#81115]
Ingest Manager::
* Agent bulk actions UI {kibana-pull}77690[#77690]
* Supports multiple kibana urls {kibana-pull}75712[#75712]
* Adds upgrade action {kibana-pull}77412[#77412]
* User experience metrics {kibana-pull}77384[#77384]
* Uses optional `registryProxyUrl` setting when contacting Registry {kibana-pull}78648[#78648]
* Upgrades Agents in Fleet {kibana-pull}78810[#78810]
* Configures Elasticsearch output with YAML in global output settings {kibana-pull}79019[#79019]
Kibana UI::
* Elastic home page redesign {kibana-pull}70571[#70571]
* Stacked headers and navigational search {kibana-pull}72331[#72331]
* Kibana Overview Page {kibana-pull}75827[#75827]
* Adds meta data and highlighting to nav search {kibana-pull}77662[#77662]
* Creates new "Add Data" tutorials for several newly added Filebeat modules {kibana-pull}77237[#77237]
Lens and visualizations::
* Lens is GA {kibana-pull}75574[#75574]
* Lens legend improvements {kibana-pull}70619[#70619]
* Lens added stack as percentage {kibana-pull}70703[#70703]
* Lens adds styling options for x and y axes {kibana-pull}71829[#71829]
* Lens adds filters aggregation  {kibana-pull}75635[#75635]
* Lens supports drag to replace {kibana-pull}75895[#75895]
* Lens adds histogram/range aggregation for numbers {kibana-pull}76121[#76121]
* Lens settings panel redesign and separate settings per y axis {kibana-pull}76373[#76373]
* Lens field stats for IP fields and scripted fields {kibana-pull}76457[#76457]
* Adds Lens to Recently Accessed {kibana-pull}77249[#77249]
* Navigate from discover to lens {kibana-pull}77873[#77873]
* Lens shows runtime fields in field list and improve performance {kibana-pull}79167[#79167]
* Drilldowns for TSVB / Vega / Timelion {kibana-pull}74848[#74848]
* TSVB filter ratio now supports KQL {kibana-pull}75033[#75033]
* Vega is now GA {kibana-pull}75157[#75157]
* Uses prefix search in visualize editor's field and aggregation select {kibana-pull}75290[#75290]
* TSVB Markdown now handles the case when a field has key_as_string value. Common case is the value is a date string (e.x. 2020-08-21T20:36:58.000Z) or a boolean stringified value ("true"/"false").
Such a value will be first converted into a moment object and formatted with dateFormat from  Kibana UI settings. If the key_as_string value is not recognized by a known format in Moments.js,
a formatted value from elasticsearch will be returned {kibana-pull}75555[#75555]
* Agg-based histograms now have `auto` interval option {kibana-pull}76001[#76001]
* The search.aggs service in the data plugin is now available on the server. Usage is the same as on the client, except that a scoped saved objects
client must be provided on the server in order to retrieve the start contract {kibana-pull}74472[#74472]
Logs::
* Log alerts chart previews {kibana-pull}75296[#75296]
* Adds dataset-specific categorization warnings {kibana-pull}75351[#75351]
* Log threshold ratio alerts {kibana-pull}76867[#76867]
* Adds timestamp as a context variable to log threshold alerts {kibana-pull}78932[#78932]
Machine Learning::
* Adds combined job and datafeed JSON editing {kibana-pull}72117[#72117]
* Dat frame analytics creation wizard: default destination index to job id {kibana-pull}72758[#72758]
* Adds decision path charts to exploration results table {kibana-pull}73561[#73561]
* Data frame analytics creation wizard: ensures user can switch back to form from JSON editor {kibana-pull}73752[#73752]
* Adds datafeed query reset button {kibana-pull}73958[#73958]
* Data frame analytics creation wizard: shows link to results {kibana-pull}74025[#74025]
* Adds initial file analysis overrides {kibana-pull}74376[#74376]
* Add ability to pass a group ID filter to job management page {kibana-pull}74533[#74533]
* Adds memory status to data frame analytics job list {kibana-pull}74570[#74570]
* Switching to new {es} client {kibana-pull}74965[#74965]
* Inference models management {kibana-pull}74978[#74978]
* Adds indicator if there are stopped partitions in categorization job wizard {kibana-pull}75709[#75709]
* Adds Metadata and Discovery Analysis Jobs to Security Integration {kibana-pull}76023[#76023]
* Adds option to Advanced Settings to set default time range filter for anomaly detection jobs {kibana-pull}76347[#76347]
* Adds machine learning modules for Metrics UI Integration {kibana-pull}76460[#76460]
* Collapsable sections on data frame analytics job result pages {kibana-pull}76641[#76641]
* Improves client side error handling {kibana-pull}76743[#76743]
* Adds geo point combined field to CSV import {kibana-pull}77117[#77117]
* Adds option to create anomaly detection jobs without starting the datafeed {kibana-pull}77484[#77484]
* Adds feature importance summary charts  {kibana-pull}78238[#78238]
* Default filter of data frame analytics results page by `defaultIsTraining` value in url {kibana-pull}78303[#78303]
* Replaces use of rest_total_hits_as_int with track_total_hits {kibana-pull}78423[#78423]
* Adds runtime fields support {kibana-pull}78700[#78700]
* Adds `ml.is_training` filter to regression/classification views {kibana-pull}78702[#78702]
* Data frame analytics creation wizard: replaces select input with job type cards with icons {kibana-pull}78872[#78872]
* Data frame analytics results view: ensures boolean values in charts shown without formatting {kibana-pull}78888[#78888]
* Only adjust the bounds of Single Metric Viewer if annotations are visible {kibana-pull}79210[#79210]
* Data frame analytics creation wizard: ensures job creation possible when model memory lower than estimate {kibana-pull}79229[#79229]
* Expandable sections for classification and regression {kibana-pull}79414[#79414]

Management::
* Empty index patterns page re-design  {kibana-pull}68819[#68819]
* Adds inspector for VEGA {kibana-pull}70941[#70941]
* Adds links to "wait for snapshot policy" combobox that navigate to the snapshot policy creation wizard, when there no policies created
yet or the value doesn't match any existing policies {kibana-pull}72473[#72473]
* Adds the possibility to preview the final composite of a composable template. The user will be able to see this preview from the creation or
editing wizard flow, or when looking at the details of a composable template {kibana-pull}72598[#72598]
* Refines the debugging user experience when creating or editing an ingest node pipeline in the existing Ingest Node Pipelines UI. Once a sample
document(s) is provided, the pipeline is executed. The UI highlights the status of each processor, and shows the user how their sample documents change shape at each step in the pipeline {kibana-pull}74964[#74964]
* The Data Streams tab in Index Management now allows users to view additional information for data streams {kibana-pull}75107[#75107]
* Data tiers for 7.10 {kibana-pull}76126[#76126]
* The mappings editor in the Index Templates UI now supports configuring the constant_keyword field type {kibana-pull}76564[#76564]
* The mappings editor in the Index Templates UI now supports configuring the wildcard field type {kibana-pull}76574[#76574]
* The mappings editor in the Index Templates UI now supports configuring the histogram field type. Support for the meta parameter was also added
to the boolean, binary, completion, date, flattened, geo_point, numeric, range, search_as_you_type, token_count and text field types {kibana-pull}76671[#76671]
* Time suffix for duration formatter {kibana-pull}76729[#76729]
* The ingest node pipeline editor now has the ability to move processors into an empty tree {kibana-pull}76885[#76885]
* The ILM UI now allows attaching a lifecycle policy to both a composable index template and a legacy index templatee {kibana-pull}77077[#77077]
* Adds forcemerge action to hot phase with a rollover enabled {kibana-pull}77193[#77193]
* Transforms: Extend editing and creation options {kibana-pull}77370[#77370]
* The mappings editor in the Index Templates UI now supports configuring the point field type {kibana-pull}77543[#77543]
* Adds an option to select a higher compression codec for force merge action in ILM {kibana-pull}78175[#78175]
* The mappings editor in the Index Templates UI now supports configuring the version field type {kibana-pull}78206[#78206]
* Updates transform cloning to include description and new fields {kibana-pull}78364[#78364]
* Optimises keyboard navigation of the ingest processors component {kibana-pull}79122[#79122]
Maps::
* Auto-fits to data bounds {kibana-pull}72129[#72129]
* Implements save and return from dashboard {kibana-pull}74303[#74303]
* Adds initial location option that fits to data bounds {kibana-pull}74583[#74583]
* Adds drilldown support map embeddable {kibana-pull}75598[#75598]
* Originating App Breadcrumb {kibana-pull}75692[#75692]
* Adds mvt support for ES doc sources  {kibana-pull}75698[#75698]
* Adds message to empty add tooltip card {kibana-pull}75809[#75809]
* Introduces geo-threshold alerts {kibana-pull}76285[#76285]
* Removes alias icon for Lens and Maps {kibana-pull}76418[#76418]
* Adds deprecated message to tile_map and region_map visualizations. {kibana-pull}77683[#77683]
* Adds super-fine option to grid/cluster layer {kibana-pull}78201[#78201]
* Enables auto fit to bounds by default {kibana-pull}79296[#79296]
Metrics::
* Supports percentage format in threshold alerts {kibana-pull}72701[#72701]
* Uses Notify Every in Alert Preview {kibana-pull}74401[#74401]
* Gets custom metrics working in inventory alerts with limited UI {kibana-pull}75073[#75073]
* Anomaly Detection setup flow for Metrics {kibana-pull}76787[#76787]
* Adds inventory view timeline {kibana-pull}77804[#77804]
* Adds anomalies to timeline {kibana-pull}78602[#78602]
* Adds ability to override datafeeds and job config for partition field {kibana-pull}78875[#78875]
* Overrides anomaly detection partition field {kibana-pull}79214[#79214]
Monitoring::
* Fixes the messaging around needing TLS enabled {kibana-pull}72310[#72310]
* Adds loading page {kibana-pull}75362[#75362]
* Disk usage alerting {kibana-pull}75419[#75419]
* Design/UI improvements {kibana-pull}76946[#76946]
* Alert Telemetry for the Security app {kibana-pull}77200[#77200]
* Adds new elasticsearch client to telemetry plugin {kibana-pull}78046[#78046]
* Missing data alert {kibana-pull}78208[#78208]
* [Telemetry] Display collected security event sample {kibana-pull}78963[#78963]
* JVM memory usage alert {kibana-pull}79039[#79039]
* Navigational search UI metrics {kibana-pull}79238[#79238]
Operations::
* Kibana no longer needs to optimize plugins for use in the browser when a plugin is installed. This means the --optimize flag is now deprecated and does nothing now. It will be removed in 8.0 {kibana-pull}73154[#73154]
* Docker containers now use CentOS 8.2 as the base image, upgrading from 7. {kibana-pull}74656[#74656]
* Docker images now include CJK fonts built in {kibana-pull}74806[#74806]
Platform::
* Adds support for reading request ID from X-Opaque-Id header {kibana-pull}71019[#71019]
* Adds Kea.js support to Enterprise Search plugin {kibana-pull}72160[#72160]
* Adds solution-level side navigation {kibana-pull}74705[#74705]
* Adds Workplace Search side navigation {kibana-pull}74894[#74894]
* Adds support for version on create & bulkCreate when overwriting a document {kibana-pull}75172[#75172]
* Monitors the Task Manager Poller and automatically recovers from failure {kibana-pull}75420[#75420]
* Adds a new Enterprise Search overview plugin, which introduces and guides users to the App Search and Workplace Search plugins {kibana-pull}76734[#76734]
* The deprecated Dashboard Import API (POST /api/kibana/dashboards/import) now accepts filesizes up to the savedObjects.maxImportPayloadBytes configuration
which is 10MB by default {kibana-pull}77409[#77409]
Reporting::
* Reporting configuration settings for time duration values allow "time unit" strings to be specified as well as number of milliseconds.
For byte size values, "byte size" strings are allowed as well as number of bytes. See the Reporting configuration documentation for more details {kibana-pull}74202[#74202]
* Reporting/diagnostics {kibana-pull}74314[#74314]
* Removes the light gray border around the image in PDF reports {kibana-pull}78036[#78036]
* Increases capture.timeouts.openUrl to 1 minute {kibana-pull}75207[#75207]
Security::
* Hides management sections based on cluster/index privileges {kibana-pull}67791[#67791]
* xpack.encryptedSavedObjects.encryptionKey can now be rotated without losing access to existing encrypted Saved Objects (alerts, actions etc.).
Old key(s) can be moved to xpack.encryptedSavedObjects.keyRotation.decryptionOnlyKeys to be used only to decrypt existing objects while new or updated objects will be encrypted using new primary encryption key.
Administrators can also use dedicated API endpoint /api/encrypted_saved_objects/_rotate_key to trigger re-encryption of all existing objects with a new primary key so that old keys can be safely disposed {kibana-pull}72420[#72420]
* Groups features for space management {kibana-pull}74151[#74151]
* Allows passwords to be visible on security screens {kibana-pull}77394[#77394]
* Groups features for role management {kibana-pull}78152[#78152]
* Warns users when security is not configured {kibana-pull}78545[#78545]
* Sharing saved-objects phase 1.5 {kibana-pull}75444[#75444]
* [Detections] Handle conflicts on alert status update {kibana-pull}75492[#75492]
* Improves the experience when Kibana returns a 403 HTTP status code or the user tries to access a page/app they do not have access to. In those instances, a new user-friendly error page is shown.
The user will get the option to go back to the page from where they came, or log in as a different user. Previously the user would just see a simple JSON document containing a short error message
without the ability to do anything {kibana-pull}75538[#75538]
* Adds EQL search strategy {kibana-pull}78645[#78645]
* Fetches related events from the server {kibana-pull}78780[#78780]
* [Resolver] Requests data from new event api {kibana-pull}78782[#78782]
* Updates copy styling {kibana-pull}79313[#79313]
* Excludes cloud alias index from our query {kibana-pull}81551[#81551]
* Implements server-side sessions. {kib} now stores user session information in a dedicated {es} index.
By default, expired and invalid sessions are cleaned from the index every hour.
You can configure the cleanup interval with the `xpack.security.session.cleanupInterval` setting.
After the upgrade, all existing sessions are invalid and users must log back in to {kib}.
It's also no longer possible
to host different {kib} tenants on different ports of the same host.
Although this setup worked in the past, it was discouraged because browsers
share cookies across all applications hosted using the same host name, ignoring ports.
Cookies are now strictly tied to a particular tenant. {kibana-pull}68117[#68117]
Uptime::
* Pings Redirects {kibana-pull}65292[#65292]
* Uses `service.name` to link from Uptime -> APM where available {kibana-pull}73618[#73618]
* One click simple monitor down alert {kibana-pull}73835[#73835]
* Singular alert {kibana-pull}74659[#74659]
* Creates new path for client side monitoring {kibana-pull}74740[#74740]
* Adds rum core web vitals {kibana-pull}75685[#75685]
* Visitors by region map {kibana-pull}77135[#77135]
* Url search {kibana-pull}77516[#77516]
* Js errors {kibana-pull}77919[#77919]
* Synthetics UI {kibana-pull}77960[#77960]
* OpenTelemetry icons and data telemetry {kibana-pull}78499[#78499]
* Adds percentile selector {kibana-pull}78562[#78562]
* Adds core web vitals in obsv homepage {kibana-pull}78976[#78976]
* Makes uptime ping histogram bar clickable to improve filtering {kibana-pull}79054[#79054]
* Adds type row to monitor detail page {kibana-pull}79556[#79556]
* Allow add alert Flyout initial values like name, tags {kibana-pull}76906[#76906]

[float]
[[bug-v7.10.0]]
=== Bug fixes
Alerting::
* Overwrites SOs when updating instead of partially updating {kibana-pull}73688[#73688]
* Reloads the Alerts List when alerts are deleted {kibana-pull}73715[#73715]
* Fixes alerting_api_integration/security_and_spaces tests failing if actions proxy set on for parallel process running using commands 'scripts/functional_tests_server' and 'scripts/functional_test_runner' {kibana-pull}75232[#75232]
* Adds validation to display an error when creating index action in alert with invalid document. {kibana-pull}75929[#75929]
* Avoids setting a default dedupKey on PagerDuty {kibana-pull}77773[#77773]
* Fixes React warnings in Suspense usage during Alert creation {kibana-pull}77777[#77777]
* Fixes alert add and edit flyout to not close when user clicks outside {kibana-pull}78860[#78860]
* Fixes error in UI in the Edit Flyout for PreConfigured Connectors {kibana-pull}78994[#78994]
* Makes savedObjectId field optional {kibana-pull}79186[#79186]
* Renames "Built-In Alerts" feature to "Stack Alerts" and "Actions" feature to "Actions and Connectors" {kibana-pull}79513[#79513]
* Fixes sorting of Alert Instance in Details page {kibana-pull}80103[#80103]
* Fixes migration issue for case specific actions, by extending email action migrator checks {kibana-pull}81673[#81673]
* Fixes docs in trigger alerting UI {kibana-pull}75363[#75363]
* Populates alert instances view with event log data {kibana-pull}68437[#68437]
* Displays a banner to users when some alerts have failures, added alert statuses column and filters {kibana-pull}79038[#79038]
* Formalizes alert status and add status fields to alert saved object {kibana-pull}75553[#75553]
APM::
* Uses core.chrome to set window title {kibana-pull}73232[#73232]
* Chart units don't update when toggling the chart legends {kibana-pull}74931[#74931]
* Fixes overlapping transaction names {kibana-pull}76083[#76083]
* Avoids negative offset for error marker on timeline {kibana-pull}76638[#76638]
* Service Map: `Not Defined` option doesn't work properly {kibana-pull}77483[#77483]
* Uses model_plot as a signal for anomaly scores {kibana-pull}77756[#77756]
* Fixes service maps ML link zoom value {kibana-pull}77841[#77841]
* Fixes APM header wrapping {kibana-pull}78845[#78845]
* Catches health status error from ML {kibana-pull}80131[#80131]
* Hides service if only data is from ML {kibana-pull}80145[#80145]
* Fixes link to trace {kibana-pull}80993[#80993]
* Service map handle timeout with messaging {kibana-pull}82083[#82083]
* Scale transaction rate correctly {kibana-pull}82155[#82155]
Dashboard::
* Sample data link does not work {kibana-pull}75262[#75262]
* Stores Expanded Panel Id in URL {kibana-pull}78684[#78684]
* Fixes embeddable title and description for reporting and dashboard tooltip {kibana-pull}78767[#78767]
* Fixes apps break on unrestorable session state in URL {kibana-pull}74264[#74264]
Discover::
* Converts legacy sort to be compatible with multi sort {kibana-pull}76986[#76986]
* Context - Fix bug when document id contains a slash  {kibana-pull}77435[#77435]
* Makes _source field not clickable {kibana-pull}78698[#78698]
* "View surrounding documents" encodes spaces in filters {kibana-pull}79283[#79283]
* Should not visualize unknown/conflict type fields {kibana-pull}81311[#81311]
Ingest Manager::
* Fixes removing ingest pipelines from elasticsearch {kibana-pull}75092[#75092]
* Installs previous version of package if update fails {kibana-pull}76694[#76694]
* Agent Policy names are unique {kibana-pull}79201[#79201]
* Index pattern installation uses requested package version {kibana-pull}80079[#80079]
* Removes fields from index pattern during package uninstall {kibana-pull}80082[#80082]
* Allows default packages to be deleted from the default agent policy {kibana-pull}81535[#81535]
Kibana UI::
* Removes duplicate string in search dropdown {kibana-pull}77429[#77429]
Lens and visualizations::
* Lens fixes inconsistencies when switching with empty layer {kibana-pull}72809[#72809]
* Lens fixes bug in saving {kibana-pull}74483[#74483]
* Lens fixes table sorting bug {kibana-pull}74902[#74902]
* Lens fixes rollup related bugs {kibana-pull}75314[#75314]
* Lens fixes dimension popover design on mobile {kibana-pull}75866[#75866]
* Shows meta field data in Lens {kibana-pull}77210[#77210]
* Lens fixes unclear UI for bucket aggregation grouping order {kibana-pull}77331[#77331]
* Lens handles missing fields gracefully {kibana-pull}78173[#78173]
* Lens removes Over time suggestions for numeric intervals {kibana-pull}78442[#78442]
* Lens fixes display of multiple un-stacked bar series {kibana-pull}78525[#78525]
* Lens prevents values outside of range for number of top values  {kibana-pull}78734[#78734]
* Lens fixes empty callout for empty/meta fields accordion {kibana-pull}79429[#79429]
* Lens fixes debouncing in visualization settings UI  {kibana-pull}79625[#79625]
* Lens fixes chart switching for XY charts {kibana-pull}80297[#80297]
* Lens fixes URL query loss on redirect {kibana-pull}81475[#81475]
* TSVB fixes inaccurate Group By {kibana-pull}73683[#73683]
* TSVB ffixes bug on TopN weird behavior with zero values {kibana-pull}74942[#74942]
* TSVB fixes panel updates with back button {kibana-pull}75896[#75896]
* TSVB allows string fields on value count aggregation {kibana-pull}79267[#79267]
* Prevents pageload on TSVB drilldown {kibana-pull}78005[#78005]
* Data table fixes download filename when using split table {kibana-pull}74231[#74231]
* Bar chart fixes rendering of non-stacked bar {kibana-pull}74930[#74930]
* Bar chart fixes overlapping percentiles {kibana-pull}75315[#75315]
* Fix crash in input controls if index pattern is not available {kibana-pull}79431[#79431]
* Vega fixes unexpected change in autosizing behavior post upgrade {kibana-pull}77408[#77408]
* Timelion hides app from search results when the setting is disabled {kibana-pull}77763[#77763]
* In some old TSVB visualization saved objects, queries and filters can be stored. This is not possible anymore for a while and there is no way to edit them besides changing the JSON of the saved object,
but they were still applied to the rendered output. In 7.10, these leftover queries and filters will be removed automatically from the saved object. In almost all cases, no change is necessary.
If a visualization contained these local queries and filters deliberately, they should be converted to panel filters in the "Panel options" of the TSVB interface {kibana-pull}75137[#75137]
Logs::
* Returns 403s rather than 500s for ML privilege errors {kibana-pull}74506[#74506]
* Correctly filters for log rate anomaly examples with missing dataset {kibana-pull}76775[#76775]
* Fixes logs permissions for alert management {kibana-pull}81199[#81199]
Machine Learning::
* Updates broken job config callout error {kibana-pull}75481[#75481]
* Replaces all use of date_histogram interval with fixed_interval {kibana-pull}76876[#76876]
* Data frame analytics creation wizard: Fixes field loading race condition {kibana-pull}77326[#77326]
* Improves calendar ics file parsing {kibana-pull}78986[#78986]
* Data frame analytics creation wizard: Resolves clone usability issues {kibana-pull}79048[#79048]
* Fixes jobs so it limit job menu actions for jobs that are closing {kibana-pull}79303[#79303]
* Data frame analytics: Ensures clear error when index pattern missing {kibana-pull}79378[#79378]
* Avoids full page reload for links following CSV import {kibana-pull}79539[#79539]
* Classification results: Ensures confusion matrix doesn't span full width {kibana-pull}79790[#79790]
* Fixes anomaly detection jobs list load if call to load job messages fails {kibana-pull}79792[#79792]
* Sends secondary auth headers to _explain {kibana-pull}79814[#79814]
* Fixes job selection flyout {kibana-pull}79850[#79850]
* Datagrid: Ensures column content with 'boolean' schema is not capitalized {kibana-pull}80041[#80041]
* Fixes Anomaly Explorer charts time range to obey time picker range {kibana-pull}80317[#80317]
* Data frame analytics results: Ensures boolean values in confusion matrix are not capitalized {kibana-pull}80350[#80350]
* Fixes values for decision path not showing correctly for regression due to rounding {kibana-pull}80555[#80555]
* Fixes regression with some links not opening in new tab {kibana-pull}80785[#80785]
* Fixes callout message for total feature importance {kibana-pull}80881[#80881]
* Fixes exclude frequent in advanced wizard {kibana-pull}81121[#81121]

Management::
* Fixes the copy of the success notification that displays after creating or saving a watch {kibana-pull}73982[#73982]
* Data frame analytics / Transforms: Fixes job row actions menu invalid DOM nesting warning {kibana-pull}74499[#74499]
* Transforms: Unset doc title when app unmounts {kibana-pull}75539[#75539]
* Fixes a bug in Snapshot and Restore when creating a Snapshot Lifecycle Management policy, where the form could become locked if the user enter an invalid value and navigated to a previous step {kibana-pull}76540[#76540]
* The mappings editor in Index Management now supports configuring the positive_score_impact parameter for the rank_feature field type {kibana-pull}76824[#76824]
* Transforms: Fixes styling of preview grid pagination in summary step {kibana-pull}77789[#77789]
* Fixes a bug in the index template wizard, which resulted in an incorrect validation error when a user toggles between the dynamic templates and advanced settings tabs without providing any values {kibana-pull}78707[#78707]
* Checks for source indexPattern before opening clone wizard {kibana-pull}79383[#79383]
* Fixes an issue when editing the mappings of an index template and selecting the "Other" type {kibana-pull}79434[#79434]
* Transforms/Data frame analytics: Fixes data grid column sorting. {kibana-pull}80618[#80618]
* Transforms: Fixes tab ids for expanded row. {kibana-pull}80666[#80666]
* Fixes package upgrade breaking after first rollover before new data has arrived {kibana-pull}79887[#79887]
Maps::
* Fixes swap hidden/show icons in layer action panel {kibana-pull}74549[#74549]
* Fixes double fetch when filters are modified {kibana-pull}74893[#74893]
* Fixes read only badge is no longer shown in nav for users with read-only permission {kibana-pull}76091[#76091]
* Fixes Hotlink for EMS-add-data card do not working {kibana-pull}76110[#76110]
* Removes obsolete link {kibana-pull}76419[#76419]
* Exposes map title and description to reporting and embeddable container {kibana-pull}79325[#79325]
* Uses default format when proxying EMS-files {kibana-pull}79760[#79760]
* Fixes refreshing the page causes loss of unsaved change {kibana-pull}81226[#81226]
* Fixes top-level Map page is called 'Kibana' {kibana-pull}81238[#81238]
* Fixes auto-refresh not auto fitting to bounds {kibana-pull}81251[#81251]
* Adds layer type preview icons {kibana-pull}78650[#78650]
* GeoJSON datasets link:https://github.com/elastic/ems-file-service/pull/192[#192]
Metrics::
* Fixes inventory footer misalignment {kibana-pull}74707[#74707]
* Displays No Data context.values as [NO DATA] {kibana-pull}78038[#78038]
* Fixes a Chrome bug with Inventory View flickering at certain sizes {kibana-pull}81514[#81514]
Monitoring::
* Ensures setup mode works on cloud but only for alerts {kibana-pull}73127[#73127]
* Fixes cluster link from cluster listing page {kibana-pull}75016[#75016]
* Only show Opt-In banner when user can change settings {kibana-pull}76883[#76883]
* Fixes dead links {kibana-pull}78696[#78696]
* Fixes cluster listing page in how it handles global state {kibana-pull}78979[#78979]
* Ensures alerting is optional {kibana-pull}79168[#79168]
* Adds in cluster version number for sec telemetry sender {kibana-pull}80545[#80545]
* Fixes sorting of alerts {kibana-pull}80546[#80546]
* Fixes a couple of issues with the cpu usage alert {kibana-pull}80737[#80737]
* Fixes alert defaults {kibana-pull}81207[#81207]
* Ensures some data is returned {kibana-pull}81375[#81375]
Platform::
* Simplifies buffer tests to reduce flakiness {kibana-pull}73024[#73024]
* Handles case where buffer receives multiple entities with the same ID {kibana-pull}74943[#74943]
* Time out work when it overruns in poller {kibana-pull}74980[#74980]
* Fixes a bug that caused some applications to not correctly render when a trailing slash was included at the end of their URLs {kibana-pull}75074[#75074]
* Prevents Task Manager from trying to claim invalid tasks {kibana-pull}76891[#76891]
* Leverages original http request error {kibana-pull}79831[#79831]
* Supports special characters in ES password {kibana-pull}81564[#81564]
Querying & Filtering::
* Fixes warning text doesn't get displayed on filters with custom filter name {kibana-pull}78617[#78617]
Reporting::
* Allows any hostname for chromium proxy bypass {kibana-pull}74693[#74693]
* Fixes an issue with CSV Export where a job could fail if clearing the scroll ID failed in Elasticsearch {kibana-pull}76014[#76014]
* Fixes a bug where the downloading CSV from a saved search in a dashboard panel had no file name if the dashboard panels were hidden {kibana-pull}76031[#76031]
* Fixes the reporting exports to use the correct Space for advanced settings {kibana-pull}76998[#76998]
* Fixes a problem in the list of Reports jobs in Management would not refresh with the correct items immediately after deleting a report from the listing {kibana-pull}78516[#78516]
Security::
* Displays useful error when role creation fails {kibana-pull}77600[#77600]
* Previously when user started SAML or OpenID authentication handshake, but didn't or couldn't finish it they weren't able to access Login Selector easily (e.g. to log in with another
authentication provider) unless they used /login URL directly or manually cleared the session cookies. That was a very confusing user experience.
The reason was that unauthenticated intermediate session that was created to support handshake forced Kibana to automatically restart the same handshake whenever user accessed Kibana.
We fixed that and now in certain cases we ignore unauthenticated intermediate session allowing user to easily access Login Selector whenever they need it {kibana-pull}79300[#79300]
* Kibana can now properly handle values for xpack.security.session.idleTimeout and xpack.security.session.lifespan that are larger than ~24 days {kibana-pull}79858[#79858]
* Properly encodes links to edit user page {kibana-pull}81562[#81562]
* Fixes display of multiple roles in table views {kibana-pull}81603[#81603]
* Node list and node detail tests {kibana-pull}74421[#74421]
* Improves simulator. Add more click-through tests and panel tests. {kibana-pull}74601[#74601]
* [Detections] Refactors signal ancestry to allow multiple parents {kibana-pull}76531[#76531]
* Fixes for the Ticket 78375 {kibana-pull}79004[#79004]
* Resolver Tree Events tests {kibana-pull}79344[#79344]
* Adds the correct class to truncate the names in Endpoint list {kibana-pull}79921[#79921]
* [Detections] Fixes remaining render and validation bug with query preview + tests {kibana-pull}80110[#80110]
* New events resolver {kibana-pull}80850[#80850]
* enable_APM-ci branch fixes {kibana-pull}81658[#81658]
Sharing::
* Uses App Title for Display Instead of App Id {kibana-pull}75457[#75457]
Spaces::
* Fixes infinite loading spinner on the spaces selector screen. In the case an error occurs while trying to load the spaces that the current user has access to, an error message will now be shown instead of the loading spinner {kibana-pull}79471[#79471]
Uptime::
* Ml anomaly alert edit {kibana-pull}76909[#76909]
* Removes custom handling of license enabling {kibana-pull}82019[#82019]

[[release-notes-7.9.3]]
== {kib} 7.9.3

For breaking changes, refer to <<breaking-changes-7.9,breaking changes in 7.9>>.

[float]
[[enhancement-v7.9.3]]
=== Enhancement
Reporting::
* Increases openUrl timeout config default to 1min {kibana-pull}78322[#78322]

[float]
[[bug-v7.9.3]]
=== Bug fixes
Discover::
* Fixes scripted field error handling for non OSS env {kibana-pull}76476[#76476]
Lens and visualizations::
* Shows tooltip on external pointer events {kibana-pull}77306[#77306]
Management::
* Fixes a bug in the index template wizard, which resulted in an error when the user tries to save an existing
template or attempts to view the Elasticsearch request when the template does not have any mappings {kibana-pull}78653[#78653]
* Fixes index pattern creation when using cross cluster search with clusters running <7.9 {kibana-pull}80006[#80006]
Monitoring::
* Fixes UX around an unavailable remote cluster {kibana-pull}79202[#79202]
* Synchronous `setup` and `start` methods {kibana-pull}79457[#79457]
* Removes license refresh from setup {kibana-pull}79518[#79518]
Platform::
* Invalid `searchSourceJSON` causes saved object migration to fail {kibana-pull}78535[#78535]
* Changes legacy import 'version' field to optional {kibana-pull}79706[#79706]
Security::
* Adds `xpack.security.sameSiteCookies` to docker allow list {kibana-pull}78192[#78192]
* Updates user table after user is deleted {kibana-pull}79491[#79491]

[[release-notes-7.9.2]]
== {kib} 7.9.2

See also <<breaking-changes-7.9,breaking changes in 7.9>>.

[float]
[[enhancement-v7.9.2]]
=== Enhancement
Machine Learning::
* Improves performance of job exists check {kibana-pull}77156[#77156]

[float]
[[bug-v7.9.2]]
=== Bug fixes
Alerting::
* Fixes alerts unable to create or update when the name has trailing whitepace {kibana-pull}76079[#76079]
Machine Learning::
* Swim lane pagination for viewing by job ID {kibana-pull}76847[#76847]
* Fixes custom URLs processing for security app {kibana-pull}76957[#76957]
Management::
* Fixes an issue in Snapshot and Restore UI where creating a policy, repository, or snapshot with a special character,
like a colon, in the name would result in a 404 when viewing details or editing any of the aforementioned {kibana-pull}76278[#76278]
* Indices that contain the characters % { [ @ no longer cause a 405 error in Index Management {kibana-pull}76584[#76584]
* Fixes an issue in the snapshot and restore policy creation form that allowed a policy to be created without an index specified {kibana-pull}76855[#76855]
* The snapshot and restore wizard now notifies users when a policy configured with a non-existing repository is being updated and requires that the user
select a new repository {kibana-pull}76861[#76861]
* Fixes an issue in the grok debugger where simulation error messages are not being displayed {kibana-pull}77499[#77499]
Maps::
* Fixes drawing shapes in maps app broken in 7.9.1 {kibana-pull}76329[#76329]
Monitoring::
* Prevents edit/create for Stack Monitoring alerts in Alerts Management {kibana-pull}77097[#77097]
* Fixes improper lodash syntax {kibana-pull}77105[#77105]
* Fixes UI error when alerting is not available {kibana-pull}77179[#77179]
Platform::
* Fixes bug causing multiple overrides to only show the last confirm modal {kibana-pull}76482[#76482]
* Fixes remoteAddress being duplicated in userAgent field {kibana-pull}76751[#76751]
* Fixes an issue that caused savedObject migration errors to not being displayed in the logs {kibana-pull}77018[#77018]
* Fixes an issue where defaultAppId redirect could fire outside home app {kibana-pull}76415[#76415]
* Suppresses error logs when clients connect over HTTP instead of HTTPS {kibana-pull}77397[#77397]
Reporting::
* Adds back in custom images for reporting + tests {kibana-pull}76810[#76810]
Security::
* Adds Lens as a readable saved object for read-only dashboard users {kibana-pull}77067[#77067]
Uptime::
* Fixes alerting false positives {kibana-pull}75577[#75577]

[[release-notes-7.9.1]]
== {kib} 7.9.1

See also <<breaking-changes-7.9,breaking changes in 7.9>>.

[float]
[[bug-v7.9.1]]
=== Bug fixes
APM::
* Pluralizes for occurrences vs occurrence {kibana-pull}74564[#74564]
* User can't navigate back home using browser nav when clicking link {kibana-pull}75755[#75755]
Dashboard::
* Loses OriginatingApp Connection on Save After Create new {kibana-pull}74420[#74420]
* Don't Explore data action in dashboard_only mode {kibana-pull}73010[#73010]
Discover::
* Don't show actions if Discover app is disabled {kibana-pull}73017[#73017]
* Fixes visualize a field through discover app {kibana-pull}73652[#73652]
* Fixes issue with query bar not taking full width in safari when selected {kibana-pull}74987[#74987]
Lens and visualizations::
* Shows 'No data for this field' for empty field in accordion {kibana-pull}73772[#73772]
* Fixes performance degradation after lodash@4 upgrade {kibana-pull}75850[#75850]
Machine Learning::
* Fixes file import button on basic license {kibana-pull}75458[#75458]
* Adds date picker back onto index based data visualizer page {kibana-pull}75658[#75658]
* Adds authorization header to data frame analytics job update request {kibana-pull}75899[#75899]
* Removes encoding for scheduled events labels  {kibana-pull}75973[#75973]
* Anomaly Explorer / Single Metric Viewer: Fix error reporting for annotations {kibana-pull}74953[#74953]
Management::
* The watch API considers an index action without a defined index name to be valid, but the Watcher UI
didn't validate accordingly. This resulted in a bug manifested as the UI rejecting attempts to create
Advanced Watches and Threshold Watches with this configuration, and as displaying watches configured
this way via Console with "Config error" states in the watches table. This change fixes the bug so that
the UI accepts watches that are configured with index actions without a defined index name {kibana-pull}74684[#74684]
* Fixes a bug in the index template wizard, which resulted in the UI crashing when the user tries to save an index template without visiting the "Mappings" step first {kibana-pull}75511[#75511]
* Fixes an issue in the mappings editor when trying to clear the "Field type" select dropdown {kibana-pull}76263[#76263]
Maps::
* Fixes TMS not loaded in legacy maps {kibana-pull}73570[#73570]
* Fixes drawing shapes {kibana-pull}74689[#74689]
* Fixes layer sorting issue with hidden layers at map load {kibana-pull}76007[#76007]
Monitoring::
* Fixes bug where Kibana crashes with collection disabled {kibana-pull}75335[#75335]
* Swallows errors in opt-in remote notification from the server {kibana-pull}75641[#75641]
Operations::
* Adds map configurations to docker list {kibana-pull}75035[#75035]
* Fixes bug in keystore read process where it was trying to read the path.data directory instead of the keystore file {kibana-pull}75659[#75659]
Security::
* Improves login selector UI to display more detailed error messages {kibana-pull}75642[#75642]
Uptime::
* Fixes alerting false positives {kibana-pull}75577[#75577]

[[release-notes-7.9.0]]
== {kib} 7.9.0

See also <<breaking-changes-7.9,breaking changes in 7.9>>.

Operations::
* Moves kibana-keystore from data/ to config/ {kibana-pull}57856[#57856]

[float]
[[enhancement-7.9.0]]
=== Enhancements
APM::
* Shows `trace.id`, `transaction.id` and/or `error.id` in metadata table {kibana-pull}66376[#66376]
* Adds error rate chart to Transaction overview and detail views {kibana-pull}67327[#67327]
* Adds ThemeProvider to support dark mode {kibana-pull}68242[#68242]
* Triggers Lazy-load alert {kibana-pull}68806[#68806]
* Changes to duration formatting {kibana-pull}69039[#69039]
* Adds callout to inform users of high cardinality in unique transaction names {kibana-pull}69112[#69112]
* Creates API to return data to be used on the Overview page {kibana-pull}69137[#69137]
* Fixes confusing request/minute viz {kibana-pull}69143[#69143]
* Adds decimals only for numbers below 10 {kibana-pull}69334[#69334]
* Adds support for dark mode {kibana-pull}69362[#69362]
* Chart breakdowns {kibana-pull}69420[#69420]
* Quotes trace id to ensure a word is searched (#69500) {kibana-pull}69504[#69504]
* Adds error rates to Service Map popovers {kibana-pull}69520[#69520]
* Resubmits initial version {kibana-pull}69531[#69531]
* Adds 'Anomaly detection' settings page to create ML jobs per environment {kibana-pull}70560[#70560]
* Service maps anomaly detection integration by environment {kibana-pull}70932[#70932]
* Anomaly detection setup link with alert if job doesn't exist {kibana-pull}71229[#71229]
* Respects default time range defined in Kibana Advanced Settings {kibana-pull}71464[#71464]
* Uses HDR for percentiles {kibana-pull}64758[#64758]
Canvas::
* Adds simple variables to workpads {kibana-pull}66139[#66139]
Dashboard::
* Enables drilldowns for Lens visualizations {kibana-pull}65675[#65675]
* Improves positioning of cloned panels {kibana-pull}67461[#67461]
* Lens editor auto refresh {kibana-pull}65868[#65868]
Discover::
* Multi-line kql bar {kibana-pull}70140[#70140]
Enterprise Search::
* Workplace Search in Kibana MVP {kibana-pull}70979[#70979]
Ingest Management::
* Adds support for datastream to each template {kibana-pull}66367[#66367]
* Improves server-side error handling {kibana-pull}67278[#67278]
* Adds ability to copy an agent config {kibana-pull}68737[#68737]
* Adds enroll agent action to config action menu {kibana-pull}68840[#68840]
* Adds ability to sort to agent configs and package configs {kibana-pull}70676[#70676]
Lens and visualizations::
* Warns if leaving with unsaved visualization {kibana-pull}67689[#67689]
* Uses accordion menus in field list for available and empty fields {kibana-pull}68871[#68871]
* Adds "no data" popover {kibana-pull}69147[#69147]
* Last used Index pattern is saved to and retrieved from local storage {kibana-pull}69511[#69511]
* Fitting functions {kibana-pull}69820[#69820]
* Multiple y axes {kibana-pull}69911[#69911]
* Adds ability to set colors for y-axis series {kibana-pull}70311[#70311]
* Allows histogram fields in average and sum aggregations {kibana-pull}66891[#66891]
* Changes the error message on TSVB in order to be more user friendly {kibana-pull}67090[#67090]
* Allows the user to change the tooltip mode {kibana-pull}67775[#67775]
* Updates vega version {kibana-pull}68639[#68639]
* Adds support for histogram type {kibana-pull}68837[#68837]
* Enables "Explore underlying data" actions for Lens visualizations {kibana-pull}70047[#70047]
Logs::
* Validates ML job setup time ranges {kibana-pull}66426[#66426]
* [Alerting] "Group by" functionality {kibana-pull}68250[#68250]
* ML log integration splash screen {kibana-pull}69288[#69288]
* Actions menu in log entry categorization page {kibana-pull}69567[#69567]
* Adds index names for the new indexing strategy {kibana-pull}70245[#70245]
* Adds category anomalies to anomalies page {kibana-pull}70982[#70982]
* Anomalies page dataset filtering {kibana-pull}71110[#71110]
* Shows log analysis ML jobs in a list {kibana-pull}71132[#71132]
Machine Learning::
* Search should have a categorical option for job type {kibana-pull}65770[#65770]
* Adds linking to dataframe from job management tab {kibana-pull}65778[#65778]
* Adds optional ability to delete target index and index pattern when deleting {dfanalytics-job} {kib-pull}66934[#66934]
* {dfanalytics-cap}: Creation wizard part 1 {kib-pull}67564[#67564]
* Extends population preview chart to show actual and typical value {kibana-pull}67569[#67569]
* Adds minor refresh button to {dfanalytics} and {anomaly-detect} Job Messages tabs {kib-pull}67750[#67750]
* Keeps the edit rule flyout open if there are multiple rules {kibana-pull}68174[#68174]
* Model snapshot management {kibana-pull}68182[#68182]
* {dfanalytics-cap}: Creation wizard part 2 {kib-pull}68462[#68462]
* Removes sub navigation menu from the Anomaly Detection pages {kibana-pull}68663[#68663]
* Adds anomaly swim lane embeddable to the dashboard from the Anomaly Explorer page {kib-pull}68784[#68784]
* Allows editing of model_snapshot_retention_days {kibana-pull}69003[#69003]
* Anomaly Explorer swim lane pagination {kibana-pull}70063[#70063]
* Anomaly Detection: Annotations enhancements {kibana-pull}70198[#70198]
* Updates APM Module to Work with Service Maps {kibana-pull}70361[#70361]
* Changes all calls to ML endpoints to use internal user {kibana-pull}70487[#70487]
* {dfanalytics-cap}: add ability to edit job for fields supported by API {kib-pull}70489[#70489]
* {dfanalytics-cap}: adds prompt for destination index pattern creation {kib-pull}70651[#70651]
* Adds switch to enable model plot annotations independently {kibana-pull}70678[#70678]
* Adds peak_model_bytes to model size stats type {kibana-pull}70825[#70825]
* Anomaly swim lane embeddable navigation and filter actions {kibana-pull}71082[#71082]
* Adds siem_cloudtrail Module {kibana-pull}71323[#71323]
Management::
* Management apps are now organized into buckets that support common workflow-oriented use-cases: data ingestion, data management, insights and alerting, security, Kibana management, and Stack management {kibana-pull}65796[#65796]
* The ES UI built a new component to assist with building ingest pipelines. Before, when building ingest pipelines, users would have to type and carefully curate JSON describing an ingest pipeline. With this new component a lot of
that burden is removed and improved access to ES processors is provided. This component is the foundation of an improved pipeline building experience {kibana-pull}66021[#66021]
* Transforms: Filter aggregation support {kibana-pull}67591[#67591]
* Adds a "Data Streams" tab to Index Management to help users manage their data streams {kibana-pull}67806[#67806]
* Transforms: Support sub-aggregations {kibana-pull}68306[#68306]
* Data Grid Histograms {kibana-pull}68359[#68359]
* Adds a snapshot policy name field to Delete phase of index lifecycle policy. This option ensures that the snapshot policy is executed before the managed index is deleted {kibana-pull}68505[#68505]
* Transform: Adds ability to create index pattern time field when creating transform {kibana-pull}68842[#68842]
* Transforms - Updated: Add ability to delete dest index & index pattern when deleting transform job {kibana-pull}68896[#68896]
* Transform: Table enhancements {kibana-pull}69307[#69307]
* Transform: Enable force delete if one of the transforms failed {kibana-pull}69472[#69472]
* A new tab called Component Templates is available in Index Management. It provides a way to manage Elasticsearch's component templates. Users can create, edit, clone, and delete a component template {kibana-pull}69732[#69732]
* The index templates tab allows users to manage both their legacy index templates and composable index templates. Users can create, edit, clone, and delete a composable index template {kibana-pull}70220[#70220]
* We updated the snapshot policy name field in Delete phase of index lifecycle policy. This component now display a list of existing snapshot policies and warns the user if their input doesn't match any existing policies {kibana-pull}70627[#70627]
Maps::
* Displays ranged-data with bands {kibana-pull}60570[#60570]
* Adds styling and tooltip support to mapbox mvt vector tile sources {kibana-pull}64488[#64488]
* Allows adding multiple layers {kibana-pull}67544[#67544]
* Enables gridding/clustering/heatmaps for geo_shape fields {kibana-pull}67886[#67886]
* Security layer wizards {kibana-pull}68290[#68290]
* Surface geo_shape clustering gold feature {kibana-pull}68666[#68666]
* Layer wizard select re-design {kibana-pull}69313[#69313]
* Shows vector tile labels on top {kibana-pull}69444[#69444]
* Choropleth layer wizard {kibana-pull}69699[#69699]
* Increases DEFAULT_MAX_BUCKETS_LIMIT to 65535 {kibana-pull}70313[#70313]
* Shows joins disabled message {kibana-pull}70826[#70826]
* Exposes registerLayerWizard and registerSource in maps plugin start {kibana-pull}71553[#71553]
Metrics::
* Adds support for multiple groupings to Metrics Explorer (and Alerts) {kibana-pull}66503[#66503]
* Adds sorting for name and value to Inventory View {kibana-pull}66644[#66644]
* Changes Metric Threshold Alert charts to use bar charts {kibana-pull}66672[#66672]
* Allows users to configure Inventory View palettes {kibana-pull}66948[#66948]
* Adds timestamp context variable {kibana-pull}67482[#67482]
* Adds back context variables with descriptions {kibana-pull}67487[#67487]
* Adds overrides to Snapshot API to support alert previews {kibana-pull}68125[#68125]
* Enhances Inventory View Tooltips {kibana-pull}69757[#69757]
* UX improvements for saved views {kibana-pull}69910[#69910]
* Register function for Observability homepage {kibana-pull}70529[#70529]
* Adds framework for recovery messaging to metric threshold alerts (non-functional) {kibana-pull}65339[#65339]
* Adds preview feature for metric threshold alerts {kibana-pull}67684[#67684]
* Adds inventory alert preview {kibana-pull}68909[#68909]
* Prefills alerts from the global dropdown {kibana-pull}68967[#68967]
* Adds context.reason and alertOnNoData to Inventory alerts {kibana-pull}70260[#70260]
Monitoring::
* Collects number of visualization saved in the past 7, 30 and 90 days {kibana-pull}67865[#67865]
* Out of the box alerting {kibana-pull}68805[#68805]
Operations::
* Node options from cfg file for production {kibana-pull}62468[#62468]
* Creates Linux aarch64 package {kibana-pull}69165[#69165]
Platform::
* Switches to core application service {kibana-pull}63443[#63443]
* Adds docLinks to CoreSetup {kibana-pull}66631[#66631]
* New Enterprise Search Kibana plugin {kibana-pull}66922[#66922]
Querying & Filtering::
* Resolves range date filter bugs and improve usability {kibana-pull}71298[#71298]
Security::
* Allow saved objects to be searched across multiple spaces {kibana-pull}67644[#67644]
Uptime::
* Uses ML Capabilities API to determine license type {kibana-pull}66921[#66921]
* Landing page for Observability {kibana-pull}67467[#67467]
* Monitor availability reporting {kibana-pull}67790[#67790]
* Creates "Add data" links in all Observability app headers {kibana-pull}69016[#69016]
* Observability overview page {kibana-pull}69141[#69141]
* Availability alert {kibana-pull}70284[#70284]
* Duration Anomaly Alert {kibana-pull}71208[#71208]

[float]
[[bug-v7.9.0]]
=== Bug fixes
Alerting::
* Adds lazy loading of alerting UI components {kibana-pull}65060[#65060]
* Fixes Connectors edit flyout retains state after being closed {kibana-pull}71911[#71911]
* Fixes Webhook connector doesn't retain added HTTP header settings {kibana-pull}71924[#71924]
APM::
* Removes Missing permission page {kibana-pull}72030[#72030]
* Fixes linking errors to ML and Discover {kibana-pull}73758[#73758]
* Observability i18n fixes {kibana-pull}72984[#72984]
Canvas::
* Fixes falsey/null value bug for dropdown choices {kibana-pull}69290[#69290]
Dashboard::
* Shows drilldown context menu over chart tooltip {kibana-pull}67311[#67311]
* Loses OriginatingApp Connection on Save As {kibana-pull}72725[#72725]
* Sometimes when creating filters on a dashboard suggestions from default index patterns were shown by mistake {kibana-pull}72899[#72899]
* Handles listing errors gracefully {kibana-pull}66986[#66986]
* {kib} now sets the keep_alive parameter to 1m in _async_search requests to Elasticsearch to ensure that search requests are cancelled
if a user closes the browser or navigates outside of Kibana before a request completes {kibana-pull}73712[#73712]
Design::
* Multiple chart actions context menu positioning fixes {kibana-pull}70705[#70705]
* Fixes accessibility issue in Uptime app nav links {kibana-pull}72926[#72926]
Discover::
* Prevents whitespace wrapping of doc table header {kibana-pull}52861[#52861]
* Removes column from sorting array when removed from table {kibana-pull}65990[#65990]
* Validates timerange before submitting query to ES {kibana-pull}69363[#69363]
* Adds error and warning statuses to FilterBar filters {kibana-pull}66979[#66979]
* Forbids timezones not working in Elasticsearch {kibana-pull}70780[#70780]
Ingest Management::
* Fixes clear filters on agents table not working {kibana-pull}71978[#71978]
Kibana UI::
* New Kibana app link order {kibana-pull}66320[#66320]
* Fixes special clicks and 3rd party icon sizes in nav {kibana-pull}69767[#69767]
Lens and visualizations::
* Keeps global filters, time range and refresh interval on refresh {kibana-pull}68075[#68075]
* Adds description property and check duplicate title on save {kibana-pull}68219[#68219]
* Keeps custom labels {kibana-pull}68498[#68498]
* Fixes delete button position in dimension panel for long labels {kibana-pull}69495[#69495]
* Fixes cross cluster bug and optimize existence query {kibana-pull}70132[#70132]
* Do not crash data panel on invalid KQL query {kibana-pull}70712[#70712]
* Handles failing existence check {kibana-pull}70718[#70718]
* Fixes overflow in printable report {kibana-pull}70723[#70723]
* Fixes switching with layers {kibana-pull}71982[#71982]
* Pins filters not applied when coming from different app {kibana-pull}73825[#73825]
* Fixes missing percentage column and wrong headers on export formatted csv {kibana-pull}66883[#66883]
* TSVB: handle division by zero in math agg {kibana-pull}67111[#67111]
* Fixes vega specification parsing {kibana-pull}67963[#67963]
* VEGA is missing scroll bars {kibana-pull}68766[#68766]
* Replaces the Custom Color Picker on TSVB with the EuiColorPicker {kibana-pull}68888[#68888]
* Fixes spec color highlighting not working on vega vis {kibana-pull}68995[#68995]
* Fixes Advanced Settings Panel number editing in Graph {kibana-pull}69672[#69672]
* Hide only duplicated consecutive ticks {kibana-pull}70981[#70981]
* Fixes TSVB table trend slope value {kibana-pull}71087[#71087]
* Fixes export table for table export links {kibana-pull}71249[#71249]
* Removes opacity from vislib bars {kibana-pull}71421[#71421]
* Fixes float percentiles line chart {kibana-pull}71902[#71902]
Logs::
* Fixes display of dataset values in anomaly and category example rows {kibana-pull}71693[#71693]
* Handles modifier keys {kibana-pull}74237[#74237]
* Removes UUID from Alert Instances {kibana-pull}71340[#71340]

Machine Learning::
* Data frame analytics results: Do not hide query bar and table on query syntax error {kibana-pull}69196[#69196]
* Fixes anomaly chart and validation for one week bucket span {kibana-pull}69671[#69671]
* Anomaly Detection: Ensure 'Category examples' tab in the expanded table row can be seen {kibana-pull}70241[#70241]
* Fixes error toasts shown when starting or editing jobs {kibana-pull}71618[#71618]
* Fixes new job with must_not saved search {kibana-pull}71831[#71831]
* Fixes management section access denied {kibana-pull}71841[#71841]
* Ensure `monitor` cluster privilege not required to create data frame analytics job {kibana-pull}71934[#71934]
* Fixes job list crashing due to undefined processed records {kibana-pull}71966[#71966]
* Fixes datafeed start time is incorrect when the job has trailing empty buckets {kibana-pull}71976[#71976]
* Fixes HTML named characters encoding {kibana-pull}72060[#72060]
* Fixes annotations pagination & change labels from letters to numbers {kibana-pull}72204[#72204]
* Stops annotation flyout re-rendering on each keystroke {kibana-pull}72299[#72299]
* Fixes display of regression stop stats if one is NaN {kibana-pull}72412[#72412]
* Handling data recognizer saved object errors {kibana-pull}72447[#72447]
* Data frame analytics results: add index-pattern management link to 'click here' error prompt {kibana-pull}72470[#72470]
* Fixes layout of anomaly chart tooltip for long field values {kibana-pull}72689[#72689]
* Fixes link to index management from file data visualizer {kibana-pull}72863[#72863]
* Fixes deleting data frame analytics not showing index pattern check {kibana-pull}72904[#72904]
* Fixes recognizer wizard create job button {kibana-pull}73025[#73025]
* Fixes unnecessary deleting job polling {kibana-pull}73087[#73087]
* Disables machine learning if license feature is disabled {kibana-pull}73187[#73187]
* Data frame analytics results: ensure `View` link is only enabled when job has successfully completed {kibana-pull}73539[#73539]

Management::
* Inspect action shows on dashboard for every chart {kibana-pull}65998[#65998]
* Fixes an issue in Watcher, where a watch status or action status was incorrectly marked as "Error" {kibana-pull}67952[#67952]
* Error handling {kibana-pull}68809[#68809]
* Fixes an issue in Dev Tools Console where the example shown in the "Help" panel was formatted incorrectly {kibana-pull}71188[#71188]
* Fixes the alignment of the Timing field for Warm, Cold and Delete phases on the Index Lifecycle Policy edit page {kibana-pull}71273[#71273]
* Adopts data stream API changes {kibana-pull}71682[#71682]
* Fixes #66185 {kibana-pull}66186[#66186]
Maps::
* Do not check count for blended layers when layer is not visible {kibana-pull}66460[#66460]
* Fixes mapbox glyphs error when EMS access is turned off {kibana-pull}67427[#67427]
* Fixes fit to bounds requests not getting canceled {kibana-pull}67629[#67629]
* Fixes cannot select Solid fill-color when removing fields {kibana-pull}70621[#70621]
* Fixes zoom in/zoom out buttons are not visible in dark mode {kibana-pull}72699[#72699]
* Fixes removing global filter from layer can cause app to start thrashing {kibana-pull}72763[#72763]
* Fixes cloned clustered documents layer returns error {kibana-pull}72975[#72975]
* Fixes data driven style properties not working when cloned layer contains joins {kibana-pull}73124[#73124]
* Fixes tile layer attibution text and attribution link validation errors {kibana-pull}73160[#73160]
* Fixes fit to data for Point to Point layer {kibana-pull}73563[#73563]
* Fixes #fit to bounds for ES document layers with joins {kibana-pull}73985[#73985]
* Removes no longer required div wrapper around ValidatedDualRange {kibana-pull}70188[#70188]
* Adds full precision GeoJSON version for TopoJSON only datastes link:[191]
Metrics::
* Fixes asynchronicity and error handling in Snapshot API {kibana-pull}70503[#70503]
* Fixes evaluating rate-aggregated alerts when there's no normalized value {kibana-pull}73545[#73545]
* Removes UUID from Alert Instance IDs {kibana-pull}71335[#71335]
* Fixes a bug in Metric Threshold query filter construction {kibana-pull}70672[#70672]
* Displays Too Many Buckets error when previewing Inventory Alerts {kibana-pull}70508[#70508]
* Round metric threshold time buckets to nearest unit {kibana-pull}71172[#71172]
Monitoring::
* Adds a case for Alerting if security/ssl is disabled {kibana-pull}71846[#71846]
* Checks for security feature first when entering setup mode {kibana-pull}73821[#73821]
Operations::
* Manages pid folder {kibana-pull}68262[#68262]
Platform::
* Sets wrap to the errorLink so it doesn't go outside of box {kibana-pull}67797[#67797]
* Fixes plugin lifecycle log to only include server plugins {kibana-pull}68686[#68686]
Querying & Filtering::
* When using KQL or the filter bar, if a request is issued to Elasticsearch for suggestions for a value for a specific field, the request
will be cancelled when navigating away as well as when the input is updated (and a new request is issued {kibana-pull}69769[#69769]
Reporting::
* Fixes a bug where the Kibana server could crash if the Reporting server-side headless browser crashes {kibana-pull}71989[#71989]
Sharing::
* Adds panel flyout opens 2 flyouts {kibana-pull}65861[#65861]
Uptime::
* Adds lazy loading to AlertType and Flyout components {kibana-pull}65678[#65678]
* Fixes metric query broken because of missing mapping {kibana-pull}68999[#68999]
* Fixes charts dark theme {kibana-pull}69748[#69748]
* Uses manual intervals for ping histogram {kibana-pull}72928[#72928]

[float]
[[deprecation-v7.9.0]]
=== Deprecations
APM::
* Removes watcher integration {kibana-pull}71655[#71655]
Platform::
* Deprecates kibana.defaultAppId setting {kibana-pull}67635[#67635]

[[release-notes-7.8.1]]
== {kib} 7.8.1

See also <<breaking-changes-7.8,breaking changes in 7.8>>.

[float]
[[security-update-7.8.1]]
=== Security updates
* In {kib} 7.8.1 and earlier, there is a denial of service (DoS) flaw in Timelion. Attackers can construct a URL that when viewed
by a {kib} user, the {kib} process consumes large amounts of CPU and becomes unresponsive,
https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-7016[CVE-2020-7016].
+
You must upgrade to 7.8.1. If you are unable to upgrade, set `timelion.enabled` to `false` in your kibana.yml file to disable Timelion.

* In all {kib} versions, region map visualizations contain a stored XSS flaw. Attackers that can edit or create region map visualizations can obtain sensitive information
or perform destructive actions on behalf of {kib} users who view the region map visualization,
https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-7017[CVE-2020-7017].
+
You must upgrade to 7.8.1. If you are unable to upgrade, set `xpack.maps.enabled`, `region_map.enabled`, and `tile_map.enabled` to `false` in kibana.yml to disable map visualizations.

[float]
[[bug-v7.8.1]]
=== Bug fixes
Alerting::
* Disables multiple select for preconfigured connectors to avoid requesting bulk delete on them {pull}69459[#69459]
* Fixes adding an extra space character on selecting alert variable in action text fields {pull}70028[#70028]
APM::
* Fixes service maps not loading when there are no APM ML jobs {pull}69240[#69240]
* Fixes service maps load failure when user doesn't have ML permissions {pull}70138[#70138]
Discover::
* Sorts filter fields by items that start with typed characters {pull}68585[#68585]
* Adds error and warning statuses to FilterBar filters, according to the following scenarios {pull}66979[#66979]
Lens and visualizations::
* Fixes Date Histogram error when index does not have a time field {pull}69934[#69934]
Logs::
* Avoids CCS-incompatible index name resolution {pull}70179[#70179]
Machine Learning::
* Fixes expanded row bug when job has no datafeed {pull}68074[#68074]
* Fixes forever loading indicators in expanded data frame analytics list {pull}69422[#69422]
Management::
* Updates the "Learn about timing" documentation link when creating a policy in Index Lifecycle Management {pull}68923[#68923]
* Adds AggConfig.toSerializedFieldFormat {pull}69114[#69114]
* Fixes a bug in Cross-Cluster Replication where the "Status" column in the follower indices table did not update after pausing or resuming a follower index {pull}69228[#69228]
* Fixes a bug in Index Lifecycle Management where it was not possible to clear the index priority value when saving a policy {pull}70154[#70154]
* Fixes a bug in Cross-Cluster Replication where the user was prompted with an error message when attempting to use the UI with missing cluster privileges. The user should now be prompted
with a message indicating what privileges are missing {pull}70158[#70158]
* Ignores url.url fields above 2048 characters {pull}69863[#69863]
Maps::
* Fixes mb-style interpolate style rule {pull}68413[#68413]
* Fixes unable to edit heatmap metric {pull}70606[#70606]
Metrics::
* Fixes fatal error when no data is available for Metric Threshold Alerts {pull}68678[#68678]
* Fixes EuiTheme type issue {pull}69735[#69735]
Monitoring::
* Addresses a few longstanding issues with APM Stack Monitoring {pull}69052[#69052]
* Makes sure we fetch all collection status {pull}67172[#67172]
* Adds Cloud as an optional dependency {pull}69050[#69050]
* Fixes links missing a hash {pull}69861[#69861]
Operations::
* Adds spaces settings {pull}69019[#69019]
Platform::
* Don't allow empty string for server.basePath config {pull}69377[#69377]
Reporting::
* Don't set a min-length on encryption key for reporting {pull}69827[#69827]
SIEM::
* Eliminates Superfluous Untitled Timelines {pull}65783[#65783]
* Fixes 7.8 upgrade issue within rules where you can get the error "params invalid: [lists]: definition for this key is missing" {pull}69434[#69434]
* Excludes glob-only (*) Index Pattern from map layers {pull}69736[#69736]

[[release-notes-7.8.0]]
== {kib} 7.8.0

[float]
[[breaking-changes-7.8.0]]
=== Breaking changes

See also <<breaking-changes-7.8,breaking changes in 7.8>>.

Dashboard::
* Fixes back button by removing panels from url in dashboard in view mode {kib-pull}62415[#62415]
Metrics::
* Refactors action messaging to report on No Data state {kib-pull}64365[#64365]

[float]
[[known-issues-7.8.0]]
=== Known issue

SIEM::
* When you duplicate a rule with a deleted action connector, the duplication fails {kib-issue}69142[#69142]

[float]
[[enhancement-7.8.0]]
=== Enhancements
Alerting::
* Adds query support to the Event Log {kib-pull}62015[#62015]
* Removes edit alert button from alerts list {kib-pull}64643[#64643]
* Implements actions server API for supporting preconfigured connectors {kib-pull}62382[#62382]
* Adds UI for pre-configured connectors. {kib-pull}63074[#63074]
APM::
* Adda new Service map external icons {kib-pull}63844[#63844]
* Improves the selected node style {kib-pull}64279[#64279]
* Adds tooltip explaining Group ID {kib-pull}60425[#60425]
* Uses navigateToApp for infra/metrics/uptime links {kib-pull}65712[#65712]
* Observability real user monitoring solution layer {kib-pull}64949[#64949]
* Spans reparenting to support inferred spans {kib-pull}63695[#63695]
* Marks an Agent configuration as applied without etag attribute {kib-pull}63967[#63967]
* Agent remote config validation for Java agent configs {kib-pull}63956[#63956]
* Annotations API {kib-pull}64796[#64796]
* Adds Error Exception Type Column {kib-pull}59596[#59596]
* Service map anomaly indicators {kib-pull}64718[#64718]
Canvas::
* Adds Top Menu {kib-pull}59982[#59982]
* Adds refresh and autoplay options to view menu {kib-pull}64375[#64375]
* Adds edit menu {kib-pull}64738[#64738]
* Reduces report generation time by re-using headless browser page in background {kib-pull}63301[#63301]
Dashboard::
* Adds duplicate panel feature {kib-pull}61367[#61367]
* Return to dashboard after editing embeddable {kib-pull}62865[#62865]
Lens and visualizations::
* Triggers a filter action on click in datatable visualization {kib-pull}63840[#63840]
* Enables include/exclude in Terms agg for numeric fields {kib-pull}59425[#59425]
* Allows user to drag and select a subset of the timeline in the chart (aka brush interaction) {kib-pull}62636[#62636]
* Uses default {kib} palette for split series {kib-pull}62241[#62241]
* Removes duplicate refresh button from vis editor menu {kib-pull}63633[#63633]
* Binds all time fields to the time picker {kib-pull}63874[#63874]
* Uses Top 5 instead of Top 3 for first suggestion {kib-pull}64726[#64726]
* Adds pie and treemap charts {kib-pull}55477[#55477]
Machine Learning::
* Wizards with dynamic model memory estimation {kib-pull}60888[#60888]
* Shows better file structure finder explanations {kib-pull}62316[#62316]
* Adds configurable file size to file data visualizer {kib-pull}62752[#62752], {kib-pull}63502[#63502], {kib-pull}64427[#64427]
* Lists global calendars on the job management page {kib-pull}63124[#63124]
* Improves parsing of large uploaded files {kib-pull}62970[#62970]
* Enables mml estimation in data recognizer module setup {kib-pull}64900[#64900]
* Updates memory estimate after adding exclude fields {kib-pull}62850[#62850]
* Replaces table with data grid {kib-pull}63650[#63650] and {kib-pull}63757[#63757]
* Fixes feature importance {kib-pull}61761[#61761]
* Adds embeddable anomaly swimlane {kib-pull}65180[#65180]
* Improves progress reporting for analytics jobs {kib-pull}65305[#65305]
Management::
* Adds Ingest Node Pipelines UI {kib-pull}62321[#62321]
* Adds Transforms single column wizard {kib-pull}64436[#64436]
* Edits transform flyout {kib-pull}65033[#65033]
* Adds docs_per_second to transform edit form {kib-pull}65365[#65365]
Maps::
* Separates layer wizards for Clusters and heatmap {kib-pull}60870[#60870]
* Allows updating requestType for ESGeoGridSource {kib-pull}62365[#62365]
* Adds date-fields to metrics selection {kib-pull}62629[#62629]
* Shows create filter button for top-term tooltip property {kib-pull}62461[#62461]
* Turns on blended layer for geojson upload {kib-pull}63200[#63200]
* Updates geospatial filters to use geo_shape query for geo_point fields {kib-pull}62966[#62966]
* Min and max zoom map settings {kib-pull}63714[#63714]
* Shows spatial filters on map to provide context when for active filters {kib-pull}63406[#63406]
* Fits geo_shape to bounds {kib-pull}64303[#64303]
* Disables edit layer button when flyout is open for add layer or map settings {kib-pull}64230[#64230]
* Do not display EMS or {kib} layer wizards when not configured {kib-pull}64554[#64554]
* Initial location map settings {kib-pull}64336[#64336]
* Adds categorical palettes with 20 and 30 categories {kib-pull}64701[#64701]
* Adds oil rig icon from @elastic/maki {kib-pull}64364[#64364]
* Highlights selected layer in TOC {kib-pull}61510[#61510]
* Adds global fit to data {kib-pull}64702[#64702]
Metrics::
* View log in context modal {kib-pull}62198[#62198]
* Refreshes the design for Inventory View, Episode 1 {kib-pull}64026[#64026]
* Adds Charts to Alert Conditions {kib-pull}64384[#64384]
* Adds 99th and 95th percentiles to Metric Explorer {kib-pull}64699[#64699]
* Adds category data quality warning based on ML job stats {kib-pull}60551[#60551]
* Adds dataset filter to ML module setup screen {kib-pull}64470[#64470]
* Alerting {kib-pull}62806[#62806]
* Enhances Alerts management page {kib-pull}64654[#64654]
* Adds inventory metric threshold alerts {kib-pull}64292[#64292]
* Adds outside range comparator {kib-pull}63993[#63993]
Platform::
* Uses brotli compression for some KP assets {kib-pull}64367[#64367]
Reporting::
* Adds a new config flag to encode with BOM for our CSVs {kib-pull}63006[#63006]
* Adds config flag to escape formula CSV values {kib-pull}63645[#63645]
Security::
* Every provider can now be configured with the access agreement message (markdown syntax) that will be presented to the
users after login. Users won't be able to use Kibana until they acknowledge this agreement {kib-pull}63563[#63563]
* Login Selector UI was refined and can now offer much more customization options {kib-pull}64142[#64142]
SIEM::
* Enhances threat hunting for Filter for/out value, Show top field, Copy to Clipboard, Draggable chart legends {kib-pull}61207[#61207]
* Adds drag between ANDs in timeline queries / add to timeline {kib-pull}65228[#65228]
* Creates template timeline {kib-pull}63136[#63136]
* Adds lists feature flag and list values to the REST interfaces {kib-pull}60171[#60171]
* Adds an error aggregator by error reason and a way to filter them {kib-pull}63513[#63513]
* Adds large list support using REST endpoints {kib-pull}62552[#62552]
* Server cutover to New Platform {kib-pull}63430[#63430]
* Updates list values in REST interfaces {kib-pull}62320[#62320]
* Updates KQL/Lucene search to include lists exceptions {kib-pull}63264[#63264]
* Updates rule.lists to be rule.exceptions_list {kib-pull}63717[#63717]
* Moves All Rules tabs to match other tabs UI {kib-pull}63920[#63920]
* Minor updates to monitoring table with unit tests {kib-pull}64020[#64020]
* Moves jira to a gold license {kib-pull}67178[#67178]
Uptime::
* Adds cert API request and runtime type checking {kib-pull}63062[#63062]
* Updates TLS settings {kib-pull}64111[#64111]
* TLS alerting {kib-pull}63913[#63913]
* Adds new nav {kib-pull}64018[#64018]
* Certificate expiration threshold settings {kib-pull}63682[#63682]
* Certificates page {kib-pull}64059[#64059]
* Filters in create alert flyout {kib-pull}64753[#64753]
* Moves status filter to monitor list {kib-pull}65049[#65049]

[float]
[[bug-7.8.0]]
=== Bug fixes
Alerting::
* TaskManager tasks scheduled without attempting to run {kib-pull}62078[#62078]
* Only fetching TaskManager's available tasks once per call to fillPool {kib-pull}61991[#61991]
* Restores migrations of old tasks in TM {kib-pull}65978[#65978]
* Fixes pre-configured docs link points to the wrong page and functional tests configs {kib-pull}68606[#68606]
APM::
* Custom links section inside the Actions menu is showing outside of the menu {kib-pull}65428[#65428]
* Removes link from active page in the breadcrumb {kib-pull}65473[#65473]
* Agent configuration: Bug makes it possible to create invalid configurations {kib-pull}65508[#65508]
* Scope APM alert creation to environment {kib-pull}65681[#65681]
* Cannot click through to details of an error on the waterfall page if the error is missing `transaction.id` {kib-pull}66386[#66386]
* Removes service maps badge row and num instances in popover {kib-pull}65492[#65492]
* Handle ML integration when ML is disabled {kib-pull}66158[#66158]
* Fixes 'Enable watcher error reports' 400 error {kib-pull}68465[#68465]
* Updates apm index pattern {kib-pull}65424[#65424]
* Ensures that `/api/apm/security/indices_privileges` doesn't fail when security is disabled {kib-pull}64627[#64627]
* Fixes query bar Japanese translation {kib-pull}68037[#68037]
* Service map fix focused node edges on unselect {kib-pull}63655[#63655]
* Fixes duplicate index patterns {kib-pull}64883[#64883]
Canvas::
* Bug/pagination enabled empty workpad {kib-pull}62050[#62050]
Dashboard::
* Improves dashboard loading error handling {kib-pull}66372[#66372]
Design::
* Adds max-height to recently viewed links {kib-pull}66297[#66297]
Discover::
* match_all query disappears when typed into Lucene query bar {kib-pull}62194[#62194]
* KQL removes leading zero and breaks query {kib-pull}62748[#62748]
* Shows doc viewer action buttons on focus {kib-pull}64912[#64912]
* Fixes renaming of saved search not displayed in breadcrumb {kib-pull}67577[#67577]
* Replaces EuiTooltip by native title for better performance {kib-pull}68280[#68280]
* Clicking cancel in saved query save modal doesn't close it {kib-pull}62774[#62774]
Graph::
* Changes the copy from blacklist to blocklist {kib-pull}65419[#65419]
Kibana UI::
* Updates home link click handler {kib-pull}68132[#68132]
* Updates Canvas location in nav {kib-pull}65519[#65519]
* Fixes Recently Viewed links allowing them to close the nav when clicked {kib-pull}66280[#66280]
Lens and visualizations::
* Fixes redirect after reload {kib-pull}66328[#66328]
* Auto interval on date histogram is getting displayed as timestamp perâ€¦ {kib-pull}59171[#59171]
* Fixes visualize and lens telemetry {kib-pull}67749[#67749]
* Removes redundant formatting of percentage column {kib-pull}64948[#64948]
* Uses correct text color in metric vis on dark background {kib-pull}67481[#67481]
* Fixes the problem on adding color rules {kib-pull}67763[#67763]
* Fixes bug where suggestions didn't use filters {kib-pull}63293[#63293]
* Only show copy on save for previously saved docs {kib-pull}63535[#63535]
* Fixes escaping of field names {kib-pull}63509[#63509]
* Makes average the default metric when dragging a field directly {kib-pull}63416[#63416]
* Fixes bug in field list when _source contained fields with dots {kib-pull}63752[#63752]
* Allows table to scroll horizontally {kib-pull}63805[#63805]
* Migrates timelion vis {kib-pull}62819[#62819]
* TSVB Validation fix color rule validation {kib-pull}67759[#67759]
Machine Learning::
* Fixes the limit control on the Anomaly explorer page {kib-pull}65459[#65459]
* Hides selector helper in Anomaly Explorer swimlane {kib-pull}65522[#65522]
* Fixes dashboard URLs for auditbeat module {kib-pull}65707[#65707]
* Fixes vertical overflow on Single Metric Viewer page {kib-pull}66413[#66413]
* Catches unknown index pattern errors {kib-pull}61935[#61935]
* Disables data frame anaylics clone button based on permission {kib-pull}64830[#64830]
* Disables calendar all job switch {kib-pull}65635[#65635]
* Shows warning when the model memory limit is higher than the memory available in the ML node {kib-pull}65652[#65652]
* Removes assignment_explanation when cloning job {kib-pull}68226[#68226]
* Ensures at least one field is included in analysis before data frame analytics job is created {kib-pull}65320[#65320]
* Anomaly Explorer: if filter includes wildcard ensure matching swimlanes are not masked {kib-pull}65384[#65384]
* Fixes reordering in view by swimlane when overall cell selected {kib-pull}65290[#65290]
* Fixes anomaly charts for rare detectors when model plot is enabled {kib-pull}66075[#66075]
* Adds job timing stats to anomaly jobs {kib-pull}65696[#65696]
* Fixes anomaly dot plotted in wrong location in Single Metric Viewer {kib-pull}66071[#66071]
Management::
* Fixes error when deleting snapshots behind reverse proxy {kib-pull}66147[#66147]
* Fixes bug when editing retention of slm policy {kib-pull}67137[#67137]
* Fixes fetch policies query {kib-pull}67827[#67827]
* Adds missing time unit labels {kib-pull}68205[#68205]
* Fixes pagination bugs in CCR and Remote Clusters {kib-pull}65931[#65931]
* Cleans up doc title when navigating away from Snapshot Restore {kib-pull}67906[#67906]
* Fixes boolean cell values in analytics table result views and transforms wizard {kib-pull}62618[#62618]
* Index pattern management - field list - localization functions returning empty strings {kib-pull}64055[#64055]
Maps::
* Fixes replaceLayerList to handle case where map is not intialized {kib-pull}62202[#62202]
* Safely handles empty string and invalid strings from EuiColorPicker {kib-pull}62507[#62507]
* Do not show circle border when symbol size is zero {kib-pull}62644[#62644]
* Fixes attribution overflow with exit full screen button {kib-pull}62699[#62699]
* Creates NOT EXISTS filter for tooltip property with no value {kib-pull}62849[#62849]
* Fixes bug where toggling Scaling type does not re-fetch data {kib-pull}63326[#63326]
* Fixes double fetch when filter pill is added {kib-pull}63024[#63024]
* Fixes term join agg key collision {kib-pull}63324[#63324]
* Fixes date labels {kib-pull}63909[#63909]
* Removes SLA percentage metric {kib-pull}65718[#65718]
* Removes dateline check for geo_shape queries, split geo_bounding_box queries that cross dateline into 2 boxes {kib-pull}64598[#64598]
* Handles case where fit to bounds does not match any documents {kib-pull}66307[#66307]
* Returns bounding box for static feature collection without joins {kib-pull}66607[#66607]
* Fixes legend icon color for custom categorial palettes {kib-pull}67141[#67141]
Metrics::
* Disables search bar when live stream is on {kib-pull}65491[#65491]
* Ensures live stream always gets latest entries {kib-pull}67935[#67935]
* Fixes time picker layout issues on Inventory View {kib-pull}66094[#66094]
* Fixes validation for threshold values {kib-pull}66281[#66281]
* Prevents component errors from breaking the whole UI {kib-pull}65456[#65456]
* Fixes mistake in container ip field name {kib-pull}66198[#66198]
* Fixes time state bug {kib-pull}67630[#67630]
* Require filterQuery to be ES JSON {kib-pull}64937[#64937]
* Debounce onChange in alert creation UI {kib-pull}65167[#65167]
* Fixes default metric alert interval for new conditions {kib-pull}66610[#66610]
Platform::
* Fixes inconsistent search behaviour in Advanced Settings {kib-pull}64510[#64510]
* SavedObjects bulkCreate API should return migrationVersion and strip the type &amp; namespace from the id {kib-pull}65150[#65150]
* Fixes task manager cancel warning {kib-pull}63756[#63756]
* New Kibana app link order {kib-pull}67991[#67991]
Security::
* Fix authentication loop when upgrading Kibana from 6.8 to 7.7+ {kib-pull}67687[#67687]
* Previously, users couldn't log in with SAML Identity Provider Initiated flow (e.g. from Okta Dashboard) if they already had
an existing, but expired session. Now it should be possible {kib-pull}59686[#59686]
* Fixes EncryptedSavedObjectsClientWrapper fails on stripEncryptedAttributes for saved object with errors {kib-pull}61385[#61385]
* Adds username/password validation to login form {kib-pull}60681[#60681]
SIEM::
* Fixes import bug with non existent signals index {kib-pull}65595[#65595]
* Restricts ML rule modification to ML Admins {kib-pull}65583[#65583]
* Fixes timeline buildGlobalQuery {kib-pull}68320[#68320]
Uptime::
* Refreshes index and also show more info to user regarding index/data {kib-pull}62606[#62606]
* Updates uptime ml job id to limit to 64 char {kib-pull}64394[#64394]
* Enables deselection of stale filters {kib-pull}65523[#65523]
* Unmounts uptime app properly {kib-pull}66950[#66950]

[float]
[[deprecation-7.8.0]]
=== Deprecations
Platform::
* Deprecates IE11 support {kib-pull}66512[#66512]
Security::
* Deprecates {kib} user in favor of kibana_system user {kib-pull}63186[#63186]

[[release-notes-7.7.1]]
== {kib} 7.7.1

See <<breaking-changes-7.7,breaking changes in 7.7>>.

[float]
[[security-update-7.1.1]]
=== Security update
In {kib} 5.4.0 and later, TSVB visualizations contain a stored XSS flaw. Attackers that can
edit and create TSVB visualizations can obtain sensitive information, or perform
destructive actions, on behalf of the {kib} users who edit the TSVB visualization, CVE-2020-7015.

You must upgrade to 7.7.1. If you are unable to upgrade, set `metrics.enabled:false` in your kibana.yml file to disable TSVB.

[float]
[[bug-7.7.1]]
=== Bug fixes
Alerting::
* Fixes bug with no possibility to edit the index name after adding {kib-pull}64033[#64033]
* Corrects validation and errors handling in PagerDuty action {kib-pull}63954[#63954]
* Fixes saving doc count alerts {kib-pull}63750[#63750]
* Fixes issue when connectors dropdown not showing all avaliable connectors {kib-pull}63636[#63636]
* Fixes inability to clear numeric field in a "Group over top docs" condition {kib-pull}63543[#63543]
* Handles when an Alerting Task fails due to its Alert object being deleted mid flight {kib-pull}63093[#63093]
APM:
* Encodes spaces when creating ML job {kib-pull}63683[#63683]
Canvas::
* Fixes bring to front shortcut label {kib-pull}67374[#67374]
* Fixes add page CSS animation bug {kib-pull}66496[#66496]
Dashboard::
* Shows visualization in Safari in dashboard fullscreen {kib-pull}66894[#66894]
* Fixes saved object share link {kib-pull}66771[#66771]
* Don't lose dashboard/visualize/discover state when navigating to other applications {kib-pull}66766[#66766]
Discover::
* Don't lose dashboard/visualize/discover state when navigating to other applications {kib-pull}66766[#66766]
Lens and visualizations::
* Fixes redirect on reload {kib-pull}66491[#66491]
* Timelion graph is not refreshing content after searching or filtering {kib-pull}67023[#67023]
* Don't lose dashboard/visualize/discover state when navigating to other applications {kib-pull}66766[#66766]
* Fixes redirect on reload {kib-pull}66491[#66491]
* Shows missing values on chart setting {kib-pull}66375[#66375]
* Usage of custom plugins using the @plugin statement and inline JavaScript in less code used in the TSVB Markdown
visualization is not allowed anymore. Using it will simply not apply the styles {kib-pull}65467[#65467]
* Fixes std deviation band mode {kib-pull}64413[#64413]
* Reloads on ui state change and fix ui state for tsvb {kib-pull}63699[#63699]
Machine Learning:
* Fixes watch creation {kib-pull}65956[#65956]
* Fixes new job wizard with multiple indices {kib-pull}64567[#64567]
* Fixes optional plugin dependency types {kib-pull}64450[#64450]
* Ensures both keyword/text types are excluded for selected excluded field {kib-pull}62712[#62712]
Management::
* Fixes an integration issue with the security plugin in Ingest Pipelines and Snapshot and Restore that would incorrectly
report requiring security to be enabled when the plugins should work normally without security.
This affects the default docker distribution {kib-pull}67308[#67308]
* Preserves saved object references when saving the object {kib-pull}66584[#66584]
* Fixes detail panel for indices with % in the name {kib-pull}66435[#66435]
* Setting dev_tools.enabled: false in kibana.yml will no longer crash Kibana {kib-pull}66276[#66276]
* Fixes `mappings` keyword in Index Management plugin (Index detail pane, Mapping tab) {kib-pull}66012#66012]
Maps::
* Handle cross cluster index _settings resp {kib-pull}66797[#66797]
* Fixes edit filter {kib-pull}64586[#64586]
Metrics::
* Migrating Docker network fields {kib-pull}65133[#65133]
* Removes APM Hard Dependency {kib-pull}64952[#64952]
* Fixes for editing alerts in alert management {kib-pull}64597[#64597]
* Fixes alerting when a filter query is present {kib-pull}64575[#64575]
* Allows users to create alerts from the central Alerts UI {kib-pull}63803[#63803]
* Remove remaining field filtering {kib-pull}63398[#63398]
Monitoring::
* Uses custom route to ensure global state is preserved {kib-pull}63891[#63891]
* Ensures time picker is actually disabled {kib-pull}63709[#63709]
* Fixes server response errors {kib-pull}63181[#63181]
Platform::
* Allows any type for customResponseHeaders config {kib-pull}66689[#66689]
Security::
* Allows IdP initiated SAML login with session containing expired token {kib-pull}59686[#59686]
SIEM::
* Updates alert apiKey when the rule is updated {kib-pull}67364[#67364]
* Fixes Network Map empty tooltip {kib-pull}66828[#66828]
* Changes find_statuses route HTTP method from GET to POST {kib-pull}63508[#63508]
Uptime::
* Updates duration chart query filters {kib-pull}63620[#63620]


[[release-notes-7.7.0]]
== {kib} 7.7.0

See <<breaking-changes-7.7,breaking changes in 7.7>>.

[float]
[[security-update-7.7.0]]
=== Security updates
* In 7.7.0 to 7.6.2, the Upgrade Assistant contains a prototype pollution flaw. An authenticated attacker with
privileges to write to the {kib} index can insert data that could cause {kib} to execute arbitrary code. This
could lead to an attacker executing code with the permissions of the {kib} process on the host system, CVE-2020-7012.
+
By default, the Upgrade Assistant flaw is mitigated in all {kib} instances accessed through {ess}.
+
For all other installations, you must upgrade to 7.7.0. If you are unable to upgrade, set `xpack.upgrade_assistant_enabled:false` in your kibana.yml file to disable the Upgrade Assistant.

* In 7.7.0 and earlier, TSVB contains a prototype pollution flaw. Authenticated attackers with privileges to create
TSVB visualizations can insert data that could cause {kib} to execute arbitrary code. This
could lead to an attacker executing code with the permissions of the {kib} process on the host system, CVE-2020-7013.
+
By default, the Upgrade Assistant flaw is mitigated in all {kib} instances accessed through {ess}.
+
For all other installations, you must upgrade to 7.7.0. If you are unable to upgrade, set `metrics.enabled:false` in your kibana.yml file to disable TSVB.

[float]
[[deprecations-7.7.0]]
=== Deprecations

The following functionality is deprecated in 7.7.0, and will be removed in 8.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 7.7.0.

[discrete]
[[deprecation-53010]]
==== Deprecates authentication settings

*Details* +

Deprecates the `xpack.security.authc.saml.realm` and `xpack.security.authc.saml.maxRedirectURLSize` settings used for {kib} SAML authentication. 

Deprecates the `xpack.security.authc.oidc.realm` settings used for {kib} OpenID Connect authentication. 

For more information, refer to {kibana-pull}53010[#53010].

*Impact* +

* Instead of `xpack.security.authc.saml.realm`, use `xpack.security.authc.providers.saml.<provider-name>.realm`.

* Instead of `xpack.security.authc.saml.maxRedirectURLSize`, use `xpack.security.authc.providers.saml.<provider-name>.maxRedirectURLSize`.

* Instead of `xpack.security.authc.oidc.realm`, use `xpack.security.authc.providers.oidc.<provider-name>.realm`.

[float]
[[known-issues-7.7.0]]
=== Known issues

SIEM::
* When you deactivate an action within a rule, the rule fails {kib-issue}64870[#64870]
* When you add a timestamp to the PagerDuty action, the rule fails {kib-issue}64871[#64871]

Management::
* Editing Saved Objects (eg. Dashboards) via the "Inspect" JSON editor in Management corrupts objects {kib-issue}66542[#66542]

Configuration::
* The `server.customResponseHeaders` option prevents {kib} from starting if headers are set using a type other than string.
To fix this, convert your boolean and number headers to strings.  For example, use `my-header: "true"` instead of `my-header: true`.
{kib-issue}66146[#66146]

[float]
[[enhancement-7.7.0]]
=== Enhancements
Alerting::
* Notifies user when security is enabled but TLS is not {kib-pull}60270[#60270]
* Displays warning when a permanent encryption key is missing and hides alerting UI appropriately {kib-pull}62772[#62772]
* Edits alert flyout {kib-pull}58964[#58964]
* Moves index params fields to connector config {kib-pull}60349[#60349]
* Adds the AlertDetails page {kib-pull}55671[#55671]
* License checks for actions plugin {kib-pull}59070[#59070]
APM::
* Updates monospace font family variable {kib-pull}57555[#57555]
* Shows missing permissions message to the user on the Services overview {kib-pull}56374[#56374]
* Settings list page for managing custom actions {kib-pull}56853[#56853]
* Divides &quot;Actions menu&quot; into sections to improve readability {kib-pull}56623[#56623]
* Creates settings page to manage Custom Links {kib-pull}57788[#57788]
* Creates custom link from Trace summary {kib-pull}59648[#59648]
* Writes tests for the Custom Link API {kib-pull}60899[#60899]
* Threshold alerts  {kib-pull}59566[#59566]
* Adds additional (java) options {kib-pull}59860[#59860]
* Sync badge {kib-pull}55113[#55113]
* Client.ip to metadata for RUM transactions {kib-pull}56546[#56546]
Canvas::
* Adds Lens embeddables {kib-pull}57499[#57499]
* Switches to using EUI SuperDatePicker in time filter element {kib-pull}59249[#59249]
* Adds Visualize embeddable {kib-pull}60859[#60859]
* Adds argument to open all links in new tab within markdown element {kib-pull}57017[#57017]
* Updates esdocs datasource {kib-pull}59512[#59512]
* Improves expression autocomplete {kib-pull}52035[#52035]
Dashboard::
* Use Elasticsearch `_async_search` instead of `_search` when it is available (excluding TSVB, Timelion, and Vega) {kib-pull}59224[#59224}
* When queries run more than 10 seconds, show a pop-up to allow users to run the queries beyond the configured Elasticsearch query timeout or cancel the queries {kib-pull}60706[#60706]
* Dashboard/add panel flow {kib-pull}59918[#59918]
* Moves the "Create New" button in add panel flyout to the top to make it more visible to the user {kib-pull}56428[#56428]
Lens and visualizations::
* Creates Lens filters on click with bar, line, area charts {kib-pull}57261[#57261]
* Allows number formatting within Lens {kib-pull}56253[#56253]
* Shows a warning when you have partially configured a visualization, such as a bar chart with only an X axis {kib-pull}58279[#58279]
* Improves suggestion logic when dragging fields into the chart {kib-pull}60687[#60687]
* Disallows duplicate percentiles {kib-pull}58299[#58299]
* EUICodeEditor for Visualize JSON  {kib-pull}58679[#58679]
* Supports Histogram Data Type {kib-pull}59387[#59387]
* Median aggregation labels now show "Median" instead of "50th percentile of" in Visualize. Custom labels are also used {kib-pull}58521[#58521]
* Adds positive_rate as a new aggregation to TSVB {kib-pull}59843[#59843]
* Makes linked saved search work when user navigates back using browser back button {kib-pull}59690[#59690]
* Visualization editor UI has been updated to the new styles, consistent with the rest of the platform and a more logical left-to-right flow of creating content {kib-pull}49864[#49864]
Logs::
* Uses the Super date picker in the log stream {kib-pull}54280[#54280]
* Adds expandable rows with category examples {kib-pull}54586[#54586]
* Shows navigation bar while loading source configuration {kib-pull}59997[#59997]
Machine Learning::
* Processes delimited files like semi-structured text {kib-pull}56038[#56038]
* Supports multi-line JSON notation  {kib-pull}58870[#58870]
* Validates manual model memory input {kib-pull}59056[#59056]
* Clones analytics job  {kib-pull}59791[#59791]
* Uses a new ML endpoint to estimate a model memory {kib-pull}60376[#60376]
* Module setup with dynamic model memory estimation {kib-pull}60656[#60656]
* Adds text fields to datafeed start modal {kib-pull}55560[#55560]
* Categorization examples privilege check {kib-pull}57375[#57375]
* Adds filebeat config to file dataviz {kib-pull}58152[#58152]
* Global calendars {kib-pull}57890[#57890]
* Adds indices_options to datafeed {kib-pull}59119[#59119]
* Displays multi-class results in evaluate panel {kib-pull}60760[#60760]
* Adds support for date_nanos time field in anomaly job wizard {kib-pull}59017[#59017]
* Uses EuiDataGrid for outlier result page {kib-pull}58235[#58235]
* Supports multi-line JSON notation in advanced editor {kib-pull}58015[#58015]
* Adds support for percentiles aggregation to Transform wizard {kib-pull}60763[#60763]
* Adds clone feature to transforms list {kib-pull}57837[#57837]
* Uses EuiDataGrid for transform wizard {kib-pull}52510[#52510]
* Replaces KqlFilterBar with QueryStringInput {kib-pull}59723[#59723]
Management::
* The Remote Clusters UI added support for enabling "proxy" mode when creating or editing a remote cluster {kib-pull}59221[#59221]
* Adds filter for ILM phase to Index Management {kib-pull}57402[#57402]
* Creates Painless Lab app {kib-pull}57538[#57538]
* Moves out of legacy {kib-pull}55331[#55331]
* Moves out of legacy and migrates server side to New Platform {kib-pull}55690[#55690]
* Updates Console progress bar {kib-pull}56628[#56628]
* Auto follow pause &amp; resume {kib-pull}56615[#56615]
* Supports triple quoted JSON strings and Painless highlighting to Watcher and SearchProfiler {kib-pull}57563[#57563]
* Server-side batch reindexing {kib-pull}58598[#58598]
* Better handling of closed indices {kib-pull}58890[#58890]
* Advanced settings UI change to centralize save state {kib-pull}53693[#53693]
* The autocomplete in the dev console now supports many different types of Elasticsearch pipeline processors {kib-pull}60553[#60553]
Maps::
* Improves Layer Style UI {kib-pull}58406[#58406]
* Shows field type icons in data driven styling field select {kib-pull}55166[#55166]
* Style icons by category {kib-pull}55747[#55747]
* Adds type icons to SingleFieldSelect component {kib-pull}56313[#56313]
* Disables style forms when they are not applied due to other style settings {kib-pull}55858[#55858]
* Autocompletes for custom color palettes and custom icon palettes {kib-pull}56446[#56446]
* Allows simultaneous opening of multiple tooltips {kib-pull}57226[#57226]
* Adds Top term aggregation {kib-pull}57875[#57875]
* Direct Discover &quot;visualize&quot; to open Maps application {kib-pull}58549[#58549]
* Top term percentage field property {kib-pull}59386[#59386]
* Adds UI to disable style meta and get top categories from current features {kib-pull}59707[#59707]
* Adds draw control to create distance filter {kib-pull}58163[#58163]
* Blended layer that switches between documents and clusters {kib-pull}57879[#57879]
* Default ES document layer scaling type to clusters and show scaling UI in the create wizard {kib-pull}60668[#60668]
* Disables add layer button when flyout is open {kib-pull}54932[#54932]
* Supports categorical styling for numbers and dates {kib-pull}57908[#57908]
Metrics::
* Setup commonly used time ranges in timepicker {kib-pull}56701[#56701]
* Custom Metrics for Inventory View {kib-pull}58072[#58072]
* Alerting for metrics explorer and inventory {kib-pull}58779[#58779]
* Creates a new menu for observability links {kib-pull}54847[#54847]
* Creates Metric Threshold Alert Type and Executor {kib-pull}57606[#57606]
Monitoring::
* Supports shipping directly to the monitoring cluster {kib-pull}57022[#57022]
Platform::
* Improves validation in truncate field formatter editor {kib-pull}56521[#56521]
* Variable support for interpreter {kib-pull}54788[#54788]
Reporting::
* Handles page setup errors and capture the page, don't fail the job {kib-pull}58683[#58683]
* Adds the ability to search and delete historical reports in Management > Kibana > Reporting {kib-pull}60077[#60077]
SIEM::
* Recent cases widget {kib-pull}60993[#60993]
* Adds custom reputation link {kib-pull}57814[#57814]
* Exports timeline {kib-pull}58368[#58368]
* Rule activity monitoring {kib-pull}60816[#60816]
* Removes has manage api keys requirement {kib-pull}62446[#62446]
* Adds release notes link and updates one UI section {kib-pull}60825[#60825]
* Adds rule notifications {kib-pull}59004[#59004]
* Version 7.7 rule import {kib-pull}61903[#61903]
* Creates ML Rules {kib-pull}58053[#58053]
* Case workflow api schema {kib-pull}51535[#51535]
* Service Now {kib} Action {kib-pull}53890[#53890]
* API with io-ts validation {kib-pull}59265[#59265]
* Status / Batch update {kib-pull}59856[#59856]
* Imports timeline {kib-pull}60880[#60880]
* Bug/clean up phase I {kib-pull}61354[#61354]
* Cases clean up Phase II {kib-pull}61750[#61750]
* Modifies gap detection util to accept all dateMath formats {kib-pull}56055[#56055]
* Adds note markdown field to backend {kib-pull}59796[#59796]
* Adds rule markdown field to rule create, detail, and edit flows {kib-pull}60108[#60108]
* Adds rule markdown to timeline global notes {kib-pull}61026[#61026]
* ServiceNow executor {kib-pull}58894[#58894]
* ServiceNow action improvements {kib-pull}60052[#60052]
Security::
* Uses links instead of click handlers when switching spaces {kib-pull}57730[#57730]
* Introduce a login selector screen when multiple auth providers are enabled {kib-pull}53010[#53010]
* Warn when using deprecated roles {kib-pull}57209[#57209]
* Support for subfeature privileges {kib-pull}60563[#60563]
Telemetry::
* Application Usage implemented in @kbn/analytics {kib-pull}58401[#58401]
* Server-side Migration to NP {kib-pull}60485[#60485]
* Use EuiTokens for ES field types {kib-pull}57911[#57911]
* Adds 7 day metrics to Application Usage telemetry {kib-pull}59846[#59846]
Uptime::
* Adds Settings Page {kib-pull}53550[#53550]
* Adds Alerting UI {kib-pull}57919[#57919]
* Adds configurable page size to monitor list {kib-pull}60573[#60573]
* Adds Green Icon for all up Monitors {kib-pull}56770[#56770]
* Implements drag and select on charts {kib-pull}57089[#57089]
* Fix/filter group autocomplete {kib-pull}57686[#57686]
* Ml detection of duration anomalies {kib-pull}59785[#59785]

[float]
[[bug-7.7.0]]
=== Bug fixes
Alerting::
* Retains empty AlertsList when filter has removed all items {kib-pull}60501[#60501]
* Fixes alert threshold line disappears {kib-pull}61499[#61499]
* Cleanup action task params objects after successful execution {kib-pull}55227[#55227]
* Disables action plugin functionality when ESO plugin is using an ephemeral encryption key {kib-pull}56906[#56906]
* Makes slack param validation handle empty messages {kib-pull}60468[#60468]
* Makes user and password secrets optional {kib-pull}56823[#56823]
APM::
* Changes &quot;url&quot; to &quot;urls&quot; in APM agent instructions {kib-pull}60790[#60790]
* Uses ES Permission API to check if a user has permissions to read from APM indices {kib-pull}57311[#57311]
* Filters are not prefilled when the custom link flyout is opened from a transaction page {kib-pull}61650[#61650]
* .apm-agent-configuration is not created if {kib} is started while ES is not ready {kib-pull}61610[#61610]
* Donâ€™t include UI filters when fetching a specific transaction {kib-pull}57934[#57934]
* Uses docLinks API for APM doc links {kib-pull}61880[#61880]
* Updates APM index pattern {kib-pull}61265[#61265]
Canvas::
* Toggles footer editable controls when you turn off edit mode #52786 {kib-pull}58044[#58044]
* Fixes map embeddables not showing up on PDF reports {kib-pull}61149[#61149]
* Limits rows in debug element {kib-pull}60804[#60804]
Dashboard::
* Puts embed param into short url instead of behind it {kib-pull}58846[#58846]
* Allows markdown in error embeddable {kib-pull}62427[#62427]
Discover::
* Removes flickering when opening filter bar popover {kib-pull}56222[#56222]
* Retains pinned filters when loading and clearing saved queries {kib-pull}54307[#54307]
Graph::
* Specifies valid licenses for the Graph feature {kib-pull}55911[#55911]
* Improves graph missing workspace error message {kib-pull}58876[#58876]
Lens and visualizations::
* Filters out pinned filters from saved object of Lens {kib-pull}57197[#57197]
* Adds using queries/filters for field existence endpoint {kib-pull}59033[#59033]
* Fixes display single bar in XYChart Bar Vis {kib-pull}61452[#61452]
* Resetting a layer generates new suggestions {kib-pull}60674[#60674]
* Fixes disabled switches in the editor {kib-pull}62911[#62911]
* Fixes broken Handlebar documentation links {kib-pull}55866[#55866]
* Shows timepicker in Timelion and TSVB {kib-pull}58857[#58857]
* Makes Vega remove filter work {kib-pull}58871[#58871]
* Makes d3 place nicely with object values {kib-pull}62004[#62004]
* Fixes position calculation of ticks in non-horizontal axes {kib-pull}62309[#62309]
Logs::
* Correctly update the expanded log rate table rows {kib-pull}60306[#60306]
Machine Learning::
* Handles Empty Partition Field Values in Single Metric Viewer {kib-pull}61649[#61649]
* Fixes job wizard model memory limit warnings {kib-pull}62331[#62331]
* Files data viz fix index pattern warning after index change {kib-pull}57807[#57807]
* Uses real datafeed ID for datafeed preview {kib-pull}60275[#60275]
* Disables start trial option when license management ui is disabled {kib-pull}60987[#60987]
* Fixes jobs list filter in url {kib-pull}61822[#61822]
* Fixes job ID in edit job flyout {kib-pull}61840[#61840]
* Fixes reporting of http request errors {kib-pull}61811[#61811]
* Ensures confusion matrix label column is correct {kib-pull}60308[#60308]
* Ensures column in correct position after reselect  {kib-pull}61342[#61342]
* Ensures query bar syntax errors are shown  {kib-pull}61333[#61333]
* Ensures job state is up to date {kib-pull}61678[#61678]
* Increases number of items that can be paged in calendars and filters lists {kib-pull}61842[#61842]
* Uses index pattern field format if one exists {kib-pull}61709[#61709]
* Ensures filter works as expected {kib-pull}62041[#62041]
* Ensures destination index pattern created {kib-pull}62450[#62450]
* Fixes page heading structure {kib-pull}56741[#56741]
* Fixes handling of index pattern with special characters {kib-pull}59884[#59884]
* Fixes to error handling for analytics jobs and file data viz {kib-pull}60249[#60249]
* Fixes Anomaly Explorer swimlane label and chart tooltips {kib-pull}61327[#61327]
* Prevents training_percent of 0 for analytics job {kib-pull}61789[#61789]
* Removes duplicate page main landmarks {kib-pull}56883[#56883]
* Fixes license check {kib-pull}58343[#58343]
* Clears {kib} index pattern cache on creation or form reset {kib-pull}62184[#62184]
Management::
* Adds support for additional watch action statuses {kib-pull}55092[#55092]
* Fixes the Upgrade Assistant where the reindexing of an index was incorrectly marked as "Done", when it still required to be reindexed. This scenario could occur if a user reindexed an index, deleted it, then restored a snapshot of the index of an older version {kib-pull}60789[#60789]
* Fixes several invalid documentation links in the Snapshot and Restore UI {kib-pull}61331[#61331]
* Fixes for console error handling and loading of autocomplete {kib-pull}58587[#58587]
* Fixes a bug that caused Grokdebugger simulation to break in non-Default Kibana spaces {kib-pull}61423[#61423]
* Fixes an issue where Console would not render the request output if localStorage quota was reached {kib-pull}62424[#62424]
* Fixes a bug with Console's Copy As cURL functionality that would not properly escape single quotes in JSON string values which created issues with copying SQL queries from Console to cURL {kib-pull}63229[#63229]
* System index templates can't be edited {kib-pull}55229[#55229]
* Not possible to edit a watch that was created with the API if the ID contains a dot {kib-pull}59383[#59383]
* Fixes console a11y failures {kib-pull}57520[#57520]
Maps::
* Do not show border color for icon in legend when border width is zero {kib-pull}57501[#57501]
* Uses blended layer when linking discover to maps {kib-pull}61467[#61467]
* Fixes tooltip overflow {kib-pull}61564[#61564]
* Cleans up unsaved state check {kib-pull}61705[#61705]
* Fixes regression in loading left join fields {kib-pull}63325[#63325]
* Fixes cross origin error for icon spritesheets when Kibana secured via OAuth proxy {kib-pull}53896[#53896]
* Correctly open layer settings from add layer wizard {kib-pull}48971[#48971]
Metrics::
* Limits group by selector to only 2 fields {kib-pull}56800[#56800]
* Uses CPU Usage limits for Kubernetes pods when available {kib-pull}58424[#58424]
* Fixes toolbar popover for metrics table row {kib-pull}56796[#56796]
Monitoring::
* Handles setup mode if security is disabled {kib-pull}53306[#53306]
* Protects against no monitoring data near end of time series {kib-pull}61273[#61273]
* Adds new config for logging index name {kib-pull}56920[#56920]
Platform::
* Rollup index pattern error: must match one rollup index {kib-pull}56732[#56732]
* In scripted fields, unable to switch the `Type` {kib-pull}59285[#59285]
* Duplicates query filters in es request {kib-pull}60106[#60106]
* Bugfix dashboard unpins filters {kib-pull}62301[#62301]
* Fixes plugin enabled config options {kib-pull}60998[#60998]
* Fixes tabifyAggResponse {kib-pull}61214[#61214]
* Fixes parse interval {kib-pull}62267[#62267]
* Avoid 'app not found' flickering while awaiting for mount {kib-pull}56483[#56483]
* Creates empty string filters when value not specified {kib-pull}57442[#57442]
* Range aggregations now use the field formatter from the index pattern, instead of no formatter {kib-pull}58651[#58651]
Reporting::
* Fixes error handling for job handler in route {kib-pull}60161[#60161]
Security::
* Handling a 404 when the space's telemetry collector runs {kib-pull}55921[#55921]
SIEM::
* Allows Import timeline for authorised users {kib-pull}61438[#61438]
* Imports timeline schema update {kib-pull}61622[#61622]
* Fixes bug with timeline templates not working {kib-pull}60476[#60476]
* Fixes export of single rule and the icons {kib-pull}62394[#62394]
* Updates process and TLS tables to use ECS 1.5 fields {kib-pull}60854[#60854]
Telemetry::
* Fixes bug introduced in #55859 {kib-pull}57441[#57441]
* UI Metrics use findAll to retrieve all Saved Objects {kib-pull}59891[#59891]
Uptime::
* Updates heartbeat index name for 7.7 {kib-pull}62172[#62172]
* Shows only total in snapshot heading {kib-pull}58376[#58376]
* Fixes PingList pagination {kib-pull}61481[#61481]
* Fixes es query function null reference errors {kib-pull}61465[#61465]
* Fixes issue with Kibana Icon in Uptime App {kib-pull}56837[#56837]
* Adds tests for pages {kib-pull}56736[#56736]

[float]
[[deprecation-7.7.0]]
=== Deprecations
Monitoring::
* Changes all configs to `monitoring.*` {kib-pull}54919[#54919], {kib-pull}56215[#56215]
Platform::
* Migrates Vega and Graph configs to new platform {kib-pull}57011[#57011]

[[release-notes-7.6.2]]
== {kib} 7.6.2

See <<breaking-changes-7.6,breaking changes in 7.6>>.

[float]
[[known-issue-7.6.2]]
=== Known issue

Configuration::
* The `server.customResponseHeaders` option prevents {kib} from starting if headers are set using a type other than string.
To fix this, convert your boolean and number headers to strings.  For example, use`my-header: "true"` instead of `my-header: true`.
{kib-issue}66146[#66146]

[float]
[[bug-7.6.2]]
=== Bug fixes
Discover::
* Fixes infinite loop for view single document on discover {kib-pull}60236[#60236]
Machine Learning::
* Shows view series link in anomalies table for machine_learning_user role {kib-pull}59549[#59549]
* Fixes bucket span estimators loading of max_buckets setting {kib-pull}59639[#59639]
Management::
* Improperly defined Watcher Logging Action text parameters will now be handled elegantly by {kib} instead of causing {kib} to crash {kib-pull}60169[#60169]
* Fixes the namespace for indices autocompletion {kib-pull}59043[#59043]
* We fixed a bug in Console's proxy that would always override the "host" header {kib-pull}59143[#59143]
* Spacing between rendered shards {kib-pull}60238[#60238]
Maps::
* Adds missing license to requests in maps embeddables {kib-pull}59207[#59207]
* Fixes custom color ramp on save {kib-pull}59953[#59953]
Metrics::
* Ensures inventory view buckets never drop below 60 seconds {kib-pull}58503[#58503]
Monitoring::
* Ensures we use the monitoring cluster for retrieving xpack info {kib-pull}59075[#59075]
Operations::
* Fixes the watchers usage in the log rotation {kib-pull}60956[#60956]
Platform::
* Edits to filter's custom label are ignored {kib-pull}59169[#59169]
* Fixes a bug that could cause saved object migrations to fail when an {es} snapshot is currently in progress {kib-pull}58884[#58884]
Security::
* Fixes base path prepending for session storage short url redirects {kib-pull}59871[#59871]
SIEM::
* Default the Timeline events filter to show All events {kib-pull}58953[#58953]
* Fixes dragging entries to the Timeline while data is loading may trigger a partial page reload {kib-pull}59476[#59476]
* Detection Fix typo in Adobe Hijack Persistence rule {kib-pull}58804[#58804]
* Fixes rule delete/duplicate actions {kib-pull}59306[#59306]
* Fixes minor UI bug on all rules table pagination {kib-pull}59094[#59094]
Visualizations::
* Adds validation support for legacy filter values {kib-pull}58436[#58436]
* Fixes text color when using custom background color {kib-pull}60261[#60261]

[[release-notes-7.6.1]]
== {kib} 7.6.1

See <<breaking-changes-7.6,breaking changes in 7.6>>.

[float]
[[known-issue-7.6.1]]
=== Known issue

Configuration::
* The `server.customResponseHeaders` option prevents {kib} from starting if headers are set using a type other than string.
To fix this, convert your boolean and number headers to strings. For example, use `my-header: "true"` instead of `my-header: true`.
{kib-issue}66146[#66146]

[float]
[[security-fix-7.6.1]]
=== Security issues
In {kib} 7.6.0 and earlier, Node.js contains the following security issues:

* The TLS handling code for Node.js includes a Denial of Service (DoS) issue. Successful exploitation of the flaw could result in {kib} crashing. Refer to  https://www.elastic.co/community/security/, CVE-2019-15604.
+
There are no known workarounds for this issue.

* There are issues with how Node.js handles malformed HTTP headers. The malformed headers could result in an HTTP request smuggling attack when {kib} is running behind a proxy that is vulnerable to HTTP request smuggling attacks. Refer to https://www.elastic.co/community/security/, CVE-2019-15605 and CVE-2019-15606.
+
For instructions on how to mitigate HTTP request smuggling attacks, contact your proxy vendor.

Administrators running {kib} in an environment with untrusted users should upgrade to {kib} 7.6.1, which updates Node.js to 10.19.0.

[float]
[[enhancement-7.6.1]]
=== Enhancements
SIEM::
* Imports rules unit tests {kib-pull}57466[#57466]

[float]
[[bug-7.6.1]]
=== Bug fixes
APM::
* Fixes cloud env in APM tutorial {kib-pull}57817[#57817]
* Adds `xpack.apm.enabled` key to config schema {kib-pull}57539[#57539]
* X-axis labels on Error occurrences chart are incorrect based on {kib} timezone {kib-pull}55686[#55686]
Canvas::
*  Sanitizes workpad before sending to API {kib-pull}57704[#57704]
Lens and visualizations::
* Fixes bugs in Lens filters (#56441) {kib-pull}56648[#56648]
* Makes field stats work for index patterns without time fields {kib-pull}56759[#56759]
* Fixes auto refresh in visualizations and Lens {kib-pull}57667[#57667]
Machine Learning::
* Fixes Data Visualizer responsive layout  {kib-pull}56372[#56372]
* Fixes overall stats for saved search on the Data Visualizer page {kib-pull}57312[#57312]
* Fixes jobs list default refresh {kib-pull}57086[#57086]
* Updates schema definition for create route {kib-pull}56979[#56979]
* Fixes brush visibility. {kib-pull}57564[#57564]
* Fixes chart resize after browser refresh {kib-pull}57578[#57578]
* Fixes hiding date picker for settings pages {kib-pull}57544[#57544]
Management::
* Allows support for nested multi-fields {kib-pull}58203[#58203]
* Fixes performance bottleneck for large JSON payloads {kib-pull}57668[#57668]
* Fixes filter deprecations search filter {kib-pull}57541[#57541]
Maps::
* Sets filter.meta.key to geoFieldName so query passes filterMatchesIndex when ignoreFilterIfFieldNotInIndex is true {kib-pull}56692[#56692]
* Fixes document source top hits split by scripted field {kib-pull}57481[#57481]
* Only request field in docvalue_fields when the field supports doc values {kib-pull}57372[#57372]
Monitoring::
* Fixes issue when index pattern has no fields {kib-pull}58242[#58242]
* Fixes inaccuracies in Logstash pipeline listing metrics {kib-pull}55868[#55868]
Platform::
* Limits fetching index patterns {kib-pull}56603[#56603]
* Fixes browser date format {kib-pull}57714[#57714]
* Prepends basePath in getUrlForApp {kib-pull}57316[#57316]
* Uses app id instead of pluginId to generate navlink from legacy apps {kib-pull}57542[#57542]
* Retries ES API calls that fail with 410/Gone to prevent {kib} from crashing at startup {kib-pull}56950[#56950]
* Removes injected reference from home app {kib-pull}57836[#57836]
Security::
* Logout should redirect to the login screen at the server base path {kib-pull}56786[#56786]
* Adds xpack.encryptedSavedObjects.encryptionKey to docker allow-list {kib-pull}58291[#58291]
* Fixes short url in spaces {kib-pull}58313[#58313]
SIEM::
* Backend end-to-end tests {kib-pull}57166[#57166]
* Removes internal tags when copying signals from rules {kib-pull}57744[#57744]
* Fixes return codes where some were rule_id instead of id {kib-pull}57939[#57939]
* Fixes Host Details Events Table to only show events for specified Host {kib-pull}57388[#57388]
Uptime::
* Uses scripted metric for snapshot calculation {kib-pull}58247[#58247]

[[release-notes-7.6.0]]
== {kib} 7.6.0

See also <<breaking-changes-7.6,breaking changes in 7.6>>.

[float]
[[known-issue-7.6.0]]
=== Known issue

* When you use the default `dateFormat:tz: browser` setting, the timestamps appear in UTC instead of the local time of the user browser. To use the local time of the user browser, set `dateFormat:tz:` to the timezone of the user. {kib-issue}57457[#57457]
* The `server.customResponseHeaders` option prevents {kib} from starting if headers are set using a type other than string.
To fix this, convert your boolean and number headers to strings. For example, use `my-header: "true"` instead of `my-header: true`.
{kib-issue}66146[#66146]

[float]
[[enhancement-7.6.0]]
=== Enhancements
APM::
* Updates apm index pattern {kib-pull}54095[#54095]
* Adds service name to jvm {kib-pull}50830[#50830]
* Adds filter option to Metadata table {kib-pull}48520[#48520]
* Updates Error occurrences graph tooltip to display start and end for bucket period {kib-pull}49638[#49638]
* Pagination of top 10 trace samples {kib-pull}51911[#51911]
* Makes it possible to link directly to a trace with just the trace.id {kib-pull}51450[#51450]
* Transaction page throws unhandled exception if transactions doesn't have  `http.request` {kib-pull}53760[#53760]
* Adds `message` fields to metadata table {kib-pull}54017[#54017]
* Shows errors on the timeline instead of under the transaction {kib-pull}53756[#53756]
* Traces with identical transactions names are combined, even though they are from different services {kib-pull}54247[#54247]
* Uses indexPatternsService for kuery bar suggestions {kib-pull}49169[#49169]
* Migrates server routes to NP {kib-pull}49455[#49455]
* Adds `service.version` filter to transaction views {kib-pull}52748[#52748]
* Adds version annotations to timeseries charts {kib-pull}52640[#52640]
* Error stack trace improvements {kib-pull}49254[#49254]
* Performance comparison charts by user agent (browser) {kib-pull}49582[#49582]
* Adds UI Indices runtime configuration {kib-pull}48079[#48079]
* Updates apm index pattern {kib-pull}54693[#54693]
* Clears cache when updating indices via UI {kib-pull}51767[#51767]
Canvas::
* Enables Embeddable maps {kib-pull}53971[#53971]
* Uses compressed forms in sidebar {kib-pull}49419[#49419]
Dashboard::
* Redesigns empty screen {kib-pull}53681[#53681]
* Adds visualization from dasbhoard empty screen {kib-pull}52670[#52670]
* Redesigns empty screen in readonly mode {kib-pull}54073[#54073]
* Adds Lens to Dashboard {kib-pull}53110[#53110]
* Improves &quot;Create new&quot; UI in dashboard {kib-pull}49189[#49189]
Discover::
* Refactors discover index pattern selector to Lens `ChangeIndexPattern` Component {kib-pull}51973[#51973]
* Adds nested field support to KQL {kib-pull}47070[#47070]
* Supports nested fields in existing filter types {kib-pull}49537[#49537]
* Disables/enables filter with click+shift on a filter badge {kib-pull}52751[#52751]
* Possibility to filter when testing scripted fields (#35379) {kib-pull}44220[#44220]
* Adds label and icon to nested fields in the doc table {kib-pull}54199[#54199]
Graph::
* Improves error message on graph requests {kib-pull}54230[#54230]
* Adds sample data {kib-pull}54558[#54558]
Lens::
* Allows numeric terms aggs {kib-pull}50177[#50177]
* Adds support for scripted fields and default index pattern {kib-pull}53948[#53948]
* Loads Lens together with kibana app {kib-pull}50164[#50164]
* Disables saving visualization until there are no changes to the document {kib-pull}52982[#52982]
* Adds clear layer feature {kib-pull}53627[#53627]
* Adds support for scripted fields and aliases to the existence API {kib-pull}54064[#54064]
Logs::
* Log rate setup index validation {kib-pull}50008[#50008]
* Adds categories table to the categorization tab {kib-pull}53004[#53004]
* Disables ML job setup form while setup is pending {kib-pull}54705[#54705]
Machine Learning::
* Updates Anomaly Detection job wizard button styles, page panel and titles {kib-pull}53340[#53340]
* Improves processing of groups in data recognizer wizard {kib-pull}49310[#49310]
* Indicates missing required privileges for import in File Data Visualizer {kib-pull}50147[#50147]
* Stats bar for data frame analytics {kib-pull}49464[#49464]
* Adds the job message tab to data frame analytics {kib-pull}50468[#50468]
* Reactive time-range selection in Single Metric Viewer {kib-pull}51008[#51008]
* Adds Custom URLs and Calendars to the Job wizards {kib-pull}51281[#51281]
* Performs cardinality check on enabling the model plot {kib-pull}51915[#51915]
* Fetches the latest job messages and enables sorting by time {kib-pull}52388[#52388]
* Persists the time range brush when expanded to full width {kib-pull}54020[#54020]
* Supports search for partitions on Single Metric Viewer {kib-pull}53879[#53879]
* APM modules configs for RUM Javascript and NodeJS {kib-pull}53792[#53792]
* Model memory limit calculator enhancements for multi-metric job wizard  {kib-pull}54573[#54573]
* Data Visualizer redesign {kib-pull}54358[#54358]
* Formatting for additional timing and model size stats {kib-pull}55062[#55062]
* Adds ML node warning to overview and analytics pages {kib-pull}50766[#50766]
* Enables lat_long detector function in advanced wizard {kib-pull}50787[#50787]
* Categorization wizard {kib-pull}53009[#53009]
* Regression results view {kib-pull}49667[#49667]
* Auto-populate model_memory_limit {kib-pull}50714[#50714]
* Reruns evaluate endpoint for search bar queries {kib-pull}50991[#50991]
* Adds search bar {kib-pull}51235[#51235]
* Creates classification jobs via the UI {kib-pull}51619[#51619]
* Adds description field to job creation and display in jobs list {kib-pull}52217[#52217]
* Creates classification jobs results view {kib-pull}52584[#52584]
* Adds 'excludes' input field to form {kib-pull}53856[#53856]
* Adds link to docs {kib-pull}54189[#54189]
* Uses field caps api to set column type {kib-pull}54543[#54543]
* Truncates text in Overview page 'Latest timestamp' column {kib-pull}50004[#50004]
* Color Range Legend component {kib-pull}52794[#52794]
Management::
* Support scheme field when creating a Threshold alert with a Webhook action {kib-pull}53757[#53757]
* Adds Mappings Editor to Index Template Wizard {kib-pull}47562[#47562]
* SearchProfiler to NP {kib-pull}48795[#48795]
* Upgrade Assistant to New Platform Ready {kib-pull}50163[#50163]
* License Management to New Platform {kib-pull}51886[#51886]
* New Platform (NP) Migration {kib-pull}50908[#50908]
* Console with better SQL support {kib-pull}51446[#51446]
* Allows User to Cleanup Repository from UI  {kib-pull}53047[#53047]
* Updates advanced settings text for usage data {kib-pull}52657[#52657]
Maps::
* Makes grid rectangles the default symbolization for geo grid source {kib-pull}50169[#50169]
* Focuses inputs when editor opens popovers {kib-pull}51487[#51487]
* Uses style metadata to calculate symbolization bands {kib-pull}51713[#51713]
* Better style defaults {kib-pull}52420[#52420]
* Vector style UI redesign {kib-pull}53946[#53946]
* Allows editing EMS basemap selection {kib-pull}53631[#53631]
* Adds text halo color and width style properties {kib-pull}53827[#53827]
* Adds labels to sample data maps {kib-pull}54671[#54671]
* Adds categorical styling {kib-pull}54408[#54408]
* Hides map visualization types with default kibana.yml settings {kib-pull}49103[#49103]
* Hides header panel in embeddable panel {kib-pull}50728[#50728]
Metrics::
* Calculates interval based on the dataset's period {kib-pull}50194[#50194]
* Ports graphql query for snapshot and node details to hapijs {kib-pull}50730[#50730]
* Adds ability to filter snapshot view by account and region {kib-pull}53307[#53307]
* Adds inventory metadata api with regions and accounts {kib-pull}52660[#52660]
* Removes graphql types {kib-pull}54176[#54176]
* Adds AWS Metricsets to Inventory Models {kib-pull}49983[#49983]
Monitoring::
* Fetches shard data more efficiently {kib-pull}54028[#54028]
* Displays APM server memory in bytes {kib-pull}54275[#54275]
Operations::
* Adds support for log rotation  {kib-pull}49750[#49750]
Monitoring::
* h1 elements for accessibility {kib-pull}52276[#52276]
Platform::
* Allows routes to define some payload config values {kib-pull}50783[#50783]
* Moves IndexPatterns into the NP {kib-pull}51199[#51199]
* Moves configuration validation to new platform {kib-pull}51880[#51880]
* Improves &quot;Browser client is out of date&quot; error message {kib-pull}50296[#50296]
Reporting::
* Converts main Reporting index to TS {kib-pull}49129[#49129]
* Removes any types and references to Hapi {kib-pull}49250[#49250]
* Updates some runtime validations {kib-pull}53975[#53975]
Security::
* Role Mappings UI {kib-pull}53620[#53620]
* Adds message to login page {kib-pull}51557[#51557]
* Updates Node.js to version 10.18.0 {kib-pull}52865[#52865]
* Improves session idle timeout, add session lifespan {kib-pull}49855[#49855]
* Adds support for certificates in PKCS#12 (P12) key stores {kib-pull}53810[#53810]
SIEM::
* New Overview Page {kib-pull}54783[#54783]
* Adds DNS histogram {kib-pull}50409[#50409]
* Adds alerts table {kib-pull}51959[#51959]
* Histogram enhancement {kib-pull}54544[#54544]
* Dns histogram enhancement {kib-pull}54902[#54902]
* Tests for search_after and bulk index {kib-pull}50129[#50129]
* Adds ecs threat properties to rules {kib-pull}51782[#51782]
* Sets Signal status open closed REST API {kib-pull}52356[#52356]
* Search signals index {kib-pull}52661[#52661]
* Adds created_at and updated_at timestamps to rules {kib-pull}53137[#53137]
* Rule Status Monitoring {kib-pull}54452[#54452]
* Adds filtering abilities to the KQL REST API {kib-pull}49451[#49451]
* REST API Additions {kib-pull}50514[#50514]
* REST API improvements and changes from UI/UX feedback {kib-pull}50797[#50797]
* Adds of risk score, output index, rule copying, and more  {kib-pull}51190[#51190]
* Adds signal data index per spaces through index naming conventions {kib-pull}52237[#52237]
* Adds privileges API endpoint {kib-pull}52707[#52707]
* Adds a tags service and optimizes alert_id lookups {kib-pull}52838[#52838]
* Adds prepackaging rules capability {kib-pull}53062[#53062]
* Adds timeline_id string to rules {kib-pull}53343[#53343]
* Bulk REST API for create, update, and delete {kib-pull}53543[#53543]
* Import/Export REST endpoints {kib-pull}54332[#54332]
* Time gap detection and logging {kib-pull}54547[#54547]
* Adds Rules Table {kib-pull}50839[#50839]
* Adds Signals Table and additional configuration options to StatefulEventsViewer {kib-pull}52044[#52044]
* Adds support for apm-* to the network map {kib-pull}54876[#54876]
* HTTP Requests table {kib-pull}49955[#49955]
* Adds Authentications histogram {kib-pull}48260[#48260]
* Adds hosts and network anomalies histogram {kib-pull}50295[#50295]
* Detection engine placeholders {kib-pull}50220[#50220]
* Adds SavedQuery in Timeline {kib-pull}49813[#49813]
* Adds creation rule {kib-pull}51376[#51376]
* Adds edit on rule creation {kib-pull}51670[#51670]
* Adds MITRE ATT&amp;CK {kib-pull}52398[#52398]
* Details and Edit view for a rule {kib-pull}53252[#53252]
* Permission II {kib-pull}54292[#54292]
* Adds status to rule details {kib-pull}54812[#54812]
* From signals to timeline {kib-pull}54769[#54769]
* Detections create prepackage rules {kib-pull}55403[#55403]
* Feedback to user about generated encryption key {kib-pull}56464[#56464]
Uptime::
* Updates snapshot counts {kib-pull}48035[#48035]
* Migrates Uptime server routing to new platform {kib-pull}51125[#51125]
* Adds tags dropdown to Overview filters group {kib-pull}50837[#50837]
* New monitor list expanded row {kib-pull}46567[#46567]
* Adds options to disable zoom, hide tool tips, widgets/overlays in embeddable maps {kib-pull}50663[#50663]
* New details panel and location map {kib-pull}50518[#50518]
* Lists external linking {kib-pull}53098[#53098]
* Monitor details page left side title {kib-pull}53529[#53529]
* Monitor SSL Certificate Color version for warning {kib-pull}54040[#54040]

[float]
[[bug-7.6.0]]
=== Bug fixes
APM::
* Upgrades APM migration script v1 support {kib-pull}52824[#52824]
* Adds missing semi-colon to styled component {kib-pull}51436[#51436]
* Quick fix for ACM to ensure more than 10 items are displayed {kib-pull}52262[#52262]
* Sets no of ticks based on available width for chart {kib-pull}50904[#50904]
* Make sure errors per minute are reported correctly {kib-pull}54751[#54751]
* Fixes firefox SVG NaN errors when rendering charts {kib-pull}56578[#56578]
* Fixes initial error sort field {kib-pull}56577[#56577]
* Empty message &quot;No data available&quot; for Labels and User metadata sections missing {kib-pull}49846[#49846]
Canvas::
* Fixes axisConfig position argument UI {kib-pull}50717[#50717]
* Fixes #45896 {kib-pull}50229[#50229]
* Fixes bugs with full screen filters {kib-pull}54792[#54792]
* Fixes the Copy Post Url link {kib-pull}54831[#54831]
* Fixes color and toggle accessibility {kib-pull}54661[#54661]
Dashboard::
* Removes double handler {kib-pull}53707[#53707]
* Decodes url params, so they are not encoded twice {kib-pull}54738[#54738]
* Changes background color to align with EUI color {kib-pull}54060[#54060]
* Fixes hide 'edit' button for mobile for dashboards {kib-pull}50639[#50639]
Discover::
* Fixes histogram min interval {kib-pull}53979[#53979]
* Improves kql error message handling and avoid fetching twice {kib-pull}54239[#54239]
* Fixes double fetch errors {kib-pull}54701[#54701]
* Fixes pagination controls should not scroll horizontally for saved search {kib-pull}50764[#50764]
* Don't throw exception when refreshing fields of an index pattern {kib-pull}55836[#55836]
* Fixes filter pill label for filters with negated alias {kib-pull}50743[#50743]
* Filters scripted fields preview field list to source fields {kib-pull}53826[#53826]
* Fixes operator overflowing out popover {kib-pull}50030[#50030]
Graph::
* Only show explorable fields {kib-pull}54101[#54101]
Lens::
* Modifies merge tables to use the same logic as auto date {kib-pull}52931[#52931]
* Selects Records field when count operation is chosen {kib-pull}53911[#53911]
* Shows keyword fields for pre-7.3 index patterns {kib-pull}52410[#52410]
* Fixes sorting crash when removing a Y axis that is being used for sorting {kib-pull}52694[#52694]
* Shows fields when using index pattern without time field {kib-pull}54804[#54804]
* Fixes bugs in Lens filters {kib-pull}56441[#56441]
Logs::
* Adds missing headers in Logs &amp; metrics {kib-pull}52405[#52405]
* Uses the correct icons and labels in the feature contâ€¦ {kib-pull}55292[#55292]
* Allows Logs/ML integration result access with machineâ€¦ {kib-pull}55884[#55884]
* Fixes the scale of the search markers {kib-pull}55731[#55731]
Machine Learning::
* Fixes escape special characters for Lucene query language   {kib-pull}50494[#50494]
* Keeps rule editor flyout open on refresh {kib-pull}53458[#53458]
* Fixes counters and percentages for array fields on the Data Visualizer page {kib-pull}55209[#55209]
* Fixes tooltip's persistence on mouse leave {kib-pull}55694[#55694]
* Fixes Anomaly Explorer swimlane tooltip issue  {kib-pull}55827[#55827]
* Fixes the annotation area tooltip offset {kib-pull}55955[#55955]
* Fixes info content detector field selection {kib-pull}51914[#51914]
* Job validation loading spinner {kib-pull}54450[#54450]
* Improves job wizards with datafeed aggregations {kib-pull}55180[#55180]
* Fixes missing job_type in job messages search {kib-pull}55330[#55330]
* Fixes module setup error for insufficient index pattern privileges {kib-pull}55989[#55989]
* Ensures advanced editor can be validated when empty {kib-pull}52831[#52831]
* Ensures advanced editor validates model memory unit correctly {kib-pull}54011[#54011]
* Ensures result field columns can be deselected and re-selected {kib-pull}54766[#54766]
* Only render tablist if it contains tabs {kib-pull}54838[#54838]
* Improves handling of text fields {kib-pull}55002[#55002]
* Filters out docs with no prediction data from results table {kib-pull}54826[#54826]
* Fixes word wrap in Overview page sidebar on IE {kib-pull}50668[#50668]
* Fixes lat_long anomalies table links menu and value formatting {kib-pull}50916[#50916]
* Fixes loading of Data Visualizer with KQL saved search {kib-pull}51882[#51882]
* Corrects URL of the create job tips docs page {kib-pull}53576[#53576]
* Displays anomaly actual in chart tooltip when model plot enabled {kib-pull}54364[#54364]
* Fixes permissions checks for Data Visualizer create job links {kib-pull}55431[#55431]
* Fixes empty table header cell and duplicate ID accessibility issues {kib-pull}54917[#54917]
* Accessibility fix for structural markup on table rows {kib-pull}55075[#55075]
Management::
* {kib} should allow a min_age setting of 0ms in ILM policy phases {kib-pull}53719[#53719]
* Adds try/catch when parsing index filter from URI {kib-pull}56051[#56051]
* Passes termOrder and hasTermsAgg properties to serializeThresholdWatch function {kib-pull}54391[#54391]
* Adds support for capitalized date formats in snapshot names {kib-pull}53751[#53751]
* Index Lifecycle Policies show wrong unit in {kib} UI {kib-pull}55228[#55228]
* Theme and Mode imports {kib-pull}50473[#50473]
* Proxy fallback {kib-pull}50185[#50185]
* Fixes load from remote {kib-pull}52814[#52814]
* Fixes suggested value for time_zone in range query {kib-pull}53841[#53841]
* Handle double quote special case {kib-pull}54474[#54474]
* Fixes handling of bad profile data and update tab behavior {kib-pull}55806[#55806]
* Fixes icon path in tutorial introduction {kib-pull}49684[#49684]
* Fixes index templates editor to support mappings types {kib-pull}55804[#55804]
Maps::
* Fixes regression preventing maps telemetry from populating &amp; remove task manager logic {kib-pull}52834[#52834]
* Categorical palettes {kib-pull}54918[#54918]
* Do not re-fetch data on empty filter setting changes {kib-pull}49382[#49382]
* Fixes removal of multi fields for tooltip field selection {kib-pull}49816[#49816]
* Prevents users from overflowing URL when filtering by shape {kib-pull}50747[#50747]
* Only provide visibility check when vector layer has joins {kib-pull}51388[#51388]
* Fixes too_many_buckets_exception for top hits {kib-pull}51497[#51497]
* Only show styles that apply to layer feature types in legend {kib-pull}52335[#52335]
* Fixes tooltips for CCS {kib-pull}52793[#52793]
* Passes getFieldFormatter to DynamicTextProperty {kib-pull}53937[#53937]
* Expands extent filter to tile boundaries {kib-pull}54276[#54276]
* Fixes warning about missing key in react element {kib-pull}55372[#55372]
* Fixes join metric field selection bugs {kib-pull}56044[#56044]
* Adds mapbox-gl-rtl-text library for RTL languages {kib-pull}54842[#54842]
* Ensures the query-object is populated {kib-pull}49917[#49917]
* Delays vector tile layer syncing until spritesheet is loaded {kib-pull}48955[#48955]
* Sanitizes attribution {kib-pull}52309[#52309]
* Only show legend when layer is visible {kib-pull}53781[#53781]
* Shows custom color ramps in legend {kib-pull}53780[#53780]
* Enforces file-type check in file dialog {kib-pull}55063[#55063]
Metrics::
* Fixes Metrics Explorer exception when deleting metric {kib-pull}55893[#55893]
* Fixes title truncation in Metrics Explorer {kib-pull}55917[#55917]
* Passes relevant shouldAllowEdit capabilities into SettingsPage {kib-pull}49781[#49781]
* Don't allow duplicate saved views with the same name {kib-pull}52040[#52040]
* Adds aria labels to fields {kib-pull}54510[#54510]
Monitoring::
* Fixes Logstash pipelines page in multi-cluster environment {kib-pull}50166[#50166]
* Improves permissions required around setup mode {kib-pull}50421[#50421]
* Adds error state for unstructured logs {kib-pull}53299[#53299]
* Ensures setup mode work in a CCS environment {kib-pull}54361[#54361]
* Clarifies that these auth settings are for sending data {kib-pull}48437[#48437]
Operations::
* Adds missing docker settings {kib-pull}56411[#56411]
* Prevents xpack.task_manager.index being set to .tasks {kib-pull}52002[#52002]
Platform::
* Displays changed field formats without requiring hard page refresh. {kib-pull}52874[#52874]
* {kib} 7.0.0 URL field formatter doesn't render relative hyperlinks properly {kib-pull}53265[#53265]
* Interpreter conversion of string to number should throw on NaN #27788 {kib-pull}50063[#50063]
* Cancels discarded KQL value suggestion requests {kib-pull}51411[#51411]
* Performs successful Elasticsearch version check before migrations {kib-pull}51311[#51311]
Reporting::
* Do not fail the report if request is aborted {kib-pull}52344[#52344]
* Fixes map tiles not loading by using Chrome's Remote Protocol {kib-pull}55137[#55137]
* Corrects the docvalue_fields params in the search query Download CSV from Dashboard Panel {kib-pull}52833[#52833]
Security::
* Uses the server's basePath when building the SAML ACS {kib-pull}51391[#51391]
* Fixes elasticsearch.ssl.alwaysPresentCertificate default {kib-pull}52242[#52242]
* Forces line-break if username is a solid long string {kib-pull}50807[#50807]
* Fixes infinite redirect loop when multiple cookies are sent {kib-pull}50452[#50452]
* Honors configured base path when logging out {kib-pull}50946[#50946]
SIEM::
* Fixes Empty `Source` / `Destination` shown when only ports are populated {kib-pull}50843[#50843]
* Removes placeholder from pinned event tooltips {kib-pull}52361[#52361]
* Adds filter feature and fixes misc bugs around false values {kib-pull}50999[#50999]
* Fixes a bug to allow empty query string when filters are set {kib-pull}51398[#51398]
* Adds signal to ECS event.kind and fixes status in signals  {kib-pull}51772[#51772]
Uptime::
* Removes react-router-dom warning in browse {kib-pull}52008[#52008]
* Fixes broken functional tests in `master` {kib-pull}54395[#54395]
* Donut chart loader position centered vertically  {kib-pull}50219[#50219]
* Fixes monitor list pagination arrows {kib-pull}51912[#51912]
* Expanded list update most recent error timestamp {kib-pull}51935[#51935]
* Feature/monitor details view avoid empty column {kib-pull}51892[#51892]
* Feature/expandable row in details ping list {kib-pull}51890[#51890]
* Date picker will use commonly used ranges from advance settings {kib-pull}52944[#52944]
* Fixes broken Duration chart on Monitor Page {kib-pull}54251[#54251]
* Ping List Disable expand row if no body present {kib-pull}54898[#54898]
* Fixes Date Range picker stop refresh button {kib-pull}55499[#55499]
* Ping histogram uses auto date histogram {kib-pull}55605[#55605]
* Uses dynamic index pattern in Uptime {kib-pull}55446[#55446]
* Refreshes absolute date ranges for Ping Histogram {kib-pull}56381[#56381]
Visualizations::
* Adds domain fit option for 0 opacity TSVB line charts {kib-pull}54314[#54314]
* Adds default filename when exporting CSV {kib-pull}54003[#54003]
* Fixes height of CodeEditor - Safari {kib-pull}56050[#56050]
* Fixes missing labels on certain axes and label filter configurations {kib-pull}47563[#47563]
* Formats CSV properly {kib-pull}54127[#54127]
* Flags nested fields as non-aggregatable {kib-pull}51774[#51774]

[float]
[[deprecation-7.6.0]]
=== Deprecations
Metrics::
* Deprecates the override fields in settings {kib-pull}54206[#54206]
Security::
* Additional validation for elasticsearch username {kib-pull}48247[#48247]


[[release-notes-7.5.2]]
== {kib} 7.5.2

See <<breaking-changes-7.5, breaking changes in 7.5>>.

[float]
[[bug-7.5.2]]
=== Bug fixes

Console::
* Handles double quote special case {kib-pull}54474[#54474]

Dashboard, Discover, Visualize::
* Fixes icon path in tutorial introduction {kib-pull}49684[#49684]
* Fixes filter pill label for filters with negated alias {kib-pull}50743[#50743]
* Adds domain fit option for 0 opacity TSVB line charts {kib-pull}54314[#54314]

Machine Learning::
* Corrects URL of the create job tips docs page {kib-pull}53576[#53576]

Management::
* {kib} 7.0.0 URL field formatter doesn't render relative hyperlinks properly {kib-pull}53789[#53789]
* Fixes index pattern without timefield filter application {kib-pull}54757[#54757]

Maps::
* Fixes regression that prevents maps telemetry from populating. Removes unneeded task manager logic {kib-pull}52834[#52834]

Monitoring::
* Adds error state for unstructured logs {kib-pull}53299[#53299]
* Ensures setup mode works in a ccs environment {kib-pull}54361[#54361]

Security::
* Fixes search field visibility on space selector screen {kib-pull}54115[#54115]
* Forces line break if username is a solid long string {kib-pull}50807[#50807]

[float]
[[regression-7.5.2]]
=== Regression
Watcher::
* Passes termOrder and hasTermsAgg properties to serializeThresholdWatch function {kib-pull}54391[#54391]
+
A regression was introduced into 7.5.0 that caused a particular configuration of Threshold Watches
to fail or erroneously trigger if they were created or edited in 7.5. If you've
created or edited a Threshold Watch with a "GROUPED OVER" condition set to `top` with {kib} 7.5.0,
you'll need to upgrade to a version of {kib} that contains this fix and recreate
these watches.
+
The easiest way to do this is to go to the edit screen of the
Threshold Watch in the UI and simply click the *Save* button. This will recreate the
watch with the proper configuration. No other changes to the watch will be necessary on your part.
+
[role="screenshot"]
image::images/rn_7.5.2.png[]

[[release-notes-7.5.1]]
== {kib} 7.5.1

[float]
[[breaking-7.5.1]]
=== Breaking changes

See <<breaking-changes-7.5, breaking changes in 7.5>>.

[float]
[[enhancement-7.5.1]]
=== Enhancements
Machine Learning::
* Enables lat_long detector function in advanced wizard {kib-pull}50787[#50787]
* Truncates text in Overview page 'Latest timestamp' column {kib-pull}50004[#50004]
* Adds ML node warning to overview and analytics pages {kib-pull}50766[#50766]
Monitoring::
*  Refactors the enter setup mode button {kib-pull}51103[#51103]

[float]
[[bug-7.5.1]]
=== Bug fixes
APM::
* Fixes ACM to ensure more than 10 items are displayed {kib-pull}52262[#52262]
* Fixes watcher integration {kib-pull}51721[#51721]
Canvas::
* Fixes axisConfig position argument UI {kib-pull}50717[#50717]
Discover::
* Fixes histogram min interval {kib-pull}52758[#52758]
Machine Learning::
* Fixes escape special characters for Lucene query language   {kib-pull}50494[#50494]
* Fixes info content detector field selection {kib-pull}51914[#51914]
* Fixes word wrap in Overview page sidebar on IE {kib-pull}50668[#50668]
* Fixes lat_long anomalies table links menu and value formatting {kib-pull}50916[#50916]
* Fixes loading of data visualizer with KQL saved search {kib-pull}51882[#51882]
Maps::
* Fixes a cross-site scripting (XSS) flaw in Coordinate and Region Map
visualizations. An attacker could create a malicious visualization that
executes JavaScript in a victimâ€™s browser when the visualization, or dashboard
containing the visualization, was viewed. Since Kibana 7.0.0, Content Security
Policy (CSP), which prevents attackers from using this flaw, is enabled by
default. However, an attacker can still inject arbitrary HTML into the page.
See https://www.elastic.co/community/security/, CVE-2019-7621.
* Prevents users from overflowing URL when filtering by shape {kib-pull}50747[#50747]
* Delays vector tile layer syncing until spritesheet is loaded {kib-pull}48955[#48955]
* Sanitizes attribution {kib-pull}52309[#52309]
Monitoring::
* Fixes Logstash pipelines page in multi-cluster environment {kib-pull}50166[#50166]
* Improves permissions required around setup mode {kib-pull}50421[#50421]
Operations::
* Prevents xpack.task_manager.index being set to .tasks {kib-pull}52002[#52002]
* Fixes elasticsearch.ssl.alwaysPresentCertificate default {kib-pull}52242[#52242]
Querying &amp; Filtering::
* Fixes operator overflowing out popover {kib-pull}50030[#50030]
Uptime::
* Removes react-router-dom warning in browse {kib-pull}52008[#52008]
Lens::
* Shows keyword fields for pre-7.3 index patterns {kib-pull}52410[#52410]

[[release-notes-7.5.0]]
== {kib} 7.5.0

[float]
[[breaking-7.5.0]]
=== Breaking changes
See also <<breaking-changes-7.5, breaking changes in 7.5>>.

Code::
* Removes experimental code app {kib-pull}49404[#49404]
Platform::
* Default to _search instead of _msearch in courier {kib-pull}45174[#45174]

[float]
[[enhancement-7.5.0]]
=== Enhancements
APM::
* More descriptive page titles {kib-pull}44296[#44296]
* Removes 0 suffix if array contains only one element {kib-pull}47036[#47036]
* Changing status code colors on trace summary {kib-pull}47114[#47114]
* Shows `span.http.response.status_code` and `span.http` object in Span details flyout {kib-pull}47322[#47322]
* Metadata sections should show message when no data is available {kib-pull}47842[#47842]
* Removes rest_total_hits_as_int and changing hits.total type {kib-pull}47814[#47814]
* Consistent flyout headers {kib-pull}46312[#46312]
* Always show transaction breakdown {kib-pull}46684[#46684]
* JVM List view &amp; JVM metrics page {kib-pull}46779[#46779]
* Garbage collection metrics charts {kib-pull}47023[#47023]
* Replaces ui/kfetch with core.http {kib-pull}47635[#47635]
* One-line trace summary {kib-pull}44842[#44842]
* Documentation and alignment for impact column {kib-pull}47602[#47602]
* Keywords to select legend color in TPM graph {kib-pull}47628[#47628]
* Updates index pattern {kib-pull}48066[#48066]
* Increases breadcrumb `max` setting {kib-pull}46595[#46595]
* Agent configuration GA {kib-pull}46995[#46995]
Canvas::
* Adds ability to share workpads in other websites {kib-pull}46278[#46278]
Discover::
* Updates filter of fields UX allowing user to select and remove fields {kib-pull}47847[#47847]
* Shows field type name when hovering over them (#35391) {kib-pull}44208[#44208]
* De-angularize index pattern selection {kib-pull}46347[#46347]
* De-angularize side bar search field {kib-pull}46679[#46679]
* Replaces Discover chart with elastic-charts {kib-pull}43788[#43788]
Graph::
* Removes the current inline-save menu from Graph and switches to a save modal as used in Visualize and Discover {kib-pull}44261[#44261]
* Settings EUI-ification {kib-pull}44587[#44587]
* EUI-ification of search bar {kib-pull}45351[#45351]
* Kql support for query bar {kib-pull}45364[#45364]
* Moves the field manager to react and EUI {kib-pull}45384[#45384]
* Empty workspace overlay {kib-pull}45547[#45547]
Logs::
* Adapt log entry rate data visualizations {kib-pull}47558[#47558]
* Ensures 'unknown' setupStatus is handled {kib-pull}45887[#45887]
* Adds &quot;Analyze in ML&quot; buttons {kib-pull}48268[#48268]
* Changes 'View monitor status' to 'View status in Uptime' {kib-pull}44518[#44518]
* Improves live streaming behavior when scrolling {kib-pull}44923[#44923]
Machine Learning::
* Enhances job id error message {kib-pull}45349[#45349]
* Severity cell with multi-bucket impact support {kib-pull}46002[#46002]
* Link to calendar settings from a job config {kib-pull}46141[#46141]
* Adds missing tooltips to Anomaly Explorer swimlane labels {kib-pull}46324[#46324]
* Custom urls enhancements {kib-pull}46433[#46433]
* Job type page {kib-pull}46933[#46933]
* Converts index and saved search selection to React {kib-pull}47117[#47117]
* Converts Recognizer job page to React {kib-pull}47429[#47429]
* Enhances created_by check for custom rules  {kib-pull}47825[#47825]
* Checks unsaved changes for Job edit form {kib-pull}47926[#47926]
* Renders Custom URL as textarea on focus {kib-pull}48077[#48077]
* Adds advanced job wizard {kib-pull}46781[#46781]
* Reorganizes ML navigation with top and sub level tabs {kib-pull}45220[#45220]
* Overview tab for ML {kib-pull}45864[#45864]
* Regression creation and results view {kib-pull}48159[#48159]
* Displays MSE and rSquared in expanded row {kib-pull}48261[#48261]
* Moves ML &quot;Data Frame Transforms&quot; to Kibana management section &quot;Transforms&quot;. {kib-pull}45880[#45880]
* Adds new SIEM auditbeat, winlogbeat and packetbeat modules {kib-pull}47848[#47848]
Management::
* SLM retention UI {kib-pull}45193[#45193]
* Adds ability to execute snapshot retention manually {kib-pull}47150[#47150]
* Adds request flyouts to JSON watch form and Threshold Watch edit form {kib-pull}43232[#43232]
* SQL template with triple quote in completion {kib-pull}45248[#45248]
* Updates indentation behavior {kib-pull}45249[#45249]
* Adds IP, number, and boolean types to the static lookup field formatter {kib-pull}45585[#45585]
* Adds width and height as parameters to image url {kib-pull}46917[#46917]
* Integrates inside Template UI {kib-pull}47567[#47567]
* Adds json editor to edit field settings {kib-pull}47674[#47674]
* Console to NP ready {kib-pull}43346[#43346]
Maps::
* Uses EuiPopover instead of mapbox tooltip {kib-pull}45938[#45938]
* Cancels SearchSource fetches that are no longer needed {kib-pull}44436[#44436]
* Provides isLoading and hasError feedback when legend is collapsed {kib-pull}47157[#47157]
* Uses pre-indexed shapes in shape filters when shape is stored in Elasticsearch {kib-pull}47171[#47171]
* Moves sort out of top hits configuration for ES documents source {kib-pull}47361[#47361]
* Provides drag-n-drop support to order tooltip properties {kib-pull}46631[#46631]
* Retrieves geo_point value from docvalue_fields instead of _source {kib-pull}47389[#47389]
* Increases tooltip max width and move feature pagination controls to top of tooltip {kib-pull}47645[#47645]
* Use field formatter to format value in legend {kib-pull}48132[#48132]
* Adds support for date fields in dynamic styles {kib-pull}47903[#47903]
* Use vector tiles for rendering EMS basemap {kib-pull}47867[#47867]
Metrics::
* Adds bar chart option to Metrics Explorer {kib-pull}43728[#43728]
* Displays non-metric details on Node Detail page {kib-pull}43551[#43551]
* Adds Docker section to node details page {kib-pull}43627[#43627]
* Adds saved queries to maps {kib-pull}44442[#44442]
* Save and Load Views for Metrics Explorer and Inventory Page {kib-pull}46713[#46713]
* Converts button group to toggle. Refactor code structure for scalability {kib-pull}47083[#47083]
* Always display loading indicator when new data is loading {kib-pull}48038[#48038]
Monitoring::
* Moves to OSS {kib-pull}45769[#45769]
* Metricbeat Migration Wizard {kib-pull}45799[#45799]
* Adds I/O metrics for Elasticsearch {kib-pull}45870[#45870]
Platform::
* Moves highlight_html.js {kib-pull}45372[#45372]
* Moves as_pretty_string.js {kib-pull}45356[#45356]
* Timelion {kib-pull}44039[#44039]
* Adds url-param-decode to transform in string field {kib-pull}25694[#25694]
* Migrates field format utils to TS {kib-pull}47124[#47124]
Reporting::
* Improves logging of doc-update events {kib-pull}45077[#45077]
* Removes Chrome stdout/stderr observables, Add Browser Logger observable {kib-pull}44359[#44359]
* Adds step to skip telemetry {kib-pull}48312[#48312]
SIEM::
* Endgame events on the SIEM Overview page {kib-pull}47774[#47774]
* Endgame Row Renderers: DNS, File (FIM), Network, Security (Authentication), Process {kib-pull}48277[#48277]
* Adds events histogram {kib-pull}45403[#45403]
* Adds TLS to Network overview page {kib-pull}48062[#48062]
* Changed job links have the job configuration in the search when the user clicks on them {kib-pull}46084[#46084]
* Adds custom tooltip to map for dragging fields to timeline {kib-pull}46879[#46879]
* Show all SIEM ML Jobs in Anomaly Detection UI by default {kib-pull}48067[#48067]
* Updates Network Map layer styles {kib-pull}48284[#48284]
* Inspect tests {kib-pull}45833[#45833]
* Source/Destination Ip Table on Ip Details {kib-pull}47608[#47608]
* Op countries by source/dest tables {kib-pull}48179[#48179]
* Optimizes all hosts query {kib-pull}49409[#49409]
* Adds saved query in SIEM solution {kib-pull}47306[#47306]
Security::
* Adds API Keys app to Management &gt; Security {kib-pull}45740[#45740]
* Custom space avatar images {kib-pull}45148[#45148]
* Allows sorting on user/roles 'reserved' column {kib-pull}46283[#46283]
* Supports space-specific default routes {kib-pull}44678[#44678]
* Preserves URL fragment during SAML handshake {kib-pull}44513[#44513]
Stack services::
* Adds opt-in to telemetry by default {kib-pull}50490[#50490]
* Updates telemetry banner prompt behavior {kib-pull}49644[#49644]
* Adds data privacy notice text to welcome screen with link to opt-out of telemetry {kib-pull}50189[#50189]
* Provides telemetry on opt-in status {kib-pull}50158[#50158]
* Adds configureable server side telemetry {kib-pull}50015[#50015]
* Adds kibana.yml configurations for telemetry default status and UI behavior {kib-pull}49798[#49798]
* Adds Ask Elastic and Give feedback links to help section {kib-pull}49797[#49797]
* Adds newsfeed {kib-pull}49579[#49579]
Uptime::
* Query Overhaul + Pagination {kib-pull}42933[#42933]
* Adds certificate expiration dates to uptime GQL schema {kib-pull}43352[#43352]
* Adds TLS cert expiry to GQL schema for individual docs {kib-pull}44506[#44506]
* Adds Kuery Bar {kib-pull}43621[#43621]
* Duration chart gaps {kib-pull}45734[#45734]
* Adds zero monitors down heading {kib-pull}48257[#48257]
* Updates pings chart colors {kib-pull}46780[#46780]
Visualizations::
* Replaces TSVB timeseries charts with elastic-charts {kib-pull}33558[#33558]
* Adds percentile and median aggregations for timestamp fields {kib-pull}46477[#46477]
* Adds gte and lt symbols in range filter fields and tooltip {kib-pull}46697[#46697]
* Don't use placeholder visualization name {kib-pull}46719[#46719]
* Adds Lens visualization editor {kib-pull}36437[#36437]

[float]
[[bug-7.5.0]]
=== Bug fixes
APM::
* Widen filter used in logs link {kib-pull}46252[#46252]
* Correctly plurarlize view in discover link {kib-pull}47618[#47618]
* Log stacktrace comes from _.error.log and not _error.exception[0] {kib-pull}48185[#48185]
Canvas::
* Improves Canvas controls accessibility {kib-pull}48005[#48005]
Dashboard::
* Improve dashboard filters display to use color as well as text for negated filters {kib-pull}49939[#49939]
Discover::
* Add numeric_type option for correct sort order on mixed date and date_nanos fields {kib-pull}44212[#44212]
* Fix Maximum call stack size exceeded warnings {kib-pull}47829[#47829]
* Convert value provided to PhraseValueInput to string to prevent Exception with numeric values {kib-pull}45259[#45259]
* Remove redundant request to fetch index patterns {kib-pull}44998[#44998]
* Allow filter editor to open when selectedField is undefined {kib-pull}45402[#45402]
Graph::
* Do not carry over diversity field when switching data source {kib-pull}47560[#47560]
Logs::
* Use theme colors for the timeline background {kib-pull}46213[#46213]
* Address non-blocking nature of job deletion ML API {kib-pull}46040[#46040]
* Fix ML link for &quot;unknown&quot; partition {kib-pull}48779[#48779]
* Use full time range for the x-axis domain {kib-pull}48754[#48754]
* Fix initial accuracy of logs minimap click {kib-pull}48826[#48826]
Logstash::
* Remove formatted message component in favor of i18n translate function {kib-pull}45658[#45658]
Machine Learning::
* Set y-axis domain of the Single Metric Viewer according to the model plot  {kib-pull}48411[#48411]
* Fix partitioning field value update {kib-pull}48655[#48655]
* Update Anomaly Explorer and SMV on the &quot;Refresh&quot; button click {kib-pull}48773[#48773]
* Overview Page - follow-ups {kib-pull}47637[#47637]
* Adds missing links to ML plugin from ML Analytics job list in Management app {kib-pull}48432[#48432]
* Ensure proper permissions check for empty prompt 'Create job' buttons {kib-pull}49067[#49067]
* Fixes reselection of same Anomaly Explorer swimlane cell {kib-pull}48626[#48626]
* Fix Group By and Aggregations validation in Transforms wizard {kib-pull}48514[#48514]
* Fix Transform pivot documentation link {kib-pull}48522[#48522]
* Show MSE and rSquared in expanded row only for regression jobs {kib-pull}48390[#48390]
* Fix custom results_field and prediction_field_name not considered in eval config {kib-pull}48599[#48599]
* Check source index contains numerical fields only once it has been selected {kib-pull}48843[#48843]
* Fix analytics source index selection {kib-pull}48731[#48731]
* Fix code editor console error {kib-pull}49193[#49193]
Management::
* Migrate Console to use Node http instead of Hapi to support GET requests with bodies {kib-pull}46200[#46200]
* Fix leaky mappings subscription {kib-pull}45646[#45646]
* Fix Safari layout issue {kib-pull}47100[#47100]
* Fix stale value in editor shortcut command {kib-pull}48484[#48484]
* Fix disco filters #2 {kib-pull}50061[#50061]
Maps::
* Parse geojson files in chunks to avoid thread blocking {kib-pull}46710[#46710]
* Fix adding filters in map embeddable {kib-pull}45187[#45187]
* Avoid resizing tooltip while loading next feature during pagination {kib-pull}47517[#47517]
* Clean features in locked tooltip after re-fetch {kib-pull}48016[#48016]
* Properly handle id collisions in {kib} index pattern {kib-pull}48594[#48594]
* Fix propType warnings for source with joins {kib-pull}48905[#48905]
* Ensure grid buckets are rendered correctly at high zoom levels {kib-pull}44421[#44421]
Metrics::
* Tweak the z-index inventory toolbars {kib-pull}49642[#49642]
* Convert node detail page time range to date strings {kib-pull}43881[#43881]
* Add legends and points to charts on node detail page {kib-pull}43787[#43787]
* Limit Metric Explorer fields {kib-pull}43322[#43322]
* Create robust ID for contextual menus for inventory view {kib-pull}46358[#46358]
* Remove points from charts on Metrics Explorer and Detail Page {kib-pull}49500[#49500]
* Make sure that filter query bar can be set to null {kib-pull}50070[#50070]
* Use URL /infrastructure/metrics instead of /metrics {kib-pull}44532[#44532]
Monitoring::
* Ensure cloud cannot see setup mode {kib-pull}49223[#49223]
* Standarize on 'JVM Heap' phrase for heap metrics {kib-pull}48093[#48093]
* Added resize listener after handler was created {kib-pull}49452[#49452]
Operations::
* Use older systemd StartLimitInterval {kib-pull}47909[#47909]
* Variety of quick a11y fixes {kib-pull}46569[#46569]
* Main and nav landmark a11y fixes {kib-pull}48381[#48381]
* SearchSource: Fix docvalue_fields and fields intersection logic {kib-pull}46724[#46724]
Platform::
* Time range per panel design fixes {kib-pull}46630[#46630]
* Use custom deep merging strategy on createCluster {kib-pull}48836[#48836]
* Honor current search criteria when exporting saved objects {kib-pull}47223[#47223]
* Allow plugins to register top nav menu items (regression fix) {kib-pull}48542[#48542]
* Index Pattern Date formatter - fixing sample data display {kib-pull}48259[#48259]
* Read warning to screen readers for duplicate saved objects {kib-pull}47568[#47568]
* Ignore missing references on saved object exports {kib-pull}47685[#47685]
* Kibana should start without task manager {kib-pull}48568[#48568]
* Fixes issue where query bar reverts changes on save if it hasn't been submitted {kib-pull}47908[#47908]
* Add event.dataset to sample web logs {kib-pull}48150[#48150]
Reporting::
* Data read/write failures are error logs {kib-pull}45478[#45478]
* Cut down payload of _getPendingJobs query {kib-pull}47768[#47768]
* Fix Generating Reports with long `jobParams` RISON {kib-pull}45603[#45603]
SIEM::
* Fix incorrect inspected query for kpi network {kib-pull}49695[#49695]
* Filter out &quot;loading&quot; from Panel to make it more React performant {kib-pull}46258[#46258]
* Start of deprecated lifecycle refactor {kib-pull}46293[#46293]
* Show getting started page on empty string or _all {kib-pull}47166[#47166]
* Top Countries network page tab change; fix column heading bug {kib-pull}48526[#48526]
* Events Histogram add time_zone argument to match Events Table {kib-pull}48821[#48821]
* Fields browser, auto selects category bugfix {kib-pull}48999[#48999]
* Fix bug that fails to match index patterns with leading wildcard {kib-pull}49735[#49735]
* Fix Firefox focus state in SIEM tab_navigation {kib-pull}45996[#45996]
* Fix AnomaliesNetworkTable and AnomaliesHostTable items count {kib-pull}48634[#48634]
Security::
* Removes `&lt;form&gt;` tag that was breaking the EuiComboBox's enter key {kib-pull}48184[#48184]
* GUI enhancement: ability to sort the spaces table {kib-pull}46421[#46421]
Uptime::
* Added aria label description for ping over time chart {kib-pull}46689[#46689]
* Use EuiSelect instead of ComboBox for ping history {kib-pull}49700[#49700]
* Handle filter dropdown button click {kib-pull}48650[#48650]
* Do not drop edge buckets {kib-pull}48157[#48157]
* Fix chart wrapping for monitor page {kib-pull}49268[#49268]
* Add different request lib to `telemetry_analytics` in place of `$http` {kib-pull}49671[#49671]
* Remove potential for flaky snapshot comparison in unit test {kib-pull}49928[#49928]
* Revert router base name for Uptime plugin {kib-pull}50095[#50095]
* Section headline should be inside panel {kib-pull}43468[#43468]
* Removed extra slash from integration urls {kib-pull}44469[#44469]
* Align uptime help menu with other apps {kib-pull}44536[#44536]
* App page title {kib-pull}44818[#44818]
* Show permission warning if no right for uptime {kib-pull}44968[#44968]
* Integration popup closes after refresh {kib-pull}45759[#45759]
* Make uptime filters responsive {kib-pull}46560[#46560]
* Update monitor list table description by adding aria-label for accessibility {kib-pull}46696[#46696]
* Change default status filter in ping list to all on monitor page {kib-pull}47108[#47108]
* Disable filter and Add link to location docs when no location exists {kib-pull}49175[#49175]
Visualizations::
* Unable to deal with negative values {kib-pull}43581[#43581]
* Use correct color for circles in line chart {kib-pull}47715[#47715]
* Fix infinite loop in vega tooltips {kib-pull}47700[#47700]
* Improve error handling {kib-pull}47958[#47958]
* Show correct value in legend for step charts {kib-pull}47863[#47863]
* Input controls does not reset top level controls after clear {kib-pull}47937[#47937]
* Look up axis format from series instead of using default formatter {kib-pull}47696[#47696]
* Pass raw values and format afterwards {kib-pull}48090[#48090]

[float]
[[deprecation-7.5.0]]
=== Deprecations
Discover::
* De-angularize sidebar fields {kib-pull}47559[#47559]
Visualizations::
* Deprecate scale metrics behavior {kib-pull}47599[#47599]

[[release-notes-7.4.2]]
== {kib} 7.4.2

Also see <<breaking-changes-7.4, breaking changes in 7.4>>.

[float]
[[bug-7.4.2]]
=== Bug fix
Discover::
* Fixes missing HTML formatting in Doc_Viewer {kib-pull}49326[#49326]
* Fixes the URL field formatter {kib-pull}46332[#46332]
Visualizations::
* Fixes the loss of filters in TSVB after upgrade from 7.2 to 7.3 {kib-pull}48710[#48710]


[[release-notes-7.4.1]]
== {kib} 7.4.1

See also <<breaking-changes-7.4, breaking changes in 7.4>>.


[float]
[[enhancement-7.4.1]]
=== Enhancements
Monitoring::
*  Server side pagination for ES Nodes listing table {kib-pull}47224[#47224]
[float]
[[bug-7.4.1]]
=== Bug fixes
Canvas::
* Fixes workpad fullscreen view due to max-width limitation {kib-pull}47371[#47371]
Infrastructure::
* Loads initial page state into the URL when empty for Metrics Explorer {kib-pull}45683[#45683]
* Removes internal Hapi request for `makeTSVBRequest` {kib-pull}45598[#45598]
Machine Learning::
* Fixes selection of dedicated index when cloning job {kib-pull}46486[#46486]
* Fixes job clone time range auto selection {kib-pull}46582[#46582]
* Enables wizard start real time button only when job is closed {kib-pull}46127[#46127]
* Adds listener for time filter refresh to data visualizer {kib-pull}46708[#46708]
* Fixes view examples link in anomalies table {kib-pull}47954[#47954]
* Data Frame Analytics: Fixes permissions check {kib-pull}46110[#46110]
Management::
* ILM: Deletes `min_age` field if warm phase on rollover is enabled {kib-pull}45412[#45412]
* Console: Fixes actions menu alignment {kib-pull}47227[#47227]
Monitoring::
* Ensures all charts use the configured timezone {kib-pull}45949[#45949]
* Uses server side pagination for Logstash Pipelines page {kib-pull}46587[#46587]
* Fixes time filter woes {kib-pull}47486[#47486]
* Allows `isCollectionEnabledUpdated` to hang until data is available {kib-pull}46279[#46279]
Platform::
* Fixes issue with `saved_objects` API overwriting saved object references if not specified {kib-pull}47248[#47248]
Reporting::
* Fixes ESQueue worker error logging {kib-pull}46308[#46308]
* Fixes functionality of "Download CSV" from a Saved Search panel in a Dashboard {kib-pull}47891[#47891]
SIEM::
* Fixes map global refresh when the time filter is set to an absolute value {kib-pull}47426[#47426]
Security::
* Makes sure all URLs are relative on intake and execute {kib-pull}46528[#46528]
* Spaces: Fixes `SecureSpaceMessage` visibility {kib-pull}44829[#44829]
Uptime::
* Fixes empty name filter {kib-pull}46962[#46962]
* Fixes jerky monitor list expanded row behavior {kib-pull}47080[#47080]

[[release-notes-7.4.0]]
== {kib} 7.4.0

[float]
[[breaking-7.4.0]]
=== Breaking Changes
See also <<breaking-changes-7.4, breaking changes in 7.4>>.

Platform::
* Use search instead of msearch when batching is disabled in courier {kib-pull}43923[#43923]

[float]
[[enhancement-7.4.0]]
=== Enhancements
APM::
* Surface http errors to users {kib-pull}42160[#42160]
* Transaction duration chart always shows duration in `ms` {kib-pull}42375[#42375]
* Use rounded bucket sizes for transaction distribution {kib-pull}42830[#42830]
* Show loading state on waterfall and avoid re-fetching distribution chart when changing bucket {kib-pull}44093[#44093]
* Make number of x ticks responsive to the plot width {kib-pull}44870[#44870]
* Persist table parameters to URL {kib-pull}39912[#39912]
* Local UI filters {kib-pull}41588[#41588]
* Use transaction indices to create ML job {kib-pull}43750[#43750]
* Update query input when url changes {kib-pull}43773[#43773]
* Only show &quot;Clear filters&quot; button when values are not empty {kib-pull}43967[#43967]
Canvas::
* Format argument for the metric element {kib-pull}42007[#42007]
* Query default index when index is unspecified {kib-pull}41515[#41515]
* Added formatnumber and formatdate UIs to sidebar {kib-pull}43059[#43059]
* Add Monaco to the Canvas Expression Editor {kib-pull}41790[#41790]
Dashboard::
* Reset dirty saved query on reload {kib-pull}43927[#43927]
Design::
* Add {kib} App specific URL to the help menu (#34739) {kib-pull}42580[#42580]
Discover::
* Add advanced setting to turn off search on Discover's initial page load {kib-pull}42036[#42036]
* Allow sorting on multiple columns in Discover {kib-pull}41918[#41918]
* Add icon for geo_shape fields in Discover {kib-pull}42087[#42087]
Infrastructure::
* Add UI to customize Metrics Explorer chart style {kib-pull}41022[#41022]
* Add cloud metrics and cloud/host info to metadata endpoint {kib-pull}41836[#41836]
* Add APM to Metadata Endpoint {kib-pull}42197[#42197]
* Add AWS metrics to node detail page {kib-pull}42153[#42153]
* Clarify confusing message about time period {kib-pull}44168[#44168]
Logs::
* Allow for jumping to the previous and next highlight {kib-pull}40010[#40010]
* Show highlighted log entries in the minimap {kib-pull}40745[#40745]
* Add a time cursor to the log minimap {kib-pull}39538[#39538]
* Make column configurations reorderable {kib-pull}41035[#41035]
* Add link from the sample web logs to the Logs UI {kib-pull}42635[#42635]
* Allow dragging of the log minimap to change visible logs {kib-pull}40092[#40092]

Machine Learning::
* Cards as links {kib-pull}45254[#45254]
* Adding datafeed timing stats to Job Management list {kib-pull}40993[#40993]
* Relaxing index pattern restriction on module setup {kib-pull}42619[#42619]
* Adding job overrides to the module setup endpoint {kib-pull}42946[#42946]
* Search bar on list page {kib-pull}41415[#41415]
* KQL bar for querying source data in creation wizard {kib-pull}41779[#41779]
* Creation wizard editor for source config {kib-pull}41937[#41937]
* {kib} management jobs list {kib-pull}42570[#42570]
* Adds Transform Analytics list to {kib} management {kib-pull}43151[#43151]
* Ensure proper title, tagline, and link to documentation {kib-pull}43418[#43418]
* DataFrame bulk actions {kib-pull}43331[#43331]
* Data Frames Summary Stats Bar {kib-pull}43986[#43986]
* Transform UI updates {kib-pull}44175[#44175]
* Converts index based data visualizer to React {kib-pull}42685[#42685]
* Enables cell range selection. {kib-pull}44066[#44066]
* Analytics jobs list. {kib-pull}42598[#42598]
* Analytics job creation. {kib-pull}43102[#43102]
* Outlier detection results page {kib-pull}43578[#43578]
* Advanced editor. {kib-pull}43989[#43989]
Management::
* Index Templates UI list view {kib-pull}39922[#39922]
* Index Templates UI details view {kib-pull}41602[#41602]
* Index templates form wizard {kib-pull}42457[#42457]
* Show endpoint in JSON preview of index lifecycle policy editor. {kib-pull}42791[#42791]
* Add API endpoint to Rollup Job JSON summary. {kib-pull}42789[#42789]
* Add request flyout to Remote Clusters. {kib-pull}42900[#42900]
* Show requests for creating a follower index and creating/updating an auto-follow pattern in CCR. {kib-pull}42924[#42924]
* Option to start rollup job right after it gets created {kib-pull}41573[#41573]
* Clone an existing rollup job {kib-pull}41891[#41891]
* Metrics multiple selection {kib-pull}42927[#42927]
* Add SLM policies list and detail views {kib-pull}41302[#41302]
* Sorts the indexPatternDateFields which are listed in the date field dropdown on Date Histogram Step  {kib-pull}41853[#41853]
* Delete and execute SLM policies {kib-pull}41934[#41934]
* SLM create and edit policies {kib-pull}43390[#43390]
* Form validation errors announce themself {kib-pull}39656[#39656]
* Switch default decimal places to 1 {kib-pull}43785[#43785]
* Add custom formatting for Date Nanos Format {kib-pull}42445[#42445]
Maps::
* Change border color to be darker version of fill color {kib-pull}43211[#43211]
* Add attribution handling for TMS (config &amp; UI-entry) and WMS {kib-pull}44147[#44147]
* Make default EMS tile layer auto select light or dark tiles based on isDark mode advanced setting {kib-pull}40892[#40892]
* Add filter bar to maps application {kib-pull}42756[#42756]
* Filter by shape {kib-pull}43141[#43141]
* Custom color ramp {kib-pull}41603[#41603]
* Add indicator when layer is filtered by search bar {kib-pull}43283[#43283]
* Add cancel draw button and draw instructions {kib-pull}43593[#43593]
* Pew pew source {kib-pull}41504[#41504]
* Load Maki icons from spritesheet {kib-pull}42499[#42499]
* Enable borders for icon symbols {kib-pull}43066[#43066]
* Provide indication in LayerTOC when results are incomplete {kib-pull}41271[#41271]
* Use EMS vector tiles {kib-pull}42846[#42846]
Monitoring::
* Update APM metric titles {kib-pull}44091[#44091]
Platform::
* Feature/default enable csv dashboard {kib-pull}44048[#44048]
* Chore/bump chromium webgl+kerberos {kib-pull}42751[#42751]
* Cancel visualize fetches when navigating away or re-fetching {kib-pull}42035[#42035]
* Ability to enable and disable alerts {kib-pull}40543[#40543]
* Per panel time range {kib-pull}43153[#43153]
* Promote many `debug` log events to `info`  {kib-pull}43241[#43241]
* Instantiate a logger top level, and use it throughout the job {kib-pull}43636[#43636]
* Add capture.maxAttempts setting {kib-pull}44011[#44011]
Queries::
* Implement saved queries and filters {kib-pull}39140[#39140]
Reporting::
* Rewrite telemetry collection to use a single query {kib-pull}34327[#34327]
* Truncate base64 urls in logs {kib-pull}41304[#41304]
* Sanitize 409 error log message {kib-pull}42495[#42495]
Security::
* PKI authentication in Kibana via Elasticsearch PKI realm {kib-pull}42606[#42606]
* OIDC authentication now supports the implicit flow {kib-pull}42069[#42069]
* Telemetry for csp configuration {kib-pull}43223[#43223]
* Copy Saved Objects to Spaces UI {kib-pull}39002[#39002]
* Allow for custom cluster privileges {kib-pull}43817[#43817]
SIEM::
* Customizable columns, row renderers, and expandable events in the `Events` widget {kib-pull}44324[#44324]
* Adds events and Timeline Style / ID Updates {kib-pull}44965[#44965]
* Applies highlighting to the Timeline data providers drop area and flyout button {kib-pull}45173[#45173]
* Sets page titles to the current page you are on  {kib-pull}42157[#42157]
* Update date picker after brush selection on charts {kib-pull}42440[#42440]
* Upgrades react-redux and utilize React.memo for performance gains  {kib-pull}43029[#43029]
* Changes network to use ECS fields {kib-pull}44392[#44392]
* Adds a configuraton option for the default SIEM date time range {kib-pull}44540[#44540]
* Fixes the columns to not show duplicate information when on detail pages.   {kib-pull}45031[#45031]
* Adds process_started ECS fields to Uncommon Process Table {kib-pull}45664[#45664]
* Adds Connections (Pewpew) Map to Network Page {kib-pull}43965[#43965]
* Adds telemetry for ML functionality {kib-pull}43926[#43926]
* Adds new jobs for SIEM ML Integration {kib-pull}44301[#44301]
* Moves installation of jobs from initial page load to opening of Anomaly Detection UI {kib-pull}45536[#45536]
* Adding new jobs to siem module {kib-pull}43783[#43783]
* Changes table widget loading to elastic user interface's loading content {kib-pull}41596[#41596]
* Changes hosts and network tables from load more to paginated {kib-pull}41532[#41532]
* Uses autonomous_system as new ECS field {kib-pull}43925[#43925]
* Makes ip details heading draggable {kib-pull}45179[#45179]
* Split into Source and Destination  {kib-pull}43719[#43719]
* Inject/apply KQL changed in refresh button {kib-pull}45065[#45065]
* Improves the timeline performance by optimizing the width, removing wasted renderers, and adding a visibility sensor  {kib-pull}43560[#43560]
Uptime::
* Improve `useUrlParams` hook for Uptime app {kib-pull}41545[#41545]
Visualizations::
* Introducing Timerange Data Mode for TSVB Metric Style Visualizations {kib-pull}37185[#37185]
* Allow other apps to list their custom visualizations in the Visualize app {kib-pull}43386[#43386]
* Threshold line on bar/line/area charts {kib-pull}42632[#42632]
* Adds capability to show percentages for data table columns {kib-pull}39572[#39572]

[float]
[[bug-7.4.0]]
=== Bug fixes
APM::
* Avoid APM failing to start when ml is disabled {kib-pull}42815[#42815]
* Fix missing RUM url {kib-pull}42940[#42940]
* Correctly pass service language for syntax highlighting {kib-pull}43771[#43771]
* Make sure histogram is responsive when resizing window {kib-pull}43759[#43759]
* Don't hide all legends if user has hidden one {kib-pull}43667[#43667]
* Fill in vertical gaps in breakdown metrics data {kib-pull}43663[#43663]
* Display all errors in child transactions/spans in trace overview {kib-pull}44274[#44274]
* Fix indefinite loading state in agent settings for unauthorized user roles {kib-pull}44970[#44970]
Canvas::
* Adds support for uppercase cluster names in esdocs and other datasource bug fixes {kib-pull}44311[#44311]
Dashboard::
* No reload on changes to disabled filters in dashboard {kib-pull}41144[#41144]
* Update assumption that panelIndex may be missing {kib-pull}44793[#44793]
Design::
* Update heading hierarchy for instructions {kib-pull}41970[#41970]
Discover::
* Fix TypeError at Discover's context view {kib-pull}43661[#43661]
Filters::
* Fix truncation of long filter bar items {kib-pull}43874[#43874]
* Keep disabled state on filter edit {kib-pull}42346[#42346]
* Put filters back in the filter context where they belong {kib-pull}42095[#42095]
Graph::
* Replace all occurences of placeholder in drilldown URL template {kib-pull}41673[#41673]
Infrastructure::
* Replace EUI Charts with Elastic Charts on node detail page {kib-pull}41262[#41262]
* Use {kib} date format for chart headers {kib-pull}41715[#41715]
* Change contextual menu position on infrastructure view {kib-pull}41810[#41810]
* Cleanup loading states for node detail page. {kib-pull}43311[#43311]
Logs UI::
* Fix rendering of complex field column values {kib-pull}44906[#44906]
* Announce name of column on remove column button {kib-pull}41695[#41695]
* Sentence case copy changes {kib-pull}43215[#43215]
Machine Learning::
* Allow zero delay for transforms wizard {kib-pull}45115[#45115]
* Fix jobs list loading when auto refresh is off {kib-pull}42076[#42076]
* Allow index patterns containing commas in recogniser modules {kib-pull}43686[#43686]
* File data viz limiting uploaded doc chunk size {kib-pull}44768[#44768]
* Fixing job management expanded rows in dark mode {kib-pull}45159[#45159]
* Adjusting module jobs model memory limit {kib-pull}45502[#45502]
* Ensure Anomaly Explorer chart label badge can be seen {kib-pull}44259[#44259]
* Fix {kib} management stats bar style {kib-pull}44658[#44658]
* Ensure preview table displays scripted fields and timestamps are formatted correctly. {kib-pull}44701[#44701]
* Enable data visualizer link on job types page for non-time index {kib-pull}44667[#44667]
* Fixes messages in data frame action request notifications {kib-pull}44872[#44872]
* Fixes JSON pane. {kib-pull}42816[#42816]
* Fix IE11 issue, update types. {kib-pull}43743[#43743]
* Fixes table sorting. {kib-pull}43859[#43859]
Management::
* Fix rendering `undefined` from job status map {kib-pull}41438[#41438]
* Added doc_values to list of completion items for mapping {kib-pull}42581[#42581]
* Fix date_nanos formatting for formats without fractional seconds {kib-pull}43114[#43114]
Maps::
* Reverse the attribution order so left-to-right order matches top-to-bottom {kib-pull}44415[#44415]
* Set complete on index pattern creation {kib-pull}44423[#44423]
* Unknown provider regionMapsConfigProvider {kib-pull}42821[#42821]
* Only color legend icon with dynamic color when dynamic config is complete {kib-pull}41607[#41607]
* Populate _id in tooltip {kib-pull}41684[#41684]
* Only show top hits checkbox if index has date fields {kib-pull}43056[#43056]
* Reposition tooltip when tooltip size changes {kib-pull}43152[#43152]
* Exclude index pattern from draw tools and shape filtering when layer ignores global filter {kib-pull}43380[#43380]
* Increase tooltip max width so create filter button not clipped {kib-pull}43602[#43602]
* Add i18n wrappers around missed text {kib-pull}43635[#43635]
* Only display fields contained in _source for Documents source term join left field options {kib-pull}44386[#44386]
* Fix side panel scrolling in safari {kib-pull}44700[#44700]
* Name space dynamic property style names to avoid collisions {kib-pull}44676[#44676]
* Unmount map embeddable component on destroy {kib-pull}45183[#45183]
* Set mapbox Popup maxWidth {kib-pull}45253[#45253]
Monitoring::
* Ensure we pass down all the parameters for fetching logs {kib-pull}43869[#43869]
* Issue 25323: Fixed error catch and route handling v2 {kib-pull}44800[#44800]
* Respect xpack.monitoring.show_license_expiration {kib-pull}45537[#45537]
Operations::
* Configurable global socket timeouts {kib-pull}31603[#31603]
* Only provide obsoleteIndexTemplatePattern to the default index migrator to avoid race conditions {kib-pull}42016[#42016]
Platform::
* Modify I18nProvider so that it does not generate new React components {kib-pull}43556[#43556]
* Fix rawChecksums in chromium build and rename for clarity {kib-pull}44665[#44665]
* Resolve filter index references when importing saved objects {kib-pull}42974[#42974]
Queries::
* Saved query requires title {kib-pull}45029[#45029]
* Save query form validation on blur {kib-pull}43726[#43726]
Reporting::
* Fix Relative Date format in CSV export {kib-pull}40544[#40544]
* Fix TypeError with pending job info {kib-pull}43924[#43924]
* Use pipes for communication with chrome to avoid networking snafus {kib-pull}42097[#42097]
Security::
* Allow for hex color codes that include uppercase characters {kib-pull}43470[#43470]
* Prevent space identifier url example from overflowing panel {kib-pull}44871[#44871]
SIEM::
* Toggle Column / Code Coverage and Cypress {kib-pull}42766[#42766]
* Show all popover items / Timeline flyout button rendering {kib-pull}45745[#45745]
* Upgrade elastic charts library - v12.0.2 {kib-pull}45853[#45853]
* Adds performance enhancements such by removing wasted renderers and adding incremental DOM rendering {kib-pull}43157[#43157]
* Fixes the Suricata row renderer not being activated {kib-pull}44728[#44728]
* Changes ML conditional links to use tabs, fixes a small bug with null filterQuery {kib-pull}45218[#45218]
* Fixes index substring incorrectly matching configured indices and failing to install ML job {kib-pull}43409[#43409]
* Fix timeline/kql search disparity {kib-pull}42843[#42843]
* Formats the bytes columns in timeline {kib-pull}43147[#43147]
* Capitalizes SIEM in {kib} Advanced Settings {kib-pull}44886[#44886]
* Removes expensive global CSS calculations of resize handle {kib-pull}43898[#43898]
Uptime::
* Encode Monitor Id React Router params to validate {kib-pull}43113[#43113]
* Context Menu Improved for integrations links in monitors list {kib-pull}43068[#43068]
* Update monitor list configs for mobile view {kib-pull}43218[#43218]
Visualizations::
* No longer registering Timelion feature if it's disabled {kib-pull}42193[#42193]
* Fix Timelion color error when filtering data {kib-pull}23876[#23876]
* Fix truncated formatting on tooltip {kib-pull}41769[#41769]
* Ensure visualizations in percentage mode respect the advanced settings percent format {kib-pull}39044[#39044]
* Fix duplicate fetch in Visualize {kib-pull}41204[#41204]


[[release-notes-7.3.2]]
== {kib} 7.3.2

See also <<breaking-changes-7.3, breaking changes in 7.3>>.

[float]
[[bug-7.3.2]]
=== Bug fixes
Monitoring::
* Ensures all the parameters for fetching logs are passed down {kib-pull}43869[#43869]

SIEM::
* Fixes the Suricata row renderer not being activated {kib-pull}44728[#44728]
* When adding the 2*nth note on an event, does not unpin it {kib-pull}44941[#44941]
* Fixes duplicate columns in timeline and the errors on multiple click on pinned event {kib-pull}44010[#44010]

Security::
* In Spaces, allows for hex color codes that include uppercase characters {kib-pull}43470[#43470]

Platform::
* Resolves filter index references when importing saved objects {kib-pull}42974[#42974]



[[release-notes-7.3.1]]
== {kib} 7.3.1

[float]
[[breaking-7.3.1]]
=== Breaking Changes

See also <<breaking-changes-7.3, breaking changes in 7.3>>.

Platform::
* Fixes import API so it doesn't override SavedObjectClient errors {kib-pull}41125[#41125]

[float]
[[bug-7.3.1]]
=== Bug fixes
APM::
* Makes sure tooltips for metric charts are synced {kib-pull}42139[#42139]
Canvas::
* Fixes IE11 fullscreen behavior to properly position workpad {kib-pull}42544[#42544]
Discover::
* Fixes a bug where selecting a period in the discover histogram did not result in a refresh. {kib-pull}43097[#43097]
Filters::
* Fixes Firefox continuously changing filter position order when
applying more than 1 filter. See https://github.com/elastic/kibana/issues/41567[issue #41567].
Geo::
* Moves Geojson deep clone logic to Elasticsearch, making Geojson
upload more stable when uploading large geometries. {kib-pull}41835[#41835]
* Fixes maps Geojson upload hanging on index step {kib-pull}42623[#42623]
* Formats doc-ids as strings {kib-pull}42011[#42011]
* Modifies Fit-to-data action to fit to all visible features, even ones
without a corresponding result in the join. {kib-pull}42020[#42020]
Infra Logs UI::
* Fixes section mapping bug in node detail page {kib-pull}41641[#41641]
* Fixes autocomplete to use proper derived index pattern {kib-pull}42287[#42287]
Machine Learning::
* Fixes basic license redirect {kib-pull}41876[#41876]
* Fixes file datavisualizer mapping overrides {kib-pull}42047[#42047]
* Fixes ml when spaces feature is disabled {kib-pull}42564[#42564]
* Fixes check for watcher being enabled {kib-pull}43025[#43025]
Management::
* Removes validation for email action body attribute in Watcher {kib-pull}42009[#42009]
* Fixes minor Console regressions introduced during EUIfication. {kib-pull}41089[#41089]
* Fixes issue when removing scripted fields {kib-pull}42838[#42838]
Monitoring::
* Only fetches a single cluster data instead of all clusters when possible {kib-pull}42469[#42469]
* Uses async/await pattern which should address weird bug {kib-pull}42876[#42876]
* Uses fixed_interval explicitly for date_histogram aggregations {kib-pull}37023[#37023]
Operations::
* Overrides `org.label-schema.license` Docker label {kib-pull}42836[#42836]
Platform::
* Fixes CSV export of saved searches that have _source field {kib-pull}43123[#43123]
* Correctly sets `kibanaRoot` on {kib} plugin helpers for new generated plugins {kib-pull}42616[#42616]
* Fixes scaling logic to check agg type instead schema {kib-pull}42574[#42574]
Reporting::
* Fixes an issue in the Reporting jobs listing page that sometimes prevented it from rendering {kib-pull}42419[#42419]
Visualizations::
* Fixes problem in TSVB when group by &quot;Everything&quot; fails to calculate data with &quot;Overall&quot; metrics {kib-pull}42074[#42074]
* Fixes error when filters agg filters are a query_string query {kib-pull}43310[#43310]
* Fixes tooltip text overflow {kib-pull}41703[#41703]

[[release-notes-7.3.0]]
== {kib} 7.3.0

[float]
[[breaking-7.3.0]]
=== Breaking Changes

See also <<breaking-changes-7.3, breaking changes in 7.3>>.

Machine Learning::
* Data Frame: Remove format from date_histogram configs. {kib-pull}39811[#39811]
Maps::
* [Fixes #34662] Hide feature when it has no corresponding term join {kib-pull}36617[#36617]


[float]
[[deprecations-7.3.0]]
=== Deprecation

The following functionality is deprecated in 7.3.0, and will be removed in 8.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 7.3.0.

[discrete]
[[deprecation-xpack-security-authProviders]]
==== Deprecates `xpack.security.authProviders` and `xpack.security.public`

*Details:* Deprecates the `xpack.security.authProviders` and `xpack.security.public` settings used for {kib} SAML authentication. For more information, refer to {pull}37346[#37346].

*Impact:* 

When you use the SAML authentication provider, use the following settings:

* Instead of `xpack.security.authProviders`, use `xpack.security.authc.providers`.

* Instead of `xpack.security.public`, use `xpack.security.authc.saml.realm`.

[float]
[[enhancement-7.3.0]]
=== Enhancements
Canvas::
* Add new dashboard template {kib-pull}37520[#37520]
* Keyboard shortcuts for nudging elements {kib-pull}39208[#39208]
* [Fixes #27123] Zoom In/Out {kib-pull}38832[#38832]
* Add joinRows Canvas expression function {kib-pull}38680[#38680]
* [Fixes #27124] Fit Workpad to Window {kib-pull}39864[#39864]
* [Fixes #23061, #23144, #29526] Enable Canvas URL Parameters {kib-pull}40061[#40061]
* Alignment and distribution {kib-pull}39132[#39132]
* [Fixes #30841] Box select {kib-pull}32995[#32995]
Infrastructure::
* Link to node detail page from Metrics Explorer {kib-pull}37136[#37136]
* Adds tooltip (with name / id) to Table view {kib-pull}38904[#38904]
* Improve accuracy of system network metrics {kib-pull}39513[#39513]
* Add default metrics to metrics explorer. {kib-pull}39787[#39787]
* Use max instead of avg for correct derivative in network metrics {kib-pull}41009[#41009]
Logs UI::
* Add single phrase highlighting {kib-pull}39569[#39569]
* [Fixes #38167] Add &quot;View in APM&quot; link to log flyout actions menu  {kib-pull}39540[#39540]
Machine Learning::
* [Fixes #39240] When importing CSV through file data viz, omit empty values {kib-pull}39524[#39524]
* [Fixes #39242] Don't quote numbers when importing CSV in file data viz {kib-pull}39579[#39579]
* Adds data frame messages to data frames list {kib-pull}39609[#39609]
* Adds icon to data frame messages expanded row tab {kib-pull}39817[#39817]
* Adds Preview table tab to Data Frames list expanded row {kib-pull}39983[#39983]
* Data Frames list expanded row preview: Fixes transform list paging and sorting. {kib-pull}40163[#40163]
* [Fixes #37312] Only add ML links for sample data sets if full license {kib-pull}38120[#38120]
* [Fixes #37994] Adds check that forecast duration is no more than 3650 days {kib-pull}38408[#38408]
* Adds SIEM Auditbeat and metricbeat data recognizer modules {kib-pull}39678[#39678]
* [Fixes #28390] [Accessibility] Add job ID to select row checkbox aria-label in Jobs List {kib-pull}40149[#40149]
* Data Frames: Advanced editor {kib-pull}39659[#39659]
* Data Frames: Continuous mode support for wizard {kib-pull}39804[#39804]
* Data Frames: Updated progress reporting. {kib-pull}39920[#39920]
* Data Frames: Transform list refresh button. {kib-pull}40129[#40129]
* [Fixes #38776] Data Frames: Adds support for transform description {kib-pull}40153[#40153]
Management::
* [Fixes #13804, #17894, #17956, #17969, #17978, #18008, #18008, #18031, #18047, #18052, #18151, #18191, #18245, #18246, #18256, #18268, #18271, #18296, #18353, #18506, #18508, #18532, #18536, #18794, #22615, #29167, #33207, #33917, #34932, #39828] EUIfy Watcher {kib-pull}35301[#35301]
* Add repository-azure autocompletion settings {kib-pull}37935[#37935]
* [Fixes #32132] Allow users to disable polling in Console {kib-pull}38949[#38949]
* [Fixes #15628] Add setting for disabling use of triple quotes in the Console output pane. {kib-pull}39114[#39114]
* Separate Console History panel from editor with a drop-shadow, and add a Close button {kib-pull}39972[#39972]
* [Fixes #39985] Accept triple quoted input in Search Profiler. {kib-pull}39984[#39984]
* Snapshot and Restore UI {kib-pull}39193[#39193]
* EUIfy Console - partially de-angularize and move custom views out of top_nav {kib-pull}39341[#39341]
* Console update autocomplete definitions {kib-pull}39508[#39508]
Maps::
* [File upload] New plugin: file upload {kib-pull}36404[#36404]
* [File upload] Geojson upload {kib-pull}36410[#36410]
* [Fixes #35659] Heatmap color ramp select and legend details {kib-pull}37187[#37187]
* [Fixes #30738] Add support for Top Hits to Documents source {kib-pull}38052[#38052]
* [Fixes #30738] Symbolize points with maki icons {kib-pull}37822[#37822]
* Add Symbol orientation style property {kib-pull}39129[#39129]
* [Fixes #35978] Move set view to toolbar control, show zoom level in view control {kib-pull}38925[#38925]
* [Fixes #34399] Add Where clause to terms joins {kib-pull}39593[#39593]
* Increase document limit from 2048 to 10000 {kib-pull}39697[#39697]
* Remove beta labeling from application and docs {kib-pull}39871[#39871]
* [Fixes #31697] Custom labels for metric aggregations {kib-pull}39914[#39914]
* Replace legacy map visualizations with maps in sample data dashboards {kib-pull}35997[#35997]
* [Fixes #34026] Make EMS tooltips configurable {kib-pull}34325[#34325]
* [Fixes #29005] Add multiple feature selection in tooltips {kib-pull}39629[#39629]
Monitoring::
* Removed dead code {kib-pull}39545[#39545]
* [Fixes #5429] Added a shortcut to ML jobs {kib-pull}39147[#39147]
Platform::
* Query Filter \ Filter Manager: de-angularize and move to data plugin {kib-pull}37311[#37311]
* Introduce setting to disable batching in courier {kib-pull}39470[#39470]
Reporting::
* Export Saved Search CSV as Dashboard Panel Action {kib-pull}34571[#34571]
* Check if CSV cells (including headers) start with known formula characters {kib-pull}37930[#37930]
SIEM::
* Kpi on host details page {kib-pull}39681[#39681]
* Adds Machine Learning table anomalies, a pop over UI for anomalies, and machine learning details score  {kib-pull}39483[#39483]
* Adds Machine Learning Permissions to hide or show UI elements based on the permissions {kib-pull}40119[#40119]
* Adds Machine Learning Anomaly Table to Host Details and Network Details {kib-pull}40223[#40223]
* Adds conditional linking within the application for machine learning jobs {kib-pull}40547[#40547]
* Adds ML Integration for Installing &amp; Starting/Stopping embedded ML jobs {kib-pull}39766[#39766]
* Fix URL state request once initial state {kib-pull}38955[#38955]
* SIEM inspect query {kib-pull}39980[#39980]
* Enhance inspect modal  {kib-pull}40530[#40530]
Security::
* Hiding management link {kib-pull}38472[#38472]
* [Fixes #36626] Display message when logging out of Kibana {kib-pull}37234[#37234]
* [Fixes #38563] Allow roles to be cloned {kib-pull}39303[#39303]
* Make SAML realm name configurable {kib-pull}37346[#37346]
Uptime::
* Summary based monitors Page {kib-pull}39751[#39751]
* [Fixes #38786, #57711] Add monitor summaries {kib-pull}38895[#38895]
* Replace deprecated EUI charts {kib-pull}34313[#34313]
* [Fixes #46] Add error callout for uptime filter bar {kib-pull}38140[#38140]
* Add telemetry collector {kib-pull}34437[#34437]
* Add link for logs host integration {kib-pull}38010[#38010]
* [Fixes #40589] Add link to Uptime documentation from header help menu {kib-pull}40645[#40645]
Visualize::
* Visual Builder duration in second showing as number {kib-pull}35813[#35813]
* Get rid of default export on TSVB {kib-pull}36872[#36872]
* KQL in TSVB {kib-pull}36784[#36784]
* Add configs for terminate_after {kib-pull}37643[#37643]
* Enable use of KQL and autocomplete in filters agg editor {kib-pull}37287[#37287]
* Add automatic alignment to gauge visualisation {kib-pull}34845[#34845]
* Support Elasticsearch date_nanos datatype {kib-pull}36111[#36111]
* Support for date_nanos type timestamps in context view  {kib-pull}38023[#38023]
* [Fixes #38424] Show link to Maps application in create new visualize menu {kib-pull}39191[#39191]
* Rename Visual Builder to TSVB {kib-pull}39125[#39125]
* [Fixes #7116] Show values of bars inside bar charts {kib-pull}36511[#36511]
* Add dateHistogramInterval utility {kib-pull}39091[#39091]

[float]
[[bug-7.3.0]]
=== Bug fixes
APM::
* [Fixes #34866] Fix encoding issue with forward slash in path {kib-pull}37072[#37072]
* [Fixes #34697] Distinguish between loading state and empty state {kib-pull}40651[#40651]
* [Fixes elastic/kibana#40477] [APM Tutorial] Fix APM Server link on Cloud {kib-pull}40711[#40711]
* [Fixes #40351] Make sure stacked area charts handle no data points incorrectly {kib-pull}40353[#40353]
Canvas::
* [Fixes #41296] Apply global CSS to export workpad view {kib-pull}41298[#41298]
* [Fixes #39852] Native HTML5 drag&amp;drop shouldn't kick in {kib-pull}39861[#39861]
* [Fixes #24773]  Fix workpad list overflow {kib-pull}37345[#37345]
Discover::
* [Fixes #41348] Bugfix for exception at discover context view using date_nanos  {kib-pull}41353[#41353]
Infrastructure::
* Support metrics for different docs in Metric Explorer {kib-pull}38153[#38153]
* [Fixes #38141] Allow Metrics Explorer to set KQL filters in TSVB {kib-pull}38280[#38280]
* [Fixes #36818] Metrics Explorer action menu should honor UI capabilities {kib-pull}36824[#36824]
* [Fixes #39809] Sync state with localStorage for Metrics Explorer {kib-pull}40099[#40099]
* [Fixes #40138] Convert bytes to bits before formatting for bits {kib-pull}40523[#40523]
* [Fixes #38130, #37694] Fix CSS to improve IE11 experience {kib-pull}40309[#40309]
* [Fixes #40251] Change GraphQL fetchPolicy for Inventory View {kib-pull}40814[#40814]
* [Fixes #40914] Fix Metric Explorer title truncation {kib-pull}40913[#40913]
* [Fixes #40493] Inventory should display nodes without names {kib-pull}40804[#40804]
* Make queries more robust against missing indices {kib-pull}38976[#38976]
* [Fixes #35975] Fixes text overflow for values in waffle map squares {kib-pull}39068[#39068]
* Add temporary workaround for too small max-width. {kib-pull}39890[#39890]
* [Fixes #39892] Remove queries for log-related metadata {kib-pull}40130[#40130]
* [Fixes #37362] Make arrays of values more readable in log columns {kib-pull}38692[#38692]
* [Fixes #38734] Capitalize 'explorer' in 'Metrics Explorer' {kib-pull}39101[#39101]
* [Fixes #35784] Shrink log stream when window is resized {kib-pull}38937[#38937]
* [Fixes #39913] Widen Group By dropdown and add tooltips to custom metrics {kib-pull}40692[#40692]
Logs UI::
* [Fixes #39991] Fixes &quot;sticky filter&quot; problem {kib-pull}40226[#40226]
* [Fixes #39944] Fix inaccuracy when jumping to a faraway time target {kib-pull}40303[#40303]
Machine Learning::
* Data Frame: Disable link to create new data frame job when no permissions {kib-pull}40268[#40268]
* Data Frame: ensure pivot preview works with comma-separated index patterns  {kib-pull}40282[#40282]
* [Fixes #40562] Single Metric View: ensure charts loaded correctly when using scripted fields {kib-pull}40682[#40682]
* [Fixes #18076] Fixes loading of Single Metric Viewer if partition field is text {kib-pull}37975[#37975]
* [Fixes #37974] Close job after forecast errors if starting from closed {kib-pull}38253[#38253]
* [Fixes #38661] Show time range button on index data viz when not on full license {kib-pull}38789[#38789]
* [Fixes #38559] Increase max data frame transforms in list from 100 to 1000 {kib-pull}38973[#38973]
* [Fixes #39770] Fixes results time range if anomalies occur after data stops {kib-pull}40503[#40503]
* [Fixes #32304] Fixes positioning of annotations brush after window resize {kib-pull}40780[#40780]
* [Fixes #33416] Fixes positioning of Single Metric zoom when at start of range {kib-pull}40854[#40854]
* [Fixes #41135] Fixes model memory limit for metricbeat system module jobs {kib-pull}41747[#41747]
* Data Frame: Rename target index to destination index. {kib-pull}39239[#39239]
* [Fixes #38872] Data Frame: Fixes crash of the source table for complex field values. {kib-pull}39878[#39878]
* Data Frame: Fixes transform list paging and sorting. {kib-pull}40009[#40009]
* [Fixes #38654] Data Frame: Fix form validation {kib-pull}40427[#40427]
* [Fixes #38395] Data Frame: Fixes search triggering onChange on every keystroke. {kib-pull}40607[#40607]
* [Fixes #40960] Fix loading forecasts from anomaly job list. {kib-pull}41034[#41034]
* Data Frame: Fix source table for cells of type object. {kib-pull}41234[#41234]
Management::
* [Fixes #33424, #18851] [IM] Improve UX for permissions error {kib-pull}38916[#38916]
* [Fixes #34751, #19249] [LICENSE] Check permissions before loading license management actions {kib-pull}39183[#39183]
* [Fixes #21484] [IM] warn user before closing or deleting kibana index {kib-pull}39018[#39018]
* [Fixes #38940] Fix Console bug caused by rapidly opening and closing the History tab. {kib-pull}38950[#38950]
* [Fixes #38562] Fix Search Profiler's 'Index' input's placeholder color contrast accessibility. {kib-pull}38952[#38952]
* [Fixes #36983] Fix field autocomplete suggestions in Console {kib-pull}38948[#38948]
* [Fixes #40254] Fix aggs autocompletion in Console. {kib-pull}40816[#40816]
* [Fixes #39087] Remove config from IndexPattern instance {kib-pull}40146[#40146]
* Fix `Rollup` tag not showing on rollup index patterns in list {kib-pull}40297[#40297]
Maps::
* [Fixes #38021] Use coalesce to ensure number always passed to interpolate for data driven size styling {kib-pull}38427[#38427]
* Provide IntlProvider to map listing page {kib-pull}39459[#39459]
* [Fixes #37369] Do not allow save when map has unsaved layer changes {kib-pull}39529[#39529]
* [Fixes #38962] Documents source - top hits - support script fields {kib-pull}39371[#39371]
* [Fixes #40307] Fix react typing for style property type {kib-pull}40518[#40518]
* Use custom labels in legend details {kib-pull}40308[#40308]
* Fix symbol anchor position {kib-pull}40524[#40524]
* [Fixes #40337] Use default locale as fallback for EMS tile layers {kib-pull}40433[#40433]
* [Fixes #40085] Show dialog to save map when leaving app {kib-pull}40215[#40215]
* Shuffle feature ids to avoid mapbox-gl crashes {kib-pull}40803[#40803]
* [Fixes #40646] Remove data on error {kib-pull}41358[#41358]
* [Fixes #41491] Coerce term join values to string {kib-pull}41503[#41503]
Monitoring::
* Add log message for error scenario around missing licensing {kib-pull}40660[#40660]
* [Fixes #36738] Issue 36738: Added zoomout functionality to all charts {kib-pull}39072[#39072]
* [Fixes #28471] Issue 28471: Added strict id checking {kib-pull}40673[#40673]
Operations::
* Fixes an issue where headless_shell doesn't get properly closed (and â€¦ {kib-pull}40924[#40924]
* [Fixes #31549] Configurable global socket timeouts {kib-pull}31603[#31603]
Platform::
* [Fixes #14544] Cancel Discover fetch requests if a new one is submitted {kib-pull}39963[#39963]
* [Fixes #38127] Add required default markdown visState {kib-pull}38390[#38390]
* Fixing custom vis types buildPipeline {kib-pull}39874[#39874]
Reporting::
* Bugfix/reporting png is cancelled {kib-pull}37513[#37513]
* Addresses an issue where Chromium user-data-dirs aren't removed {kib-pull}40284[#40284]
SIEM::
* Update translation {kib-pull}40038[#40038]
* Styling KQL bar {kib-pull}40487[#40487]
Security::
* [Fixes #40014] Spaces API - default disabledFeatures to empty array {kib-pull}40017[#40017]
* [Fixes #39837] Feature Controls - only navigate to index pattern management if available {kib-pull}40067[#40067]
Uptime::
* [Fixes #39679] Fix filter status bar location selection {kib-pull}41382[#41382]
* [Fixes #40171] [Bug] Handle all supported empty states {kib-pull}40194[#40194]
* Fix unsigned integer parsing error and add tests {kib-pull}40526[#40526]
* [Fixes #40582] Change page headlines to use h1 element {kib-pull}40637[#40637]
* [Fixes #40583] Add explicit alignments to table columns {kib-pull}40680[#40680]
* Fix duration chart for Safari {kib-pull}41619[#41619]
Visualize::
* VisualBuilder Metric: Zero values ends in a changed behavior of the color rules {kib-pull}39583[#39583]
* Wrap long text inside of TSVB chart tooltip. {kib-pull}39630[#39630]
* [Fixes #34535] Adds time zone to date_range bucket aggregation {kib-pull}37576[#37576]
* [Fixes #39580] Corrects index pattern for fields in split_by_terms {kib-pull}39723[#39723
* [Fixes #40351] Make sure stacked area charts handle no data points incorrectly {kib-pull}40353[#40353]
* Fix `Rollup` tag not showing on rollup index patterns in list {kib-pull}40297[#40297]
* [Fixes #37940] Don't show listing limit exceeded warning falsely {kib-pull}38246[#38246]
* Add default values for filter labels property for xy charts {kib-pull}38644[#38644]
* [Fixes #39788, #39655] Fix tooltip label name rendering in pie charts. {kib-pull}40105[#40105]
* Fix autorefresh in visualize editor {kib-pull}41657[#41657]
* [Fixes #41357] Bugfix displaying date_nanos formated min/max aggs {kib-pull}41472[#41472]
* [Fixes #39083] Fix visualization migration when savedSearchId is empty string {kib-pull}40172[#40172]
* Change help URL in timelion to point to current docs {kib-pull}39885[#39885]
* Check whether vis type exists {kib-pull}39803[#39803]
* [Fixes #28842] Fix issue with long values in TSVB static metric {kib-pull}40256[#40256]
* [Fixes #36295] Fix visualizations for rollups using fixed_interval or calendar_interval {kib-pull}39537[#39537]
* Fix bug in Filters aggregation and Terms aggregation with Other bucket {kib-pull}40698[#40698]

[[release-notes-7.2.1]]
== {kib} 7.2.1

See also <<breaking-changes-7.2, breaking changes in 7.2>>.

[float]
[[enhancement-7.2.1]]
=== Enhancements
Machine Learning::
* Only adds ML links for sample data sets if full license {kib-pull}38120[#38120]
* Adds check that forecast duration is no more than 3650 days {kib-pull}38408[#38408]
Observability::
* Uptime: Adds error callout for filter bar {kib-pull}38140[#38140]

[float]
[[bug-7.2.1]]
=== Bug fixes
Geo::
* Uses default locale as fallback for EMS tile layers {kib-pull}40433[#40433]
Infra Logs UI::
* Infra UI: Resets error when IP address changes to valid entry {kib-pull}38022[#38022]
Machine Learning::
* Closes job after forecast errors if starting from closed {kib-pull}38253[#38253]
* Shows time range button on index data viz when not on full license {kib-pull}38789[#38789]
* Increases max data frame transforms in list from 100 to 1000 {kib-pull}38973[#38973]
* Data Frames: Fixes crash of the source table for complex field values {kib-pull}39878[#39878]
Management::
* Console: Fixes field autocomplete suggestions {kib-pull}38948[#38948]
* Console: Fixes aggs autocompletion {kib-pull}40816[#40816]
* Console: Fixes bug caused by rapidly opening and closing the History tab {kib-pull}38950[#38950]
* Index Management: Improves user experiences for permissions error {kib-pull}38916[#38916]
* Index Management: Warns user before closing or deleting {kib} index {kib-pull}39018[#39018]
* License Management: Checks permissions before loading license management actions {kib-pull}39183[#39183]
* Search Profiler: Fixes placeholder color contrast accessibility in Index input {kib-pull}38952[#38952]
Monitoring::
* Adds zoomout functionality to all charts {kib-pull}39072[#39072]
* Adds log message for error scenario around missing licensing {kib-pull}40660[#40660]
Security::
* Feature Controls: Only navigates to index pattern management if available {kib-pull}40067[#40067]
* Spaces: Fixes scenario where a Space is created via the API without specifying any `disabledFeatures` {kib-pull}40017[#40017]
Visualize::
* Fixes problem with `Rollup` tag not showing on rollup index patterns in list {kib-pull}40297[#40297]
* Fixes show listing limit so it no longer shows a false warning {kib-pull}38246[#38246]
* Fixes tooltip label name rendering in pie charts {kib-pull}40105[#40105]
* Fixes visualization migration when `savedSearchId` is an empty string {kib-pull}40172[#40172]
* Checks whether vis type exists {kib-pull}39803[#39803]
* Fixes visualizations for rollups using `fixed_interval` or `calendar_interval` {kib-pull}39537[#39537]
* Fixes custom vis types `buildPipeline` {kib-pull}39874[#39874]



[[release-notes-7.2.0]]
== {kib} 7.2.0

[float]
[[breaking-7.2.0]]
=== Breaking Changes

See <<breaking-changes-7.2, breaking changes in 7.2>> for more information.

Index Patterns::
* Removes support for time-based interval index patterns with migration {kib-pull}35262[#35262]

[float]
[[enhancement-7.2.0]]
=== Enhancements
Canvas::
* Adds custom elements {kib-pull}34140[#34140]
* Adds static tags for elements {kib-pull}28779[#28779]
* Adds autoplay pages in fullscreen {kib-pull}35981[#35981]
* Adds new workpad templates {kib-pull}35745[#35745]
* Adds Ctrl + Enter shortcut for evaluating expressions {kib-pull}36138[#36138]
* Allows grouping of filters and group selection in the `filters` function {kib-pull}34889[#34889]

Design::
* Upgrades EUI to 9.2.1 and improves dark mode {kib-pull}32728[#32728]

Geo::
* Allows maps to be embeddable {kib-pull}31473[#31473]
* Registers `savedObjectMetaData` so Maps saved objects show up in dashboard add panel {kib-pull}32895[#32895]
* Populates WMS layers from `getCapabilities` response {kib-pull}32342[#32342]
* Splits settings into layer and source panels {kib-pull}33788[#33788]
* Adds layer-specific filtering {kib-pull}33209[#33209]
* Adds clone layer to layer actions {kib-pull}33853[#33853]
* Automatically disables filter by bounds for indexes with small doc counts {kib-pull}34456[#34456]
* Adds ability to expand and collapse Layer TOC {kib-pull}34506[#34506]
* Ignores global query layer setting {kib-pull}35542[#35542]
* Shows dynamic style ranges in legend {kib-pull}35417[#35417]
* Shows icon when layer is not visible in TOC {kib-pull}36250[#36250]
* Shows minusInCircle icon when layer has no data {kib-pull}36457[#36457]
* Only shows vector style properties used by source in editor {kib-pull}36280[#36280]
* Supports multiple basemap styles {kib-pull}36074[#36074]
* Locks tooltip in place with click {kib-pull}32733[#32733]
* Uses dual range component {kib-pull}32273[#32273]
* Adds filter actions to tooltips {kib-pull}33635[#33635]
* Adds draw filter action to layer {kib-pull}33686[#33686]
* Adds WKT and geohash string support {kib-pull}34472[#34472]

Kibana Home &amp; Add Data::
* Injects anomalies into the Kibana sample datasets to enable ML sample jobs {kib-pull}36714[#36714]
* Allows plugins to register additional view data links in sample data {kib-pull}33052[#33052]

Logs::
* Adds customizable columns {kib-pull}34916[#34916]
* Adds column headers {kib-pull}36467[#36467]
* Adds flyout action menu with Uptime link {kib-pull}36721[#36721]

Machine Learning::
* Adds Kibana sample dataset data recognizer modules {kib-pull}35138[#35138]
* Adds File data viz filter to Index Management link {kib-pull}36166[#36166]
* Adds query bar to Anomaly Explorer for filtering of anomaly results for one or more influencers {kib-pull}31763[#31763]
* Adds the ability to add and remove filters in the Anomaly Explorer via the Anomalies table {kib-pull}33377[#33377]
* Adds the ability to add and remove filters in the Anomaly Explorer via the Top influencers list {kib-pull}33626[#33626]
* Converts Job Selector to React {kib-pull}35638[#35638]
* Always show time warning message in the delete modal in Job Management {kib-pull}36729[#36729]
* Makes layout of Edit Filter List consistent with other settings pages {kib-pull}33421[#33421]
* Adds created_by field to Auditbeat and APM data recognizer jobs {kib-pull}33863[#33863]
* Extends support for anomaly charts when model plot is enabled {kib-pull}34079[#34079]
* Increases the width of the text column in annotations table {kib-pull}34450[#34450]
* Replaces View Forecast button image with Single Metric icon {kib-pull}34563[#34563]
* Limits maximum annotation text length to 1000 characters {kib-pull}34540[#34540]
* Converts full time range selector control to EUI / React {kib-pull}35074[#35074]
* Uses KQL as the query language for custom URLs to Kibana pages {kib-pull}35469[#35469]
* Adds Metricbeat System data recognizer module {kib-pull}35580[#35580]
* Removes check for forecast duration of 8 weeks or less {kib-pull}35583[#35583]
* Adds links to ML jobs to the Kibana sample dataset View data menu {kib-pull}36702[#36702]
* Adds Data Frame UI {kib-pull}33427[#33427]

Management::
* Adds UI for Snapshot Repositories {kib-pull}34407[#34407]

Monitoring::
* Adds Telemetry sample data {kib-pull}33166[#33166]

Platform::
* Introduces UI PluginsService {kib-pull}32672[#32672]
* Adds basic server side export API for saved objects {kib-pull}30326[#30326]
* Adds basic server side import API for saved objects {kib-pull}32158[#32158]
* Returns import errors for saved objects referencing a missing index pattern or search {kib-pull}33005[#33005]
* Modifies saved object export API to support the exporting of nested dependencies {kib-pull}34225[#34225]
* Converts the saved objects UI to use new import / export API {kib-pull}33513[#33513]
* Allows any type of saved object to import / export {kib-pull}34896[#34896]

Security::
* Adds Feature Controls {kib-pull}31652[#31652]
* Adds OpenID Connect auth provider {kib-pull}36201[#36201]
* Converts account screen to React/EUI {kib-pull}35151[#35151]
* Exposes ability to deny ('except') access to fields via FLS {kib-pull}26472[#26472]
* Converts role listing page to React/EUI {kib-pull}30970[#30970]

Uptime::
* Adds support for location name in Uptime UI {kib-pull}36317[#36317]
* Integrates Uptime to Logging {kib-pull}35853[#35853]
* Cleans up design of Uptime app {kib-pull}31663[#31663]

Visualize::
* Allows multiple values for percentile ranks in Time Series Visual Builder {kib-pull}33642[#33642]
* Allows non numeric fields in Top Hits in Time Series Visual Builder {kib-pull}35661[#35661]
* Adds Include and Exclude fields to the Terms group in Time Series Visual Builder {kib-pull}34153[#34153]
* Adds ability to submit Save modals using the Enter key {kib-pull}34417[#34417]
* Improves KQL error messages {kib-pull}34900[#34900]
* Shows a reload dialog when users change a setting requiring a page reload {kib-pull}34780[#34780]
* Improves scripted field script editor {kib-pull}36064[#36064]
* Changes default quick ranges {kib-pull}35066[#35066]
* Adds basic rollup support to Visual builder {kib-pull}28762[#28762]

[float]
[[bug-7.2.0]]
=== Bug fixes

APM::
* Moves the APM index creation from server startup {kib-pull}37965[#37965]
* Updates APM index pattern {kib-pull}36776[#36776]
* Fixes error occurrence panel and content {kib-pull}32808[#32808]
* Switches to visualization colour palette for histogram {kib-pull}31688[#31688]
* Condenses panel gutters and spacers {kib-pull}36337[#36337]
* Replaces the icon for the LibraryFrames toggle {kib-pull}36429[#36429]
* Fixes issues with metric charts when `noHits=true` {kib-pull}37524[#37524]
* Updates index pattern {kib-pull}38797[#38797]

Beats Central Management::
* Moves APIs to new return format {kib-pull}31660[#31660]
* Renames `api/canvas` endpoint to `api/interpreter` {kib-pull}34410[#34410]
* Updates tagcloud interpreter func arguments {kib-pull}33773[#33773]
* Updates markdownvis interpreter func arguments {kib-pull}34534[#34534]
* Moves UI out of index patterns service {kib-pull}36348[#36348]

Canvas::
* Fixes esdocs fields {kib-pull}34894[#34894]
* Fixes datasource preview modal size {kib-pull}36246[#36246]
* Allows 0 for min/max in AxisConfig {kib-pull}37119[#37119]
* Fixes fullscreen sizing on old workpads {kib-pull}37289[#37289]
* Adds Today to quick range {kib-pull}36698[#36698]
* Fixes broken elements in web logs sample data workpad {kib-pull}37931[#37931]
* Resolves issues with the mini color selector and updates Storybook to v5 {kib-pull}34075[#34075]
* Adds types to Renderers and the DropdownFilter {kib-pull}31299[#31299]
* Updates the Asset Manager to use Typescript and adds Storybook examples for ad-hoc testing {kib-pull}31341[#31341]
* Converts functions from arrow to function {kib-pull}35749[#35749]
* Adds strong types to Canvas functions in preparation for i18n {kib-pull}35087[#35087]
* Improves types `demodata` and `pointseries` in preparation for i18n {kib-pull}36055[#36055]
* Implements localization for Canvas functions {kib-pull}36252[#36252]
* Re-renders renderers on filter changes {kib-pull}34823[#34823]
* Restores removed class used for modal focus {kib-pull}36924[#36924]
* Simplifies layout engine integration {kib-pull}33702[#33702]
* Separates component/`-level of `workpad_page` {kib-pull}34983[#34983]
* Fixes invalid cursor position {kib-pull}36018[#36018]
* Adds snap to page borders and centerline {kib-pull}36102[#36102]
* Prioritizes relaxed resize/rotate over depth select {kib-pull}36479[#36479]
* Accesses the ever current interactive page layout in WorkpadApp {kib-pull}36692[#36692]
* Adds group/ungroup menu {kib-pull}36718[#36718]
* Improves Storybook performance {kib-pull}34757[#34757]
* Adds response streaming to Canvas batch requests {kib-pull}32027[#32027]

Console::
* Refetches autocomplete info after updating Dev Console settings {kib-pull}32587[#32587]
* Fixes issue with request body not being sent for Console DELETE requests {kib-pull}32407[#32407]

Dashboard::
* Allows embeddable to specify edit label {kib-pull}36296[#36296]
* Fixes courier:ignoreFilterIfFieldNotInIndex with chained input controls {kib-pull}36369[#36369]
* Fetches options for input control child select boxes {kib-pull}38148[#38148]
* Converts dashboard panels to Typescript {kib-pull}27167[#27167]

Discover::
* Fixes problem with Discover not using an index pattern when two patterns are created {kib-pull}38053[#38053]
* Enables optional use of the timezone set in Advanced Settings in queries {kib-pull}34602[#34602]

Geo::
* Changes tooltip to use description list for IE compatibility {kib-pull}37396[#37396]
* Excludes multi fields in tooltips and join field selection lists {kib-pull}34379[#34379]
* Only show fields that can be used in terms agg in join right field select {kib-pull}35098[#35098]
* Maintains style on source change when creating new layer {kib-pull}34755[#34755]
* Fixes i18n wrapping of ES search failure message {kib-pull}35923[#35923]
* Updates es_search_source to no longer request tooltip fields when fetching geojson {kib-pull}36059[#36059]
* Syncs layer list state to mapbox only once {kib-pull}37133[#37133]
* Sets scaled property values to -1 when there are no results {kib-pull}37121[#37121]
* Fixes defaulting to dark tiles when Kibana is in dark mode {kib-pull}37792[#37792]
* Fixes tooltip text overlap and text overflow {kib-pull}38271[#38271]
* Ensures that the labels extracted from WMS capabilities are unique {kib-pull}38311[#38311]
* Keeps query parameters for WMS Client in URL {kib-pull}34200[#34200]
* Fixes Join editor component logic to avoid infinite updates {kib-pull}37472[#37472]
* Fixes Join editor component logic to avoid infinite updates if index pattern is not found {kib-pull}37615[#37615]
* Uses field formatter for tooltips {kib-pull}33017[#33017]
* Adds ability to load EMS resources with CORS {kib-pull}34503[#34503]
* Uses mapbox feature-state for dynamic properties and upgrades mapbox-gl to 0.54 {kib-pull}36466[#36466]
* Fixes map embeddable test {kib-pull}34648[#34648]

Graph::
* Fixes default drilldown link on index pattern switch {kib-pull}34251[#34251]

Infrastructure::
* Fixes autocomplete overflow in Safari browser {kib-pull}36820[#36820]
* Adds legend settings for waffle map {kib-pull}32228[#32228]
* Adds the UI for the Metrics Explorer {kib-pull}34019[#34019]
* Adds the UI for the Metrics Explorer {kib-pull}35846[#35846]
* Adds links from Infrastructure to Uptime {kib-pull}35993[#35993]
* Adds a brush handler to the Metrics Explorer Charts {kib-pull}36235[#36235]
* Removes the Joi validation from the Metrics Explorer client side URL validation {kib-pull}36493[#36493]
* Appends filterQuery to TSVB filter {kib-pull}36644[#36644]
* Adds link-to page to route IP addresses to the host detail page {kib-pull}36149[#36149]
* Adds a check to the Metrics Explorer API endpoint for empty metrics {kib-pull}37508[#37508]
* Adds round up option to SuperDatePicker for the `to` field {kib-pull}37896[#37896]
* Fixes the Uptime link so it always displays for Docker and Kubernetes nodes {kib-pull}38125[#38125]
* Fixes the CSS for the Metrics Explorer chart title to properly overlap with the Actions menu {kib-pull}38059[#38059]
* Fixes group by â€œxâ€ icon keyboard controls {kib-pull}31960[#31960]
* Changes Infrastructure navigation {kib-pull}32892[#32892]
* Uses EuiSuperDatePicker on the Metrics page {kib-pull}34427[#34427]
* Tweaks metrics time test handling {kib-pull}34869[#34869]
* Increases suggestions limit and allows scrolling in Autocomplete field {kib-pull}34706[#34706]
* Adds new graphql endpoint for snapshot data {kib-pull}34264[#34264]
* Waits for context menu to appear in functional tests {kib-pull}36163[#36163]
* Renames Snapshot to Inventory {kib-pull}36107[#36107]
* Enables telemetry for snapshot resolver {kib-pull}36354[#36354]
* Renames Snapshot to Inventory in page title {kib-pull}36432[#36432]
* Honors space when querying TSVB API {kib-pull}36765[#36765]
* Adds View Surrounding Logs functionality {kib-pull}35727[#35727]
* Changes popover position of Node context menu {kib-pull}36352[#36352]

Kibana Home &amp; Add Data::
* Adds `utc_time` of sample web logs to list of timeFields so that it is dynamic {kib-pull}35879[#35879]

Machine Learning::
* Fixes File Data Visualizer index pattern match {kib-pull}34721[#34721]
* Rounds value when using max model memory limit {kib-pull}35223[#35223]
* Plots chart points for all anomalies where there is no metric data {kib-pull}32645[#32645]
* Fixes line wrap for jobs list timestamp cell in Firefox {kib-pull}34150[#34150]
* Updates forecasting progress bar only if value increases {kib-pull}34614[#34614]
* Fixes Java time access in ML watch Painless script {kib-pull}37074[#37074]
* Provides fix for constant polling of deleting job tasks {kib-pull}38013[#38013]
* Fixes check when opening ML from Kibana Sample Data sets if no ML jobs are created {kib-pull}38649[#38649]

Management::
* Disables grow for IE 11 for index pattern management header {kib-pull}37756[#37756]
* Internationalizes Rollup Jobs, Remote Clusters, and Watcher app titles. {kib-pull}34470[#34470]
* Removes rollup section in advanced settings for OSS {kib-pull}32814[#32814]
* Fixes Create Rollup Index Pattern button badge color error {kib-pull}32954[#32954]
* Fixes hanging UI when custom index pattern with existing ID created {kib-pull}36097[#36097]
* Bumps numeral.js to fix negative time formatting bug {kib-pull}35298[#35298]

Monitoring::
* Improves performance of the Logstash Pipeline Viewer {kib-pull}31293[#31293]
* Updates tests for Monitoring Logstash Pipeline Viewer performance improvements {kib-pull}33570[#33570]
* Sends encrypted telemetry data to telemetry service {kib-pull}33121[#33121]
* Checks for 6.7.2 instead of 6.7.3 in Telemetry {kib-pull}35814[#35814]
* Introduces Logs UI {kib-pull}31275[#31275]
* Determines the Metricbeat migration status logic {kib-pull}34871[#34871]
* Forces collectors to indicate when they are ready in Montoring/Telemetry {kib-pull}36153[#36153]
* Makes change so that once the buffer has events, the collector is always ready {kib-pull}36995[#36995]
* Fixes 500 error from /api/stats {kib-pull}36986[#36986]
* Removes improper usage of query {kib-pull}37099[#37099]
* Uses fixed_interval explicitly for date_histogram aggregations {kib-pull}37023[#37023]
* Creates license check only when thereâ€™s a separate monitoring cluster {kib-pull}33590[#33590]
* Adds uiCapabilities.logs check {kib-pull}35562[#35562]
* Creates a simple cancelable promise, and adds  basic support for Typescript {kib-pull}36293[#36293]
* Fixes default message if value is invalid {kib-pull}36737[#36737]
* Fixes sorting of Monitoring nodes on CPU, Throttle, and Heap columns {kib-pull}36125[#36125]
* Swaps the anchor tag with EuiLink {kib-pull}37020[#37020]
* Typecasts the attr boolean to the correct type {kib-pull}37031[#37031]
* Fixes CPU calculation for APM {kib-pull}37230[#37230]
* Optimizes content to be more vertical for resizing consistency {kib-pull}37120[#37120]
* Uses i18n instead of injectI18n {kib-pull}37845[#37845]
* Adds a link to License Management {kib-pull}37771[#37771]

Operations::
* Reverts [kbn/es] pin 7.x snapshot to elastic/elasticsearch#39582 iâ€¦ {kib-pull}32580[#32580]
* Exits if starting Kibana as root {kib-pull}21563[#21563]
* Uses default keys when running from source {kib-pull}36452[#36452]
* Allows running --dev without kibana.dev.yml {kib-pull}36400[#36400]
* Reenables github checks reporter {kib-pull}37280[#37280]
* Fixes inefficiencies in the dev/license_checker module and rewrites it in Typescript {kib-pull}37807[#37807]
* Adds exception to transpile normalize-url mode to es5 when bundled into the DLL {kib-pull}35804[#35804]
* Upgrades jQuery to 3.4.1 {kib-pull}35908[#35908]
* Enforces all packages to use the same Typescript version {kib-pull}32440[#32440]
* Fixes plugin generator package.json paths {kib-pull}33728[#33728]

Platform::
* Fixes version for plugin showing as undefined {kib-pull}36219[#36219]
* Adds Japanese locale {kib-pull}36940[#36940]
* Provides Initial framework for data plugin {kib-pull}34350[#34350]
* Fixes errors and adds more examples in export saved objects API docs {kib-pull}37991[#37991]
* Updates import saved objects API docs to use curl examples {kib-pull}37997[#37997]
* Fixes URLs from displaying too long in saved objects management UI {kib-pull}37987[#37987]
* Enforces the base path proxy to redirect requests that happen within a space {kib-pull}36300[#36300]
* Automatically strips xpack config when running --oss {kib-pull}36403[#36403]
* Removes unused ui/field_editor reference {kib-pull}34969[#34969]

Reporting::
* Includes the error object job decryption errors {kib-pull}32216[#32216]
* Consolidates startup self-checks {kib-pull}31931[#31931]
* Registers a single ESQueue worker, simultaneous poll for all export types {kib-pull}32839[#32839]
* Converts LevelLogger Logger to Typescript {kib-pull}34972[#34972]

Security::
* Updates index fields API to account for removed types in Role Management {kib-pull}35986[#35986]
* Loads capabilities from InjectedMetadata {kib-pull}36710[#36710]

Uptime::
* Adds integration links for Infrastructure UI {kib-pull}35847[#35847]
* Changes copy on empty state component {kib-pull}33044[#33044]
* Removes Object.assign from helper function {kib-pull}33860[#33860]
* Adds new context for Uptime {kib-pull}34006[#34006]
* Supports URL parameters {kib-pull}35375[#35375]
* Adds Uptime to APM integration {kib-pull}34892[#34892]
* Reduces the bucket size for the monitor list query {kib-pull}36071[#36071]
* Disables integration links for apps that are not present {kib-pull}37284[#37284]
* Removes several default common DatePicker values {kib-pull}37395[#37395]
* Supports KQL `OR` filters {kib-pull}37564[#37564]
* Updates documentation link for location column {kib-pull}37511[#37511]

Visualize::
* Fixes typo in top hit fields filter {kib-pull}38391[#38391]
* Resets FilterEditor on filter prop change {kib-pull}34494[#34494]
* Adds table with conflicting indices in field editor {kib-pull}35783[#35783]
* Fixes sorting of index pattern table in Chrome and Firefox {kib-pull}37613[#37613]
* Fixes Tableview in Time Series Visual Builder to show correct data {kib-pull}34343[#34343]
* Fixes Aggregation by "Static value" in Time Series Visual Builder so that it works properly {kib-pull}34624[#34624]
* Fixes problem in Time Series Visual Builder with shift in historic data after daylight savings time {kib-pull}34283[#34283]
* Triggers request for api/metrics/fields after all UI changes in Time Series Visual Builder {kib-pull}34436[#34436]
* Fixes problem with query bar showing randomly in editor page in Time Series Visual Builder {kib-pull}35081[#35081]
* Makes Time Series Visual Builder signal render-complete equals true on rendering {kib-pull}35215[#35215]
* Filters annotations by the last series timestamp in Time Series Visual Builder {kib-pull}35230[#35230]
* Allows negative values for custom ranges in metric and gauge visualizations {kib-pull}33814[#33814]
* Fixes broken filtering on metric visualizations {kib-pull}38029[#38029]
* Restores line rendering in point series vis using percentile agg {kib-pull}35649[#35649]
* Fixes range filtering in XY charts when field is a scripted date field {kib-pull}25379[#25379]
* Fixes clipping of wide Vega tooltip tables {kib-pull}33465[#33465]
* Migrates serialization of include/exclude options to strings instead of objects in significant terms bucket aggregation {kib-pull}34392[#34392]
* Initializes correct value of time picker's  refresh interval  {kib-pull}35839[#35839]
* Updates tab counters on filter change {kib-pull}34246[#34246]
* Resolves issue that occurs when migrations are partially complete and a new Kibana instance starts up {kib-pull}37674[#37674]
* Adds yml switch for using interpreter in expressions {kib-pull}33832[#33832]



[[release-notes-7.1.1]]
== {kib} 7.1.1

There are no user-facing changes for this release.

[[release-notes-7.1.0]]
== {kib} 7.1.0

[float]
[[enhancements-7.1.0]]
=== Enhancements
Security::
* Updates {kib} to support changes to licensing of security features {kib-pull}35890[#35890]

[float]
[[bug-7.1.0]]
=== Bug fixes
Geo::
* Improves ES search decoding to deal with large geometries {kib-pull}36062[#36062]
Index Lifecycle Management::
* Fixes surface shrink action in edit form if it's already been set on the policy {kib-pull}35987[#35987]
Machine Learning::
* Fixes URL of link to detector function reference docs {kib-pull}35734[#35734]
Monitoring::
* Fixes default timestamp sort and added tests {kib-pull}35640[#35640]

[[release-notes-7.0.1]]
== {kib} 7.0.1


See <<breaking-changes, breaking changes>> for the changes to be aware of when migrating your application
from one version of Kibana to another.


[float]
[[enhancement-7.0.1]]
=== Enhancements
Management::
* Enhances design for Search Profiler, including dark mode {kib-pull}33445[#33445]
Visualize::
* Sets a default timeout for all "waitFor" methods {kib-pull}34756[#34756]

[float]
[[bug-7.0.1]]
=== Bug fixes
APM::
* Updates APM migration reindex script {kib-pull}34801[#34801]
Canvas::
* Recreates handlers and resets completed state on expression change {kib-pull}33900[#33900]
* Fixes bad context check {kib-pull}35621[#35621]
Design::
* Updates README for KUI to note deprecation {kib-pull}34389[#34389]
* Resets heading and p tags to EUI font reset {kib-pull}33717[#33717]
Console::
* Changes autocomplete suggest for `number_of_shards` to default (1) {kib-pull}35657[#35657]
Cross-Cluster Replication::
* Updates the Delete Remote Cluster API to support multiple comma-delimited clusters {kib-pull}34595[#34595]
* Allows user to use CCR when security is not enabled {kib-pull}35333[#35333]
* Retrieves paused state of follower index from ES instead of depending upon the client to provide it {kib-pull}35342[#35342]
* Fixes filling x-axis values for date histogram {kib-pull}35247[#35247]
Geo::
* Updates map name in breadcrumb when changed {kib-pull}34287[#34287]
* Filters fields properly for join right field select {kib-pull}35098[#35098]
* Clears data load error when layer gets correct data {kib-pull}34484[#34484]
Index Lifecycle Management::
* Fixes crash when zero replicas configured in a phase for policy {kib-pull}34480[#34480]
Infrastructure::
* Fixes metrics chart tooltip alignment {kib-pull}34749[#34749]
* Sets [System][auth] program name correctly {kib-pull}34212[#34212]
Kibana Home & Add Data::
* Adds documentation link to Functionbeat to fix Getting Started Guide {kib-pull}35174[#35174]
Machine Learning::
* Ensures cardinality warning is only shown on validity fail {kib-pull}34874[#34874]
* Adds data-test-subj to some job management elements {kib-pull}35284[#35284]
* Ensures `viewByFieldName` is retained on Anomaly Explorer initialize {kib-pull}35260[#35260]
Monitoring::
* Monitors internal telemetry collection {kib-pull}34609[#34609]
* Addresses shard allocation color mismatch {kib-pull}34086[#34086]
* Protects against fields not existing in Logstash Nodes listing {kib-pull}34939[#34939]
* Fixes field name for "Events Ingested" in Logstash Node List page {kib-pull}35122[#35122]
* Swaps KUI base class with EUI equivalent {kib-pull}34644[#34644]
* Allows empty and null key types {kib-pull}35016[#35016]
* Adds sorting to all columns {kib-pull}35410[#35410]
* Shows node name instead of UID in breadcrumbs {kib-pull}35553[#35553]
Observability::
* Removes crosshair synchronization to avoid display bug {kib-pull}33660[#33660]
* Switches GQL field from Int to String {kib-pull}33746[#33746]
Operations::
* Links stylesheets with `type=text/css` {kib-pull}35546[#35546]
* Deletes empty stylesheet for status page {kib-pull}35540[#35540]
* Enables delete of `watch_optimizer_cache_state.json` when data folder is outside of {kib} folder {kib-pull}32446[#32446]
* Fixes missing flag checks {kib-pull}35187[#35187]
* Adds ability to register callback for clean up {kib-pull}35119[#35119]
Platform::
* Fixes import UI to not fail silently when a record other than index-pattern and search is missing {kib-pull}33080[#33080]
* Avoids validating saved object migrationVersion in tests where not needed {kib-pull}35010[#35010]
* Exclude usage stats when `exclude_usage` flag is specified {kib-pull}35691[#35691]
Upgrade Assistant::
* Specifies `allow_restricted_indices` for `_has_privileges` {kib-pull}35125[#35125]
* Shows different interstitial text when cluster is upgraded {kib-pull}34762[#34762]
Visualizations::
* Prevents saving the current timezone in visualizations {kib-pull}34795[#34795]
* Fixes timepicker problem in Firefox {kib-pull}35279[#35279]
* Fixes timepicker quick select {kib-pull}34354[#34354]
* Applies timezone correctly to formatted dates and ticks {kib-pull}33831[#33831]





[[release-notes-7.0.0]]
== {kib} 7.0.0

[float]
=== Known issues

Monitoring::
* If you have a version 7.0 monitoring cluster, a version 6.7 production
cluster and {kib} version 6.7.0 or 6.7.1, you cannot see the monitoring data in
{kib}. {kib-issue}34357[#34357]

[float]
[[breaking-7.0.0]]
=== Breaking changes

For more details about breaking changes in this release, see
<<breaking-changes-7.0, Breaking changes in 7.0>>.

Discover::
* Allows user to use advanced query DSL directly, and does not apply `query:queryString:options` to `query_string` filters automatically {kib-pull}15640[#15640]
* Removes `default_field` from `query:queryString:options` {kib-pull}18966[#18966]
* Makes KQL the default query language for new searches {kib-pull}27092[#27092]
Design::
* Removes references to K6 EUI, using the default UI theme in its place {kib-pull}29152[#29152]
Geo::
* Removes the deprecated `regionmap` and `tilemap` kibana.yml configurations.
Removes the backwards compatibility logic that checked for duplicative settings
`map.regionmap` and `map.tilemap`. {kib-pull}28609[#28609]
Monitoring::
* Refactors index patterns from configurable to constants {kib-pull}29528[#29528]
* Removes `node_resolver` setting {kib-pull}21181[#21181]
Management::
* Adds `configPrefix` to Index Management, License Management, Rollup Jobs, and
Upgrade Assistant {kib-pull}30149[#30149]
* Standardizes use of `index_pattern` in UI code and URLs, replacing `indices`
and `index`  {kib-pull}29151[#29151] and {kib-pull}29481[#29481]
* Removes app-specific dark mode options and replaces with a global dark mode uiSetting {kib-pull}29017[#29017]
Operations::
* Defers the optimize step in the plugin installer to server start {kib-pull}26983[#26983]
* Removes tribe node support {kib-pull}16397[#16397]
* Creates separate startup scripts for development and production {kib-pull}13806[#13806]
* Sets default port based on protocol  {kib-pull}21564[#21564]
* Removes deprecated `/shorten` API {kib-pull}21861[#21861]
Platform::
* Removes deprecated `i18n.defaultLocale` setting {kib-pull}29325[#29325]
* Removes previously deprecated `elasticsearch*` settings. {kib-pull}29496[#29496]
* Adds new "references" attribute to saved objects for relationships {kib-pull}28199[#28199]
Reporting::
* Removes Phantom dependency {kib-pull}27142[#27142]
Security::
* Removes deprecated SSL settings {kib-pull}28622[#28622]
* Removes legacy fallback {kib-pull}29107[#29107]
Visualizations::
* Removes Timelion from the app switcher by default {kib-pull}30131[#30131]
* Removes nested table splits from table visualization {kib-pull}26057[#26057]


[float]
[[deprecation-7.0.0]]
=== Deprecations

Geo::
* Fixes legacy tilemap loading {kib-pull}22095[#22095]
Machine Learning::
* Updates REST endpoint calls to remove _xpack {kib-pull}28069[#28069]
Visualizations::
* Removes old visualize wizard URL {kib-pull}28982[#28982]
* Removes legacy response handler {kib-pull}28985[#28985]
* Removes `legacyIcon` from visualizations {kib-pull}28981[#28981]


[float]
[[enhancement-7.0.0]]
=== Enhancements
Canvas::
* Removes WebSockets from Canvas expressions interpreter {kib-pull}29792[#29792]
* Optimizes Canvas REST calls via batching {kib-pull}29847[#29847]
* Implements a clipboard and stores the copied elements in `localStorage` {kib-pull}25890[#25890]
* Adds the ability to reuse assets without editing an element's expression {kib-pull}25764[#25764]
* Adds the `clear` function {kib-pull}26397[#26397]
* Adds workpad-level CSS {kib-pull}24143[#24143]
* Improvements to expression editor {kib-pull}32336[#32336]
* Adds `aria-label` attribute for Color: Auto Color to button inside chart style {kib-pull}32633[#32633]
* Adds `aria-label` attribute for Copy to clipboard {kib-pull}32880[#32880]
Dashboard::
* Adds `href` option in addition to `onClick` for navigational links {kib-pull}25233[#25233]
Design::
* Implements a new design for {kib} called K7
* Updates logos for marketing {kib-pull}25489[#25489]
* Adds Kibana 7.0 breadcrumbs to home screen {kib-pull}26605[#26605]
* Moves elastic/eui typings to single file {kib-pull}23950[#23950]
Discover::
* Renames the kuery setting to KQL {kib-pull}29587[#29587]
* Adds visual indication of selected language in query bar {kib-pull}30899[#30899]
Logstash::
* Adopts {es} typeless API for Logstash central management {kib-pull}30546[#30546]
Management::
* Adds `Request timestamp` to request inspector stats {kib-pull}25667[#25667]
* Adds "Reload indices" button to Index Management {kib-pull}27033[#27033]
Machine Learning::
* Adds `created_by` field to Auditbeat and APM data recognizer jobs {kib-pull}33863[#33863]
* Adds the time of the anomaly to the `aria-label` of the actions button in each row of the anomalies table {kib-pull}32777[#32777]
* Adds `role="alert"` callouts on the Job Management page to ensure the information is read out by screen readers {kib-pull}32911[#32911]
* Adds EUI `ScreenReaderOnly` component to the "Analyzing data" modal {kib-pull}32472[#32472]
* Updates job type and APM module icon to new designs {kib-pull}25380[#25380]
* Allows model plot enablement via checkbox in  MultiMetric/Population Job creation {kib-pull}24914[#24914]
* Adds support for the rare detector for charts in Anomaly Explorer and Singe Metric viewer {kib-pull}21524[#21524]
* Updates HTTP access modules for ECS {kib-pull}29383[#29383]
* Updates auditbeat modules for ECS {kib-pull}29934[#29934]
* Removes non ECS apache, nginx and auditbeat data recognizer modules {kib-pull}30537[#30537]
* Adds the configuration files for two new auditbeat data recognizer modules for
detecting unusual processes on hosts and Docker containers {kib-pull}25716[#25716]
* Adds support for saved searches created using Kuery to the job wizards {kib-pull}26094[#26094]
* Allows users to enter their own query in the Discover page; stops passing the query
from the job datafeed config in custom URLs {kib-pull}26957[#26957]
* Rewrites Calendar to React/EUI {kib-pull}26741[#26741]
* Converts Setting page to React/EUI {kib-pull}27144[#27144]
* Ensures loading indicator is present on initial jobs load {kib-pull}27151[#27151]
* Prevents a new calendar save if a calendar with that id already exists {kib-pull}27104[#27104]
* Edits data recognizer modules to use KQL in saved objects {kib-pull}32766[#32766]
Observability::
* Converts monitor sparklines to histogram {kib-pull}28502[#28502]
* Adds crosshair sync for monitor page charts {kib-pull}28631[#28631]
* Adds a new plugin for Uptime Monitoring {kib-pull}25480[#25480]
Operations::
* Adds support for reindexing APM indices {kib-pull}29845[#29845]
* Adds a reindex warning for mapping type changes {kib-pull}32081[#32081]
* Adds warning callout to update APM index pattern {kib-pull}33661[#33661]
Platform::
* Adds help menu item to header {kib-pull}29664[#29664]
* Implements global dark theme {kib-pull}28445[#28445]
* Removes support for the K6 navigation style {kib-pull}29565[#29565]
* Adds `rest_total_hits_as_int` to all requests in platform code that eventually
look up `hits.total` {kib-pull}26432[#26432]
* Adds `dist` flag to the configuration context {kib-pull}26545[#26545]
* Prepares `@kbn/datemath` to be republished as `@elastic/datemath` {kib-pull}26559[#26559]
* Wraps `remote` methods in `browser` service {kib-pull}26394[#26394]
* Uses `stream.pipeline` to manage error handling {kib-pull}27246[#27246]
Querying & Filtering::
* Moves the `buildESQuery` module (including filters and Kuery) into a separate package {kib-pull}23345[#23345]
* Adds comment explaining why `getComputedFields` adds a `docvalue` to `docvalue_fields`
for each date field in an index pattern. {kib-pull}25725[#25725]
* Moves filtering functions out of `vis.API.events` {kib-pull}25280[#25280]
Reporting::
* Adds png output to reports {kib-pull}24759[#24759]
* Sorts ascending on sort order first then ascending on name. Any menu item
without a sort order gets set to zero. {kib-pull}25058[#25058]
* In the Visualization Editor, removes the "Optimize for printing" option when
exporting the visualization as PNG or PDF. The single visualization will automatically
be optimized for printing {kib-pull}30456[#30456]
* Adds browser type to the reporting side panel {kib-pull}26307[#26307]
* Adds better logging for `waitForSelector` failure {kib-pull}25762[#25762]
* Enhances error messaging and handling {kib-pull}26299[#26299]
* Adds "Info" button in the Reporting listing {kib-pull}25421[#25421]
* Adds new inspector for chromium-backed reports {kib-pull}32430[#32430]
Rollups::
* Adds support for rolling up metrics of date fields {kib-pull}26450[#26450]
Security::
* Introduces content security policy (CSP) {kib-pull}29545[#29545]
* Warns legacy browsers that do not support content security policy {kib-pull}29957[#29957]
* Adds content security policy strict mode {kib-pull}29856[#29856]
* Updates the GET `/api/security/role` endpoint to return the list of roles sorted
by name, rather than creation date {kib-pull}26491[#26491]
* Updates the Account Settings screen to show the change password form only when
a password change is possible for the authentication realm {kib-pull}26779[#26779]
* Makes space selector a `button` {kib-pull}26889[#26889]
Visualizations::
* Replaces Angular timepicker with EuiSuperDatePicker {kib-pull}29204[#29204]
* Upgrades Kibana to Elasticsearch 7.0 {kib-pull}29184[#29184]
* Maps inspector requests by id so single requests can be reset at a time {kib-pull}26770[#26770]
* Adds ODBC to blurb for start trail {kib-pull}27223[#27223]
* Adds a `console.error` for visualize errors {kib-pull}24581[#24581]
* Adds a timeout so that Vega respects `elasticsearch.shardTimeout` setting {kib-pull}30482[#30482]
* Removes experimental flag from Visual Builder (TSVB) {kib-pull}25634[#25634]
* Implements new visualization type selection {kib-pull}23833[#23833]
* Removes `lab` stage for visualizations, making `experimental` the only non-production
stage available {kib-pull}25702[#25702]
* Makes markdown consistent across {kib} {kib-pull}31890[#31890]
* Adds option to open links in new tab in Time Series Visual Builder {kib-pull}31906[#31906]
* Adds max, min, placeholder to percentile in Time Series Visual Builder {kib-pull}32389[#32389]
* Displays interval information in Time Series Visual Builder when building {kib-pull}32117[#32117]
* Adds controls to toggle disable/enable individual series and annotations {kib-pull}33107[#33107]
* Updates Vega to version 4 {kib-pull}30628[#30628]

[float]
[[bug-7.0.0]]
=== Bug fixes
APM::
* Fixes missing Machine Learning data and NaN issue {kib-pull}34333[#34333]
* Fixes transaction sample on error page {kib-pull}34048[#34048]
* Uses form label for Transaction type selector {kib-pull}28322[#28322]
* Fixes icon for View trace button {kib-pull}28908[#28908]
* Shows metric-only services in service overview {kib-pull}30397[#30397]
* Adds span subtype and action to Span Flyout {kib-pull}30041[#30041]
* Updates head title and fixes breadcrumb string issues {kib-pull}29960[#29960]
* Adds fixes for `service.name` scripted field {kib-pull}28488[#28488]
* Updates APM index pattern {kib-pull}30837[#30837]
* Updates APM reindex script {kib-pull}30761[#30761]
* Sets Index Pattern version as string {kib-pull}30789[#30789]
* Overrides EUI chart default styles for gridlines {kib-pull}21723[#21723]
* Adds section titles to span detail modal {kib-pull}20717[#20717]
* Fixes upgrade assistant label and copy {kib-pull}31750[#31750]
* Changes `context.system.hostname` to `host.hostname` for APM link {kib-pull}30884[#30884]
* Updates APM reindex script {kib-pull}31965[#31965]
* Updates APM index pattern {kib-pull}33595[#33595]
Canvas::
* Excludes assets from Canvas usage query {kib-pull}34516[#34516]
* Adds datetime as a date identifier {kib-pull}29537[#29537]
* Switches sample web logs fonts to 48px {kib-pull}30747[#30747]
* Fixes related to K7 design {kib-pull}30833[#30833]
* Fixes page preview size issue {kib-pull}26795[#26795]
* Fixes visual bug when opening the workpad loader {kib-pull}26647[#26647]
* Fixes page thumbnail sizes {kib-pull}26573[#26573]
* Decreases size of tray toggle {kib-pull}25470[#25470]
* Makes selection border 1px {kib-pull}26739[#26739]
* Fixes interpreter socket error {kib-pull}26870[#26870]
* Fixes duplicate `Value` options in math select value {kib-pull}25556[#25556]
* Gets correct plugins path {kib-pull}25448[#25448]
* Quotes the index pattern in SQL input {kib-pull}25488[#25488]
* Decreases the size of tray toggle {kib-pull}25470[#25470]
* Fixes the hours label container size {kib-pull}31838[#31838]
* Removes ID attribute {kib-pull}30736[#30736]
* Improves the plugin pre-build {kib-pull}25267[#25267]
Dashboard::
* Removes `dashboardContext` function and makes Timelion, Vega, and Time Series
Visual Builder use `buildEsQuery` {kib-pull}23227[#23227]
* Shows the filter bar in dashboard embed mode {kib-pull}32222[#32222]
Design::
* Updates dashboard design {kib-pull}29896[#29896]
* Adjusts side navigation interaction {kib-pull}29978[#29978]
* Converts Security UI from LESS to Sass {kib-pull}25079[#25079]
* Adds boilerplate Sass for Kibana core {kib-pull}21185[#21185]
* Makes dark mode overrides global {kib-pull}31628[#31628]
Discover::
* Adds debug code to flaky field_data test {kib-pull}15535[#15535]
* Gets even more debug info for flaky field_data test {kib-pull}17627[#17627]
* Allows time ranges before the epoch in Discover {kib-pull}31807[#31807]
* Fixes Kibana Query Language handling of carriage return {kib-pull}32150[#32150]
* Improves warning messages when using Lucene-like syntax {kib-pull}31837[#31837]
* Update capitalization of KQL full name {kib-pull}31631[#31631]
* Adds placeholder text indicating the filters aggregation takes only Lucene and Query DSL {kib-pull}31296[#31296]
* Prevents sending request if it already failed during query parsing {kib-pull}31219[#31219]
* Fixes apps to always migrate legacy queries on state change {kib-pull}33276[#33276]
Geo::
* Fixes panel cut off in K7 design {kib-pull}29209[#29209]
* Removes left-over geohash grid code {kib-pull}30312[#30312]
* Uses geo-tile aggregation instead of geohash precision {kib-pull}29776[#29776]
* Resolves URL dynamically when requesting EMS data {kib-pull}25685[#25685]
* Fixes EMS hotlink {kib-pull}26868[#26868]
* Fixes feature/align map config settings {kib-pull}19450[#19450]
* Removes `geotile_grid` aggregation from non-geospatial visualizations {kib-pull}31354[#31354]
* Coerces string doc-values to numbers if used in styling {kib-pull}33657[#33657]
Infrastructure::
* Fixes server-side retrieval of the {kib} version {kib-pull}31440[#31440]
* Fixes react router import {kib-pull}33659[#33659]
* Adapts settings ui to saved object version type change {kib-pull}30082[#30082]
* Fixes potential color bugs {kib-pull}26292[#26292]
* Fixes auto refresh button on node detail page {kib-pull}26426[#26426]
* Changes the time range from the last hour to the last 5 minutes for the Waffle Map {kib-pull}26278[#26278]
* Passes flag in request to force BWC hit count {kib-pull}26517[#26517]
* Replaces redux source slice with constate container {kib-pull}26121[#26121]
* Changes node detail link to set time range to 1 hour {kib-pull}26977[#26977]
* Stops showing sidenav while loading. {kib-pull}27119[#27119]
* Fixes styling after breaking EUI changes {kib-pull}27021[#27021]
* Fixes graphql type generation after package upgrades {kib-pull}26991[#26991]
* Removes usage of `ts-optchain` in the browser {kib-pull}27148[#27148]
Machine Learning::
* Fixes filter and icon for APM Data Recognizer module {kib-pull}31112[#31112]
* Ensures cardinality related messages in Advanced job wizard are formatted correctly {kib-pull}33599[#33599]
* Adds title elements which were missing from Calendars pages {kib-pull}33257[#33257]
* Changes job wizard query to use `match_all` {kib-pull}32008[#32008]
* Adds calendars list to job management {kib-pull}32566[#32566]
* Fixes Job Selector text to take group selection into account {kib-pull}31333[#31333]
* Ensures that Job Selector description text is accurate {kib-pull}32441[#32441]
* Reduces space between headings in the expanded row for Category examples in Anomalies Table {kib-pull}32417[#32417]
* Removes use of types in datafeeds  {kib-pull}27572[#27572]
* Fixes metric select double caret {kib-pull}30357[#30357]
* Removes old angular based start datafeed modal {kib-pull}30392[#30392]
* Handles removal of backend ml.enabled node attribute {kib-pull}27604[#27604]
* Edits labels in the Apache and Nginx ECS data recognizer modules {kib-pull}29935[#29935]
* Fixes for K7 compatibility {kib-pull}30536[#30536]
* Fixes broken label style in advanced wizard {kib-pull}30847[#30847]
* Adds ml-ui team to .github/CODEOWNERS {kib-pull}29810[#29810]
* Allows user to add/edit/delete annotations in the Single Series Viewer {kib-pull}26034[#26034]
* Does not pass datafeed query to Discover in custom URL {kib-pull}26957[#26957]
* Fixes word break in Anomalies and Jobs tables {kib-pull}26978[#26978]
* Fixes alignment of filter icons in the Anomalies table {kib-pull}26253[#26253]
* Shows useful error on invalid query in JobList search bar {kib-pull}25153[#25153]
* Adds user privilege check to Jobs List group selector control {kib-pull}25225[#25225]
* Fixes file data viz file size check and formats as bytes {kib-pull}25295[#25295]
* Fixes the layout of the cards in the Data Visualizer on IE {kib-pull}25383[#25383]
* Adds better error reporting for reading and importing data {kib-pull}24269[#24269]
* Displays an ordinal y axis for low cardinality rare charts {kib-pull}24852[#24852]
* Fixes typo in job validation message {kib-pull}25130[#25130]
* Removes deprecated `angularjs` based jobs list and related code {kib-pull}25216[#25216]
* Skips invalid modules when data recognizer lists matches {kib-pull}33703[#33703]
Management::
* Filters only on name in Index Management {kib-pull}34372[#34372]
* Removes grunt sterilize - its been replaced by `kbn clean` {kib-pull}27825[#27825]
* Makes Index management table more responsive {kib-pull}28882[#28882]
* Fixes index pattern wizard when there are remote clusters but no local indices  {kib-pull}24339[#24339]
* Uses new `_graph` endpoints {kib-pull}26956[#26956]
* Adjusts spacing of Management navigation items {kib-pull}25666[#25666]
* Updates "Disenroll" text to be consistent with menu option "Unenroll" {kib-pull}26816[#26816]
* Fixes broken breadcrumb link for index management {kib-pull}27164[#27164]
* Fixes issue with multiple execution in Console {kib-pull}26933[#26933]
* Reloads full index list when reload hits missing index {kib-pull}27197[#27197]
* Adds boilerplate for remote clusters management app {kib-pull}25369[#25369]
* Adds `ignore_failure` to ingest common auto complete in console {kib-pull}24915[#24915]
* Removes support for expression-based scripted fields {kib-pull}14310[#14310]
* Adds WatchErrors to capture invalid watches {kib-pull}23887[#23887]
* Rewords the translation id for error with missing property in Watcher {kib-pull}24753[#24753]
* Triggers full load when encountering 403 for index list reload {kib-pull}28243[#28243]
* Updates X-Pack console specs {kib-pull}29506[#29506]
* Fixes API integration test for follower indices {kib-pull}30260[#30260]
* Fixes management footer logo spacing bug {kib-pull}30654[#30654]
Monitoring::
* Updates to read from `.monitoring-*-7-*` indices {kib-pull}32654[#32654]
* Adds in explicit mappings {kib-pull}33004[#33004]
* Stops using the normalized derivative value {kib-pull}27416[#27416]
* Updates the title in the left nav to Stack Monitoring {kib-pull}28102[#28102]
* Prepares the Monitoring UI codebase for the incoming changes to `hits.total` {kib-pull}26442[#26442]
* Updates browser title to Stack Monitoring {kib-pull}29638[#29638]
* Fixes Monitoring design {kib-pull}29479[#29479]
* Removes old index patterns that are not expected in 7.0.0 onwards {kib-pull}27915[#27915]
* Removes deprecated `xpack.monitoring.report_stats` setting {kib-pull}30017[#30017]
* Fixes monitoring tests to work with mapping changes {kib-pull}29188[#29188]
* Removes type filter helper {kib-pull}30887[#30887]
* Fixes error handling for local stats collection/permissions {kib-pull}26560[#26560]
* Removes initial delay to check and send Telemetry data {kib-pull}26575[#26575]
* Pulls local Kibana usage stats {kib-pull}26496[#26496]
* Converts the Elasticsearch monitoring UIs to using EUI tables and page layout {kib-pull}26217[#26217]
* Renames Monitoring `FormattedMessage` to `FormattedAlert` {kib-pull}24197[#24197]
* Uses the cluster name from metadata if it exists {kib-pull}24495[#24495]
Observability::
* Fixes 7.x references to tcp.port {kib-pull}29132[#29132]
* Ports functional tests to 7.x {kib-pull}29398[#29398]
* Ports unit tests to master {kib-pull}29876[#29876]
* Adds missing loading states for filter bar and snapshot components {kib-pull}30122[#30122]
* Removes double-format for duration value {kib-pull}30664[#30664]
* Switches Uptime localization from i18n provider to context {kib-pull}31601[#31601]
* Improves monitor charts query {kib-pull}30561[#30561]
* Adds global help support to Uptime {kib-pull}31493[#31493]
* Updates targeted index pattern for 7.0.0 {kib-pull}30998[#30998]
Operations::
* Removes the usage of types from Esqueue used for the `.reporting index` {kib-pull}32146[#32146]
* Fixes IPv6 addresses used with Angular connector {kib-pull}29891[#29891]
* Fixes `makelogs` dependency {kib-pull}31428[#31428]
* Runs the {kib} server in production mode for functional testing {kib-pull}31346[#31346]
* Uses `fs.copyFile` to avoid race condition {kib-pull}32220[#32220]
* Removes `hash -r` {kib-pull}32616[#32616]
* Fixes JUnit reporter {kib-pull}32686[#32686]
* Adds options to `run()` that can modify help and show help on errors {kib-pull}33466[#33466]
* Captures values from boolean flags {kib-pull}33528[#33528]
* Fixes incorrect environment name for V8 options {kib-pull}31052[#31052]
* Removes svg from url-loader, as it conflicts with other loaders {kib-pull}30888[#30888]
* Uses apiVersion from es plugin in x-pack {kib-pull}30853[#30853]
* Clones saved object document before migrating to prevent accidental mutations {kib-pull}30475[#30475]
* Removes node fallback from kibana-keystore {kib-pull}15066[#15066]
* Adds debug script to set inspect flags {kib-pull}15967[#15967]
* Uses snake case for scripts/kibana-keystore.js and scripts/kibana-plugin.js {kib-pull}15331[#15331]
* Updates license info in package.json {kib-pull}20353[#20353]
* Fixes error log formatting {kib-pull}24788[#24788]
* Matches chalk dependency version on Kibana with the one used on X-Pack {kib-pull}20621[#20621]
* Fixes non-conforming licenses on devDependencies and adds the ability to whitelist devOnly licenses {kib-pull}23859[#23859]
* Adds jsxa11y into eslint rules {kib-pull}23932[#23932]
* Reverts Bump react-grid-layout to 0.16.0 {kib-pull}14912[#14912]
* Reverts breaking change for Status API {kib-pull}21927[#21927]
* Converts `utils/collection` to TypeScript {kib-pull}23992[#23992]
* Removes usage of update_all_types {kib-pull}16406[#16406]
* Improves the `yarn kbn bootstrap` speed by using yarn workspaces for packages inside `packages/*` and `x-pack` {kib-pull}24095[#24095]
* Runs jenkins:unit task with dev flag in order to run license check {kib-pull}19832[#19832]
* Does not break on startup in debug mode {kib-pull}19219[#19219]
Platform::
* Removes types from `saved_objects` repository {kib-pull}32286[#32286]
* Fixes custom icon image paths in `NavDrawer` {kib-pull}33573[#33573]
* Fixes back button navigation {kib-pull}32372[#32372]
* Improves types for ftr and expect.js and cleans up `tsconfig` files {kib-pull}31948[#31948]
* Strips # from hash before updating ``$location` {kib-pull}32732[#32732]
* Removes `disableAutoAngularUrlEncodingFix()`` {kib-pull}33136[#33136]
* Removes unused system-loader implementation {kib-pull}33747[#33747]
* Moves the table vis migration to {kib} plugin {kib-pull}29478[#29478]
* Allows passing a default operator to use on saved object client find operations {kib-pull}29339[#29339]
* Fixes saved object repository `bulkCreate` to return migrated references and attributes {kib-pull}29754[#29754]
* Adds missing saved object reference handling for searchSourceJSON filter attribute {kib-pull}29840[#29840]
* Excludes `migrationVersion` and references from `getRootPropertiesObjects` result {kib-pull}30081[#30081]
* Removes dependency on doc versions {kib-pull}29906[#29906]
* Adds typings for saved object client {kib-pull}29951[#29951]
* Uses `lastSubUrl` when appropriate {kib-pull}28735[#28735]
* Removes es _xpack endpoint usage {kib-pull}29465[#29465]
* Adds typings for the `saved_object_finder` react component {kib-pull}30067[#30067]
* Fixes the confirm overwrite modal of saved objects to handle large titles {kib-pull}28590[#28590]
* Decreases start limit and interval {kib-pull}25474[#25474]
* Adds `--download` flag to snapshot command to warm the cache {kib-pull}25830[#25830]
* Implements `--prefer-offline` flag {kib-pull}25840[#25840]
* Fixes watcher routes broken by Hapi upgrade {kib-pull}26713[#26713]
* Fixes non-conforming licenses on devDependencies and adds the ability to whitelist devOnly licenses {kib-pull}23859[#23859]
* Watches optimizer cache invalidation  {kib-pull}24172[#24172]
* Adds `normalizePath` in order to fix watch optimizer when running on Windows {kib-pull}26486[#26486]
* Creates vendor dll for the client modules {kib-pull}22618[#22618]
* Upgrades to NodeJS 10 {kib-pull}25157[#25157]
* Improves plugin version mismatch error message {kib-pull}25774[#25774]
* Improves build/packaging {kib-pull}26096[#26096]
* Swaps `jstimezonedetect` with `moment.tz.guess` {kib-pull}21800[#21800]
* Upgrades resize-observer-polyfill version {kib-pull}26990[#26990]
* Fixes saved objects client `_processBatchQueue` function to handle errors {kib-pull}26763[#26763]
* Changes kbn pm webpack config to generate dist files in mode=none {kib-pull}26847[#26847]
* Hides logs from deleteAll on task: clean client modules into dll {kib-pull}26884[#26884]
* Upgrades `resize-observer-polyfill` version {kib-pull}26990[#26990]
* Uses `single-node` discovery type for the test ES node/cluster {kib-pull}27125[#27125]
* Moves moment to peerDependency in elastic-datemath {kib-pull}27264[#27264]
* Transforms plugin deprecations before checking for unused settings {kib-pull}21294[#21294]
* Expands list of restricted globals in `eslint-config-kibana` {kib-pull}15798[#15798]
* Makes logs easier to read on Windows with chalk colors {kib-pull}15557[#15557]
* Fixes `includeFields` function to return root saved object properties {kib-pull}33847[#33847]
Reporting::
* Refactors routes files and helpers {kib-pull}30111[#30111]
* Deletes `sortOrder` once items have been sorted and does not pass to `EuiContextMenuItem`
in the share context menu {kib-pull}26890[#26890]
* Fixes a regression bug in detection of Error and Warning toast notifications {kib-pull}25482[#25482]
* Stops passing an empty `formatConfig` to the fieldFormats helper {kib-pull}27168[#27168]
* Returns promise in Reporting jobs API {kib-pull}24769[#24769]
* Uses `content-disposition` package for non-US font titles in reporting {kib-pull}30895[#30895]
* Uses lowercased server host settings {kib-pull}33020[#33020]
Rollups::
* Shows loading state in Rollup Job detail panel. {kib-pull}25752[#25752]
* Specifies Rollup Jobs breadcrumbs in header. {kib-pull}26590[#26590]
* Requires histogram interval in Rollup Job wizard to be a whole number. {kib-pull}26596[#26596]
* Removes duplicate rendered sections {kib-pull}[#28566]
Security::
* Adds tests for interpreter `createSocket` {kib-pull}29459[#29459]
* Moves the server-side `SavedObjectClient` types from the `spaces` plugin to the
same location as the corresponding JavaScript source files {kib-pull}26448[#26448]
* Respects the `basePath` for the link to the user profile in the k7 header {kib-pull}26417[#26417]
* Fixes `prettier` throw rule error  {kib-pull}26071[#26071]
* Fixes authentication logic to fail out of auth flow on first provider failure {kib-pull}26648[#26648]
* Fixes issues with the `url.search` being null in Node 10 {kib-pull}26992[#26992]
* Fixes DLS query toggle on the role management page {kib-pull}27213[#27213]
* Implements the K7 login screen {kib-pull}23512[#23512]
Visualizations::
* Fixes missing column totals in data table {kib-pull}34169[#34169]
* Hides gauge labels when value is hidden {kib-pull}34171[#34171]
* Changes sample data sets to use `auto_expand_replicas` of `0-1` for added data
resiliency and ease of administration {kib-pull}33736[#33736]
* Fixes broken CSV export from data table {kib-pull}34131[#34131]
* Hides gauge labels when value is hidden {kib-pull}34171[#34171]
* Removes dangerously set inner HTML {kib-pull}33976[#33976]
* Fixes gauge filters {kib-pull}30057[#30057]
* Fixes fieldformatter calls in pipeline helper {kib-pull}29842[#29842]
* Adds pipeline field formatting {kib-pull}28746[#28746]
* Removes `kibana_table` pipeline type {kib-pull}28979[#28979]
* Moves renderers registry to OSS {kib-pull}28986[#28986]
* Prepares for cut over to the visualize data loader from the current expression
pipeline data loader {kib-pull}29873[#29873]
* Toggles between Expression Pipeline & Visualize Data loader {kib-pull}29874[#29874]
* Fixes every app that was wrapping `query` in an array unnecessarily {kib-pull}27636[#27636]
* Fixes build issue and reintroduces new filter bar {kib-pull}29752[#29752]
* Adds index pattern URL change notes {kib-pull}30779[#30779]
* Fixes visualization filters to ignore invalid entries {kib-pull}30633[#30633]
* Expands the size of add panels flyout and increases default rows per page {kib-pull}30508[#30508]
* Fixes support for React 16.4+ by only resetting state if adaptors are updated {kib-pull}26138[#26138]
* Fixes scrolling list on Firefox {kib-pull}26246[#26246]
* Guards against empty and undefined index pattern arrays passed to QueryBar {kib-pull}24607[#24607]
* Removes unused indexPattern from vega/tsvb/timelion request handler {kib-pull}26007[#26007]
* Passes global filters from editor down to visualize  {kib-pull}26009[#26009]
* Stops using schemas in aggconfigs to output DSL {kib-pull}26010[#26010]
* Fixes `kbn-interpreter` package to not import from UI {kib-pull}26161[#26161]
* Fixes OSS dynamic plugin loading by reverting to Canvas way of loading plugins {kib-pull}26463[#26463]
* Fixes other bucket option to correctly apply without having to change other settings {kib-pull}26874[#26874]
* Adds `en` as a valid numeral locale setting {kib-pull}25948[#25948]
* Adds `rest_total_hits_as_int` into Kibana App {kib-pull}26404[#26404]
* Uses Canvas pipeline to fetch data inside Visualize {kib-pull}25996[#25996]
* Adds warning to the `documentation_links` file about link validation gotcha {kib-pull}24786[#24786]
* Adds workaround for `getDerivedStateFromProps` change in react 16.4 {kib-pull}25142[#25142]
* Fixes "Set up index patterns" link on home page {kib-pull}16128[#16128]
* Fixes Time Series Visual Builder so that auto apply changes on every click {kib-pull}33710[#33710]
* Removes the `geo_centroid` and `geo_bounds` aggregations from nested metrics {kib-pull}34042[#34042]
* Replaces deprecated `moving_avg` by `moving_fn` aggregation {kib-pull}34155[#34155]
* Adds autocomplete to Time Series Visual Builder {kib-pull}30158[#30158]
* Fixes missing Markdown variables {kib-pull}28173[#28173]
* Removes filter bar for Markdown visualizations {kib-pull}30354[#30354]
* Corrects label for OS visualization in logs sample data {kib-pull}30249[#30249]
* Fixes filter function on pie chart segment {kib-pull}26321[#26321]
* Rewrites URL when closing vis type selection modal {kib-pull}26327[#26327]
* Changes unbind calls from `.on` to `.off` {kib-pull}24575[#24575]
* Fixes date field in controls visualization by generating labels with the field
formatter {kib-pull}25654[#25654]
* Replaces LESS files with Sass in `ui/public/vis`, `visLib`, and `visualize` {kib-pull}25333[#25333]
* Replaces LESS files with Sass for the visualization types in `core_plugin/metrics` {kib-pull}24250[#24250]
* Moves `timeout` to `_msearch` body to fix time series visual builder requests {kib-pull}26510[#26510]
* Adds description for all visualization types {kib-pull}26243[#26243]
* Defaults the scroll wheel zoom to false on Vega maps {kib-pull}21169[#21169]
* Fixes problem within the input_vis_control plugin that prevents it from updating correctly
if the field is switched, and then switched back to the previous field {kib-pull}25164[#25164]
* Uses `vega-nocanvas` instead of Vega lib {kib-pull}16137[#16137]
* Migrates visualization from Angular to React {kib-pull}16425[#16425]
* Fixes maps for reporting (#15272) {kib-pull}15358[#15358]
* Stops creation of nested search source per postflightrequest {kib-pull}20373[#20373]
* Moves inspector code from Vis to embeddable visualize handler {kib-pull}24112[#24112]
* Removes inspector from Vis {kib-pull}24112[#24112]
* Fixes issue with debounce function running after component was unmounted {kib-pull}15045[#15045]
* Fixes for dark mode fixes for Visualize charts, Time Series Visual Builder, and Timelion {kib-pull}30478[#30478]
* Fixes geohash checkbox group spacing {kib-pull}32664[#32664]
* Removes deep clone from courier request handler {kib-pull}32806[#32806]
* Ensures saved filters from `searchSource` are always passed to response handlers {kib-pull}33074[#33074]
* Adds new visualization search selection {kib-pull}30196[#30196]
* Changes visualization save dialog when adding to dashboard {kib-pull}32883[#32883]
* Fixes missing variables preview in Time Series Visual Builder markdown {kib-pull}30830[#30830]
* Fixes incorrect behavior when filling the 'interval' field with values: s,m,d,M,y {kib-pull}32542[#32542]
* Fixes multi-metric gauge with vertical sizing {kib-pull}33245[#33245]
* Fixes Time Series Visual Builder display on small screen resolution {kib-pull}33299[#33299]
* Fixes Time Series Visual Builder metric and gauge panels when splitting data by numbers {kib-pull}33304[#33304]
* Fixes Time Series Visual Builder percentile ranks with integer values that return no results {kib-pull}33397[#33397]
* Fixes Time Series Visual Builder issue with table view {kib-pull}33645[#33645]
* Fixes Time Series Visual Builder issue with wrong color rules on multiple metrics {kib-pull}31455[#31455]
* Fixes Time Series Visual Builder issue with percentiles for table {kib-pull}32084[#32084]
* Switches all Time Series Visual Builder comboboxes to plain text single selection {kib-pull}31879[#31879]
* Fixes table visualization to format date string when grouping by date field {kib-pull}31783[#31783]
* Adds flex wrap to metric visualization container {kib-pull}31891[#31891]
* Fixes missing axis labels when moving position {kib-pull}32628[#32628]
* Fixes vislib legend entry width {kib-pull}33303[#33303]
* Fixes legend / color picker overflow {kib-pull}30960[#30960]
* Fixes total Metric Count inside donut pie charts  {kib-pull}29086[#29086]
* Adds labels for sort order and request preference setting {kib-pull}31236[#31236]
* Fixes time picker quick ranges description {kib-pull}32455[#32455]
* Adds check for `extraMetric` in point server tooltip hovers {kib-pull}32641[#32641]
* Switches sample data objects to KQL {kib-pull}32718[#32718]
* Migrate visualization controls to use references {kib-pull}30880[#30880]
* Dedupes by index pattern ID rather than object identity {kib-pull}32350[#32350]
* Ensures extra columns are not shown in table visualization when `showPartialRows:true` {kib-pull}27154[#27154]
* Uses default index pattern when one is not present in Visualize {kib-pull}30574[#30574]
* Surfaces visualization loader errors in the UI {kib-pull}30594[#30594]






[[release-notes-7.0.0-rc2]]
== {kib} 7.0.0-rc2

[float]
=== Known issues

Monitoring::
* If you have a version 7.0 monitoring cluster, a version 6.7 production
cluster and {kib} version 6.7.0 or 6.7.1, you cannot see the monitoring data in
{kib}. {kib-issue}34357[#34357]

[float]
[[breaking-7.0.0-rc2]]
=== Breaking changes

For more details about breaking changes in this release, see
<<breaking-changes-7.0, Breaking changes in 7.0>>.

Discover::
* Allows user to use advanced query DSL directly, and does not apply `query:queryString:options` to `query_string` filters automatically {kib-pull}15640[#15640]
* Removes `default_field` from `query:queryString:options` {kib-pull}18966[#18966]
* Makes KQL the default query language for new searches {kib-pull}27092[#27092]
Design::
* Removes references to K6 EUI, using the default UI theme in its place {kib-pull}29152[#29152]
Geo::
* Removes the deprecated `regionmap` and `tilemap` kibana.yml configurations.
Removes the backwards compatibility logic that checked for duplicative settings
`map.regionmap` and `map.tilemap`. {kib-pull}28609[#28609]
Monitoring::
* Refactors index patterns from configurable to constants {kib-pull}29528[#29528]
* Removes `node_resolver` setting {kib-pull}21181[#21181]
Management::
* Adds `configPrefix` to Index Management, License Management, Rollup Jobs, and
Upgrade Assistant {kib-pull}30149[#30149]
* Removes nested table splits from table visualization {kib-pull}26057[#26057]
* Standardizes use of `index_pattern` in UI code and URLs, replacing `indices`
and `index`  {kib-pull}29151[#29151] and {kib-pull}29481[#29481]
* Removes app-specific dark mode options and replaces with a global dark mode uiSetting {kib-pull}29017[#29017]
Operations::
* Defers the optimize step in the plugin installer to server start {kib-pull}26983[#26983]
* Removes tribe node support {kib-pull}16397[#16397]
* Creates separate startup scripts for development and production {kib-pull}13806[#13806]
* Sets default port based on protocol  {kib-pull}21564[#21564]
* Removes deprecated `/shorten` API {kib-pull}21861[#21861]
Platform::
* Removes deprecated `i18n.defaultLocale` setting {kib-pull}29325[#29325]
* Removes previously deprecated `elasticsearch*` settings. {kib-pull}29496[#29496]
* Adds new "references" attribute to saved objects for relationships {kib-pull}28199[#28199]
Reporting::
* Removes Phantom dependency {kib-pull}27142[#27142]
Security::
* Removes deprecated SSL settings {kib-pull}28622[#28622]
* Removes legacy fallback {kib-pull}29107[#29107]
Visualizations::
* Removes Timelion from the app switcher by default {kib-pull}30131[#30131]


[float]
[[deprecation-7.0.0-rc2]]
=== Deprecations

Geo::
* Fixes legacy tilemap loading {kib-pull}22095[#22095]
Machine Learning::
* Updates REST endpoint calls to remove _xpack {kib-pull}28069[#28069]
Visualizations::
* Removes old visualize wizard URL {kib-pull}28982[#28982]
* Removes legacy response handler {kib-pull}28985[#28985]
* Removes `legacyIcon` from visualizations {kib-pull}28981[#28981]


[float]
[[enhancement-7.0.0-rc2]]
=== Enhancements
Canvas::
* Removes WebSockets from Canvas expressions interpreter {kib-pull}29792[#29792]
* Optimizes Canvas REST calls via batching {kib-pull}29847[#29847]
* Implements a clipboard and stores the copied elements in `localStorage` {kib-pull}25890[#25890]
* Adds the ability to reuse assets without editing an element's expression {kib-pull}25764[#25764]
* Adds the `clear` function {kib-pull}26397[#26397]
* Adds workpad-level CSS {kib-pull}24143[#24143]
* Improvements to expression editor {kib-pull}32336[#32336]
* Adds `aria-label` attribute for Color: Auto Color to button inside chart style {kib-pull}32633[#32633]
* Adds `aria-label` attribute for Copy to clipboard {kib-pull}32880[#32880]
Dashboard::
* Adds `href` option in addition to `onClick` for navigational links {kib-pull}25233[#25233]
Design::
* Implements a new design for {kib} called K7
* Updates logos for marketing {kib-pull}25489[#25489]
* Adds Kibana 7.0 breadcrumbs to home screen {kib-pull}26605[#26605]
* Moves elastic/eui typings to single file {kib-pull}23950[#23950]
Discover::
* Renames the kuery setting to KQL {kib-pull}29587[#29587]
* Adds visual indication of selected language in query bar {kib-pull}30899[#30899]
Logstash::
* Adopts {es} typeless API for Logstash central management {kib-pull}30546[#30546]
Management::
* Adds `Request timestamp` to request inspector stats {kib-pull}25667[#25667]
* Adds "Reload indices" button to Index Management {kib-pull}27033[#27033]
Machine Learning::
* Adds `created_by` field to Auditbeat and APM data recognizer jobs {kib-pull}33863[#33863]
* Adds the time of the anomaly to the `aria-label` of the actions button in each row of the anomalies table {kib-pull}32777[#32777]
* Adds `role="alert"` callouts on the Job Management page to ensure the information is read out by screen readers {kib-pull}32911[#32911]
* Adds EUI `ScreenReaderOnly` component to the "Analyzing data" modal {kib-pull}32472[#32472]
* Updates job type and APM module icon to new designs {kib-pull}25380[#25380]
* Allows model plot enablement via checkbox in  MultiMetric/Population Job creation {kib-pull}24914[#24914]
* Adds support for the rare detector for charts in Anomaly Explorer and Singe Metric viewer {kib-pull}21524[#21524]
* Updates HTTP access modules for ECS {kib-pull}29383[#29383]
* Updates auditbeat modules for ECS {kib-pull}29934[#29934]
* Removes non ECS apache, nginx and auditbeat data recognizer modules {kib-pull}30537[#30537]
* Adds the configuration files for two new auditbeat data recognizer modules for
detecting unusual processes on hosts and Docker containers {kib-pull}25716[#25716]
* Adds support for saved searches created using Kuery to the job wizards {kib-pull}26094[#26094]
* Allows users to enter their own query in the Discover page; stops passing the query
from the job datafeed config in custom URLs {kib-pull}26957[#26957]
* Rewrites Calendar to React/EUI {kib-pull}26741[#26741]
* Converts Setting page to React/EUI {kib-pull}27144[#27144]
* Ensures loading indicator is present on initial jobs load {kib-pull}27151[#27151]
* Prevents a new calendar save if a calendar with that id already exists {kib-pull}27104[#27104]
* Edits data recognizer modules to use KQL in saved objects {kib-pull}32766[#32766]
Observability::
* Converts monitor sparklines to histogram {kib-pull}28502[#28502]
* Adds crosshair sync for monitor page charts {kib-pull}28631[#28631]
* Adds a new plugin for Uptime Monitoring {kib-pull}25480[#25480]
Operations::
* Adds support for reindexing APM indices {kib-pull}29845[#29845]
* Adds a reindex warning for mapping type changes {kib-pull}32081[#32081]
* Adds warning callout to update APM index pattern {kib-pull}33661[#33661]
Platform::
* Adds help menu item to header {kib-pull}29664[#29664]
* Implements global dark theme {kib-pull}28445[#28445]
* Removes support for the K6 navigation style {kib-pull}29565[#29565]
* Adds `rest_total_hits_as_int` to all requests in platform code that eventually
look up `hits.total` {kib-pull}26432[#26432]
* Adds `dist` flag to the configuration context {kib-pull}26545[#26545]
* Prepares `@kbn/datemath` to be republished as `@elastic/datemath` {kib-pull}26559[#26559]
* Wraps `remote` methods in `browser` service {kib-pull}26394[#26394]
* Uses `stream.pipeline` to manage error handling {kib-pull}27246[#27246]
Querying & Filtering::
* Moves the `buildESQuery` module (including filters and Kuery) into a separate package {kib-pull}23345[#23345]
* Adds comment explaining why `getComputedFields` adds a `docvalue` to `docvalue_fields`
for each date field in an index pattern. {kib-pull}25725[#25725]
* Moves filtering functions out of `vis.API.events` {kib-pull}25280[#25280]
Reporting::
* Adds png output to reports {kib-pull}24759[#24759]
* Sorts ascending on sort order first then ascending on name. Any menu item
without a sort order gets set to zero. {kib-pull}25058[#25058]
* In the Visualization Editor, removes the "Optimize for printing" option when
exporting the visualization as PNG or PDF. The single visualization will automatically
be optimized for printing {kib-pull}30456[#30456]
* Adds browser type to the reporting side panel {kib-pull}26307[#26307]
* Adds better logging for `waitForSelector` failure {kib-pull}25762[#25762]
* Enhances error messaging and handling {kib-pull}26299[#26299]
* Adds "Info" button in the Reporting listing {kib-pull}25421[#25421]
* Adds new inspector for chromium-backed reports {kib-pull}32430[#32430]
Rollups::
* Adds support for rolling up metrics of date fields {kib-pull}26450[#26450]
Security::
* Introduces content security policy (CSP) {kib-pull}29545[#29545]
* Warns legacy browsers that do not support content security policy {kib-pull}29957[#29957]
* Adds content security policy strict mode {kib-pull}29856[#29856]
* Updates the GET `/api/security/role` endpoint to return the list of roles sorted
by name, rather than creation date {kib-pull}26491[#26491]
* Updates the Account Settings screen to show the change password form only when
a password change is possible for the authentication realm {kib-pull}26779[#26779]
* Makes space selector a `button` {kib-pull}26889[#26889]
Visualizations::
* Replaces Angular timepicker with EuiSuperDatePicker {kib-pull}29204[#29204]
* Upgrades Kibana to Elasticsearch 7.0 {kib-pull}29184[#29184]
* Maps inspector requests by id so single requests can be reset at a time {kib-pull}26770[#26770]
* Adds ODBC to blurb for start trail {kib-pull}27223[#27223]
* Adds a `console.error` for visualize errors {kib-pull}24581[#24581]
* Adds a timeout so that Vega respects `elasticsearch.shardTimeout` setting {kib-pull}30482[#30482]
* Removes experimental flag from Visual Builder (TSVB) {kib-pull}25634[#25634]
* Implements new visualization type selection {kib-pull}23833[#23833]
* Removes `lab` stage for visualizations, making `experimental` the only non-production
stage available {kib-pull}25702[#25702]
* Makes markdown consistent across {kib} {kib-pull}31890[#31890]
* Adds option to open links in new tab in Time Series Visual Builder {kib-pull}31906[#31906]
* Adds max, min, placeholder to percentile in Time Series Visual Builder {kib-pull}32389[#32389]
* Displays interval information in Time Series Visual Builder when building {kib-pull}32117[#32117]
* Adds controls to toggle disable/enable individual series and annotations {kib-pull}33107[#33107]
* Updates Vega to version 4 {kib-pull}30628[#30628]

[float]
[[bug-7.0.0-rc2]]
=== Bug fixes
APM::
* Fixes transaction sample on error page {kib-pull}34048[#34048]
* Uses form label for Transaction type selector {kib-pull}28322[#28322]
* Fixes icon for View trace button {kib-pull}28908[#28908]
* Shows metric-only services in service overview {kib-pull}30397[#30397]
* Adds span subtype and action to Span Flyout {kib-pull}30041[#30041]
* Updates head title and fixes breadcrumb string issues {kib-pull}29960[#29960]
* Adds fixes for `service.name` scripted field {kib-pull}28488[#28488]
* Updates APM index pattern {kib-pull}30837[#30837]
* Updates APM reindex script {kib-pull}30761[#30761]
* Sets Index Pattern version as string {kib-pull}30789[#30789]
* Overrides EUI chart default styles for gridlines {kib-pull}21723[#21723]
* Adds section titles to span detail modal {kib-pull}20717[#20717]
* Fixes upgrade assistant label and copy {kib-pull}31750[#31750]
* Changes `context.system.hostname` to `host.hostname` for APM link {kib-pull}30884[#30884]
* Updates APM reindex script {kib-pull}31965[#31965]
* Updates APM index pattern {kib-pull}33595[#33595]
Canvas::
* Adds datetime as a date identifier {kib-pull}29537[#29537]
* Switches sample web logs fonts to 48px {kib-pull}30747[#30747]
* Fixes related to K7 design {kib-pull}30833[#30833]
* Fixes page preview size issue {kib-pull}26795[#26795]
* Fixes visual bug when opening the workpad loader {kib-pull}26647[#26647]
* Fixes page thumbnail sizes {kib-pull}26573[#26573]
* Decreases size of tray toggle {kib-pull}25470[#25470]
* Makes selection border 1px {kib-pull}26739[#26739]
* Fixes interpreter socket error {kib-pull}26870[#26870]
* Fixes duplicate `Value` options in math select value {kib-pull}25556[#25556]
* Gets correct plugins path {kib-pull}25448[#25448]
* Quotes the index pattern in SQL input {kib-pull}25488[#25488]
* Decreases the size of tray toggle {kib-pull}25470[#25470]
* Fixes the hours label container size {kib-pull}31838[#31838]
* Removes ID attribute {kib-pull}30736[#30736]
* Improves the plugin pre-build {kib-pull}25267[#25267]
Dashboard::
* Removes `dashboardContext` function and makes Timelion, Vega, and Time Series
Visual Builder use `buildEsQuery` {kib-pull}23227[#23227]
* Shows the filter bar in dashboard embed mode {kib-pull}32222[#32222]
Design::
* Updates dashboard design {kib-pull}29896[#29896]
* Adjusts side navigation interaction {kib-pull}29978[#29978]
* Converts Security UI from LESS to Sass {kib-pull}25079[#25079]
* Adds boilerplate Sass for Kibana core {kib-pull}21185[#21185]
* Makes dark mode overrides global {kib-pull}31628[#31628]
Discover::
* Adds debug code to flaky field_data test {kib-pull}15535[#15535]
* Gets even more debug info for flaky field_data test {kib-pull}17627[#17627]
* Allows time ranges before the epoch in Discover {kib-pull}31807[#31807]
* Fixes Kibana Query Language handling of carriage return {kib-pull}32150[#32150]
* Improves warning messages when using Lucene-like syntax {kib-pull}31837[#31837]
* Update capitalization of KQL full name {kib-pull}31631[#31631]
* Adds placeholder text indicating the filters aggregation takes only Lucene and Query DSL {kib-pull}31296[#31296]
* Prevents sending request if it already failed during query parsing {kib-pull}31219[#31219]
* Fixes apps to always migrate legacy queries on state change {kib-pull}33276[#33276]
Geo::
* Fixes panel cut off in K7 design {kib-pull}29209[#29209]
* Removes left-over geohash grid code {kib-pull}30312[#30312]
* Uses geo-tile aggregation instead of geohash precision {kib-pull}29776[#29776]
* Resolves URL dynamically when requesting EMS data {kib-pull}25685[#25685]
* Fixes EMS hotlink {kib-pull}26868[#26868]
* Fixes feature/align map config settings {kib-pull}19450[#19450]
* Removes `geotile_grid` aggregation from non-geospatial visualizations {kib-pull}31354[#31354]
* Coerces string doc-values to numbers if used in styling {kib-pull}33657[#33657]
Infrastructure::
* Fixes server-side retrieval of the {kib} version {kib-pull}31440[#31440]
* Fixes react router import {kib-pull}33659[#33659]
* Adapts settings ui to saved object version type change {kib-pull}30082[#30082]
* Fixes potential color bugs {kib-pull}26292[#26292]
* Fixes auto refresh button on node detail page {kib-pull}26426[#26426]
* Changes the time range from the last hour to the last 5 minutes for the Waffle Map {kib-pull}26278[#26278]
* Passes flag in request to force BWC hit count {kib-pull}26517[#26517]
* Replaces redux source slice with constate container {kib-pull}26121[#26121]
* Changes node detail link to set time range to 1 hour {kib-pull}26977[#26977]
* Stops showing sidenav while loading. {kib-pull}27119[#27119]
* Fixes styling after breaking EUI changes {kib-pull}27021[#27021]
* Fixes graphql type generation after package upgrades {kib-pull}26991[#26991]
* Removes usage of `ts-optchain` in the browser {kib-pull}27148[#27148]
Machine Learning::
* Fixes filter and icon for APM Data Recognizer module {kib-pull}31112[#31112]
* Ensures cardinality related messages in Advanced job wizard are formatted correctly {kib-pull}33599[#33599]
* Adds title elements which were missing from Calendars pages {kib-pull}33257[#33257]
* Changes job wizard query to use `match_all` {kib-pull}32008[#32008]
* Adds calendars list to job management {kib-pull}32566[#32566]
* Fixes Job Selector text to take group selection into account {kib-pull}31333[#31333]
* Ensures that Job Selector description text is accurate {kib-pull}32441[#32441]
* Reduces space between headings in the expanded row for Category examples in Anomalies Table {kib-pull}32417[#32417]
* Removes use of types in datafeeds  {kib-pull}27572[#27572]
* Fixes metric select double caret {kib-pull}30357[#30357]
* Removes old angular based start datafeed modal {kib-pull}30392[#30392]
* Handles removal of backend ml.enabled node attribute {kib-pull}27604[#27604]
* Edits labels in the Apache and Nginx ECS data recognizer modules {kib-pull}29935[#29935]
* Fixes for K7 compatibility {kib-pull}30536[#30536]
* Fixes broken label style in advanced wizard {kib-pull}30847[#30847]
* Adds ml-ui team to .github/CODEOWNERS {kib-pull}29810[#29810]
* Allows user to add/edit/delete annotations in the Single Series Viewer {kib-pull}26034[#26034]
* Does not pass datafeed query to Discover in custom URL {kib-pull}26957[#26957]
* Fixes word break in Anomalies and Jobs tables {kib-pull}26978[#26978]
* Fixes alignment of filter icons in the Anomalies table {kib-pull}26253[#26253]
* Shows useful error on invalid query in JobList search bar {kib-pull}25153[#25153]
* Adds user privilege check to Jobs List group selector control {kib-pull}25225[#25225]
* Fixes file data viz file size check and formats as bytes {kib-pull}25295[#25295]
* Fixes the layout of the cards in the Data Visualizer on IE {kib-pull}25383[#25383]
* Adds better error reporting for reading and importing data {kib-pull}24269[#24269]
* Displays an ordinal y axis for low cardinality rare charts {kib-pull}24852[#24852]
* Fixes typo in job validation message {kib-pull}25130[#25130]
* Removes deprecated `angularjs` based jobs list and related code {kib-pull}25216[#25216]
* Skips invalid modules when data recognizer lists matches {kib-pull}33703[#33703]
Management::
* Removes grunt sterilize - its been replaced by `kbn clean` {kib-pull}27825[#27825]
* Makes Index management table more responsive {kib-pull}28882[#28882]
* Fixes index pattern wizard when there are remote clusters but no local indices  {kib-pull}24339[#24339]
* Uses new `_graph` endpoints {kib-pull}26956[#26956]
* Adjusts spacing of Management navigation items {kib-pull}25666[#25666]
* Updates "Disenroll" text to be consistent with menu option "Unenroll" {kib-pull}26816[#26816]
* Fixes broken breadcrumb link for index management {kib-pull}27164[#27164]
* Fixes issue with multiple execution in Console {kib-pull}26933[#26933]
* Reloads full index list when reload hits missing index {kib-pull}27197[#27197]
* Adds boilerplate for remote clusters management app {kib-pull}25369[#25369]
* Adds `ignore_failure` to ingest common auto complete in console {kib-pull}24915[#24915]
* Removes support for expression-based scripted fields {kib-pull}14310[#14310]
* Adds WatchErrors to capture invalid watches {kib-pull}23887[#23887]
* Rewords the translation id for error with missing property in Watcher {kib-pull}24753[#24753]
* Triggers full load when encountering 403 for index list reload {kib-pull}28243[#28243]
* Updates X-Pack console specs {kib-pull}29506[#29506]
* Fixes API integration test for follower indices {kib-pull}30260[#30260]
* Fixes management footer logo spacing bug {kib-pull}30654[#30654]
Monitoring::
* Updates to read from `.monitoring-*-7-*` indices {kib-pull}32654[#32654]
* Adds in explicit mappings {kib-pull}33004[#33004]
* Stops using the normalized derivative value {kib-pull}27416[#27416]
* Updates the title in the left nav to Stack Monitoring {kib-pull}28102[#28102]
* Prepares the Monitoring UI codebase for the incoming changes to `hits.total` {kib-pull}26442[#26442]
* Updates browser title to Stack Monitoring {kib-pull}29638[#29638]
* Fixes Monitoring design {kib-pull}29479[#29479]
* Removes old index patterns that are not expected in 7.0.0 onwards {kib-pull}27915[#27915]
* Removes deprecated `xpack.monitoring.report_stats` setting {kib-pull}30017[#30017]
* Fixes monitoring tests to work with mapping changes {kib-pull}29188[#29188]
* Removes type filter helper {kib-pull}30887[#30887]
* Fixes error handling for local stats collection/permissions {kib-pull}26560[#26560]
* Removes initial delay to check and send Telemetry data {kib-pull}26575[#26575]
* Pulls local Kibana usage stats {kib-pull}26496[#26496]
* Converts the Elasticsearch monitoring UIs to using EUI tables and page layout {kib-pull}26217[#26217]
* Renames Monitoring `FormattedMessage` to `FormattedAlert` {kib-pull}24197[#24197]
* Uses the cluster name from metadata if it exists {kib-pull}24495[#24495]
Observability::
* Fixes 7.x references to tcp.port {kib-pull}29132[#29132]
* Ports functional tests to 7.x {kib-pull}29398[#29398]
* Ports unit tests to master {kib-pull}29876[#29876]
* Adds missing loading states for filter bar and snapshot components {kib-pull}30122[#30122]
* Removes double-format for duration value {kib-pull}30664[#30664]
* Switches Uptime localization from i18n provider to context {kib-pull}31601[#31601]
* Improves monitor charts query {kib-pull}30561[#30561]
* Adds global help support to Uptime {kib-pull}31493[#31493]
* Updates targeted index pattern for 7.0.0 {kib-pull}30998[#30998]
Operations::
* Removes the usage of types from Esqueue used for the `.reporting index` {kib-pull}32146[#32146]
* Fixes IPv6 addresses used with Angular connector {kib-pull}29891[#29891]
* Fixes `makelogs` dependency {kib-pull}31428[#31428]
* Runs the {kib} server in production mode for functional testing {kib-pull}31346[#31346]
* Uses `fs.copyFile` to avoid race condition {kib-pull}32220[#32220]
* Removes `hash -r` {kib-pull}32616[#32616]
* Fixes JUnit reporter {kib-pull}32686[#32686]
* Adds options to `run()` that can modify help and show help on errors {kib-pull}33466[#33466]
* Captures values from boolean flags {kib-pull}33528[#33528]
* Fixes incorrect environment name for V8 options {kib-pull}31052[#31052]
* Removes svg from url-loader, as it conflicts with other loaders {kib-pull}30888[#30888]
* Uses apiVersion from es plugin in x-pack {kib-pull}30853[#30853]
* Clones saved object document before migrating to prevent accidental mutations {kib-pull}30475[#30475]
* Removes node fallback from kibana-keystore {kib-pull}15066[#15066]
* Adds debug script to set inspect flags {kib-pull}15967[#15967]
* Uses snake case for scripts/kibana-keystore.js and scripts/kibana-plugin.js {kib-pull}15331[#15331]
* Updates license info in package.json {kib-pull}20353[#20353]
* Fixes error log formatting {kib-pull}24788[#24788]
* Matches chalk dependency version on Kibana with the one used on X-Pack {kib-pull}20621[#20621]
* Fixes non-conforming licenses on devDependencies and adds the ability to whitelist devOnly licenses {kib-pull}23859[#23859]
* Adds jsxa11y into eslint rules {kib-pull}23932[#23932]
* Reverts Bump react-grid-layout to 0.16.0 {kib-pull}14912[#14912]
* Reverts breaking change for Status API {kib-pull}21927[#21927]
* Converts `utils/collection` to TypeScript {kib-pull}23992[#23992]
* Removes usage of update_all_types {kib-pull}16406[#16406]
* Improves the `yarn kbn bootstrap` speed by using yarn workspaces for packages inside `packages/*` and `x-pack` {kib-pull}24095[#24095]
* Runs jenkins:unit task with dev flag in order to run license check {kib-pull}19832[#19832]
* Does not break on startup in debug mode {kib-pull}19219[#19219]
Platform::
* Removes types from `saved_objects` repository {kib-pull}32286[#32286]
* Fixes custom icon image paths in `NavDrawer` {kib-pull}33573[#33573]
* Fixes back button navigation {kib-pull}32372[#32372]
* Improves types for ftr and expect.js and cleans up `tsconfig` files {kib-pull}31948[#31948]
* Strips # from hash before updating ``$location` {kib-pull}32732[#32732]
* Removes `disableAutoAngularUrlEncodingFix()`` {kib-pull}33136[#33136]
* Removes unused system-loader implementation {kib-pull}33747[#33747]
* Moves the table vis migration to {kib} plugin {kib-pull}29478[#29478]
* Allows passing a default operator to use on saved object client find operations {kib-pull}29339[#29339]
* Fixes saved object repository `bulkCreate` to return migrated references and attributes {kib-pull}29754[#29754]
* Adds missing saved object reference handling for searchSourceJSON filter attribute {kib-pull}29840[#29840]
* Excludes `migrationVersion` and references from `getRootPropertiesObjects` result {kib-pull}30081[#30081]
* Removes dependency on doc versions {kib-pull}29906[#29906]
* Adds typings for saved object client {kib-pull}29951[#29951]
* Uses `lastSubUrl` when appropriate {kib-pull}28735[#28735]
* Removes es _xpack endpoint usage {kib-pull}29465[#29465]
* Adds typings for the `saved_object_finder` react component {kib-pull}30067[#30067]
* Fixes the confirm overwrite modal of saved objects to handle large titles {kib-pull}28590[#28590]
* Decreases start limit and interval {kib-pull}25474[#25474]
* Adds `--download` flag to snapshot command to warm the cache {kib-pull}25830[#25830]
* Implements `--prefer-offline` flag {kib-pull}25840[#25840]
* Fixes watcher routes broken by Hapi upgrade {kib-pull}26713[#26713]
* Fixes non-conforming licenses on devDependencies and adds the ability to whitelist devOnly licenses {kib-pull}23859[#23859]
* Watches optimizer cache invalidation  {kib-pull}24172[#24172]
* Adds `normalizePath` in order to fix watch optimizer when running on Windows {kib-pull}26486[#26486]
* Creates vendor dll for the client modules {kib-pull}22618[#22618]
* Upgrades to NodeJS 10 {kib-pull}25157[#25157]
* Improves plugin version mismatch error message {kib-pull}25774[#25774]
* Improves build/packaging {kib-pull}26096[#26096]
* Swaps `jstimezonedetect` with `moment.tz.guess` {kib-pull}21800[#21800]
* Upgrades resize-observer-polyfill version {kib-pull}26990[#26990]
* Fixes saved objects client `_processBatchQueue` function to handle errors {kib-pull}26763[#26763]
* Changes kbn pm webpack config to generate dist files in mode=none {kib-pull}26847[#26847]
* Hides logs from deleteAll on task: clean client modules into dll {kib-pull}26884[#26884]
* Upgrades `resize-observer-polyfill` version {kib-pull}26990[#26990]
* Uses `single-node` discovery type for the test ES node/cluster {kib-pull}27125[#27125]
* Moves moment to peerDependency in elastic-datemath {kib-pull}27264[#27264]
* Transforms plugin deprecations before checking for unused settings {kib-pull}21294[#21294]
* Expands list of restricted globals in `eslint-config-kibana` {kib-pull}15798[#15798]
* Makes logs easier to read on Windows with chalk colors {kib-pull}15557[#15557]
* Fixes `includeFields` function to return root saved object properties {kib-pull}33847[#33847]
Reporting::
* Refactors routes files and helpers {kib-pull}30111[#30111]
* Deletes `sortOrder` once items have been sorted and does not pass to `EuiContextMenuItem`
in the share context menu {kib-pull}26890[#26890]
* Fixes a regression bug in detection of Error and Warning toast notifications {kib-pull}25482[#25482]
* Stops passing an empty `formatConfig` to the fieldFormats helper {kib-pull}27168[#27168]
* Returns promise in Reporting jobs API {kib-pull}24769[#24769]
* Uses `content-disposition` package for non-US font titles in reporting {kib-pull}30895[#30895]
* Uses lowercased server host settings {kib-pull}33020[#33020]
Rollups::
* Shows loading state in Rollup Job detail panel. {kib-pull}25752[#25752]
* Specifies Rollup Jobs breadcrumbs in header. {kib-pull}26590[#26590]
* Requires histogram interval in Rollup Job wizard to be a whole number. {kib-pull}26596[#26596]
* Removes duplicate rendered sections {kib-pull}[#28566]
Security::
* Adds tests for interpreter `createSocket` {kib-pull}29459[#29459]
* Moves the server-side `SavedObjectClient` types from the `spaces` plugin to the
same location as the corresponding JavaScript source files {kib-pull}26448[#26448]
* Respects the `basePath` for the link to the user profile in the k7 header {kib-pull}26417[#26417]
* Fixes `prettier` throw rule error  {kib-pull}26071[#26071]
* Fixes authentication logic to fail out of auth flow on first provider failure {kib-pull}26648[#26648]
* Fixes issues with the `url.search` being null in Node 10 {kib-pull}26992[#26992]
* Fixes DLS query toggle on the role management page {kib-pull}27213[#27213]
* Implements the K7 login screen {kib-pull}23512[#23512]
Visualizations::
* Hides gauge labels when value is hidden {kib-pull}34171[#34171]
* Removes dangerously set inner HTML {kib-pull}33976[#33976]
* Fixes gauge filters {kib-pull}30057[#30057]
* Fixes fieldformatter calls in pipeline helper {kib-pull}29842[#29842]
* Adds pipeline field formatting {kib-pull}28746[#28746]
* Removes `kibana_table` pipeline type {kib-pull}28979[#28979]
* Moves renderers registry to OSS {kib-pull}28986[#28986]
* Prepares for cut over to the visualize data loader from the current expression
pipeline data loader {kib-pull}29873[#29873]
* Toggles between Expression Pipeline & Visualize Data loader {kib-pull}29874[#29874]
* Fixes every app that was wrapping `query` in an array unnecessarily {kib-pull}27636[#27636]
* Fixes build issue and reintroduces new filter bar {kib-pull}29752[#29752]
* Adds index pattern URL change notes {kib-pull}30779[#30779]
* Fixes visualization filters to ignore invalid entries {kib-pull}30633[#30633]
* Expands the size of add panels flyout and increases default rows per page {kib-pull}30508[#30508]
* Fixes support for React 16.4+ by only resetting state if adaptors are updated {kib-pull}26138[#26138]
* Fixes scrolling list on Firefox {kib-pull}26246[#26246]
* Guards against empty and undefined index pattern arrays passed to QueryBar {kib-pull}24607[#24607]
* Removes unused indexPattern from vega/tsvb/timelion request handler {kib-pull}26007[#26007]
* Passes global filters from editor down to visualize  {kib-pull}26009[#26009]
* Stops using schemas in aggconfigs to output DSL {kib-pull}26010[#26010]
* Fixes `kbn-interpreter` package to not import from UI {kib-pull}26161[#26161]
* Fixes OSS dynamic plugin loading by reverting to Canvas way of loading plugins {kib-pull}26463[#26463]
* Fixes other bucket option to correctly apply without having to change other settings {kib-pull}26874[#26874]
* Adds `en` as a valid numeral locale setting {kib-pull}25948[#25948]
* Adds `rest_total_hits_as_int` into Kibana App {kib-pull}26404[#26404]
* Uses Canvas pipeline to fetch data inside Visualize {kib-pull}25996[#25996]
* Adds warning to the `documentation_links` file about link validation gotcha {kib-pull}24786[#24786]
* Adds workaround for `getDerivedStateFromProps` change in react 16.4 {kib-pull}25142[#25142]
* Fixes "Set up index patterns" link on home page {kib-pull}16128[#16128]
* Fixes Time Series Visual Builder so that auto apply changes on every click {kib-pull}33710[#33710]
* Removes the `geo_centroid` and `geo_bounds` aggregations from nested metrics {kib-pull}34042[#34042]
* Replaces deprecated `moving_avg` by `moving_fn` aggregation {kib-pull}34155[#34155]
* Adds autocomplete to Time Series Visual Builder {kib-pull}30158[#30158]
* Fixes missing Markdown variables {kib-pull}28173[#28173]
* Removes filter bar for Markdown visualizations {kib-pull}30354[#30354]
* Corrects label for OS visualization in logs sample data {kib-pull}30249[#30249]
* Fixes filter function on pie chart segment {kib-pull}26321[#26321]
* Rewrites URL when closing vis type selection modal {kib-pull}26327[#26327]
* Changes unbind calls from `.on` to `.off` {kib-pull}24575[#24575]
* Fixes date field in controls visualization by generating labels with the field
formatter {kib-pull}25654[#25654]
* Replaces LESS files with Sass in `ui/public/vis`, `visLib`, and `visualize` {kib-pull}25333[#25333]
* Replaces LESS files with Sass for the visualization types in `core_plugin/metrics` {kib-pull}24250[#24250]
* Moves `timeout` to `_msearch` body to fix time series visual builder requests {kib-pull}26510[#26510]
* Adds description for all visualization types {kib-pull}26243[#26243]
* Defaults the scroll wheel zoom to false on Vega maps {kib-pull}21169[#21169]
* Fixes problem within the input_vis_control plugin that prevents it from updating correctly
if the field is switched, and then switched back to the previous field {kib-pull}25164[#25164]
* Uses `vega-nocanvas` instead of Vega lib {kib-pull}16137[#16137]
* Migrates visualization from Angular to React {kib-pull}16425[#16425]
* Fixes maps for reporting (#15272) {kib-pull}15358[#15358]
* Stops creation of nested search source per postflightrequest {kib-pull}20373[#20373]
* Moves inspector code from Vis to embeddable visualize handler {kib-pull}24112[#24112]
* Removes inspector from Vis {kib-pull}24112[#24112]
* Fixes issue with debounce function running after component was unmounted {kib-pull}15045[#15045]
* Fixes for dark mode fixes for Visualize charts, Time Series Visual Builder, and Timelion {kib-pull}30478[#30478]
* Fixes geohash checkbox group spacing {kib-pull}32664[#32664]
* Removes deep clone from courier request handler {kib-pull}32806[#32806]
* Ensures saved filters from `searchSource` are always passed to response handlers {kib-pull}33074[#33074]
* Adds new visualization search selection {kib-pull}30196[#30196]
* Changes visualization save dialog when adding to dashboard {kib-pull}32883[#32883]
* Fixes missing variables preview in Time Series Visual Builder markdown {kib-pull}30830[#30830]
* Fixes incorrect behavior when filling the 'interval' field with values: s,m,d,M,y {kib-pull}32542[#32542]
* Fixes multi-metric gauge with vertical sizing {kib-pull}33245[#33245]
* Fixes Time Series Visual Builder display on small screen resolution {kib-pull}33299[#33299]
* Fixes Time Series Visual Builder metric and gauge panels when splitting data by numbers {kib-pull}33304[#33304]
* Fixes Time Series Visual Builder percentile ranks with integer values that return no results {kib-pull}33397[#33397]
* Fixes Time Series Visual Builder issue with table view {kib-pull}33645[#33645]
* Fixes Time Series Visual Builder issue with wrong color rules on multiple metrics {kib-pull}31455[#31455]
* Fixes Time Series Visual Builder issue with percentiles for table {kib-pull}32084[#32084]
* Switches all Time Series Visual Builder comboboxes to plain text single selection {kib-pull}31879[#31879]
* Fixes table visualization to format date string when grouping by date field {kib-pull}31783[#31783]
* Adds flex wrap to metric visualization container {kib-pull}31891[#31891]
* Fixes missing axis labels when moving position {kib-pull}32628[#32628]
* Fixes vislib legend entry width {kib-pull}33303[#33303]
* Fixes legend / color picker overflow {kib-pull}30960[#30960]
* Fixes total Metric Count inside donut pie charts  {kib-pull}29086[#29086]
* Adds labels for sort order and request preference setting {kib-pull}31236[#31236]
* Fixes time picker quick ranges description {kib-pull}32455[#32455]
* Adds check for `extraMetric` in point server tooltip hovers {kib-pull}32641[#32641]
* Switches sample data objects to KQL {kib-pull}32718[#32718]
* Migrate visualization controls to use references {kib-pull}30880[#30880]
* Dedupes by index pattern ID rather than object identity {kib-pull}32350[#32350]
* Ensures extra columns are not shown in table visualization when `showPartialRows:true` {kib-pull}27154[#27154]
* Uses default index pattern when one is not present in Visualize {kib-pull}30574[#30574]
* Surfaces visualization loader errors in the UI {kib-pull}30594[#30594]





[[release-notes-7.0.0-rc1]]
== {kib} 7.0.0-rc1

[float]
[[breaking-7.0.0-rc1]]
=== Breaking changes

For more details about breaking changes in this release, see
<<breaking-changes-7.0, Breaking changes in 7.0>>.

Discover::
* Allows user to use advanced query DSL directly, and does not apply `query:queryString:options` to `query_string` filters automatically {kib-pull}15640[#15640]
* Removes `default_field` from `query:queryString:options` {kib-pull}18966[#18966]
* Makes KQL the default query language for new searches {kib-pull}27092[#27092]
Design::
* Removes references to K6 EUI, using the default UI theme in its place {kib-pull}29152[#29152]
Geo::
* Removes the deprecated `regionmap` and `tilemap` kibana.yml configurations.
Removes the backwards compatibility logic that checked for duplicative settings
`map.regionmap` and `map.tilemap`. {kib-pull}28609[#28609]
Monitoring::
* Refactors index patterns from configurable to constants {kib-pull}29528[#29528]
* Removes `node_resolver` setting {kib-pull}21181[#21181]
Management::
* Adds `configPrefix` to Index Management, License Management, Rollup Jobs, and
Upgrade Assistant {kib-pull}30149[#30149]
* Removes nested table splits from table visualization {kib-pull}26057[#26057]
* Standardizes use of `index_pattern` in UI code and URLs, replacing `indices`
and `index`  {kib-pull}29151[#29151] and {kib-pull}29481[#29481]
* Removes app-specific dark mode options and replaces with a global dark mode uiSetting {kib-pull}29017[#29017]
Operations::
* Defers the optimize step in the plugin installer to server start {kib-pull}26983[#26983]
* Removes tribe node support {kib-pull}16397[#16397]
* Creates separate startup scripts for development and production {kib-pull}13806[#13806]
* Sets default port based on protocol  {kib-pull}21564[#21564]
* Removes deprecated `/shorten` API {kib-pull}21861[#21861]
Platform::
* Removes deprecated `i18n.defaultLocale` setting {kib-pull}29325[#29325]
* Removes previously deprecated `elasticsearch*` settings. {kib-pull}29496[#29496]
* Adds new "references" attribute to saved objects for relationships {kib-pull}28199[#28199]
Reporting::
* Removes Phantom dependency {kib-pull}27142[#27142]
Security::
* Removes deprecated SSL settings {kib-pull}28622[#28622]
* Removes legacy fallback {kib-pull}29107[#29107]
Visualizations::
* Removes Timelion from the app switcher by default {kib-pull}30131[#30131]


[float]
[[deprecation-7.0.0-rc1]]
=== Deprecations

Geo::
* Fixes legacy tilemap loading {kib-pull}22095[#22095]
Machine Learning::
* Updates REST endpoint calls to remove _xpack {kib-pull}28069[#28069]
Visualizations::
* Removes old visualize wizard URL {kib-pull}28982[#28982]
* Removes legacy response handler {kib-pull}28985[#28985]
* Removes `legacyIcon` from visualizations {kib-pull}28981[#28981]


[float]
[[enhancement-7.0.0-rc1]]
=== Enhancements
Canvas::
* Removes WebSockets from Canvas expressions interpreter {kib-pull}29792[#29792]
* Optimizes Canvas REST calls via batching {kib-pull}29847[#29847]
* Implements a clipboard and stores the copied elements in `localStorage` {kib-pull}25890[#25890]
* Adds the ability to reuse assets without editing an element's expression {kib-pull}25764[#25764]
* Adds the `clear` function {kib-pull}26397[#26397]
* Adds workpad-level CSS {kib-pull}24143[#24143]
* Improvements to expression editor {kib-pull}32336[#32336]
* Adds `aria-label` attribute for Color: Auto Color to button inside chart style {kib-pull}32633[#32633]
* Adds `aria-label` attribute for Copy to clipboard {kib-pull}32880[#32880]
Dashboard::
* Adds `href` option in addition to `onClick` for navigational links {kib-pull}25233[#25233]
Design::
* Implements a new design for {kib} called K7
* Updates logos for marketing {kib-pull}25489[#25489]
* Adds Kibana 7.0 breadcrumbs to home screen {kib-pull}26605[#26605]
* Moves elastic/eui typings to single file {kib-pull}23950[#23950]
Discover::
* Renames the kuery setting to KQL {kib-pull}29587[#29587]
* Adds visual indication of selected language in query bar {kib-pull}30899[#30899]
Kibana App::
* Replaces Angular timepicker with EuiSuperDatePicker {kib-pull}29204[#29204]
* Upgrades Kibana to Elasticsearch 7.0 {kib-pull}29184[#29184]
* Maps inspector requests by id so single requests can be reset at a time {kib-pull}26770[#26770]
* Adds ODBC to blurb for start trail {kib-pull}27223[#27223]
Logstash::
* Adopts {es} typeless API for Logstash central management {kib-pull}30546[#30546]
Management::
* Adds `Request timestamp` to request inspector stats {kib-pull}25667[#25667]
* Adds "Reload indices" button to Index Management {kib-pull}27033[#27033]
Machine Learning::
* Adds the time of the anomaly to the `aria-label` of the actions button in each row of the anomalies table {kib-pull}32777[#32777]
* Adds `role="alert"` callouts on the Job Management page to ensure the information is read out by screen readers {kib-pull}32911[#32911]
* Adds EUI `ScreenReaderOnly` component to the "Analyzing data" modal {kib-pull}32472[#32472]
* Updates job type and APM module icon to new designs {kib-pull}25380[#25380]
* Allows model plot enablement via checkbox in  MultiMetric/Population Job creation {kib-pull}24914[#24914]
* Adds support for the rare detector for charts in Anomaly Explorer and Singe Metric viewer {kib-pull}21524[#21524]
* Updates HTTP access modules for ECS {kib-pull}29383[#29383]
* Updates auditbeat modules for ECS {kib-pull}29934[#29934]
* Removes non ECS apache, nginx and auditbeat data recognizer modules {kib-pull}30537[#30537]
* Adds the configuration files for two new auditbeat data recognizer modules for
detecting unusual processes on hosts and Docker containers {kib-pull}25716[#25716]
* Adds support for saved searches created using Kuery to the job wizards {kib-pull}26094[#26094]
* Allows users to enter their own query in the Discover page; stops passing the query
from the job datafeed config in custom URLs {kib-pull}26957[#26957]
* Rewrites Calendar to React/EUI {kib-pull}26741[#26741]
* Converts Setting page to React/EUI {kib-pull}27144[#27144]
* Ensures loading indicator is present on initial jobs load {kib-pull}27151[#27151]
* Prevents a new calendar save if a calendar with that id already exists {kib-pull}27104[#27104]
* Edits data recognizer modules to use KQL in saved objects {kib-pull}32766[#32766]
Observability::
* Converts monitor sparklines to histogram {kib-pull}28502[#28502]
* Adds crosshair sync for monitor page charts {kib-pull}28631[#28631]
* Adds a new plugin for Uptime Monitoring {kib-pull}25480[#25480]
Operations::
* Adds support for reindexing APM indices {kib-pull}29845[#29845]
* Adds a reindex warning for mapping type changes {kib-pull}32081[#32081]
* Adds warning callout to update APM index pattern {kib-pull}33661[#33661]
Platform::
* Adds help menu item to header {kib-pull}29664[#29664]
* Implements global dark theme {kib-pull}28445[#28445]
* Removes support for the K6 navigation style {kib-pull}29565[#29565]
* Adds `rest_total_hits_as_int` to all requests in platform code that eventually
look up `hits.total` {kib-pull}26432[#26432]
* Adds `dist` flag to the configuration context {kib-pull}26545[#26545]
* Prepares `@kbn/datemath` to be republished as `@elastic/datemath` {kib-pull}26559[#26559]
* Wraps `remote` methods in `browser` service {kib-pull}26394[#26394]
* Uses `stream.pipeline` to manage error handling {kib-pull}27246[#27246]
Querying & Filtering::
* Moves the `buildESQuery` module (including filters and Kuery) into a separate package {kib-pull}23345[#23345]
* Adds comment explaining why `getComputedFields` adds a `docvalue` to `docvalue_fields`
for each date field in an index pattern. {kib-pull}25725[#25725]
* Moves filtering functions out of `vis.API.events` {kib-pull}25280[#25280]
Reporting::
* Adds png output to reports {kib-pull}24759[#24759]
* Sorts ascending on sort order first then ascending on name. Any menu item
without a sort order gets set to zero. {kib-pull}25058[#25058]
* In the Visualization Editor, removes the "Optimize for printing" option when
exporting the visualization as PNG or PDF. The single visualization will automatically
be optimized for printing {kib-pull}30456[#30456]
* Adds browser type to the reporting side panel {kib-pull}26307[#26307]
* Adds better logging for `waitForSelector` failure {kib-pull}25762[#25762]
* Enhances error messaging and handling {kib-pull}26299[#26299]
* Adds "Info" button in the Reporting listing {kib-pull}25421[#25421]
* Adds new inspector for chromium-backed reports {kib-pull}32430[#32430]
Rollups::
* Adds support for rolling up metrics of date fields {kib-pull}26450[#26450]
Security::
* Introduces content security policy (CSP) {kib-pull}29545[#29545]
* Warns legacy browsers that do not support content security policy {kib-pull}29957[#29957]
* Adds content security policy strict mode {kib-pull}29856[#29856]
* Updates the GET `/api/security/role` endpoint to return the list of roles sorted
by name, rather than creation date {kib-pull}26491[#26491]
* Updates the Account Settings screen to show the change password form only when
a password change is possible for the authentication realm {kib-pull}26779[#26779]
* Makes space selector a `button` {kib-pull}26889[#26889]
Visualizations::
* Adds a `console.error` for visualize errors {kib-pull}24581[#24581]
* Adds a timeout so that Vega respects `elasticsearch.shardTimeout` setting {kib-pull}30482[#30482]
* Removes experimental flag from Visual Builder (TSVB) {kib-pull}25634[#25634]
* Implements new visualization type selection {kib-pull}23833[#23833]
* Removes `lab` stage for visualizations, making `experimental` the only non-production
stage available {kib-pull}25702[#25702]
* Makes markdown consistent across {kib} {kib-pull}31890[#31890]
* Adds option to open links in new tab in Time Series Visual Builder {kib-pull}31906[#31906]
* Adds max, min, placeholder to percentile in Time Series Visual Builder {kib-pull}32389[#32389]
* Displays interval information in Time Series Visual Builder when building {kib-pull}32117[#32117]
* Adds controls to toggle disable/enable individual series and annotations {kib-pull}33107[#33107]
* Updates Vega to version 4 {kib-pull}30628[#30628]

[float]
[[bug-7.0.0-rc1]]
=== Bug fixes
APM::
* Uses form label for Transaction type selector {kib-pull}28322[#28322]
* Fixes icon for View trace button {kib-pull}28908[#28908]
* Shows metric-only services in service overview {kib-pull}30397[#30397]
* Adds span subtype and action to Span Flyout {kib-pull}30041[#30041]
* Updates head title and fixes breadcrumb string issues {kib-pull}29960[#29960]
* Adds fixes for `service.name` scripted field {kib-pull}28488[#28488]
* Updates APM index pattern {kib-pull}30837[#30837]
* Updates APM reindex script {kib-pull}30761[#30761]
* Sets Index Pattern version as string {kib-pull}30789[#30789]
* Overrides EUI chart default styles for gridlines {kib-pull}21723[#21723]
* Adds section titles to span detail modal {kib-pull}20717[#20717]
* Fixes upgrade assistant label and copy {kib-pull}31750[#31750]
* Changes `context.system.hostname` to `host.hostname` for APM link {kib-pull}30884[#30884]
* Updates APM reindex script {kib-pull}31965[#31965]
* Updates APM index pattern {kib-pull}33595[#33595]
Canvas::
* Adds datetime as a date identifier {kib-pull}29537[#29537]
* Switches sample web logs fonts to 48px {kib-pull}30747[#30747]
* Fixes related to K7 design {kib-pull}30833[#30833]
* Fixes page preview size issue {kib-pull}26795[#26795]
* Fixes visual bug when opening the workpad loader {kib-pull}26647[#26647]
* Fixes page thumbnail sizes {kib-pull}26573[#26573]
* Decreases size of tray toggle {kib-pull}25470[#25470]
* Makes selection border 1px {kib-pull}26739[#26739]
* Fixes interpreter socket error {kib-pull}26870[#26870]
* Fixes duplicate `Value` options in math select value {kib-pull}25556[#25556]
* Gets correct plugins path {kib-pull}25448[#25448]
* Quotes the index pattern in SQL input {kib-pull}25488[#25488]
* Decreases the size of tray toggle {kib-pull}25470[#25470]
* Fixes the hours label container size {kib-pull}31838[#31838]
* Removes ID attribute {kib-pull}30736[#30736]
* Improves the plugin pre-build {kib-pull}25267[#25267]
Dashboard::
* Removes `dashboardContext` function and makes Timelion, Vega, and Time Series
Visual Builder use `buildEsQuery` {kib-pull}23227[#23227]
* Shows the filter bar in dashboard embed mode {kib-pull}32222[#32222]
Design::
* Updates dashboard design {kib-pull}29896[#29896]
* Adjusts side navigation interaction {kib-pull}29978[#29978]
* Converts Security UI from LESS to Sass {kib-pull}25079[#25079]
* Adds boilerplate Sass for Kibana core {kib-pull}21185[#21185]
* Makes dark mode overrides global {kib-pull}31628[#31628]
Discover::
* Adds debug code to flaky field_data test {kib-pull}15535[#15535]
* Gets even more debug info for flaky field_data test {kib-pull}17627[#17627]
* Allows time ranges before the epoch in Discover {kib-pull}31807[#31807]
* Fixes Kibana Query Language handling of carriage return {kib-pull}32150[#32150]
* Improves warning messages when using Lucene-like syntax {kib-pull}31837[#31837]
* Update capitalization of KQL full name {kib-pull}31631[#31631]
* Adds placeholder text indicating the filters aggregation takes only Lucene and Query DSL {kib-pull}31296[#31296]
* Prevents sending request if it already failed during query parsing {kib-pull}31219[#31219]
* Fixes apps to always migrate legacy queries on state change {kib-pull}33276[#33276]
Geo::
* Fixes panel cut off in K7 design {kib-pull}29209[#29209]
* Removes left-over geohash grid code {kib-pull}30312[#30312]
* Uses geo-tile aggregation instead of geohash precision {kib-pull}29776[#29776]
* Resolves URL dynamically when requesting EMS data {kib-pull}25685[#25685]
* Fixes EMS hotlink {kib-pull}26868[#26868]
* Fixes feature/align map config settings {kib-pull}19450[#19450]
* Removes `geotile_grid` aggregation from non-geospatial visualizations {kib-pull}31354[#31354]
* Coerces string doc-values to numbers if used in styling {kib-pull}33657[#33657]
Infrastructure::
* Fixes server-side retrieval of the {kib} version {kib-pull}31440[#31440]
* Fixes react router import {kib-pull}33659[#33659]
* Adapts settings ui to saved object version type change {kib-pull}30082[#30082]
* Fixes potential color bugs {kib-pull}26292[#26292]
* Fixes auto refresh button on node detail page {kib-pull}26426[#26426]
* Changes the time range from the last hour to the last 5 minutes for the Waffle Map {kib-pull}26278[#26278]
* Passes flag in request to force BWC hit count {kib-pull}26517[#26517]
* Replaces redux source slice with constate container {kib-pull}26121[#26121]
* Changes node detail link to set time range to 1 hour {kib-pull}26977[#26977]
* Stops showing sidenav while loading. {kib-pull}27119[#27119]
* Fixes styling after breaking EUI changes {kib-pull}27021[#27021]
* Fixes graphql type generation after package upgrades {kib-pull}26991[#26991]
* Removes usage of `ts-optchain` in the browser {kib-pull}27148[#27148]
Kibana App::
* Fixes gauge filters {kib-pull}30057[#30057]
* Fixes fieldformatter calls in pipeline helper {kib-pull}29842[#29842]
* Adds pipeline field formatting {kib-pull}28746[#28746]
* Removes `kibana_table` pipeline type {kib-pull}28979[#28979]
* Moves renderers registry to OSS {kib-pull}28986[#28986]
* Prepares for cut over to the visualize data loader from the current expression
pipeline data loader {kib-pull}29873[#29873]
* Toggles between Expression Pipeline & Visualize Data loader {kib-pull}29874[#29874]
* Fixes every app that was wrapping `query` in an array unnecessarily {kib-pull}27636[#27636]
* Fixes build issue and reintroduces new filter bar {kib-pull}29752[#29752]
* Adds index pattern URL change notes {kib-pull}30779[#30779]
* Fixes visualization filters to ignore invalid entries {kib-pull}30633[#30633]
* Expands the size of add panels flyout and increases default rows per page {kib-pull}30508[#30508]
* Fixes support for React 16.4+ by only resetting state if adaptors are updated {kib-pull}26138[#26138]
* Fixes scrolling list on Firefox {kib-pull}26246[#26246]
* Guards against empty and undefined index pattern arrays passed to QueryBar {kib-pull}24607[#24607]
* Removes unused indexPattern from vega/tsvb/timelion request handler {kib-pull}26007[#26007]
* Passes global filters from editor down to visualize  {kib-pull}26009[#26009]
* Stops using schemas in aggconfigs to output DSL {kib-pull}26010[#26010]
* Fixes `kbn-interpreter` package to not import from UI {kib-pull}26161[#26161]
* Fixes OSS dynamic plugin loading by reverting to Canvas way of loading plugins {kib-pull}26463[#26463]
* Fixes other bucket option to correctly apply without having to change other settings {kib-pull}26874[#26874]
* Adds `en` as a valid numeral locale setting {kib-pull}25948[#25948]
* Adds `rest_total_hits_as_int` into Kibana App {kib-pull}26404[#26404]
* Uses Canvas pipeline to fetch data inside Visualize {kib-pull}25996[#25996]
* Adds warning to the `documentation_links` file about link validation gotcha {kib-pull}24786[#24786]
* Adds workaround for `getDerivedStateFromProps` change in react 16.4 {kib-pull}25142[#25142]
* Fixes "Set up index patterns" link on home page {kib-pull}16128[#16128]
Machine Learning::
* Fixes filter and icon for APM Data Recognizer module {kib-pull}31112[#31112]
* Ensures cardinality related messages in Advanced job wizard are formatted correctly {kib-pull}33599[#33599]
* Adds title elements which were missing from Calendars pages {kib-pull}33257[#33257]
* Changes job wizard query to use `match_all` {kib-pull}32008[#32008]
* Adds calendars list to job management {kib-pull}32566[#32566]
* Fixes Job Selector text to take group selection into account {kib-pull}31333[#31333]
* Ensures that Job Selector description text is accurate {kib-pull}32441[#32441]
* Reduces space between headings in the expanded row for Category examples in Anomalies Table {kib-pull}32417[#32417]
* Removes use of types in datafeeds  {kib-pull}27572[#27572]
* Fixes metric select double caret {kib-pull}30357[#30357]
* Removes old angular based start datafeed modal {kib-pull}30392[#30392]
* Handles removal of backend ml.enabled node attribute {kib-pull}27604[#27604]
* Edits labels in the Apache and Nginx ECS data recognizer modules {kib-pull}29935[#29935]
* Fixes for K7 compatibility {kib-pull}30536[#30536]
* Fixes broken label style in advanced wizard {kib-pull}30847[#30847]
* Adds ml-ui team to .github/CODEOWNERS {kib-pull}29810[#29810]
* Allows user to add/edit/delete annotations in the Single Series Viewer {kib-pull}26034[#26034]
* Does not pass datafeed query to Discover in custom URL {kib-pull}26957[#26957]
* Fixes word break in Anomalies and Jobs tables {kib-pull}26978[#26978]
* Fixes alignment of filter icons in the Anomalies table {kib-pull}26253[#26253]
* Shows useful error on invalid query in JobList search bar {kib-pull}25153[#25153]
* Adds user privilege check to Jobs List group selector control {kib-pull}25225[#25225]
* Fixes file data viz file size check and formats as bytes {kib-pull}25295[#25295]
* Fixes the layout of the cards in the Data Visualizer on IE {kib-pull}25383[#25383]
* Adds better error reporting for reading and importing data {kib-pull}24269[#24269]
* Displays an ordinal y axis for low cardinality rare charts {kib-pull}24852[#24852]
* Fixes typo in job validation message {kib-pull}25130[#25130]
* Removes deprecated `angularjs` based jobs list and related code {kib-pull}25216[#25216]
* Skips invalid modules when data recognizer lists matches {kib-pull}33703[#33703]
Management::
* Removes grunt sterilize - its been replaced by `kbn clean` {kib-pull}27825[#27825]
* Makes Index management table more responsive {kib-pull}28882[#28882]
* Fixes index pattern wizard when there are remote clusters but no local indices  {kib-pull}24339[#24339]
* Uses new `_graph` endpoints {kib-pull}26956[#26956]
* Adjusts spacing of Management navigation items {kib-pull}25666[#25666]
* Updates "Disenroll" text to be consistent with menu option "Unenroll" {kib-pull}26816[#26816]
* Fixes broken breadcrumb link for index management {kib-pull}27164[#27164]
* Fixes issue with multiple execution in Console {kib-pull}26933[#26933]
* Reloads full index list when reload hits missing index {kib-pull}27197[#27197]
* Adds boilerplate for remote clusters management app {kib-pull}25369[#25369]
* Adds `ignore_failure` to ingest common auto complete in console {kib-pull}24915[#24915]
* Removes support for expression-based scripted fields {kib-pull}14310[#14310]
* Adds WatchErrors to capture invalid watches {kib-pull}23887[#23887]
* Rewords the translation id for error with missing property in Watcher {kib-pull}24753[#24753]
* Triggers full load when encountering 403 for index list reload {kib-pull}28243[#28243]
* Updates X-Pack console specs {kib-pull}29506[#29506]
* Fixes API integration test for follower indices {kib-pull}30260[#30260]
* Fixes management footer logo spacing bug {kib-pull}30654[#30654]
Monitoring::
* Updates to read from `.monitoring-*-7-*` indices {kib-pull}32654[#32654]
* Adds in explicit mappings {kib-pull}33004[#33004]
* Stops using the normalized derivative value {kib-pull}27416[#27416]
* Updates the title in the left nav to Stack Monitoring {kib-pull}28102[#28102]
* Prepares the Monitoring UI codebase for the incoming changes to `hits.total` {kib-pull}26442[#26442]
* Updates browser title to Stack Monitoring {kib-pull}29638[#29638]
* Fixes Monitoring design {kib-pull}29479[#29479]
* Removes old index patterns that are not expected in 7.0.0 onwards {kib-pull}27915[#27915]
* Removes deprecated `xpack.monitoring.report_stats` setting {kib-pull}30017[#30017]
* Fixes monitoring tests to work with mapping changes {kib-pull}29188[#29188]
* Removes type filter helper {kib-pull}30887[#30887]
* Fixes error handling for local stats collection/permissions {kib-pull}26560[#26560]
* Removes initial delay to check and send Telemetry data {kib-pull}26575[#26575]
* Pulls local Kibana usage stats {kib-pull}26496[#26496]
* Converts the Elasticsearch monitoring UIs to using EUI tables and page layout {kib-pull}26217[#26217]
* Renames Monitoring `FormattedMessage` to `FormattedAlert` {kib-pull}24197[#24197]
* Uses the cluster name from metadata if it exists {kib-pull}24495[#24495]
Observability::
* Fixes 7.x references to tcp.port {kib-pull}29132[#29132]
* Ports functional tests to 7.x {kib-pull}29398[#29398]
* Ports unit tests to master {kib-pull}29876[#29876]
* Adds missing loading states for filter bar and snapshot components {kib-pull}30122[#30122]
* Removes double-format for duration value {kib-pull}30664[#30664]
* Switches Uptime localization from i18n provider to context {kib-pull}31601[#31601]
* Improves monitor charts query {kib-pull}30561[#30561]
* Adds global help support to Uptime {kib-pull}31493[#31493]
* Updates targeted index pattern for 7.0.0 {kib-pull}30998[#30998]
Operations::
* Removes the usage of types from Esqueue used for the `.reporting index` {kib-pull}32146[#32146]
* Fixes IPv6 addresses used with Angular connector {kib-pull}29891[#29891]
* Fixes `makelogs` dependency {kib-pull}31428[#31428]
* Runs the {kib} server in production mode for functional testing {kib-pull}31346[#31346]
* Uses `fs.copyFile` to avoid race condition {kib-pull}32220[#32220]
* Removes `hash -r` {kib-pull}32616[#32616]
* Fixes JUnit reporter {kib-pull}32686[#32686]
* Adds options to `run()` that can modify help and show help on errors {kib-pull}33466[#33466]
* Captures values from boolean flags {kib-pull}33528[#33528]
* Fixes incorrect environment name for V8 options {kib-pull}31052[#31052]
* Removes svg from url-loader, as it conflicts with other loaders {kib-pull}30888[#30888]
* Uses apiVersion from es plugin in x-pack {kib-pull}30853[#30853]
* Clones saved object document before migrating to prevent accidental mutations {kib-pull}30475[#30475]
* Removes node fallback from kibana-keystore {kib-pull}15066[#15066]
* Adds debug script to set inspect flags {kib-pull}15967[#15967]
* Uses snake case for scripts/kibana-keystore.js and scripts/kibana-plugin.js {kib-pull}15331[#15331]
* Updates license info in package.json {kib-pull}20353[#20353]
* Fixes error log formatting {kib-pull}24788[#24788]
* Matches chalk dependency version on Kibana with the one used on X-Pack {kib-pull}20621[#20621]
* Fixes non-conforming licenses on devDependencies and adds the ability to whitelist devOnly licenses {kib-pull}23859[#23859]
* Adds jsxa11y into eslint rules {kib-pull}23932[#23932]
* Reverts Bump react-grid-layout to 0.16.0 {kib-pull}14912[#14912]
* Reverts breaking change for Status API {kib-pull}21927[#21927]
* Converts `utils/collection` to TypeScript {kib-pull}23992[#23992]
* Removes usage of update_all_types {kib-pull}16406[#16406]
* Improves the `yarn kbn bootstrap` speed by using yarn workspaces for packages inside `packages/*` and `x-pack` {kib-pull}24095[#24095]
* Runs jenkins:unit task with dev flag in order to run license check {kib-pull}19832[#19832]
* Does not break on startup in debug mode {kib-pull}19219[#19219]
Platform::
* Removes types from `saved_objects` repository {kib-pull}32286[#32286]
* Fixes custom icon image paths in `NavDrawer` {kib-pull}33573[#33573]
* Fixes back button navigation {kib-pull}32372[#32372]
* Improves types for ftr and expect.js and cleans up `tsconfig` files {kib-pull}31948[#31948]
* Strips # from hash before updating ``$location` {kib-pull}32732[#32732]
* Removes `disableAutoAngularUrlEncodingFix()`` {kib-pull}33136[#33136]
* Removes unused system-loader implementation {kib-pull}33747[#33747]
* Moves the table vis migration to {kib} plugin {kib-pull}29478[#29478]
* Allows passing a default operator to use on saved object client find operations {kib-pull}29339[#29339]
* Fixes saved object repository `bulkCreate` to return migrated references and attributes {kib-pull}29754[#29754]
* Adds missing saved object reference handling for searchSourceJSON filter attribute {kib-pull}29840[#29840]
* Excludes `migrationVersion` and references from `getRootPropertiesObjects` result {kib-pull}30081[#30081]
* Removes dependency on doc versions {kib-pull}29906[#29906]
* Adds typings for saved object client {kib-pull}29951[#29951]
* Uses `lastSubUrl` when appropriate {kib-pull}28735[#28735]
* Removes es _xpack endpoint usage {kib-pull}29465[#29465]
* Adds typings for the `saved_object_finder` react component {kib-pull}30067[#30067]
* Fixes the confirm overwrite modal of saved objects to handle large titles {kib-pull}28590[#28590]
* Decreases start limit and interval {kib-pull}25474[#25474]
* Adds `--download` flag to snapshot command to warm the cache {kib-pull}25830[#25830]
* Implements `--prefer-offline` flag {kib-pull}25840[#25840]
* Fixes watcher routes broken by Hapi upgrade {kib-pull}26713[#26713]
* Fixes non-conforming licenses on devDependencies and adds the ability to whitelist devOnly licenses {kib-pull}23859[#23859]
* Watches optimizer cache invalidation  {kib-pull}24172[#24172]
* Adds `normalizePath` in order to fix watch optimizer when running on Windows {kib-pull}26486[#26486]
* Creates vendor dll for the client modules {kib-pull}22618[#22618]
* Upgrades to NodeJS 10 {kib-pull}25157[#25157]
* Improves plugin version mismatch error message {kib-pull}25774[#25774]
* Improves build/packaging {kib-pull}26096[#26096]
* Swaps `jstimezonedetect` with `moment.tz.guess` {kib-pull}21800[#21800]
* Upgrades resize-observer-polyfill version {kib-pull}26990[#26990]
* Fixes saved objects client `_processBatchQueue` function to handle errors {kib-pull}26763[#26763]
* Changes kbn pm webpack config to generate dist files in mode=none {kib-pull}26847[#26847]
* Hides logs from deleteAll on task: clean client modules into dll {kib-pull}26884[#26884]
* Upgrades `resize-observer-polyfill` version {kib-pull}26990[#26990]
* Uses `single-node` discovery type for the test ES node/cluster {kib-pull}27125[#27125]
* Moves moment to peerDependency in elastic-datemath {kib-pull}27264[#27264]
* Transforms plugin deprecations before checking for unused settings {kib-pull}21294[#21294]
* Expands list of restricted globals in `eslint-config-kibana` {kib-pull}15798[#15798]
* Makes logs easier to read on Windows with chalk colors {kib-pull}15557[#15557]
Reporting::
* Refactors routes files and helpers {kib-pull}30111[#30111]
* Deletes `sortOrder` once items have been sorted and does not pass to `EuiContextMenuItem`
in the share context menu {kib-pull}26890[#26890]
* Fixes a regression bug in detection of Error and Warning toast notifications {kib-pull}25482[#25482]
* Stops passing an empty `formatConfig` to the fieldFormats helper {kib-pull}27168[#27168]
* Returns promise in Reporting jobs API {kib-pull}24769[#24769]
* Uses `content-disposition` package for non-US font titles in reporting {kib-pull}30895[#30895]
* Uses lowercased server host settings {kib-pull}33020[#33020]
Rollups::
* Shows loading state in Rollup Job detail panel. {kib-pull}25752[#25752]
* Specifies Rollup Jobs breadcrumbs in header. {kib-pull}26590[#26590]
* Requires histogram interval in Rollup Job wizard to be a whole number. {kib-pull}26596[#26596]
* Removes duplicate rendered sections {kib-pull}[#28566]
Security::
* Adds tests for interpreter `createSocket` {kib-pull}29459[#29459]
* Moves the server-side `SavedObjectClient` types from the `spaces` plugin to the
same location as the corresponding JavaScript source files {kib-pull}26448[#26448]
* Respects the `basePath` for the link to the user profile in the k7 header {kib-pull}26417[#26417]
* Fixes `prettier` throw rule error  {kib-pull}26071[#26071]
* Fixes authentication logic to fail out of auth flow on first provider failure {kib-pull}26648[#26648]
* Fixes issues with the `url.search` being null in Node 10 {kib-pull}26992[#26992]
* Fixes DLS query toggle on the role management page {kib-pull}27213[#27213]
* Implements the K7 login screen {kib-pull}23512[#23512]
Visualizations::
* Adds autocomplete to Time Series Visual Builder {kib-pull}30158[#30158]
* Fixes missing Markdown variables {kib-pull}28173[#28173]
* Removes filter bar for Markdown visualizations {kib-pull}30354[#30354]
* Corrects label for OS visualization in logs sample data {kib-pull}30249[#30249]
* Fixes filter function on pie chart segment {kib-pull}26321[#26321]
* Rewrites URL when closing vis type selection modal {kib-pull}26327[#26327]
* Changes unbind calls from `.on` to `.off` {kib-pull}24575[#24575]
* Fixes date field in controls visualization by generating labels with the field
formatter {kib-pull}25654[#25654]
* Replaces LESS files with Sass in `ui/public/vis`, `visLib`, and `visualize` {kib-pull}25333[#25333]
* Replaces LESS files with Sass for the visualization types in `core_plugin/metrics` {kib-pull}24250[#24250]
* Moves `timeout` to `_msearch` body to fix time series visual builder requests {kib-pull}26510[#26510]
* Adds description for all visualization types {kib-pull}26243[#26243]
* Defaults the scroll wheel zoom to false on Vega maps {kib-pull}21169[#21169]
* Fixes problem within the input_vis_control plugin that prevents it from updating correctly
if the field is switched, and then switched back to the previous field {kib-pull}25164[#25164]
* Uses `vega-nocanvas` instead of Vega lib {kib-pull}16137[#16137]
* Migrates visualization from Angular to React {kib-pull}16425[#16425]
* Fixes maps for reporting (#15272) {kib-pull}15358[#15358]
* Stops creation of nested search source per postflightrequest {kib-pull}20373[#20373]
* Moves inspector code from Vis to embeddable visualize handler {kib-pull}24112[#24112]
* Removes inspector from Vis {kib-pull}24112[#24112]
* Fixes issue with debounce function running after component was unmounted {kib-pull}15045[#15045]
* Fixes for dark mode fixes for Visualize charts, Time Series Visual Builder, and Timelion {kib-pull}30478[#30478]
* Fixes geohash checkbox group spacing {kib-pull}32664[#32664]
* Removes deep clone from courier request handler {kib-pull}32806[#32806]
* Ensures saved filters from `searchSource` are always passed to response handlers {kib-pull}33074[#33074]
* Adds new visualization search selection {kib-pull}30196[#30196]
* Changes visualization save dialog when adding to dashboard {kib-pull}32883[#32883]
* Fixes missing variables preview in Time Series Visual Builder markdown {kib-pull}30830[#30830]
* Fixes incorrect behavior when filling the 'interval' field with values: s,m,d,M,y {kib-pull}32542[#32542]
* Fixes multi-metric gauge with vertical sizing {kib-pull}33245[#33245]
* Fixes Time Series Visual Builder display on small screen resolution {kib-pull}33299[#33299]
* Fixes Time Series Visual Builder metric and gauge panels when splitting data by numbers {kib-pull}33304[#33304]
* Fixes Time Series Visual Builder percentile ranks with integer values that return no results {kib-pull}33397[#33397]
* Fixes Time Series Visual Builder issue with table view {kib-pull}33645[#33645]
* Fixes Time Series Visual Builder issue with wrong color rules on multiple metrics {kib-pull}31455[#31455]
* Fixes Time Series Visual Builder issue with percentiles for table {kib-pull}32084[#32084]
* Switches all Time Series Visual Builder comboboxes to plain text single selection {kib-pull}31879[#31879]
* Fixes table visualization to format date string when grouping by date field {kib-pull}31783[#31783]
* Adds flex wrap to metric visualization container {kib-pull}31891[#31891]
* Fixes missing axis labels when moving position {kib-pull}32628[#32628]
* Fixes vislib legend entry width {kib-pull}33303[#33303]
* Fixes legend / color picker overflow {kib-pull}30960[#30960]
* Fixes total Metric Count inside donut pie charts  {kib-pull}29086[#29086]
* Adds labels for sort order and request preference setting {kib-pull}31236[#31236]
* Fixes time picker quick ranges description {kib-pull}32455[#32455]
* Adds check for `extraMetric` in point server tooltip hovers {kib-pull}32641[#32641]
* Switches sample data objects to KQL {kib-pull}32718[#32718]
* Migrate visualization controls to use references {kib-pull}30880[#30880]
* Dedupes by index pattern ID rather than object identity {kib-pull}32350[#32350]
* Ensures extra columns are not shown in table visualization when `showPartialRows:true` {kib-pull}27154[#27154]
* Uses default index pattern when one is not present in Visualize {kib-pull}30574[#30574]
* Surfaces visualization loader errors in the UI {kib-pull}30594[#30594]






[[release-notes-7.0.0-beta1]]
== {kib} 7.0.0-beta1


[float]
[[breaking-7.0.0-beta1]]
=== Breaking changes

For more details about breaking changes in this release, see
<<breaking-changes-7.0, Breaking changes in 7.0>>.

Design::
* Removes references to K6 EUI, using the default UI theme in its place {kib-pull}29152[#29152]
Geo::
* Removes the deprecated `regionmap` and `tilemap` kibana.yml configurations.
Removes the backwards compatibility logic that checked for duplicative settings
`map.regionmap` and `map.tilemap`. {kib-pull}28609[#28609]
Monitoring::
* Refactors index patterns from configurable to constants {kib-pull}29528[#29528]
Management::
* Adds `configPrefix` to Index Management, License Management, Rollup Jobs, and
Upgrade Assistant {kib-pull}30149[#30149]
* Removes nested table splits from table visualization {kib-pull}26057[#26057]
* Standardizes use of `index_pattern` in UI code and URLs, replacing `indices`
and `index`  {kib-pull}29151[#29151] and {kib-pull}29481[#29481]
* Removes app-specific dark mode options and replaces with a global dark mode uiSetting {kib-pull}29017[#29017]
Operations::
* Defers the optimize step in the plugin installer to server start {kib-pull}26983[#26983]
Platform::
* Removes deprecated `i18n.defaultLocale` setting {kib-pull}29325[#29325]
* Removes previously deprecated `elasticsearch*` settings. {kib-pull}29496[#29496]
* Adds new "references" attribute to saved objects for relationships {kib-pull}28199[#28199]
Querying & Filtering::
* Makes KQL the default query language for new searches {kib-pull}27092[#27092]
Reporting::
* Removes Phantom dependency {kib-pull}27142[#27142]
Security::
* Removes deprecated SSL settings {kib-pull}28622[#28622]
* Removes legacy fallback {kib-pull}29107[#29107]
Visualizations::
* Removes Timelion from the app switcher by default {kib-pull}30131[#30131]


[float]
[[deprecation-7.0.0-beta1]]
=== Deprecations
Machine Learning::
* Updates REST endpoint calls to remove _xpack {kib-pull}28069[#28069]
Visualizations::
* Removes old visualize wizard URL {kib-pull}28982[#28982]
* Removes legacy response handler {kib-pull}28985[#28985]
* Removes `legacyIcon` from visualizations {kib-pull}28981[#28981]


[float]
[[enhancement-7.0.0-beta1]]
=== Enhancements
Canvas::
* Removes WebSockets from Canvas expressions interpreter {kib-pull}29792[#29792]
* Optimizes Canvas REST calls via batching {kib-pull}29847[#29847]
Kibana App::
* Replaces Angular timepicker with EuiSuperDatePicker {kib-pull}29204[#29204]
* Upgrades Kibana to Elasticsearch 7.0 {kib-pull}29184[#29184]
Machine Learning::
* Updates HTTP access modules for ECS {kib-pull}29383[#29383]
* Updates auditbeat modules for ECS {kib-pull}29934[#29934]
* Removes non ECS apache, nginx and auditbeat data recognizer modules {kib-pull}30537[#30537]
Observability::
* Converts monitor sparklines to histogram {kib-pull}28502[#28502]
* Adds crosshair sync for monitor page charts {kib-pull}28631[#28631]
Operations::
* Adds support for reindexing APM indices {kib-pull}29845[#29845]
Platform::
* Adds help menu item to header {kib-pull}29664[#29664]
* Implements global dark theme {kib-pull}28445[#28445]
* Removes support for the K6 navigation style {kib-pull}29565[#29565]
Reporting::
* In the Visualization Editor, removes the "Optimize for printing" option when
exporting the visualization as PNG or PDF. The single visualization will automatically
be optimized for printing {kib-pull}30456[#30456]
Security::
* Introduces content security policy (CSP) {kib-pull}29545[#29545]
* Warns legacy browsers that do not support content security policy {kib-pull}29957[#29957]
* Adds content security policy strict mode {kib-pull}29856[#29856]
Visualizations::
* Adds a timeout so that Vega respects `elasticsearch.shardTimeout` setting {kib-pull}30482[#30482]


[float]
[[bug-7.0.0-beta1]]
=== Bug fixes
APM::
* Uses form label for Transaction type selector {kib-pull}28322[#28322]
* Fixes icon for View trace button {kib-pull}28908[#28908]
* Shows metric-only services in service overview {kib-pull}30397[#30397]
* Adds span subtype and action to Span Flyout {kib-pull}30041[#30041]
* Updates head title and fixes breadcrumb string issues {kib-pull}29960[#29960]
* Adds fixes for `service.name` scripted field {kib-pull}28488[#28488]
* Updates APM index pattern {kib-pull}30837[#30837]
* Updates APM reindex script {kib-pull}30761[#30761]
* Sets Index Pattern version as string {kib-pull}30789[#30789]
Canvas::
* Adds datetime as a date identifier {kib-pull}29537[#29537]
* Switches sample web logs fonts to 48px {kib-pull}30747[#30747]
* Fixes related to K7 design {kib-pull}30833[#30833]
Design::
* Updates dashboard design {kib-pull}29896[#29896]
* Adjusts side navigation interaction {kib-pull}29978[#29978]
Elasticsearch UI::
* Triggers full load when encountering 403 for index list reload {kib-pull}28243[#28243]
* Updates xpack console specs {kib-pull}29506[#29506]
* Fixes API integration test for follower indices {kib-pull}30260[#30260]
Geo::
* Fixes panel cut off in K7 design {kib-pull}29209[#29209]
* Removes left-over geohash grid code {kib-pull}30312[#30312]
* Uses geo-tile aggregation instead of geohash precision {kib-pull}29776[#29776]
Infrastructure UI::
* Adapts settings ui to saved object version type change {kib-pull}30082[#30082]
Kibana App::
* Fixes gauge filters {kib-pull}30057[#30057]
* Fixes fieldformatter calls in pipeline helper {kib-pull}29842[#29842]
* Adds pipeline field formatting {kib-pull}28746[#28746]
* Removes `kibana_table` pipeline type {kib-pull}28979[#28979]
* Moves renderers registry to OSS {kib-pull}28986[#28986]
* Prepares for cut over to the visualize data loader from the current expression
pipeline data loader {kib-pull}29873[#29873]
* Toggles between Expression Pipeline & Visualize Data loader {kib-pull}29874[#29874]
* Fixes every app that was wrapping `query` in an array unnecessarily {kib-pull}27636[#27636]
* Fixes build issue and reintroduces new filter bar {kib-pull}29752[#29752]
* Adds index pattern URL change notes {kib-pull}30779[#30779]
* Fixes visualization filters to ignore invalid entries {kib-pull}30633[#30633]
* Expands the size of add panels flyout and increases default rows per page {kib-pull}30508[#30508]
Machine Learning::
* Removes use of types in datafeeds  {kib-pull}27572[#27572]
* Fixes metric select double caret {kib-pull}30357[#30357]
* Removes old angular based start datafeed modal {kib-pull}30392[#30392]
* Handles removal of backend ml.enabled node attribute {kib-pull}27604[#27604]
* Edits labels in the Apache and Nginx ECS data recognizer modules {kib-pull}29935[#29935]
* Fixes for K7 compatibility {kib-pull}30536[#30536]
* Fixes broken label style in advanced wizard {kib-pull}30847[#30847]
* Adds ml-ui team to .github/CODEOWNERS {kib-pull}29810[#29810]
Management::
* Removes grunt sterilize - its been replaced by `kbn clean` {kib-pull}27825[#27825]
* Makes Index management table more responsive {kib-pull}28882[#28882]
Monitoring::
* Stops using the normalized derivative value {kib-pull}27416[#27416]
* Updates the title in the left nav to Stack Monitoring {kib-pull}28102[#28102]
* Prepares the Monitoring UI codebase for the incoming changes to `hits.total` {kib-pull}26442[#26442]
* Updates browser title to Stack Monitoring {kib-pull}29638[#29638]
* Fixes Monitoring design {kib-pull}29479[#29479]
* Removes old index patterns that are not expected in 7.0.0 onwards {kib-pull}27915[#27915]
* Removes deprecated `xpack.monitoring.report_stats` setting {kib-pull}30017[#30017]
* Fixes monitoring tests to work with mapping changes {kib-pull}29188[#29188]
* Removes type filter helper {kib-pull}30887[#30887]
Operations::
* Removes svg from url-loader, as it conflicts with other loaders {kib-pull}30888[#30888]
* Uses apiVersion from es plugin in x-pack {kib-pull}30853[#30853]
* Clones saved object document before migrating to prevent accidental mutations {kib-pull}30475[#30475]
Observability::
* Fixes 7.x references to tcp.port {kib-pull}29132[#29132]
* Ports functional tests to 7.x {kib-pull}29398[#29398]
* Ports unit tests to master {kib-pull}29876[#29876]
* Adds missing loading states for filter bar and snapshot components {kib-pull}30122[#30122]
* Removes double-format for duration value {kib-pull}30664[#30664]
Platform::
* Moves the table vis migration to {kib} plugin {kib-pull}29478[#29478]
* Allows passing a default operator to use on saved object client find operations {kib-pull}29339[#29339]
* Fixes saved object repository `bulkCreate` to return migrated references and attributes {kib-pull}29754[#29754]
* Adds missing saved object reference handling for searchSourceJSON filter attribute {kib-pull}29840[#29840]
* Excludes `migrationVersion` and references from `getRootPropertiesObjects` result {kib-pull}30081[#30081]
* Removes dependency on doc versions {kib-pull}29906[#29906]
* Adds typings for saved object client {kib-pull}29951[#29951]
* Uses `lastSubUrl` when appropriate {kib-pull}28735[#28735]
* Removes es _xpack endpoint usage {kib-pull}29465[#29465]
* Adds typings for the `saved_object_finder` react component {kib-pull}30067[#30067]
* Fixes the confirm overwrite modal of saved objects to handle large titles {kib-pull}28590[#28590]
Reporting::
* Refactors routes files and helpers {kib-pull}30111[#30111]
Rollups::
* Removes duplicate rendered sections {kib-pull}28566[#28566]
Security::
* Adds tests for interpreter `createSocket` {kib-pull}29459[#29459]
Visualizations::
* Adds autocomplete to Time Series Visual Builder {kib-pull}30158[#30158]
* Fixes missing Markdown variables {kib-pull}28173[#28173]
* Removes filter bar for Markdown visualizations {kib-pull}30354[#30354]
* Corrects label for OS visualization in logs sample data {kib-pull}30249[#30249]











[[release-notes-7.0.0-alpha2]]
== {kib} 7.0.0-alpha2


[float]
[[breaking-7.0.0-alpha2]]
=== Breaking changes

For more details about breaking changes in this release, see
<<breaking-changes-7.0, Breaking changes in 7.0>>.

[float]
[[highlight-7.0.0-alpha2]]
=== Highlights
Canvas::
* Canvas now has a template tab in the workpad manager where users can find workpad templates,
demos, and tutorials to help them get started. See {kib-pull}23966[#23966] for more information.
Kibana App::
* Visualizations in Kibana will use a new data pipeline introduced as part of Canvas.
The change does not yet apply to Vega, Timelion, or Time Series Visual Builder (TSVB).
See {kib-pull}25711[#25711] for more information.
Index Lifecyle Management::
* Implements a user interface to create, update, edit, or delete index lifecyle policies.
See {kib-pull}25553[#25553] for more information.

[float]
[[enhancement-7.0.0-alpha2]]
=== Enhancements
Canvas::
* Implements a clipboard and stores the copied elements in `localStorage` {kib-pull}25890[#25890]
* Adds the ability to reuse assets without editing an element's expression {kib-pull}25764[#25764]
* Adds the `clear` function {kib-pull}26397[#26397]
* Adds workpad-level CSS {kib-pull}24143[#24143]
Dashboard::
* Adds `href` option in addition to `onClick` for navigational links {kib-pull}25233[#25233]
Design::
* Updates logos for marketing {kib-pull}25489[#25489]
* Adds Kibana 7.0 breadcrumbs to home screen {kib-pull}26605[#26605]
* Moves elastic/eui typings to single file {kib-pull}23950[#23950]
Kibana App::
* Maps inspector requests by id so single requests can be reset at a time {kib-pull}26770[#26770]
* Adds ODBC to blurb for start trail {kib-pull}27223[#27223]
Management::
* Adds `Request timestamp` to request inspector stats {kib-pull}25667[#25667]
* Adds "Reload indices" button to Index Management {kib-pull}27033[#27033]
Machine Learning::
* Adds the configuration files for two new auditbeat data recognizer modules for
detecting unusual processes on hosts and Docker containers {kib-pull}25716[#25716]
* Adds support for saved searches created using Kuery to the job wizards {kib-pull}26094[#26094]
* Allows users to enter their own query in the Discover page; stops passing the query
from the job datafeed config in custom URLs {kib-pull}26957[#26957]
* Rewrites Calendar to React/EUI {kib-pull}26741[#26741]
* Converts Setting page to React/EUI {kib-pull}27144[#27144]
* Ensures loading indicator is present on initial jobs load {kib-pull}27151[#27151]
* Prevents a new calendar save if a calendar with that id already exists {kib-pull}27104[#27104]
Observability::
* Adds a new plugin for Uptime Monitoring {kib-pull}25480[#25480]
Platform::
* Adds `rest_total_hits_as_int` to all requests in platform code that eventually
look up `hits.total` {kib-pull}26432[#26432]
* Adds `dist` flag to the configuration context {kib-pull}26545[#26545]
* Prepares `@kbn/datemath` to be republished as `@elastic/datemath` {kib-pull}26559[#26559]
* Wraps `remote` methods in `browser` service {kib-pull}26394[#26394]
* Uses `stream.pipeline` to manage error handling {kib-pull}27246[#27246]
Querying & Filtering::
* Moves the `buildESQuery` module (including filters and Kuery) into a separate package {kib-pull}23345[#23345]
* Adds comment explaining why `getComputedFields` adds a `docvalue` to `docvalue_fields`
for each date field in an index pattern. {kib-pull}25725[#25725]
* Moves filtering functions out of `vis.API.events` {kib-pull}25280[#25280]
Reporting::
* Adds browser type to the reporting side panel {kib-pull}26307[#26307]
* Adds better logging for `waitForSelector` failure {kib-pull}25762[#25762]
* Enhances error messaging and handling {kib-pull}26299[#26299]
* Adds "Info" button in the Reporting listing {kib-pull}25421[#25421]
Rollups::
* Adds support for rolling up metrics of date fields {kib-pull}26450[#26450]
Security::
* Updates the GET `/api/security/role` endpoint to return the list of roles sorted
by name, rather than creation date {kib-pull}26491[#26491]
* Updates the Account Settings screen to show the change password form only when
a password change is possible for the authentication realm {kib-pull}26779[#26779]
* Makes space selector a `button` {kib-pull}26889[#26889]
Visualizations::
* Removes experimental flag from Visual Builder (TSVB) {kib-pull}25634[#25634]
* Implements new visualization type selection {kib-pull}23833[#23833]
* Removes `lab` stage for visualizations, making `experimental` the only non-production
stage available {kib-pull}25702[#25702]

[float]
[[bug-7.0.0-alpha2]]
=== Bug fixes
Canvas::
* Fixes page preview size issue {kib-pull}26795[#26795]
* Fixes visual bug when opening the workpad loader {kib-pull}26647[#26647]
* Fixes page thumbnail sizes {kib-pull}26573[#26573]
* Decreases size of tray toggle {kib-pull}25470[#25470]
* Makes selection border 1px {kib-pull}26739[#26739]
* Fixes interpreter socket error {kib-pull}26870[#26870]
Geo::
* Resolves URL dynamically when requesting EMS data {kib-pull}25685[#25685]
* Fixes EMS hotlink {kib-pull}26868[#26868]
Infrastructure UI::
* Fixes potential color bugs {kib-pull}26292[#26292]
* Fixes auto refresh button on node detail page {kib-pull}26426[#26426]
* Changes the time range from the last hour to the last 5 minutes for the Waffle Map {kib-pull}26278[#26278]
* Passes flag in request to force BWC hit count {kib-pull}26517[#26517]
* Replaces redux source slice with constate container {kib-pull}26121[#26121]
* Changes node detail link to set time range to 1 hour {kib-pull}26977[#26977]
* Stops showing sidenav while loading. {kib-pull}27119[#27119]
* Fixes styling after breaking EUI changes {kib-pull}27021[#27021]
* Fixes graphql type generation after package upgrades {kib-pull}26991[#26991]
* Removes usage of `ts-optchain` in the browser {kib-pull}27148[#27148]
Kibana App::
* Fixes support for React 16.4+ by only resetting state if adaptors are updated {kib-pull}26138[#26138]
* Fixes scrolling list on Firefox {kib-pull}26246[#26246]
* Guards against empty and undefined index pattern arrays passed to QueryBar {kib-pull}24607[#24607]
* Removes unused indexPattern from vega/tsvb/timelion request handler {kib-pull}26007[#26007]
* Passes global filters from editor down to visualize  {kib-pull}26009[#26009]
* Stops using schemas in aggconfigs to output DSL {kib-pull}26010[#26010]
* Fixes `kbn-interpreter` package to not import from UI {kib-pull}26161[#26161]
* Fixes OSS dynamic plugin loading by reverting to Canvas way of loading plugins {kib-pull}26463[#26463]
* Fixes other bucket option to correctly apply without having to change other settings {kib-pull}26874[#26874]
* Adds `en` as a valid numeral locale setting {kib-pull}25948[#25948]
* Adds `rest_total_hits_as_int` into Kibana App {kib-pull}26404[#26404]
* Uses Canvas pipeline to fetch data inside Visualize {kib-pull}25996[#25996]
Management::
* Fixes index pattern wizard when there are remote clusters but no local indices  {kib-pull}24339[#24339]
* Uses new `_graph` endpoints {kib-pull}26956[#26956]
* Adjusts spacing of Management navigation items {kib-pull}25666[#25666]
* Updates "Disenroll" text to be consistent with menu option "Unenroll" {kib-pull}26816[#26816]
* Fixes broken breadcrumb link for index management {kib-pull}27164[#27164]
* Fixes issue with multiple execution in Console {kib-pull}26933[#26933]
* Reloads full index list when reload hits missing index {kib-pull}27197[#27197]
Machine Learning::
* Allows user to add/edit/delete annotations in the Single Series Viewer {kib-pull}26034[#26034]
* Does not pass datafeed query to Discover in custom URL {kib-pull}26957[#26957]
* Fixes word break in Anomalies and Jobs tables {kib-pull}26978[#26978]
* Fixes alignment of filter icons in the Anomalies table {kib-pull}26253[#26253]
Monitoring::
* Fixes error handling for local stats collection/permissions {kib-pull}26560[#26560]
* Removes initial delay to check and send Telemetry data {kib-pull}26575[#26575]
* Pulls local Kibana usage stats {kib-pull}26496[#26496]
* Converts the Elasticsearch monitoring UIs to using EUI tables and page layout {kib-pull}26217[#26217]
Platform & Operations::
* Decreases start limit and interval {kib-pull}25474[#25474]
* Adds `--download` flag to snapshot command to warm the cache {kib-pull}25830[#25830]
* Implements `--prefer-offline` flag {kib-pull}25840[#25840]
* Fixes watcher routes broken by Hapi upgrade {kib-pull}26713[#26713]
* Fixes non-conforming licenses on devDependencies and adds the ability to whitelist devOnly licenses {kib-pull}23859[#23859]
* Watches optimizer cache invalidation  {kib-pull}24172[#24172]
* Adds `normalizePath` in order to fix watch optimizer when running on Windows {kib-pull}26486[#26486]
* Creates vendor dll for the client modules {kib-pull}22618[#22618]
* Upgrades to NodeJS 10 {kib-pull}25157[#25157]
* Improves plugin version mismatch error message {kib-pull}25774[#25774]
* Improves build/packaging {kib-pull}26096[#26096]
* Swaps `jstimezonedetect` with `moment.tz.guess` {kib-pull}21800[#21800]
* Upgrades resize-observer-polyfill version {kib-pull}26990[#26990]
* Fixes saved objects client `_processBatchQueue` function to handle errors {kib-pull}26763[#26763]
* Changes kbn pm webpack config to generate dist files in mode=none {kib-pull}26847[#26847]
* Hides logs from deleteAll on task: clean client modules into dll {kib-pull}26884[#26884]
* Upgrades `resize-observer-polyfill` version {kib-pull}26990[#26990]
* Uses `single-node` discovery type for the test ES node/cluster {kib-pull}27125[#27125]
* Moves moment to peerDependency in elastic-datemath {kib-pull}27264[#27264]
Reporting::
* Deletes `sortOrder` once items have been sorted and does not pass to `EuiContextMenuItem`
in the share context menu {kib-pull}26890[#26890]
* Fixes a regression bug in detection of Error and Warning toast notifications {kib-pull}25482[#25482]
* Stops passing an empty `formatConfig` to the fieldFormats helper {kib-pull}27168[#27168]
Rollups::
* Shows loading state in Rollup Job detail panel. {kib-pull}25752[#25752]
* Specifies Rollup Jobs breadcrumbs in header. {kib-pull}26590[#26590]
* Requires histogram interval in Rollup Job wizard to be a whole number. {kib-pull}26596[#26596]
Security::
* Moves the server-side `SavedObjectClient` types from the `spaces` plugin to the
same location as the corresponding JavaScript source files {kib-pull}26448[#26448]
* Respects the `basePath` for the link to the user profile in the k7 header {kib-pull}26417[#26417]
* Fixes `prettier` throw rule error  {kib-pull}26071[#26071]
* Fixes authentication logic to fail out of auth flow on first provider failure {kib-pull}26648[#26648]
* Fixes issues with the `url.search` being null in Node 10 {kib-pull}26992[#26992]
* Fixes DLS query toggle on the role management page {kib-pull}27213[#27213]
Visualizations::
* Fixes filter function on pie chart segment {kib-pull}26321[#26321]
* Rewrites URL when closing vis type selection modal {kib-pull}26327[#26327]
* Changes unbind calls from `.on` to `.off` {kib-pull}24575[#24575]
* Fixes date field in controls visualization by generating labels with the field
formatter {kib-pull}25654[#25654]
* Replaces LESS files with Sass in `ui/public/vis`, `visLib`, and `visualize` {kib-pull}25333[#25333]
* Replaces LESS files with Sass for the visualization types in `core_plugin/metrics` {kib-pull}24250[#24250]
* Moves `timeout` to `_msearch` body to fix time series visual builder requests {kib-pull}26510[#26510]
* Adds description for all visualization types {kib-pull}26243[#26243]






[[release-notes-7.0.0-alpha1]]
== {kib} 7.0.0-alpha1

[float]
[[breaking-7.0.0-alpha1]]
=== Breaking changes

For more details about breaking changes in this release, see
<<breaking-changes-7.0, Breaking changes in 7.0>>.

Discover::
* Does not apply `query:queryString:options` to `query_string` filters {kib-pull}15640[#15640]
* Removes `default_field` from `query:queryString:options` {kib-pull}18966[#18966]

Monitoring::
* Removes `node_resolver` setting {kib-pull}21181[#21181]

Operations::
* Removes tribe node support {kib-pull}16397[#16397]
* Creates separate startup scripts for development and production {kib-pull}13806[#13806]
* Sets default port based on protocol  {kib-pull}21564[#21564]
* Removes deprecated `/shorten` API {kib-pull}21861[#21861]
* Plugin installer defers optimization step until server start {kib-pull}26983[#26983]

[float]
[[deprecation-7.0.0-alpha1]]
=== Deprecations

Geo::
* Fixes legacy tilemap loading {kib-pull}22095[#22095]

[float]
[[K7-design-7.0.0-alpha1]]
=== K7 UI Design

{kib} 7.0.0-alpha1 includes a new design for {kib} called K7. In this early stage,
K7 is still a little rough around the edges. If you'd like to switch back to the
existing K6 design, go to *Management > Advanced Settings* and turn
off the *k7design* setting. The option to switch to the old design
will be removed before 7.0.0 GA.

[float]
[[enhancement-7.0.0-alpha1]]
=== Enhancements

Machine Learning::
* Updates job type and APM module icon to new designs {kib-pull}25380[#25380]
* Allows model plot enablement via checkbox in  MultiMetric/Population Job creation {kib-pull}24914[#24914]
* Adds support for the rare detector for charts in Anomaly Explorer and Singe Metric viewer {kib-pull}21524[#21524]

Reporting::
* Adds png output to reports {kib-pull}24759[#24759]
* Sorts ascending on sort order first then ascending on name. Any menu item
without a sort order gets set to zero. {kib-pull}25058[#25058]

Visualizations::
* Adds a console.error for visualize errors {kib-pull}24581[#24581]

[float]
[[bug-7.0.0-alpha1]]
=== Bug fixes

APM::
* Overrides EUI chart default styles for gridlines {kib-pull}21723[#21723]
* Adds section titles to span detail modal {kib-pull}20717[#20717]

Canvas::
* Fixes duplicate `Value` options in math select value {kib-pull}25556[#25556]
* Gets correct plugins path {kib-pull}25448[#25448]
* Quotes the index pattern in SQL input {kib-pull}25488[#25488]
* Decreases the size of tray toggle {kib-pull}25470[#25470]
* Improves the plugin pre-build {kib-pull}25267[#25267]

Dashboard::
* Removes `dashboardContext` function and makes Timelion, Vega, and Time Series
Visual Builder use `buildEsQuery` {kib-pull}23227[#23227]

Design::
* Converts Security UI from LESS to Sass {kib-pull}25079[#25079]
* Adds boilerplate Sass for Kibana core {kib-pull}21185[#21185]

Discover::
* Adds debug code to flaky field_data test {kib-pull}15535[#15535]
* Gets even more debug info for flaky field_data test {kib-pull}17627[#17627]

Geo::
* Fixes feature/align map config settings {kib-pull}19450[#19450]

Kibana App::

* Adds warning to the `documentation_links` file about link validation gotcha {kib-pull}24786[#24786]
* Adds workaround for `getDerivedStateFromProps` change in react 16.4 {kib-pull}25142[#25142]

Kibana Home &amp; Add Data::
* Fixes "Set up index patterns" link on home page {kib-pull}16128[#16128]

Machine Learning::
* Shows useful error on invalid query in JobList search bar {kib-pull}25153[#25153]
* Adds user privilege check to Jobs List group selector control {kib-pull}25225[#25225]
* Fixes file data viz file size check and formats as bytes {kib-pull}25295[#25295]
* Fixes the layout of the cards in the Data Visualizer on IE {kib-pull}25383[#25383]
* Adds better error reporting for reading and importing data {kib-pull}24269[#24269]
* Displays an ordinal y axis for low cardinality rare charts {kib-pull}24852[#24852]
* Fixes typo in job validation message {kib-pull}25130[#25130]
* Removes deprecated `angularjs` based jobs list and related code {kib-pull}25216[#25216]

Management::
* Adds boilerplate for remote clusters management app {kib-pull}25369[#25369]
* Adds `ignore_failure` to ingest common auto complete in console {kib-pull}24915[#24915]
* Removes support for expression-based scripted fields {kib-pull}14310[#14310]
* Adds WatchErrors to capture invalid watches {kib-pull}23887[#23887]
* Rewords the translation id for error with missing property in Watcher {kib-pull}24753[#24753]

Monitoring::
* Renames Monitoring `FormattedMessage` to `FormattedAlert` {kib-pull}24197[#24197]
* Uses the cluster name from metadata if it exists {kib-pull}24495[#24495]

Operations::
* Removes node fallback from kibana-keystore {kib-pull}15066[#15066]
* Adds debug script to set inspect flags {kib-pull}15967[#15967]
* Uses snake case for scripts/kibana-keystore.js and scripts/kibana-plugin.js {kib-pull}15331[#15331]
* Updates license info in package.json {kib-pull}20353[#20353]
* Fixes error log formatting {kib-pull}24788[#24788]
* Matches chalk dependency version on Kibana with the one used on X-Pack {kib-pull}20621[#20621]
* Fixes non-conforming licenses on devDependencies and adds the ability to whitelist devOnly licenses {kib-pull}23859[#23859]
* Adds jsxa11y into eslint rules {kib-pull}23932[#23932]
* Reverts Bump react-grid-layout to 0.16.0 {kib-pull}14912[#14912]
* Reverts breaking change for Status API {kib-pull}21927[#21927]
* Converts `utils/collection` to TypeScript {kib-pull}23992[#23992]
* Removes usage of update_all_types {kib-pull}16406[#16406]
* Improves the `yarn kbn bootstrap` speed by using yarn workspaces for packages inside `packages/*` and `x-pack` {kib-pull}24095[#24095]
* Runs jenkins:unit task with dev flag in order to run license check {kib-pull}19832[#19832]
* Does not break on startup in debug mode {kib-pull}19219[#19219]


Platform::
* Transforms plugin deprecations before checking for unused settings {kib-pull}21294[#21294]
* Expands list of restricted globals in `eslint-config-kibana` {kib-pull}15798[#15798]
* Makes logs easier to read on Windows with chalk colors {kib-pull}15557[#15557]

Querying &amp; Filtering::
* Fixes wildcard queries against the default field {kib-pull}24778[#24778]

Reporting::
* Returns promise in Reporting jobs API {kib-pull}24769[#24769]

Security::
* Implements the K7 login screen {kib-pull}23512[#23512]

Sharing::

* Fixes issue with debounce function running after component was unmounted {kib-pull}15045[#15045]

Visualizations::
* Defaults the scroll wheel zoom to false on Vega maps {kib-pull}21169[#21169]
* Fixes problem within the input_vis_control plugin that prevents it from updating correctly
if the field is switched, and then switched back to the previous field {kib-pull}25164[#25164]
* Uses `vega-nocanvas` instead of vega lib {kib-pull}16137[#16137]
* Migrates visualization from Angular to React {kib-pull}16425[#16425]
* Fixes maps for reporting (#15272) {kib-pull}15358[#15358]
* Stops creation of nested search source per postflightrequest {kib-pull}20373[#20373]
* Moves inspector code from Vis to embeddable visualize handler {kib-pull}24112[#24112]
* Removes inspector from Vis {kib-pull}24112[#24112]
