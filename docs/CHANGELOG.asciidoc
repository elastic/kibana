[[release-notes]]
= Release notes

[partintro]
--
// Use these for links to issue and pulls. Note issues and pulls redirect one to
// each other on Github, so don't worry too much on using the right prefix.
:issue: https://github.com/elastic/kibana/issues/
:pull: https://github.com/elastic/kibana/pull/

Review important information about the {kib} 8.x releases.

* <<release-notes-8.17.0>>
* <<release-notes-8.16.1>>
* <<release-notes-8.16.0>>
* <<release-notes-8.15.5>>
* <<release-notes-8.15.4>>
* <<release-notes-8.15.3>>
* <<release-notes-8.15.2>>
* <<release-notes-8.15.1>>
* <<release-notes-8.15.0>>
* <<release-notes-8.14.3>>
* <<release-notes-8.14.2>>
* <<release-notes-8.14.1>>
* <<release-notes-8.14.0>>
* <<release-notes-8.13.4>>
* <<release-notes-8.13.3>>
* <<release-notes-8.13.2>>
* <<release-notes-8.13.1>>
* <<release-notes-8.13.0>>
* <<release-notes-8.12.2>>
* <<release-notes-8.12.1>>
* <<release-notes-8.12.0>>
* <<release-notes-8.11.4>>
* <<release-notes-8.11.3>>
* <<release-notes-8.11.2>>
* <<release-notes-8.11.1>>
* <<release-notes-8.11.0>>
* <<release-notes-8.10.4>>
* <<release-notes-8.10.3>>
* <<release-notes-8.10.2>>
* <<release-notes-8.10.1>>
* <<release-notes-8.10.0>>
* <<release-notes-8.9.2>>
* <<release-notes-8.9.1>>
* <<release-notes-8.9.0>>
* <<release-notes-8.8.2>>
* <<release-notes-8.8.1>>
* <<release-notes-8.8.0>>
* <<release-notes-8.7.1>>
* <<release-notes-8.7.0>>
* <<release-notes-8.6.1>>
* <<release-notes-8.6.0>>
* <<release-notes-8.5.2>>
* <<release-notes-8.5.1>>
* <<release-notes-8.5.0>>
* <<release-notes-8.4.3>>
* <<release-notes-8.4.2>>
* <<release-notes-8.4.1>>
* <<release-notes-8.4.0>>
* <<release-notes-8.3.3>>
* <<release-notes-8.3.2>>
* <<release-notes-8.3.1>>
* <<release-notes-8.3.0>>
* <<release-notes-8.2.3>>
* <<release-notes-8.2.2>>
* <<release-notes-8.2.1>>
* <<release-notes-8.2.0>>
* <<release-notes-8.1.3>>
* <<release-notes-8.1.2>>
* <<release-notes-8.1.1>>
* <<release-notes-8.1.0>>
* <<release-notes-8.0.0>>
* <<release-notes-8.0.0-rc2>>
* <<release-notes-8.0.0-rc1>>
* <<release-notes-8.0.0-beta1>>
* <<release-notes-8.0.0-alpha2>>
* <<release-notes-8.0.0-alpha1>>

--


include::upgrade-notes.asciidoc[]


[[release-notes-8.17.0]]
== {kib} 8.17.0

coming::[8.17.0]

For information about the {kib} 8.17.0 release, review the following information.

[float]
[[deprecations-8.17.0]]
=== Deprecations

The following functionality is deprecated in 8.17.0, and will be removed in 9.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 8.17.0.

      
[discrete]
[[deprecation-197227]]
.Removes `metrics:allowCheckingForFailedShards` advanced setting.
[%collapsible]
====
*Details* +
The `metrics:allowCheckingForFailedShards` advanced setting has been removed. With this change, it is no longer possible to suppress warnings about failed shards in TSVB. For more information, refer to ({kibana-pull}197227[#197227]).
====
      
[float]
[[features-8.17.0]]
=== Features
{kib} 8.17.0 adds the following new and notable features.

Cases::
* Files can now be attached to cases directly via API ({kibana-pull}198377[#198377]).
Data ingestion and Fleet::
* Exposes advanced file logging configuration in the UI ({kibana-pull}200274[#200274]).
Dashboards and visualizations::
* AIOps: Adds Log Rate Analysis embeddable for dashboards ({kibana-pull}197943[#197943]).
Discover and ES|QL::
* Keeps the preferred chart configuration when possible when writing ES|QL queries in Discover ({kibana-pull}197453[#197453]).
ES|QL::
* Adds the ability to star queries in the ES|QL editor ({kibana-pull}198362[#198362]).
Elastic Observability solution::
* Adds ability to show monitors from all permitted spaces in a single view in Synthetics ({kibana-pull}196109[#196109]).
* Adds fix it flow for field limit ({kibana-pull}195561[#195561]).
* Adds permissions to reopen and add comments to cases ({kibana-pull}194898[#194898]).
* Adds built-in definitions for core Kubernetes entities ({kibana-pull}196916[#196916]).
Elastic Security solution::
For the Elastic Security 8.17.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Kibana security::
* Kibana's FIPS mode is no longer considered experimental ({kibana-pull}200734[#200734]).
* When running in FIPS mode, Kibana now forbids usage of PKCS12 configuration options ({kibana-pull}192627[#192627]).

For more information about the features introduced in 8.17.0, refer to <<whats-new,What's new in 8.17>>.

[[enhancements-and-bug-fixes-v8.17.0]]
=== Enhancements and bug fixes

For detailed information about the 8.17.0 release, review the enhancements and bug fixes.   

[float]
[[enhancement-v8.17.0]]
=== Enhancements
Alerting::
* Allows users to create rules with predefined nonrandom IDs ({kibana-pull}199119[#199119]).
Cases::
* Refactors Jira Connector to use latest API only ({kibana-pull}197787[#197787]).
* The Case action is now GA ({kibana-pull}196972[#196972]).
Dashboards & Visualizations::
* Allows creating a dashboard with ES|QL chart even when there are no data views ({kibana-pull}196658[#196658]).
* Newly and default configured line charts are now interpolated by default with a straight linear interpolation in *Lens* ({kibana-pull}196184[#196184]).
* Simplifies access to some actions when hovering over panels ({kibana-pull}182535[#182535]).
* Improves URL drilldown authoring experience ({kibana-pull}197454[#197454]).
Data ingestion and Fleet::
* Filters integrations/packages list shown depending on the `policy_templates_behavior` field ({kibana-pull}200605[#200605]).
* Adds a `<type>@custom` component template to integrations index template's `composed_of` array ({kibana-pull}192731[#192731]).
Discover::
* Enables drag & drop for reordering columns in Discover ({kibana-pull}197832[#197832]).
ES|QL::
* Prevents suggestions with unsupported fields when writing ES|QL queries ({kibana-pull}200544[#200544]).
* Adds autocomplete and validation to support MATCH and QSRT when writing ES|QL queries ({kibana-pull}199032[#199032]).
Elastic Observability solution::
* Supports querying `semantic_text` fields in search connectors ({kibana-pull}200184[#200184]).
* Adds retry statements as an attempt to resolve flaky tests ({kibana-pull}200022[#200022]).
* Changes `host.hostname` to `host.name` in java metrics query ({kibana-pull}199208[#199208]).
* Improves analyzer by filtering unsuitable tokens ({kibana-pull}197868[#197868]).
* Uses `semantic_text` for internal knowledge base ({kibana-pull}186499[#186499]).
Elastic Security solution::
For the Elastic Security 8.17.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Kibana security::
* Introduces explicit configuration for routes that require superuser access and moves the `api/encrypted_saved_objects/_rotate_key` endpoint to the new configuration. ({kibana-pull}196586[#196586]).
* Enforces standard on API Actions definitions by separating operations and subjects ({kibana-pull}193140[#193140]).
Machine Learning::
* AIOps: Adds action for adding Log Rate analysis embeddable to a dashboard ({kibana-pull}200557[#200557]).
* AIOps: Adds action for adding Log Pattern embeddable to a dashboard and case ({kibana-pull}199478[#199478]).
* Single Metric Viewer embeddable: Adds action for dashboard to apply filter from the embeddable to the page ({kibana-pull}198869[#198869]).
* File upload: Adds deployment initialization step ({kibana-pull}198446[#198446]).
* Data visualizer: Changes refresh button in Data View and Data Drift view to indicate an update is pending ({kibana-pull}196537[#196537]).
* Anomaly Detection: Adds never expire option to forecast creation modal ({kibana-pull}195151[#195151]).
Kibana platform::
* When attempting to save an object with a name that already exists, the name is automatically appended with a suffix to make it unique ({kibana-pull}198777[#198777]).

[float]
[[fixes-v8.17.0]]
=== Bug fixes
Dashboards & Visualizations::
* Prevents identical include and exclude values in *Lens* ({kibana-pull}197628[#197628]).
* Fixes React Warning when rendering a recoverable error in *Lens* ({kibana-pull}196285[#196285]).
* Fixes an issue allowing to save a dashboard while there were no pending changes. The button is now disabled if there are no changes to save ({kibana-pull}196137[#196137]).
* Fixes an issue in Lens where the table exported did not match what was visible in the UI. ({kibana-pull}193780[#193780]).
Data ingestion and Fleet::
* Allows to create integration policy with no agent policies ({kibana-pull}201051[#201051]).
Discover::
* Addresses chart performance issues for non-transformational and non-time-based ES|QL queries ({kibana-pull}200583[#200583]).
ES|QL::
* Fixes an issue causing the the ES|QL editor to incorrectly use the light theme in some cases ({kibana-pull}200233[#200233]).
Elastic Observability solution::
* Fixes incorrect Y-axis and hover values in log rate chart on service overview ({kibana-pull}201361[#201361]).
* Observability AI Assistant: Fetch user instructions using the user ID instead of the username ({kibana-pull}200137[#200137]).
* Observability AI Assistant: Adds instructions about the slack connector to avoid executing a loop ({kibana-pull}199531[#199531]).
* Observability AI Assistant: Updates the term "chat" to "conversation" across the UI ({kibana-pull}199216[#199216]).
* Observability AI Assistant: Removes the "Copy" button if there is no content to copy ({kibana-pull}199064[#199064]).
* Observability AI Assistant: Adds uuid to knowledge base entries to avoid accidental overrides ({kibana-pull}191043[#191043]).
* Observability AI Assistant: Fixes error when opening an old conversation ({kibana-pull}197745[#197745]).
* Observability AI Assistant: Allows the input box to be resized off-screen ({kibana-pull}197063[#197063]).
* SLOs: Handle custom DSL query filters ({kibana-pull}198073[#198073]).
* Enables sub-feature permissions to edit Labs settings ({kibana-pull}197092[#197092]).
* Uses `telemetry.sdk` as a fallback for missing `agent.name` on non-tracing data ({kibana-pull}196529[#196529]).
* Adds support for simultaneous edits for private locations in Synthetics({kibana-pull}195874[#195874]).
Elastic Security solution::
For the Elastic Security 8.17.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Machine Learning::
* Adds query guardrails and technical preview badge to the ES|QL data visualizer ({kibana-pull}200325[#200325]).
* AIOps: fixes time range filter in change point charts ({kibana-pull}200183[#200183]).
* Anomaly detection: Adds spacer below split card charts in job wizard ({kibana-pull}199708[#199708]).
* Adds missing aria labels to button icons ({kibana-pull}199447[#199447]).
Kibana platform::
* Fixes an issue with the global search field that could open the wrong page when pressing "Enter" while results were not yet fully loaded ({kibana-pull}197750[#197750]).


[[release-notes-8.16.1]]
== {kib} 8.16.1

The 8.16.1 release includes the following bug fixes.

[float]
[[fixes-v8.16.1]]
=== Bug fixes
Dashboards & Visualizations::
* Fixes an issue preventing a custom panel title from being saved correctly ({kibana-pull}200548[#200548]).
Elastic Observability solution::
* Changes the order of the errors shown on Infrastructure applications to be more relevant ({kibana-pull}200531[#200531]).
* Fixes the summary calculation for a calendar-aligned and occurrences-based SLO ({kibana-pull}199873[#199873]).
* Fixes the `kustomize` command ({kibana-pull}199758[#199758]).
Elastic Security solution::
For the Elastic Security 8.16.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Platform::
* Fixes an issue with duplicate references to objects when copying saved objects to other spaces ({kibana-pull}200053[#200053]).
* Fixes button colors in the "Share data view to spaces" flyout ({kibana-pull}196004[#196004]).


[[release-notes-8.16.0]]
== {kib} 8.16.0

For information about the {kib} 8.16.0 release, review the following information.

The 8.16.0 release includes the following known issues.

[float]
[[known-issues-8.16.0]]
=== Known issues

[discrete]
[[known-199902]]
.Stack Monitoring shows "Unable to load page" error
[%collapsible]
====
*Details* +
The Overview, Nodes, and Logs pages in Stack Monitoring show an "Unable to load page" error. The Stack trace mentions `TypeError: Cannot read properties of undefined (reading 'logsLocator')`.

*Workaround* +
Disabling the `Set feature visibility > Logs` feature at the Kibana Space settings level will prevent the error from occurring. Please note the `Logs` feature will not be available on those spaces.

It's also possible to set the `Observability > Logs` feature privilege to `None` at the role level. This will hide the `Logs` feature from individual users and prevent the error for these users as well.

For more information, refer to {kibana-issue}199902[#199902].
====

[discrete]
[[known-199891-199892]]
.Onboarding, tutorial of APM and OpenTelemetry and some "Beats Only" integrations shows "Unable to load page" error
[%collapsible]
====
*Details* +
Tutorials linked from the {kib} home page show an "Unable to load page" error. The Stack trace mentions `The above error occurred in tutorial_TutorialUi`.

*Workaround* +
The APM / OpenTelemetry tutorials represented a shortcut to quickly add important parameters to the configuration files.
It is still possible to obtain the same parameters following the tutorials in the APM documentation.

More information can be found in the {observability-guide}/apm-collect-application-data.html[APM documentation] and the {observability-guide}/get-started-with-fleet-apm-server.html[Fleet documentation].

For information about how to create APM API keys, please check the {observability-guide}/apm-api-key.html#apm-create-an-api-key[API key documentation].

For more information, refer to {kibana-issue}199891[#199891] and {kibana-issue}199892[#199892].
====

[float]
[[breaking-changes-8.16.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.16.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Updated request processing during shutdown.
[%collapsible]
====
*Details* +
During shutdown, {kib} now waits for all the ongoing requests to complete according to the `server.shutdownTimeout` setting. During that period, the incoming socket is closed and any new incoming requests are rejected. Before this update, new incoming requests received a response with the status code 503 and body `{"message": "Kibana is shutting down and not accepting new incoming requests"}`. For more information, refer to {kibana-pull}180986[#180986].
==== 

[float]
[[deprecations-8.16.0]]
=== Deprecations

The following functionality is deprecated in 8.16.0, and will be removed in 9.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 8.16.0.

[discrete]
.New versions of Kibana for macOS x86_64 will end after 8.17.
[%collapsible]
====
*Details* +
New versions of Kibana builds for macOS x86_64 are deprecated and will no longer be released after 8.17.  Kibana for macOS AArch64 is unaffected. 

Use Docker to run new versions of Kibana on macOS 86x_64.
====

[discrete]
.The Logs Stream is now hidden by default in favor of the Logs Explorer app.
[%collapsible]
====
*Details* +
You can find the Logs Explorer app in the navigation menu under Logs > Explorer, or as a separate tab in Discover. For more information, refer to ({kibana-pull}194519[#194519]).

*Impact* +
You can still show the Logs Stream app again by navigating to Stack Management > Advanced Settings and by enabling the `observability:enableLogsStream` setting.
====
      
[discrete]
.Deprecates the Observability AI Assistant specific advanced setting `observability:aiAssistantLogsIndexPattern`.
[%collapsible]
====
*Details* +
The Observability AI Assistant specific advanced setting for Logs index patterns `observability:aiAssistantLogsIndexPattern` is deprecated and no longer used. The AI Assistant will now use the existing **Log sources** setting `observability:logSources` instead. For more information, refer to ({kibana-pull}192003[#192003]).

//*Impact* +
//!!TODO!!
====

  
[float]
[[features-8.16.0]]
=== Features
{kib} 8.16.0 adds the following new and notable features.

AGPL license::
* Adds AGPL 3.0 license ({kibana-pull}192025[#192025]).
Alerting::
* Adds TheHive connector ({kibana-pull}180138[#180138]).
* Adds flapping settings per rule ({kibana-pull}189341[#189341]).
* Efficiency improvements in the Kibana task manager and alerting frameworks ({kibana-issue}188194[#188194])
Cases::
* Support TheHive connector in cases ({kibana-pull}180931[#180931]).
Dashboards and visualizations::
* Adds the ability to star your favorite dashboards and quickly find them ({kibana-pull}189285[#189285]).
* Adds a chart showing usage statistics to the dashboard details ({kibana-pull}187993[#187993]).
* Adds metric styling options in *Lens* ({kibana-pull}186929[#186929]).
* Adds support for coloring table cells by terms with color mappings assignments. This is supported for both Rows and Metric dimensions ({kibana-pull}189895[#189895]).
Data ingestion and Fleet::
* Support content packages in UI ({kibana-pull}195831[#195831]).
* Advanced agent monitoring options UI for HTTP endpoint and diagnostics ({kibana-pull}193361[#193361]).
* Adds option to have Kafka dynamic topics in outputs ({kibana-pull}192720[#192720]).
* Adds support for GeoIP processor databases in Ingest Pipelines ({kibana-pull}190830[#190830]).
// !!TODO!! The above PR had a lengthy release note description:
// The Ingest Pipelines app now supports adding and managing databases for the GeoIP processor. Additionally, the pipeline creation flow now includes support for the IP Location processor.
* Adds agentless ux creation flow ({kibana-pull}189932[#189932]).
* Enable feature flag for reusable integration policies ({kibana-pull}187153[#187153]).
Discover::
* When writing ES|QL queries, you now get recommendations to help you get started ({kibana-pull}194418[#194418]).
* Enhances the inline documentation experience in ES|QL mode ({kibana-pull}192156[#192156]).
* Adds the ability to break down the histogram by field for ES|QL queries in Discover ({kibana-pull}193820[#193820]).
* Adds a summary column to the Documents table when exploring log data in Discover ({kibana-pull}192567[#192567]).
* Adds row indicators to the Documents table when exploring log data in Discover ({kibana-pull}190676[#190676]).
* Moves the button to switch between ES|QL and classic modes to the toolbar ({kibana-pull}188898[#188898]).
* Adds density settings to allow further customization of the Documents table layout ({kibana-pull}188495[#188495]).
* Enables the time picker for indices without the @timestamp field when editing ES|QL queries ({kibana-pull}184361[#184361]).
Elastic Observability solution::
* Adds experimental logs overview to the observability hosts and service overviews ({kibana-pull}195673[#195673]).
* Show alerts for entities ({kibana-pull}195250[#195250]).
* Create sub-feature role to manage APM settings write permissions ({kibana-pull}194419[#194419]).
* Adds related alerts tab to the alert details page ({kibana-pull}193263[#193263]).
* Adds labels field !! ({kibana-pull}193250[#193250]).
* Implement _ignored root cause identification flow ({kibana-pull}192370[#192370]).
* Enable page for synthetics ({kibana-pull}191846[#191846]).
* Settings add config to enable default rules ({kibana-pull}190800[#190800]).
* Added alerts page ({kibana-pull}190751[#190751]).
* Monitor list add bulk delete ({kibana-pull}190674[#190674]).
* Delete monitor API via id param !! ({kibana-pull}190210[#190210]).
* Enable metrics and traces in the Data Set Quality page ({kibana-pull}190043[#190043]).
* Adds alert grouping functionality to the observability alerts page ({kibana-pull}189958[#189958]).
* Adds a new SLO Burn Rate embeddable ({kibana-pull}189429[#189429]).
* The Slack Web API Alert Connector is now supported as a default connector for Synthetics and Uptime rules ({kibana-pull}188437[#188437]).
* Adds option to enable backfill transform ({kibana-pull}188379[#188379]).
* Save the ECS group by fields at the AAD root level ({kibana-pull}188241[#188241]).
* Adds last value aggregation ({kibana-pull}187082[#187082]).
* Improve synthetics alerting ({kibana-pull}186585[#186585]).
* Make overview grid embeddable ({kibana-pull}160597[#160597]).
Elastic Security solution::
For the Elastic Security 8.16.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Kibana security::
* Adds an API endpoint `POST security/roles` that can be used to bulk create or update roles ({kibana-pull}189173[#189173]).
* Automatic Import can now create integrations for logs in the CSV format ({kibana-pull}194386[#194386]).
* Adds an error handling framework to Automatic Import that provides error messages with more context to user ({kibana-pull}193577[#193577]).
* When running in FIPS mode, Kibana forbids usage of PKCS12 configuration options ({kibana-pull}192627[#192627]).
Machine Learning::
* Adds new section for creating daylight saving time calendar events ({kibana-pull}193605[#193605]).
* Anomaly Detection: Adds a page to list supplied job configurations ({kibana-pull}191564[#191564]).
* Redesigns start/update model deployment dialog to support adaptive resources ({kibana-pull}190243[#190243]).
* File upload: Adds support for PDF files ({kibana-pull}186956[#186956]).
* Adds Pattern analysis embeddable for dashboards ({kibana-pull}186539[#186539]).
Management::
* This release introduces a fresh, modern look for the console, now featuring the Monaco editor. We've added a file import and export functionality, and the console is fully responsive with stackable panels for a smoother experience. New buttons allow for quick clearing of editor values and output. Additionally, the history and config tabs were improved to enhance usability. ({kibana-pull}189748[#189748]).

For more information about the features introduced in 8.16.0, refer to <<whats-new,What's new in 8.16>>.

[[enhancements-and-bug-fixes-v8.16.0]]
=== Enhancements and bug fixes

For detailed information about the 8.16.0 release, review the enhancements and bug fixes.


[float]
[[enhancement-v8.16.0]]
=== Enhancements
Alerting::
* Allow users to select template while adding a case action in the rule ({kibana-pull}190701[#190701]).
* New full-page rule form in the Stack Management app ({kibana-pull}194655[#194655]).
Dashboards and visualizations::
* Adds compressed style for dashboard controls ({kibana-pull}190636[#190636]).
* Adds the ability to duplicate a managed dashboard from its `managed` badge ({kibana-pull}189404[#189404]).
* Adds the ability to expand the height of various sections in the Edit ES|QL visualization flyout ({kibana-pull}193453[#193453]).
* Improves the query authoring experience when editing an ES|QL visualization ({kibana-pull}186875[#186875]).
* Syncs the cursor for time series charts powered by ES|QL ({kibana-pull}192837[#192837]).
* Gauge and metric Lens visualizations are no longer experimental ({kibana-pull}192359[#192359]).
* Sets gauge default palette to "temperature" in *Lens* ({kibana-pull}191853[#191853]).
* Supports fuzzy search on field pickers and field lists in *Lens* ({kibana-pull}186894[#186894]).
Data ingestion and Fleet::
* Update max supported package version ({kibana-pull}196551[#196551]).
* Adds additional columns to Agent Logs UI ({kibana-pull}192262[#192262]).
* Show `+build` versions for Elastic Agent upgrades ({kibana-pull}192171[#192171]).
* Added format parameter to `agent_policies` APIs ({kibana-pull}191811[#191811]).
* Adds toggles for `agent.monitoring.http.enabled` and `agent.monitoring.http.buffer.enabled` to agent policy advanced settings ({kibana-pull}190984[#190984]).
* Support integration policies without agent policy references (aka orphaned integration policies) ({kibana-pull}190649[#190649]).
* Changed the UX of the Edit Integration Policy page to update agent policies ({kibana-pull}190583[#190583]).
* Allow `traces` to be added to the `monitoring_enabled` array in Agent policies ({kibana-pull}189908[#189908]).
* Create task that periodically unenrolls inactive agents ({kibana-pull}189861[#189861]).
* Adds setup technology selector to add integration page ({kibana-pull}189612[#189612]).
* Support integration-level outputs ({kibana-pull}189125[#189125]).
Discover::
* Renames the Documents tab to Results in ES|QL mode ({kibana-pull}197833[#197833]).
* Adds a cluster details tab for CCS data sources when inspecting requests in ES|QL mode ({kibana-pull}195373[#195373]).
* Adds the query time to the list of statistics when inspecting requests in ES|QL mode ({kibana-pull}194806[#194806]).
* Improves display of error messages in ES|QL mode ({kibana-pull}191320[#191320]).
* Adds a help menu to the ES|QL mode ({kibana-pull}190579[#190579]).
* Initializes the ES|QL editor with time named parameters when switching from the classic mode with a data view without @timestamp ({kibana-pull}189367[#189367]).
* Adds the ability to select multiple rows from the Documents table using "Shift + Select" ({kibana-pull}193619[#193619]).
* Adds the ability to filter on field names and values in the expanded document view ({kibana-pull}192299[#192299]).
* Adds filtering for selected fields ({kibana-pull}191930[#191930]).
* Adds a dedicated column to the document viewer flyout for pinning and unpinning rows ({kibana-pull}190344[#190344]).
* Improves absolute column width handling ({kibana-pull}190288[#190288]).
* Allows filtering by field type in the document viewer flyout ({kibana-pull}189981[#189981]).
* Improves the document viewer flyout to remember the last active tab ({kibana-pull}189806[#189806]).
* Adds ability to hide fields with null values from the document viewer ({kibana-pull}189601[#189601]).
* Adds the ability to copy selected rows as text ({kibana-pull}189512[#189512]).
* Adds a log level badge cell renderer to the Discover logs profile ({kibana-pull}188281[#188281]).
* Shows ECS field descriptions in Discover and adds markdown support for field descriptions ({kibana-pull}187160[#187160]).
* Adds support for the Log overview tab to the Discover log profile ({kibana-pull}186680[#186680]).
* Adds default app state extension and log integration data source profiles ({kibana-pull}186347[#186347]).
* Allows to select and deselect all rows in the grid at once ({kibana-pull}184241[#184241]).
* Limits the height of long field values by default ({kibana-pull}183736[#183736]).
ES|QL editor::
* Changes the auto-focus to be on the ES|QL editor when loading the page ({kibana-pull}193800[#193800]).
* Updates the autocomplete behavior for `SORT` to be in line with other field-list-based experiences like `KEEP` in ES|QL queries ({kibana-pull}193595[#193595]).
* Adds `all (*)` to the list of suggestions for `COUNT` functions in ES|QL queries ({kibana-pull}192205[#192205]).
* Improves ES|QL autocomplete suggestions for `case()` expressions ({kibana-pull}192135[#192135]).
* Opens suggestions automatically for sources lists and `ENRICH` functions when writing ES|QL queries ({kibana-pull}191312[#191312]).
* Improves wrapping and readability for ES|QL queries ({kibana-pull}191269[#191269]).
* Improves suggestions based on previous function arguments and date suggestions for `bucket` functions in ES|QL queries ({kibana-pull}190828[#190828]).
* Show the `LIMIT` information in the ES|QL editor's footer ({kibana-pull}190498[#190498]).
* Opens suggestions automatically for field lists in ES|QL queries ({kibana-pull}190466[#190466]).
* Integrates a time picker for date fields into the ES|QL editor ({kibana-pull}187047[#187047]).
* Improves ES|QL support for Elasticsearch sub-types in AST for both validation and autocomplete  ({kibana-pull}189689[#189689]).
* Adds ECS information to the ES|QL editor suggestions and prioritizes fields based on ECS information on the editor ({kibana-pull}187922[#187922]).
* Improves `BY` suggestions in ES|QL queries to include pipe and comma operators ({kibana-pull}189458[#189458]).
* Makes the suggestion menu open automatically in more places in ES|QL queries ({kibana-pull}189585[#189585]).
* Adds hints upon hover for function argument types and time system types ({kibana-pull}191881[#191881]).
Elastic Observability solution::
* Enable Kubernetes Otel flow ({kibana-pull}196531[#196531]).
* Pass function responses when copying conversation ({kibana-pull}195635[#195635]).
* Turn 'fast filter' on by default and ensure tech preview badge shows when turned on ({kibana-pull}193710[#193710]).
* Custom Service Name Cell ({kibana-pull}192381[#192381]).
* Remove manage_transform and manage_ingest_pipeline privilege requirements ({kibana-pull}190572[#190572]).
* Create new formula for CPU Usage metric ({kibana-pull}189261[#189261]).
* Adds customizable header for quickstart flows ({kibana-pull}188340[#188340]).
* Change Kubernetes guide to link to observability onboarding ({kibana-pull}188322[#188322]).
* Adds KB user instructions ({kibana-pull}187607[#187607]).
* Refactor Synthetics Overview page for increased scalability ({kibana-pull}187092[#187092]).
* Improve synthetics alerting ({kibana-pull}186585[#186585]).
* Annotations Initial phase ({kibana-pull}184325[#184325]).
Elastic Search solution::
* Adds Alibaba AI Search to Deletion, search and filtering of inference endpoints ({kibana-pull}190783[#190783]).
Elastic Security solution::
For the Elastic Security 8.16.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Kibana security::
* Enhances Open API spec generation to include Route Security Authorization if available ({kibana-pull}197001[#197001]).
* Automatic Import now analyzes larger number of samples to generate an integration ({kibana-pull}196233[#196233]).
* Extended `KibanaRouteOptions` to include security configuration at the route definition level ({kibana-pull}191973[#191973]).
* Adds several UX improvements to the management of Spaces in **Stack Management > Spaces**, including the ability to assign Roles to an existing Space. ({kibana-pull}191795[#191795]).
* Displays an "invalid file" error when selecting unsupported file types for the user profile image ({kibana-pull}190077[#190077]).
* Displays a warning to users whenever role mappings with empty `any` or `all` rules are created or updated ({kibana-pull}189340[#189340]).
* Adds support for CHIPS cookies ({kibana-pull}188519[#188519]).
* Adds support for Permissions Policy reporting ({kibana-pull}186892[#186892]).
Machine Learning::
* File upload: enables check for model allocations ({kibana-pull}197395[#197395]).
* Data visualizer: Adds icons for semantic text, sparse vector, and dense vector ({kibana-pull}196069[#196069]).
* Updates vCPUs ranges for start model deployment ({kibana-pull}195617[#195617]).
* Adds ML tasks to the Kibana audit log ({kibana-pull}195120[#195120]).
* Anomaly Detection: adds ability to delete forecasts from job ({kibana-pull}194896[#194896]).
* Updates for Trained Models table layout and model states ({kibana-pull}194614[#194614]).
* Log rate analysis: ensures ability to sort on Log rate change ({kibana-pull}193501[#193501]).
* Single Metric Viewer: Enables cross-filtering for 'by', 'over', and 'partition' field values ({kibana-pull}193255[#193255]).
* Adds link to anomaly detection configurations from Integration > Assets tab ({kibana-pull}193105[#193105]).
* Anomaly Explorer: Displays markers for scheduled events in distribution-type anomaly charts ({kibana-pull}192377[#192377]).
* Serverless Security: Adds ES|QL visualizer menu item to the nav ({kibana-pull}192314[#192314]).
* Updates icons for Machine Learning embeddable dashboard panel types ({kibana-pull}191718[#191718]).
* AIOps: Uses no minimum time range by default for pattern analysis ({kibana-pull}191192[#191192]).
* Links to ML assets from Integration > Assets tab ({kibana-pull}189767[#189767]).
* Utilizes the `DataViewLazy` in ML plugin ({kibana-pull}189188[#189188]).
* AIOps: Chunks groups of field candidates into single queries for top items and histograms ({kibana-pull}189155[#189155]).
* AIOps: Updates fields filter popover to be able to filter fields from analysis (not just grouping) ({kibana-pull}188913[#188913]).
* Single Metric Viewer embeddable: adds forecasting ({kibana-pull}188791[#188791]).
* Adds new custom rule action to force time shift ({kibana-pull}188710[#188710]).
* AIOps: Chunks groups of field candidates into single queries ({kibana-pull}188137[#188137]).
* AIOps: Adds log rate analysis to alert details page contextual insight ({kibana-pull}187690[#187690]).
* Adds ability to toggle visibility for empty fields when choosing an aggregation or field in Anomaly detection, data frame analytics ({kibana-pull}186670[#186670]).
* Anomaly Detection: Adds popover links menu to anomaly explorer charts ({kibana-pull}186587[#186587]).
Management::
* Adds an option to show or hide empty fields in dropdown lists in Transform ({kibana-pull}195485[#195485]).
* Adds a confirmation dialog when deleting a transform from a warning banner ({kibana-pull}192080[#192080]).
* Improves the autocomplete to suggest fields for the `dense_vector` type in Console ({kibana-pull}190769[#190769]).
* Adds the ability to view an ILM policy details in read-only mode ({kibana-pull}186955[#186955]).

[float]
[[fixes-v8.16.0]]
=== Bug fixes
Alerting::
* Show up to 1k maintenance windows in the UI ({kibana-pull}198504[#198504])
* Skip scheduling actions for the alerts without scheduledActions ({kibana-pull}195948[#195948]).
* Fixes Stack Alerts feature API access control ({kibana-pull}193948[#193948]).
* Remove unintended internal find routes API with public access ({kibana-pull}193757[#193757]).
* Convert timestamp before passing to validation ({kibana-pull}192379[#192379]).
* Grouped over field is not populated correctly when editing a rule ({kibana-pull}192297[#192297]).
* Mark slack rate-limiting errors as user errors ({kibana-pull}192200[#192200]).
* Fixes maintenance window filtering with wildcards ({kibana-pull}194777[#194777]).
* Fixes search filters in rules, alerts, and maintenance windows ({kibana-pull}193623[#193623]).
Cases::
* Use absolute time ranges when adding visualizations to a case ({kibana-pull}189168[#189168]).
* Fixes custom fields with long text that could not be edited in the UI ({kibana-pull}190490[#190490]).
Dashboards and visualizations::
* Correctly show full screen mode when opening a dashboard or panel from a URL that contains the fullScreenMode parameter ({kibana-pull}196275[#196275]) and ({kibana-pull}190086[#190086]).
* Fixes an issue that could cause a the dashboard list to stay in loading state ({kibana-pull}195277[#195277]).
* Correctly use the same field icons as Discover ({kibana-pull}194095[#194095]).
* Fixes an issue where panels could disappear from a dashboard when canceling edit after saving the dashboard ({kibana-pull}193914[#193914]).
* Adds scroll margin to panels ({kibana-pull}193430[#193430]).
* Fixes an issue with the breadcrumb update icon not working when clicked ({kibana-pull}192240[#192240]).
* Fixes an issue where unsaved changes could remain after saving a dashboard ({kibana-pull}190165[#190165]).
* Fixes an issue causing the flyout to close when canceling the Save to library action ({kibana-pull}188995[#188995]).
* Fixes incomplete string escaping and encoding in *TSVB* ({kibana-pull}196248[#196248]).
* Fixes an issue where label truncation in heat map legends was not working properly in *Lens* ({kibana-pull}195928[#195928]).
* Fixes an issue where the color picker and axis side settings were incorrectly available in the breakdown dimension editor for XY charts in *Lens* ({kibana-pull}195845[#195845]).
* Fixes the tooltip position on faceted charts in *Vega* ({kibana-pull}194620[#194620]).
* Fixes the filter out legend action for ES|QL visualizations ({kibana-pull}194374[#194374]).
* Fixes element sizing issues in full screen mode in *Vega* ({kibana-pull}194330[#194330]).
* Fixes the default cell text alignment setting for non-numeric field types in *Lens* ({kibana-pull}193886[#193886]).
* Limits the height of the query bar input for long KQL queries ({kibana-pull}193737[#193737]).
* Makes the title correctly align left after removing an icon in **Lens** metric charts ({kibana-pull}191057[#191057]).
* Fixes a "No data" error caused by the "Collapse by" setting in **Lens** metric charts ({kibana-pull}190966[#190966]).
* Fixes an issue causing the color of a cell to disappear when clicking the "Expand cell" icon in *Lens* ({kibana-pull}190618[#190618]).
* Removes unnecessary index pattern references from Lens charts ({kibana-pull}190296[#190296]).
* Fixes several accessibility issues ({kibana-pull}188624[#188624]).
Data ingestion and Fleet::
* Revert "Fix client-side validation for agent policy timeout fields" ({kibana-pull}194338[#194338]).
* Adds proxy arguments to install snippets ({kibana-pull}193922[#193922]).
* Rollover if dimension mappings changed in dynamic templates ({kibana-pull}192098[#192098]).
Discover::
* Fixes an issue with search highlighting ({kibana-pull}197607[#197607]).
* Correctly pass embeddable filters to the Surrounding Documents page ({kibana-pull}197190[#197190]).
* Fixes trailing decimals dropped from client side validation messages ({kibana-pull}196570[#196570]).
* Fixes several validation issues and creates an expression type evaluator for ES|QL queries ({kibana-pull}195989[#195989]).
* Fixes duplicate autocomplete suggestions for `WHERE` clauses and suggestions with no space in between in ES|QL queries ({kibana-pull}195771[#195771]).
* Improves variable and field name handling in ES|QL queries ({kibana-pull}195149[#195149]).
* Fixes an issue where the Unified Field List popover could get cut off ({kibana-pull}195147[#195147]).
* Fixes the width for saved object type columns ({kibana-pull}194388[#194388]).
* Adds tooltips to Discover button icons ({kibana-pull}192963[#192963]).
* Excludes inactive integration data stream suggestions ({kibana-pull}192953[#192953]).
* Fixes new variables being suggested in incorrect places ({kibana-pull}192405[#192405]).
* Only log requests in the Inspector when they completed ({kibana-pull}191232[#191232]).
ES|QL editor::
* Fixes an issue where the autocomplete suggestions could cause duplicate entries in ES|QL queries ({kibana-pull}190465[#190465]).
* Fixes several styling issues in the ES|QL editor ({kibana-pull}190170[#190170]).
Elastic Observability solution::
* Change the slice outcome from bad to good whenever there is no data during the slice window ({kibana-pull}196942[#196942]).
* Make agent names generic with otel-native mode ({kibana-pull}195594[#195594]).
* Avoid showing unnecessary error toast ({kibana-pull}195331[#195331]).
* Use `fields` instead of `_source` on APM queries ({kibana-pull}195242[#195242]).
* Fixes ping heatmap payload ({kibana-pull}195107[#195107]).
* Fixes rule modal warnings in the developer console ({kibana-pull}194766[#194766]).
* Avoid AI assistant overlaying AI conversations ({kibana-pull}194722[#194722]).
* Improve loading state for metric items ({kibana-pull}192930[#192930]).
* Fixes issue where heatmap UI crashes on undefined histogram data ({kibana-pull}192508[#192508]).
* Calculate the latest metadata lookback based on the calculated history delay ({kibana-pull}191324[#191324]).
* Remove dedicated language setting ({kibana-pull}190983[#190983]).
* Change latest metric to use @timestamp ({kibana-pull}190417[#190417]).
* Prevent initial error when adding filters ({kibana-pull}190214[#190214]).
* Display error message when failing to enable machine learning anomaly detection in Inventory ({kibana-pull}189627[#189627]).
* Convert route validation to Zod ({kibana-pull}188691[#188691]).
* Fixes functions table height in asset details view profiling tab ({kibana-pull}188650[#188650]).
* Adds four decimal places float validation for transaction_sample_rate ({kibana-pull}188555[#188555]).
* Centralize data fetching and better control of when data can be refreshed ({kibana-pull}187736[#187736]).
* Fixes heatmap on monitor detail/history page for very large doc counts ({kibana-pull}184177[#184177]).
* Adds settings to serverless allowlist ({kibana-pull}190098[#190098]).
* Set missing group to false by default and show checkbox value in disable mode ({kibana-pull}188402[#188402]).
Elastic Search solution::
* Fixes an issue with the {ref}/es-connectors-network-drive.html[Network Drive connector] where advanced configuration fields were not displayed for CSV file role mappings with `Drive Type: Linux` selected.
Elastic Security solution::
For the Elastic Security 8.16.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Kibana platform::
* Fixes an issue causing a wrong date to show in the header of a report when generated from relative date ({kibana-pull}197027[#197027]).
* Fixes an issue where the Created and Updated timestamps for Dashboards were ignoring the default timezone settings in Advanced settings. ({kibana-pull}196977[#196977]).
* Fixes an issue causing searches including a colon `:` character to show inaccurate results ({kibana-pull}190464[#190464]).
Kibana security::
* Fixes an issue where an LLM was likely to generate invalid processors containing array access in Automatic Import ({kibana-pull}196207[#196207]).
Machine Learning::
* File upload: fixes PDF character count limit ({kibana-pull}197333[#197333]).
* Data Drift: Updates brush positions on window resize fix ({kibana-pull}196830[#196830]).
* AIOps: Fixes issue where some queries cause filters to not be applied ({kibana-pull}196585[#196585]).
* Transforms: Limits the data grid result window ({kibana-pull}196510[#196510]).
* Fixes Anomaly Swim Lane Embeddable not updating properly on query change ({kibana-pull}195090[#195090]).
* Hides ES|QL based saved searches in ML & Transforms ({kibana-pull}195084[#195084]).
* Fixes query for pattern analysis and change point analysis ({kibana-pull}194742[#194742]).
* Anomaly explorer: Shows data gaps and connect anomalous points on Single Metric Charts ({kibana-pull}194119[#194119]).
* Fixes file upload with no ingest pipeline ({kibana-pull}193744[#193744]).
* Disables field statistics panel in Dashboard if ES|QL is disabled ({kibana-pull}193587[#193587]).
* Fixes display of assignees when attaching ML panels to a new case ({kibana-pull}192163[#192163]).
* Anomaly explorer: Fixes the order of the coordinates displayed on the map tooltip ({kibana-pull}192077[#192077]).
* Fixes links to the Single Metric Viewer from the Annotations and Forecasts tables ({kibana-pull}192000[#192000]).
* Trained models: fixes responsiveness of state column for smaller displays ({kibana-pull}191900[#191900]).
* File upload: increases timeout for upload request ({kibana-pull}191770[#191770]).
* Improves expired license check ({kibana-pull}191503[#191503]).
Management::
* Fixes the pagination of the source documents data grid in Transforms ({kibana-pull}196119[#196119]).
* Fixes autocomplete suggestions after a comma in Console ({kibana-pull}189656[#189656]).

[[release-notes-8.15.5]]
== {kib} 8.15.5

The 8.15.5 release includes the following bug fixes.

[float]
[[fixes-v8.15.5]]
=== Bug fixes
Canvas::
* Fixes an issue with Canvas not rendering maps with queries or filters ({kibana-pull}199339[#199339]).
Discover::
* Fixes an issue where the `has_es_data` check was causing {kib} to hang ({kibana-pull}200476[#200476]).
Elastic Observability solution::
* Changes the order of the errors shown on Infrastructure applications to be more relevant ({kibana-pull}200531[#200531]).
* Fixes the summary calculation for a calendar-aligned and occurrences-based SLO ({kibana-pull}199873[#199873]).
Elastic Security solution::
For the Elastic Security 8.15.5 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Platform::
* Fixes an issue with duplicate references to objects when copying saved objects to other spaces ({kibana-pull}200053[#200053]).
* Fixes button colors in the "Share data view to spaces" flyout ({kibana-pull}196004[#196004]).

[[release-notes-8.15.4]]
== {kib} 8.15.4

The 8.15.4 release includes the following bug fixes.

[float]
[[fixes-v8.15.4]]
=== Bug fixes
Dashboards and visualizations::
* Fixes incomplete string escaping and encoding in *TSVB* ({kibana-pull}196248[#196248]).
* Adds scroll margin to panels ({kibana-pull}193430[#193430]).
* Fixes an issue where label truncation in heat map legends was not working properly in *Lens* ({kibana-pull}195928[#195928]).
Discover::
* Fixes the width for saved object Type column ({kibana-pull}194388[#194388]).
Elastic Observability solution::
* Changes the slice outcome from bad to good whenever there is no data during the slice window ({kibana-pull}196942[#196942]).
Elastic Search solution::
* Fixes a bug with the {ref}/es-connectors-network-drive.html[Network Drive connector] where advanced configuration fields were not displayed for CSV file role mappings with `Drive Type: Linux` selected ({kibana-pull}195567[#195567]).
Elastic Security solution::
For the Elastic Security 8.15.4 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Kibana platform::
* Fixes an issue causing the wrong date to show in the header of a report when generated from a relative date ({kibana-pull}197027[#197027]).
* Fixes an issue with the export options for PNG/PDF reports in a dashboard ({kibana-pull}192530[#192530]).
Machine Learning::
* Fixes an issue preventing Anomaly swim lane panels from updating on query changes ({kibana-pull}195090[#195090]).
Management::
* Fixes the pagination of the source documents data grid in Transforms ({kibana-pull}196119[#196119]).

[[release-notes-8.15.3]]
== {kib} 8.15.3

The 8.15.3 release includes the following bug fixes.

[float]
[[fixes-v8.15.3]]
=== Bug fixes
Alerting::
* Fixes a storage configuration error that could prevent the Stack Management > Alerts page from loading correctly ({kibana-pull}194785[#194785]).
* Fixes a bug preventing certain alerts with Role visibility set to "Stack Rules" from being shown on the Stack Management page ({kibana-pull}194615[#194615]).
* Fixes an issue where rules created from Discover before version 8.11.0 could no longer be accessed after upgrading ({kibana-pull}192321[#192321]).
Dashboards::
* Fixes an issue where the `embed=true` parameter was missing when sharing a dashboard with the Embed code option ({kibana-pull}194366[#194366]).
Discover::
* Fixes an issue with the document viewer panel not opening in focus mode ({kibana-pull}191039[#191039]).
Elastic Observability solution::
* Fixes the OpenTelemetry guided onboarding for MacOS with x86_64 architectures ({kibana-pull}194915[#194915]).
* Fixes a bug where the SLO creation form was allowing multiple values for timestamp fields ({kibana-pull}194311[#194311]).
Elastic Search solution::
* Fixes a bug with the https://www.elastic.co/guide/en/enterprise-search/8.15/connectors-network-drive.html[Network Drive connector] where advanced configuration fields were not displayed for CSV file role mappings with `Drive Type: Linux` selected ({kibana-pull}195567[#195567]).
Elastic Security solution::
For the Elastic Security 8.15.3 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Kibana security::
* Automatic Import no longer asks the LLM to map fields to reserved ECS fields ({kibana-pull}195168[#195168]).
* Fixes an issue that was causing the Grok processor to return non-ECS compatible fields when processing structured or unstructured syslog samples in Automatic Import ({kibana-pull}194727[#194727]).
* Fixes the integrationName when uploading a new version of an existing integration using a ZIP upload ({kibana-pull}194298[#194298]).
* Fixes a bug that caused the Deploy step of Automatic Import to fail after a pipeline was edited and saved ({kibana-pull}194203[#194203]).
* Fixes an issue in the Kibana Management > Roles page where users could not sort the table by clicking the column headers ({kibana-pull}194196[#194196]).
Lens & Visualizations::
* Fixes an issue where the legend label truncation setting wasn't working properly for heat maps in Lens ({kibana-pull}195928[#195928]).
Machine Learning::
* Fixes an issue preventing Anomaly swim lane panels from updating on query changes ({kibana-pull}195090[#195090]).
* Fixes an issue that could cause the "rows per page" option to disappear from the Anomaly timeline view in the Anomaly Explorer ({kibana-pull}194531[#194531]).
* Fixes an issue causing screen flickering on the Results Explorer and Analytics Map pages when no jobs are available ({kibana-pull}193890[#193890]).


[[release-notes-8.15.2]]
== {kib} 8.15.2

The 8.15.2 release includes the following enhancements and bug fixes.

[float]
[[enhancement-v8.15.2]]
=== Enhancements
Elastic Security solution::
For the Elastic Security 8.15.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Bumps maximum supported package spec version to 3.2 ({kibana-pull}193574[#193574]).
Kibana security::
* Adds a feature to add support for handling `syslogs with unsupported message body` ({kibana-pull}192817[#192817]).
* Automatic Import now performs reproducible sampling from the list of log entries instead of just truncating them ({kibana-pull}191598[#191598]).
* Adds support for Google Gemini, OpenAI, and Azure OpenAI connectors to Automatic Import ({kibana-pull}191577[#191577]).
* Displays better error messages for issues with logs sample file upload in Automatic Import ({kibana-pull}191310[#191310]).

[float]
[[fixes-v8.15.2]]
=== Bug fixes
Alerting::
* Fixes error when saving a rule after toggling alerts filter properties on and off ({kibana-pull}192522[#192522]).
Dashboards::
* Fixes map layers that disappear from map panel when using session storage to continue editing a dashboard ({kibana-pull}193629[#193629]).
Discover::
* Fixes "View conflicts" button when a data view ID has special characters ({kibana-pull}192374[#192374]).
Elastic Observability solution::
* Fixes OpenTelemetry agent names ({kibana-pull}193134[#193134]).
* Resolves an issue for multi-step browser journeys where timings for cached resources within the same step were inaccurate within the waterfall chart ({kibana-pull}193089[#193089]).
* Updates parsing to skip replacing missing values in Synthetics monitors ({kibana-pull}192662[#192662]).
Elastic Security solution::
For the Elastic Security 8.15.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Prevents extra agent_status call with empty policyId ({kibana-pull}192549[#192549]).
* Sets correct title for Restart upgrade agent modal under agent list ({kibana-pull}192536[#192536]).
Kibana security::
* Stops removing message field for unstructured logs when using Automatic Import ({kibana-pull}193678[#193678]).
* Integrations created using Automatic Import now indicate that they have been developed by the `Community` instead of Elastic ({kibana-pull}193002[#193002]).
* Fixes issues with rendering the package manifest in Automatic Import ({kibana-pull}192316[#192316]).
Machine Learning::
* Fixes deletion in Check interval input for anomaly detection rule ({kibana-pull}193420[#193420]).
* Fixes unnecessary ML services initialization during plugin setup ({kibana-pull}193153[#193153]).
* Fixes link to anomaly detection wizard from pattern analysis in Discover ({kibana-pull}192375[#192375]).
* Fixes an issue with the `http_endpoint` input config loading incorrectly in an Automatic Import workflow ({kibana-pull}191964[#191964]).


[[release-notes-8.15.1]]
== {kib} 8.15.1

The 8.15.1 release includes the following bug fixes.

// [float]
// [[enhancement-v8.15.1]]
// === Enhancements
// Other::
// * Automatic Import now supports the 'multiline newline-delimited JSON' log sample format for the Filestream input ({kibana-pull}190588[#190588]).

[float]
[[fixes-v8.15.1]]
=== Bug fixes
Data Discovery::
* Fixes time range filter ({kibana-pull}187010[#187010]).
Elastic Security::
For the Elastic Security 8.15.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Remove duplicative retries from client-side requests to APIs that depend on EPR ({kibana-pull}190722[#190722]).
Lens & Visualizations::
* Visualization blows up when invalid color is passed in *TSVB* ({kibana-pull}190658[#190658]).
Observability::
* Enables wildcard search for the Synthetics waterfall chart ({kibana-pull}191132[#191132]).
* Fixes accordion disclosure keyboard focus border ({kibana-pull}190436[#190436]).
* Always pass allowLeadingWildcards as true to the KQL validation in the custom threshold rule API param validation ({kibana-pull}190031[#190031]).
* Prevent excess calls to get agent namespace ({kibana-pull}189995[#189995]).
* Fixes blank storage explorer summary when filter string is active ({kibana-pull}189760[#189760]).
* Observability AI Assistant: Use internal user when fetching connectors ({kibana-pull}190462[#190462]).
* Observability AI Assistant: Fixes bug Cannot set initialMessages if initialConversationId is set" ({kibana-pull}189885[#189885]).
Platform::
* Fixes handling of splittable subkeys when processing values ({kibana-pull}190590[#190590]). Fixes a bug when processing YAML configuration keys that contain dotted notation in objects in arrays. This can manifest as a validation error causing Kibana to not start.
Presentation::
* Fixes by-value map embeddables have broken layers ({kibana-pull}190996[#190996]).
* Fixes text readability on map scale, attribution, and coordinate controls ({kibana-pull}189639[#189639]).
Search::
* Fixes index error incorrectly showing up ({kibana-pull}189283[#189283]). Fixes a bug where an index error about the `semantic_text` field would be incorrectly displayed when the inference endpoint was configured and available.
Uptime::
* Fixes broken pagination in Uptime when a filter is applied ({kibana-pull}189831[#189831]).
// Security::
// * Resolve a bug in ECS missing fields detection ({kibana-pull}191502[#191502]).
// * Improve sample merge functionality ({kibana-pull}190656[#190656]).
// * Try parsing samples as both NDJSON and JSON ({kibana-pull}190046[#190046]).

[[release-notes-8.15.0]]
== {kib} 8.15.0

For information about the {kib} 8.15.0 release, review the following information.

The 8.15.0 release includes the following known issues.

[float]
[[known-issues-8.15.0]]
=== Known issues

[discrete]
[[known-178114]]
.Kibana fails to start when processing YAML configuration keys that contain dotted notation in objects in arrays
[%collapsible]
====
*Details* +
In 8.15.1, We fixed a bug when processing YAML configuration keys that contain dotted notation in objects in arrays.
This can manifest as a validation error causing Kibana to not start.

For more information, refer to {kibana-pull}190590[#190590].
====

[discrete]
[[known-187823]]
.Connectors require update due to Microsoft Teams product retirement
[%collapsible]
====
*Details* +
The original method for configuring incoming webhooks in Microsoft Teams is being retired.
Refer to https://devblogs.microsoft.com/microsoft365dev/retirement-of-office-365-connectors-within-microsoft-teams/[Retirement of Office 365 connectors within Microsoft Teams] and {kibana-issue}187823[#187823].

*Impact* +
If you used the *Incoming Webhook* app in Microsoft Teams to generate a webhook URL for a <<teams-action-type,Microsoft Teams connector>>, it will stop working in December 2024.

*Workaround* +
Use the *Workflows* app in Microsoft Teams to create a new webhook URL, as described in <<configuring-teams>>.
Update your Microsoft Teams connector to use the new URL before the end of December 2024.
====

[discrete]
[[known-189283]]
.Incorrect index errors related to inference endpoints
[%collapsible]
====
*Details* +
In 8.15.1, we fixed a UI bug where an index error about the `semantic_text` field would be incorrectly displayed when the inference endpoint was configured and available.

You can ignore this error if you've confirmed that the inference endpoint is configured and the model is deployed.

This bug is fixed in {kibana-pull}189283[#189283].
====

[float]
[[deprecations-8.15.0]]
=== Deprecations

The following functionality is deprecated in 8.15.0, and will be removed in 9.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 8.15.0.

[discrete]
[[deprecation-uptime]]
.Uptime is deprecated in 8.15.0 and will be removed in 9.0.0.
[%collapsible]
====
*Details* +
The Uptime app is already hidden from Kibana when there is no recent Heartbeat data, but will be completely removed in 9.0.0. You should migrate to Synthetics as an alternative. For more details, refer to the {observability-guide}/uptime-intro.html[Uptime documentation].
====

[discrete]
.<<search-sessions,Search sessions>> are deprecated in 8.15.0 and will be removed in a future version.
[%collapsible]
====
*Details* +
Search sessions are now deprecated and will be removed in a future version. By default, queries that take longer than 10 minutes (the default for the advanced setting `search:timeout`) will be canceled. To allow queries to run longer, consider increasing `search:timeout` or setting it to `0` which will allow queries to continue running as long as a user is waiting on-screen for results.
====

[float]
[[breaking-changes-8.15.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.15.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Adds rate limiting to install by upload endpoint.
[%collapsible]
====
*Details* +
Rate limiting was added to the upload `api/fleet/epm/packages` endpoint. For more information, refer to {kibana-pull}184036[#184036].

*Impact* +
If you do two or more requests in less than 10 seconds, the subsequent requests fail with `429 Too Many Requests`.
Wait 10 seconds before uploading again.
This change could potentially break automations for users that rely on frequent package uploads.
====
      
[float]
[[features-8.15.0]]
=== Features
{kib} 8.15.0 adds the following new and notable features.

Alerting::
* Allow decimals in the threshold filed for the Failed transaction rate threshold rule ({kibana-pull}184647[#184647]).
Cases::
* Cases custom fields and the cases webhook are now GA ({kibana-pull}187880[#187880]).
* Allow users to create case using templates ({kibana-pull}187138[#187138]).
Dashboards::
* Adding a panel to a dashboard now opens a flyout and the list of panels available is now organized more logically ({kibana-pull}183764[#183764]).
Discover::
* In ES|QL mode, you can now create WHERE clause filters more intuitively by interacting with the table, sidebar and table row viewer, including for ordinal charts ({kibana-pull}181399[#181399]) & ({kibana-pull}184420[#184420]).
* You can now filter an ES|QL chart by brushing a date histogram ({kibana-pull}184012[#184012]).
Elastic Security::
* For the Elastic Security 8.15.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* UI for the custom integration creation with AI ({kibana-pull}186304[#186304]).
//* Change agent policies in edit package policy page ({kibana-pull}186084[#186084]).
//* Create shared package policy ({kibana-pull}185916[#185916]).
//* Introduce policy_ids in package policy SO ({kibana-pull}184636[#184636]).
* Surface option to delete diagnostics files ({kibana-pull}183690[#183690]).
* Allow to reset log level for agents >= 8.15.0 ({kibana-pull}183434[#183434]).
* Adds warning if need root integrations trying to be used with unprivileged agents ({kibana-pull}183283[#183283]).
* Adds unprivileged vs privileged agent count to Fleet UI ({kibana-pull}183077[#183077]).
Lens & Visualizations::
* You can now show additional statistics in the legend of your time series charts created with *Lens* ({kibana-pull}182357[#182357]).
Machine Learning::
* Adds Field statistics to the list of available panels in Dashboards ({kibana-pull}184030[#184030]).
* Adds ES|QL support for field statistics table in Discover ({kibana-pull}180849[#180849]).
* AIOps: Moves Pattern analysis to a tab instead of a flyout in Discover ({kibana-pull}178916[#178916]).
* AIOps: Adds AI Assistant contextual insights to the Log Rate Analysis page in the Machine Learning plugin for Observability serverless projects ({kibana-pull}186509[#186509]).
Management::
* Adds an advanced `search:timeout` setting and changes the timeout behavior to display partial results instead of just an error ({kibana-pull}179679[#179679]).
Observability::
* Updates links for integration buttons in Observability solution ({kibana-pull}184477[#184477]).
* Adds SLO status, SLI value, error budget remaining and consumed to the burn rate alert context ({kibana-pull}184471[#184471]).
* Adds an option to prevent initial backfill for SLOs ({kibana-pull}184312[#184312]).
* Updates `Add data` links to use improved deep linking ({kibana-pull}184164[#184164]).
* Changes the navigation behavior for the Observability guide cards to pre-select the correct solution ({kibana-pull}184065[#184065]).
* Updates the Alerts details to now show an history chart for all types of alerts ({kibana-pull}181824[#181824]).
* Adds Docs count, Size, Services, Hosts, and Degraded docs KPIs to the dataset quality flyout ({kibana-pull}179479[#179479]).
Platform::
* Improves the **Share** menu to let you navigate through a tabbed modal to copy links for Discover, Dashboards, and Lens. ({kibana-pull}180406[#180406]).
* Changes the behavior of the "Endpoints and API keys" button in the header to open the Connection details flyout ({kibana-pull}183236[#183236]).
* Adds a quick way to create an API keys with a 90-days expiration to the Connection details flyout, and clarifies the Elasticsearch endpoint and Cloud ID information ({kibana-pull}180912[#180912]).
* Adds a feedback button to the header in Serverless projects({kibana-pull}180942[#180942]).

For more information about the features introduced in 8.15.0, refer to <<whats-new,What's new in 8.15>>.

[[enhancements-and-bug-fixes-v8.15.0]]
=== Enhancements and bug fixes

For detailed information about the 8.15.0 release, review the enhancements and bug fixes.
      

[float]
[[enhancement-v8.15.0]]
=== Enhancements
Alerting::
* Adds support of additional fields for ServiceNow ITSM and SecOps ({kibana-pull}184023[#184023]).
* Adds support for the additional info field in the ServiceNow ITOM connector ({kibana-pull}183380[#183380]).
Cases::
* The Cases webhook connector now supports SSL certificate authentication ({kibana-pull}185925[#185925]).
Dashboards::
* Adds a "Creator" column to the Dashboards list ({kibana-pull}182256[#182256]).
* Adds the ability to filter dashboards by creator for dashboards created on or after version 8.14 ({kibana-pull}180147[#180147]).
* When switching back from maximized to minimized view on a panel, you return to your original position in the dashboard ({kibana-pull}184696[#184696]).
* Improves the dashboard background color to match the current color mode wen margins are turned off ({kibana-pull}181450[#181450]).
* Simplifies the workflow for creating a copy of the dashboard currently open in both view and edit modes ({kibana-pull}180938[#180938]).
Discover::
* Adds a button to expand the time range on demand when no results are found for a search ({kibana-pull}181723[#181723]).
* Changes the Discover document viewer flyout to push the rest of the UI instead of hiding it with an overlay ({kibana-pull}166406[#166406]).
* CSV reports now include custom field labels when they exist ({kibana-pull}181565[#181565]).
Elastic Security::
* For the Elastic Security 8.15.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
ES|QL::
* Improves metadata autocomplete suggestions with comma and pipe ({kibana-pull}188338[#188338]).
* Automatically encapsulate index names with special characters with quotes ({kibana-pull}187899[#187899]).
* Adds support for integrations ({kibana-pull}184716[#184716]).
* Adds the ability to comment out the current line with the keyboard using `CMD + /` ({kibana-pull}184637[#184637]).

Fleet::
* Use API key for standalone agent onboarding ({kibana-pull}187133[#187133]).
//* Adds action for upgrading all agents on policy ({kibana-pull}186827[#186827]).
* Makes Fleet & Integrations layouts full width ({kibana-pull}186056[#186056]).
* Adds support for setting `add_fields` processors on all agents under an agent policy ({kibana-pull}184693[#184693]).
* Adds force flag to delete agent_policies API ({kibana-pull}184419[#184419]).
* Adds data tags to agent policy APIs ({kibana-pull}183563[#183563]).
* Adds support for mappings with store: true ({kibana-pull}183390[#183390]).
* Shows all integration assets on detail page ({kibana-pull}182180[#182180]).
* Adds overrides to package policies update endpoint ({kibana-pull}181453[#181453]).
* Enables `agent.monitoring.http` settings on agent policy UI ({kibana-pull}180922[#180922]).
* Removes unnecessary field definitions for custom integrations and adds `logs@mappings` to log streams ({kibana-pull}178083[#178083]).
Lens & Visualizations::
* Adds wildcard matching to field pickers across {kib} in *Lens* ({kibana-pull}182631[#182631]).
Machine Learning::
* AIOps: Adds cardinality check to Log Rate Analysis ({kibana-pull}181129[#181129]).
* AIOps: Reduces rerenders when streaming analysis results ({kibana-pull}182793[#182793]).
* AIOps Log Rate Analysis: Improves explanation of log rate spike/dip ({kibana-pull}186342[#186342]).
* AIOps Log Rate Analysis: Merges fetch queue for keyword and text field candidates ({kibana-pull}183649[#183649]).
* AIOps Log Rate Analysis: Adds controls for controlling which columns will be visible ({kibana-pull}184262[#184262]).
* Anomaly Detection: Single Metric Viewer - Adds cases action ({kibana-pull}183423[#183423]).
* Anomaly Detection: Adds 'Add to dashboard' action for Single Metric Viewer ({kibana-pull}182538[#182538]).
* Anomaly swim lane: UX improvements ({kibana-pull}182586[#182586]).
* Single Metric Viewer embeddable: Ensures chart height is responsive on resize ({kibana-pull}185907[#185907]).
* Single Metric Viewer embeddable in dashboards: Moves all config to flyout ({kibana-pull}182756[#182756]).
* Adds progress bar for trained models download ({kibana-pull}184906[#184906]).
* Updates code editors for Transform, Data Frame and Anomaly Detection wizards ({kibana-pull}184518[#184518]).
Management::
* The SIEM Query rule loads fewer fields on query execution ({kibana-pull}184890[#184890]).
* The ES Query rule loads fewer fields on query execution ({kibana-pull}183694[#183694]).
* Adds the ability to horizontally resize the autocomplete popup in the Dev Tools Console ({kibana-pull}180243[#180243]).
* The Kibana configuration file now supports assigning a default value for environment variables, using the `${VAR_ENV:defaultValue}` syntax. ({kibana-pull}182139[#182139]).
Observability::
* Adds the ability to clone a monitor in Synthetics ({kibana-pull}184393[#184393]).
* Adds 10 and 30 seconds frequency options to lightweight monitors in Synthetics ({kibana-pull}184380[#184380]).
* Improves the destination of `Add data` links in Observability to make data ingestion more efficient ({kibana-pull}184164[#184164]).
* Adds an option to mark AI Assistant Knowledge Base entries as public ({kibana-pull}184094[#184094]).
* Updates the AI assistant to query all search connectors by default and adds a setting to override this new default ({kibana-pull}183712[#183712]).
* Adds downstream dependency service name to logs and errors to improve alert insights ({kibana-pull}183215[#183215]).
Operations::
* Adds password support to the Kibana keystore ({kibana-pull}180414[#180414]).
Platform::
* Adds http2 support to the Kibana server, that can be enabled using the `server.protocol: http2` Kibana setting ({kibana-pull}183465[#183465]).
* Kibana's `rolling-file` appender now supports more advanced retention policies. Refer to the <<rolling-file-appender,Kibana logging documentation>> for more details ({kibana-pull}182346[#182346]).
Security::
* Adds an optional role description field to roles ({kibana-pull}183145[#183145]).
* Adds the ability to filter audit logs by username using the `xpack.security.audit.ignore_filters.users` configuration setting ({kibana-pull}183137[#183137]).
* Adds support for `remote_cluster` privileges in ES role definition ({kibana-pull}182377[#182377]).
* Improves the experience for managing a larger number of API keys by adding server side filtering, pagination and querying. ({kibana-pull}168970[#168970]).

[float]
[[fixes-v8.15.0]]
=== Bug Fixes
Alerting::
* Fixes kibana.alert.rule.execution.timestamp timezone and format ({kibana-pull}183905[#183905]).
* Fixes undefined error source in alerting log tags ({kibana-pull}182352[#182352]).
* Allow the rule types to throw user errors ({kibana-pull}184213[#184213]).
* Sets validation errors in subaction framework as user errors ({kibana-pull}184317[#184317]).
* Fixes x-axis time zone on alertSummaryWidget full size ({kibana-pull}187468[#187468]).
Dashboards::
* Prevent jumping control drag handle between view modes ({kibana-pull}184533[#184533]).
* Fixes error on navigation when invalid selections tour step is open ({kibana-pull}189449[#189449]).
* Fixes positioning of dragged link in Links editor ({kibana-pull}189122[#189122]).
* Don't close the flyout when canceling the Save to library action ({kibana-pull}188995[#188995]).
* Fixes error thrown on numeric options list ({kibana-pull}188789[#188789]).
* Adds tooltip support to `PresentationPanel` header badges ({kibana-pull}186102[#186102]).
* Fixes unsaved changes on new dashboards bug ({kibana-pull}184955[#184955]).
* Reset `maximizedPanelId` on Dashboard navigation ({kibana-pull}183060[#183060]).
Discover::
* Fixes time range filter ({kibana-pull}187010[#187010]).
* Reset selected fields when modifying the ES|QL query ({kibana-pull}185997[#185997]).
* Fixes document comparison mode and the field statistics tab when using Smart Fields ({kibana-pull}184172[#184172]).
* Disables sorting for Document view ({kibana-pull}187553[#187553]).
* Correctly adds the limit to the field statistics queries ({kibana-pull}186967[#186967]).
* Fixes overlapping on error messages ({kibana-pull}181416[#181416]).
Elastic Search::
* Allow to save mappings with errors ({kibana-pull}188326[#188326]).

Elastic Security::
* For the Elastic Security 8.15.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
ES|QL::
* Suppress empty syntax error ({kibana-pull}184246[#184246]).
* Accept null values for function arguments ({kibana-pull}184254[#184254]).
* Recognize transformational commands with ast parsing ({kibana-pull}184291[#184291]).
* Accept negated index patterns ({kibana-pull}184528[#184528]).
* Fixes the overflow problem of the editor ({kibana-pull}186166[#186166]).
* Removes inaccurate value suggestions ({kibana-pull}189228[#189228]).
* Improves support for `Invoke` completion trigger type ({kibana-pull}188877[#188877]).
Fleet::
* Fixes navigating back to Agent policy integration list ({kibana-pull}189165[#189165]).
* Fixes copy agent policy, missed bump revision ({kibana-pull}188935[#188935]).
* Force field enabled=false on inputs that have all their streams disabled ({kibana-pull}188919[#188919]).
* Fill in empty values for `constant_keyword` fields from existing mappings ({kibana-pull}188145[#188145]).
* Enrollment token table may show an empty last page ({kibana-pull}188049[#188049]).
* Separated `showInactive` from unenrolled status filter ({kibana-pull}187960[#187960]).
* Fixes missing policy filter in Fleet Server check to enable secrets ({kibana-pull}187935[#187935]).
* Allow preconfigured agent policy only with name and id ({kibana-pull}187542[#187542]).
* Show warning callout in configs tab when an error occurs ({kibana-pull}187487[#187487]).
* Enable rollover in custom integrations install when getting mapper_exception error ({kibana-pull}186991[#186991]).
* Adds concurrency limit to EPM bulk install API + fix duplicate installations ({kibana-pull}185900[#185900]).
* Include inactive agents in agent policy agent count ({kibana-pull}184517[#184517]).
* Fixes KQL filtering ({kibana-pull}183757[#183757]).
* Prevent concurrent runs of Fleet setup ({kibana-pull}183636[#183636]).
Lens & Visualizations::
* Do not pass incorrect filters to the state in *Lens* ({kibana-pull}189292[#189292]).
* Adds error reason in workspace panel when error happens in *Lens* ({kibana-pull}189161[#189161]).
* Fixes "Unable to load" page error on edit/add ES|QL panel ({kibana-pull}188664[#188664]).
* Improves the performance of the table ES|QL visualization ({kibana-pull}187142[#187142]).
* Fixes sort field error message for last value ({kibana-pull}184883[#184883]).
* Fixes reference line width stale update in *Lens* ({kibana-pull}184414[#184414]).
* Fixes prepend sizing on duration formatter in *Lens* ({kibana-pull}184403[#184403]).
* Fixes data table actions when the first row is empty in *Lens* ({kibana-pull}181344[#181344]).
* Fixes y-axis scale/custom domain issues and help/error text in *Lens* ({kibana-pull}180532[#180532]).
Logs::
* Fixes log stream flyout when embedded in APM or the Infrastructure UI ({kibana-pull}189763[#189763]).
* Fixes log entry flyout when response is slow ({kibana-pull}187303[#187303]).
* Fixes flyout link to the legacy Uptime app ({kibana-pull}186328[#186328]).
Machine Learning::
* Fixes display of model state in trained models list with starting and stopping deployments ({kibana-pull}188847[#188847]).
* AIOps: Fixes runtime mappings in pattern analysis ({kibana-pull}188530[#188530]).
* Fixes Field statistics panel displaying multiple errors if associated index is deleted and race condition when refreshes too fast ({kibana-pull}188327[#188327]).
* Hides ML embeddables from the "Add panel" flyout when ML isn't available ({kibana-pull}187639[#187639]).
* Removes info callout mentioning ML nodes for serverless environment ({kibana-pull}187583[#187583]).
* Fixes upgrade warning ({kibana-pull}187387[#187387]).
* Fixes change point menu which can get stuck open ({kibana-pull}186063[#186063]).
* Do not retry model deployment ({kibana-pull}185012[#185012]).
* Refreshes jobs list after import ({kibana-pull}184757[#184757]).
* AIOps Log Rate Analysis: Fixes date picker refresh button ({kibana-pull}183768[#183768]).
* Single Metric Viewer embeddable: Ensures creating job rule from anomaly click actions is successful ({kibana-pull}183554[#183554]).
* Adds bucket span validation to job creation flyouts ({kibana-pull}183510[#183510]).
* Fixes Choropleth map disappears when time range is changed ({kibana-pull}181933[#181933]).
Management::
* Allows selection of timestamp when some index pattern segments are unmet ({kibana-pull}189336[#189336]).
* Transforms and Anomaly detection: Updates width for icon in messages tab to prevent overlap ({kibana-pull}188374[#188374]).
* Transform: Fixes transform stats API call in the transform health alerting rule ({kibana-pull}187586[#187586]).
* Transforms: Improves data view checks ({kibana-pull}181892[#181892]).
* Fixes human-readable (precise) formatting ({kibana-pull}181391[#181391]).
Observability::
* Decreases bucket size top_dependencies sends to get_connection_stats query ({kibana-pull}182884[#182884]).
* Fixes SLO history details data ({kibana-pull}183097[#183097]).
* Improves permission check on SLO pages ({kibana-pull}182609[#182609]).
* Fixes contextual insights for APM errors ({kibana-pull}184642[#184642]).
* Fixes Alerts page history navigation ({kibana-pull}186068[#186068]).
* Accept project monitors with `monitor.url` of type `string` that contains commas ({kibana-pull}186112[#186112]).
* Fixes TLS certificate view for > 3 monitors per certificate ({kibana-pull}186204[#186204]).
* Fixes Synthetics/Uptime fields alerts autocomplete for query bar ({kibana-pull}186588[#186588]).
* Hides AI Assistant menu item when in a disabled space ({kibana-pull}188017[#188017]).
* Fixes AI Assistant settings when plugin is disabled ({kibana-pull}188160[#188160]).
* Fixes bug Cannot set initialMessages if initialConversationId is set" ({kibana-pull}189885[#189885]).
* Respect query:allowLeadingWildcards in optional query filter ({kibana-pull}189488[#189488]).
* Fixes showing the correct log view in the rule creation flyout ({kibana-pull}189205[#189205]).
* Fixes a bug where "Retest on failure" couldn't be turned off when creating a monitor in the Synthetics app. ({kibana-pull}189013[#189013]).
* Fixes incorrect Redis and AWS CPU percentage metrics displayed on the Infrastructure Inventory page ({kibana-pull}188768[#188768]).
* Improves information communicated in case of insufficient privileges in the Dataset Quality UI ({kibana-pull}183947[#183947]).
Platform::
* Accessibility fixes for user profile input labels ({kibana-pull}186471[#186471]).
* Fixes several internationalization and localization inconsistencies ({kibana-pull}181735[#181735]).
* Fixes case sensitivity in tag search ({kibana-pull}183092[#183092]).
Querying & Filtering::
* Fixes performance issues with nested sub-queries ({kibana-pull}181208[#181208]).
Security::
* Fixes `ComboBox` overflow with large chips ({kibana-pull}184722[#184722]).
* Adds `disabledFeatures` back to mappings, so it can be aggregated on ({kibana-pull}184195[#184195]).
* Supports read-only remote index and cluster sections with read_security access ({kibana-pull}183126[#183126]).
* Adds transformation of application wildcard `*` privilege to `all` to correctly filter and display roles as `superuser`. ({kibana-pull}181400[#181400]).
Sharing::
* Improves error handling ({kibana-pull}185903[#185903]).


[[release-notes-8.14.3]]
== {kib} 8.14.3

The 8.14.3 release includes the following bug fixes and known issues.

[float]
[[known-issues-8.14.3]]
=== Known issues

include::CHANGELOG.asciidoc[tag=known-issue-186969]

include::CHANGELOG.asciidoc[tag=known-issue-189394]

[discrete]
[[known-185691]]
.When using the Observability AI Assistant with the OpenAI connector, function calling will result in an error
[%collapsible]
====
*Details* +
In 8.14.3, if you are using the Observability AI Assistant with the OpenAI connector, function calling will result in an error.
The error message will look similar to this:

[source]
----
Error: an error occurred while running the action - Status code: 400. Message: API Error: model_error - Missing required parameter: 'messages[4].function_call.arguments'.
----

A fix will be available in 8.15. Users on 8.14.3 can get around this error by turning on synthetic function calling in _AI Assistant Settings_:

. In {kib}, go to *Stack Management*  *AI Assistant*  *Observability*
. Toggle the _Simulate function calling_ option to *On*.

For more information, refer to {kibana-pull}185691[#185691].
====

[float]
[[fixes-v8.14.3]]
=== Bug Fixes
Dashboard::
* Fixes controls getting overwritten on navigation ({kibana-pull}187509[#187509]).
Elastic Security::
For the Elastic Security 8.14.3 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

[[release-notes-8.14.2]]
== {kib} 8.14.2

The 8.14.2 release includes the following bug fixes and known issues.

[float]
[[known-issues-8.14.2]]
=== Known issues

include::CHANGELOG.asciidoc[tag=known-issue-186969]

include::CHANGELOG.asciidoc[tag=known-issue-189394]

[float]
[[fixes-v8.14.2]]
=== Bug Fixes

Alerting::
* Rule runs recovered actions without ever running active actions ({kibana-pull}183646[#183646]).
Fleet::
* Updates health_check endpoint to accept hosts ids ({kibana-pull}185014[#185014]).
Machine Learning::
* AIOps Log Rate Analysis: Fixes text field selection ({kibana-pull}186176[#186176]).
Presentation::
* Fixes PresentationPanelError component throwing when error.message is empty string ({kibana-pull}186098[#186098]).

[[release-notes-8.14.1]]
== {kib} 8.14.1

The 8.14.1 release includes the following bug fixes and known issues.

[float]
[[known-issues-8.14.1]]
=== Known issues

include::CHANGELOG.asciidoc[tag=known-issue-186969]

include::CHANGELOG.asciidoc[tag=known-issue-189394]

[float]
[[fixes-v8.14.1]]
=== Bug Fixes
Data Discovery::
* Notify the user about issues with access to the default data view ({kibana-pull}184740[#184740]).
Discover::
* Fixes resetting of breakdown field in a saved search ({kibana-pull}184668[#184668]).
Elastic Security::
For the Elastic Security 8.14.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Fixes restart upgrade disabled condition ({kibana-pull}184586[#184586]).
Observability::
* Fixes editing enabled state for project monitor ({kibana-pull}184775[#184775]).

[[release-notes-8.14.0]]
== {kib} 8.14.0

For information about the {kib} 8.14.0 release, review the following information.

[float]
[[known-issues-8.14.0]]
=== Known issues

// tag::known-issue-186969[]
.Creating or editing APM, {observability} and {stack-monitor-app} rules fails
[%collapsible]
====
*Details* +
When you attempt to create or edit some rule types in **{stack-manage-app}** > **{rules-ui}**, the request will fail with errors similar to `Cannot read properties of undefined (reading 'eui')` or `e.theme.eui is undefined`.
Refer to https://github.com/elastic/kibana/issues/186969[#186969]

*Impact* +
This known issue impacts only {observability}, {stack-monitor-app}, and APM and {user-experience} rules.

*Workaround* +
To work around this issue for {observability} and APM and {user-experience} rules, create them from the {observability} *Alerts* page.
Refer to <<apm-alerts>> and {observability-guide}/create-alerts-rules.html[Create and manage {observability} rules].

*Resolved* +
This issue is resolved in 8.15.0.
====
// end::known-issue-186969[]

// tag::known-issue-189394[]
.{webhook-cm} connector fails to send HTTP headers
[%collapsible]
====
*Details* +
If you configured the {webhook-cm} connector to send key-value pairs as headers, that information is not sent unles you have also enabled the basic authentication option for the connector.
Refer to https://github.com/elastic/kibana/issues/189394[#189394].

*Impact* +
The impact of this issue will vary depending on the purpose of your headers.
For example, if you added an `ApiKey` authorization header, you might receive a `401` authorization error since it's no longer sent by the connector.

*Workaround* +
To work around this issue, enable the *Require authentication for this webhook* option, which is the `hasAuth` property in the API.
You must then provide a username and password for authentication.

*Resolved* +
This issue is resolved in 8.15.0.
====
// end::known-issue-189394[]

[float]
[[breaking-changes-8.14.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.14.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Renamed an advanced setting to enable {esql}.
[%collapsible]
====
*Details* +
The advanced setting which hides {esql} from the UI has been renamed from `discover:enableESQL` to `enableESQL`. It is enabled by default and must be switched off to disable {esql} features from your {kib} applications. For more information, refer to ({kibana-pull}182074[#182074]).
====

[discrete]
[[breaking-178879]]
.The unified search filter builder is Generally Available.
[%collapsible]
====
*Details* +
The unified search filter builder (OR / AND) is out of technical preview. For more information, refer to ({kibana-pull}178879[#178879]).
====

[discrete]
[[breaking-178860]]
.{esql} is Generally Available.
[%collapsible]
====
*Details* +
{esql} comes out of technical preview and is generally available. For more information, refer to ({kibana-pull}178860[#178860]).
====

[discrete]
[[breaking-177549]]
.The region map visualization type is Generally Available in Lens.
[%collapsible]
====
*Details* +
The visualization type, region map, comes out of technical preview and is generally available. For more information, refer to ({kibana-pull}177549[#177549]).
====

[discrete]
[[breaking-177089]]
.UI enhancements to managed tags.
[%collapsible]
====
*Details* +
UI improvements for managed tags. For more information, refer to ({kibana-pull}177089[#177089]).
====

[discrete]
[[breaking-178159]]
.Downloading a CSV file from a saved search panel in a dashboard has become deprecated in favor of generating a CSV report.
[%collapsible]
====
*Details* +
The mechanism of exporting CSV data from a saved search panel in a dashboard has been changed to generate a CSV report, rather than allowing the CSV data to be downloaded
without creating a report. To preserve the original behavior, it is necessary to update `kibana.yml` with the setting of `xpack.reporting.csv.enablePanelActionDownload:
true`. The scope of this breaking change is limited to downloading CSV files from saved search panels only; downloading CSV files from other types of dashboard panels is
unchanged. For more information, refer to {kibana-pull}178159[#178159].
====

[float]
[[features-8.14.0]]
=== Features
{kib} 8.14.0 adds the following new and notable features.

Alerting::
* Adds a warning when changing the index pattern while at least one rule relies on the current one ({kibana-pull}180310[#180310]).
* Enrich the alert flyout with a new overview tab ({kibana-pull}178863[#178863]).
* Adds history chart for multiple conditions ({kibana-pull}180578[#180578]).
* Implements a tabbed design for existing alert detail pages ({kibana-pull}179529[#179529]).
* Stops reporting no data alert for missing groups that are untracked ({kibana-pull}179512[#179512]).
* Adds a new modal window that lets users interact with value lists directly ({kibana-pull}179339[#179339]).
* Adds new rule type selection modal ({kibana-pull}179285[#179285]).
* Enables filters for the alert search bar on the Observability Alerts page ({kibana-pull}178886[#178886]).
APM::
* Adds a new API to support linking APM from the Profiling UI ({kibana-pull}180677[#180677]).
* Enables fast filter on Service inventory ({kibana-pull}179096[#179096]).
Cases::
* Adds automatically creating cases when an alert is triggered ({kibana-pull}168369[#168369]).
* Adds "Additional Fields" field to the Jira action form UI ({kibana-pull}179262[#179262]).
Dashboards::
* Adds logic and UI improvements where invalid controls selections are no longer ignored, improving the overall loading speed of a dashboard ({kibana-pull}174201[#174201]).
Discover::
* Allows storing a configured {esql} visualization ({kibana-pull}175227[#175227]).
* Adds document comparison mode ({kibana-pull}166577[#166577]).
Elastic Security::
For the Elastic Security 8.14.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
ES|QL::
* Adds a query history component which displays the 20 most recent queries ({kibana-pull}178302[#178302]).
Fleet::
* Adds subfeatures privileges for Fleet, for Agents, Agent policies and Settings, this feature is in technical preview ({kibana-pull}179889[#179889]).
* Implements state machine behavior for package install ({kibana-pull}178657[#178657]).
* Lowers the default `total_fields` limit to 1000 from 10k ({kibana-pull}178398[#178398]).
* Avoids subobject and scalar mapping conflicts by setting `subobjects: false` on custom integrations ({kibana-pull}178397[#178397]).
* Adds functionality to `default_fields` field, so a query can run against all fields in the mapping ({kibana-pull}178020[#178020]).
* Relaxes delete restrictions for managed content installed by Fleet ({kibana-pull}179113[#179113]).
Infrastructure::
* Adds a dashboard tab in the UI to the asset details view ({kibana-pull}178518[#178518]).
Lens & Visualizations::
* Replaces `expression_gauge` from `Goal` to `Bullet` in *Lens* ({kibana-pull}177766[#177766]).
Machine Learning::
* Removes the technical preview badge for pattern analysis ({kibana-pull}181020[#181020]).
* Adds query history for the {esql} Data visualizer ({kibana-pull}179098[#179098]).
Management::
* {kib} now uses Elasticsearch's `_async_search/status/{id}` endpoint (instead of `_async_search/{id}`) when polling on search requests to improve performance.({kibana-pull}178921[#178921]).
Observability::
* The timeslice SLOs calculation for the SLI value now includes the no data slices as good slices. For existing "Timeslice" SLOs you will need to use the `POST /api/observability/slos/{slo.id}/_reset` endpoint to reset the transforms to take advantage of the new calculation ({kibana-pull}181888[#181888]).
* Adds support for user instructions via Knowledge base or API request ({kibana-pull}180263[#180263]).
* Adds baseline alert detail pages ({kibana-pull}180256[#180256]).
* Adds a new connector that can call the AI assistant ({kibana-pull}179980[#179980]).
* Adds a link to Discover to view good/bad events in the event panel ({kibana-pull}178008[#178008]).
* Adds customization for Virtual Columns in Field List ({kibana-pull}177626[#177626]).
* Adds dependencies for Burn Rate rule suppression ({kibana-pull}177078[#177078]).
* Adds grouping by multiple values when creating SLOs, allowing for dynamic creation of multiple SLOs from a single SLI definition ({kibana-pull}175063[#175063]).
Uptime::
* Adds Monitor public API ({kibana-pull}169928[#169928]).

For more information about the features introduced in 8.14.0, refer to <<whats-new,What's new in 8.14>>.

[[enhancements-and-bug-fixes-v8.14.0]]
=== Enhancements and bug fixes

For detailed information about the 8.14.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.14.0]]
=== Enhancements
Alerting::
* Adds history chart for multiple conditions ({kibana-pull}180578[#180578]).
* Show Alerting rule JSON for API requests ({kibana-pull}180085[#180085]).
* Implement tabbed design for existing alert detail pages ({kibana-pull}179529[#179529]).
* Adds new rule type selection modal ({kibana-pull}179285[#179285]).
* Moves alerts filter controls to `@kbn/alerts-ui-shared` package ({kibana-pull}179243[#179243]).
* Improves alerts table actions column performance ({kibana-pull}178632[#178632]).
* Adds Insights component to alerts details ({kibana-pull}178330[#178330]).
* Adds support to dhow the number of additional filters that are applied on the alerts table ({kibana-pull}177275[#177275]).
* Adds error boundary to AlertsTable ({kibana-pull}176412[#176412]).
* Improves the performance of `join_by_key` ({kibana-pull}175177[#175177]).
APM::
* Show Universal Profiling data on transaction details page ({kibana-pull}176922[#176922]).
Connectors::
* Adds support for the Jira connector API to support the `otherFields` property to pass additional fields to be used when updating or creating issues via the link:https://developer.atlassian.com/cloud/jira/platform/rest/v2/api-group-issues/#api-rest-api-2-issue-post[Jira API] ({kibana-pull}178627[#178627]).
Dashboard::
* Reorganized panel actions in the actions menu ({kibana-pull}178596[#178596]).
* Adds panel styling improvements ({kibana-pull}178139[#178139]).
* Adds "Apply" button to stop controls selections being automatically applied ({kibana-pull}174714[#174714]).
Discover::
* Support field stats for {esql} query ({kibana-pull}178433[#178433]).
Elastic Security::
For the Elastic Security 8.14.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
ES|QL::
* Implicit casting changes ({kibana-pull}182989[#182989]).
* Adds validation and auto-complete for `date_diff` ({kibana-pull}182513[#182513]).
* Adds more functions to the validator ({kibana-pull}180640[#180640]).
* Adds an enhanced chart switcher to the *Lens* inline editing flyout ({kibana-pull}177790[#177790]).
Fleet::
* Adds support for dimension mappings in dynamic templates ({kibana-pull}180023[#180023]).
* Adds CPU metrics to request diagnostics ({kibana-pull}179819[#179819]).
* Adds Settings Framework API and UI ({kibana-pull}179795[#179795]).
* Adds an Elastic Defend advanced policy option for pruning capability arrays ({kibana-pull}179766[#179766]).
* Adds Agent activity flyout enhancements ({kibana-pull}179161[#179161]).
* Adds unhealthy reason (input/output/other) to agent metrics ({kibana-pull}178605[#178605]).
* Adds a warning which is displayed when trying to upgrade agent to version > max fleet server version ({kibana-pull}178079[#178079]).
Infrastructure::
* Adds alerts count to hosts data ({kibana-pull}176034[#176034]).
Lens & Visualizations::
* combines the chart type selection options into a single, layer-based chart switch ({kibana-pull}178971[#178971]).
Machine Learning::
* Hides file upload document count chart until data is searchable ({kibana-pull}181460[#181460]).
* Removes technical preview badge for pattern analysis ({kibana-pull}181020[#181020]).
* Adds support for ad-hoc Data Views for testing models in Trained Models UI ({kibana-pull}180795[#180795]).
* Adds open and edit panel actions for the Single Metric Viewer ({kibana-pull}179364[#179364]).
* Improves {esql} data visualizer performance with early limit and remove option to Analyze all ({kibana-pull}179286[#179286]).
* Adds query history for the {esql} Data visualizer ({kibana-pull}179098[#179098]).
* Hides the Filebeat configuration card for Serverless Search file upload ({kibana-pull}178987[#178987]).
* Improves performance of Field stats / Index data visualizer by reducing requests for empty fields, making it convenient to add multi-field ({kibana-pull}178766[#178766]).
* AIOps: Identify spike/dips with change point detection for log rate analysis ({kibana-pull}178338[#178338]).
* Adds ML feature privileges tooltip ({kibana-pull}181595[#181595]).
Management::
* Transforms: Use basic stats for transform list, call full stats only for expanded rows ({kibana-pull}180271[#180271]).
* Allows adding a custom description for data view fields ({kibana-pull}168577[#168577]).
Observability::
* Adds an advanced setting to enable simulated function calling ({kibana-pull}180621[#180621]).
* Adds a public API for /chat/complete ({kibana-pull}179618[#179618]).
* Persists settings in {es} instead of local storage ({kibana-pull}179380[#179380]).
* Allows filtering data views by type ({kibana-pull}179069[#179069]).
* Implements contextual actions ({kibana-pull}178405[#178405]).
* Adds the ability to create an SLI based on the availability of your synthetics monitors ({kibana-pull}177842[#177842]).
* Adds setting for user's preferred language for the AI assistant ({kibana-pull}176444[#176444]).
* Adds improvements to the AI assistants handling where a generated {esql} query has syntax errors ({kibana-pull}179919[#179919]).
* Adds grouping by multiple values when creating SLOs, allowing for dynamic creation of multiple SLOs from a single SLI definition({kibana-pull}175063[#175063]).
Platform::
* Adds a new option, `system`, to  the `theme:darkMode` Kibana advanced setting, that can be used to have Kibana's theme follow the system's (light or dark) ({kibana-pull}173044[#173044]).
Reporting::
* A feature has been deprecated which allowed users to download a CSV file from a saved search panel in a dashboard, without having a report generated. Now, when users need to access saved search data from a dashboard panel as CSV, a normal report will be generated. To access the deprecated functionality, you can add `xpack.reporting.csv.enablePanelActionDownload: true` to kibana.yml, but this ability will be removed in a future version of Kibana ({kibana-pull}178159[#178159]).
Security::
* Adds `Content-Security-Policy-Report-Only` header support ({kibana-pull}179949[#179949]).
* Renders a user-friendly UI for unhandled login failures ({kibana-pull}173959[#173959]).
* Migrates the Security AI Assistant into a flyout ({kibana-pull}176657[#176657]).
* Adds support for LangChain streaming for the `openai-functions` agent ({kibana-pull}174126[#174126]).
Unified Search::
* Adds auto-refresh pause when the page is not visible ({kibana-pull}177693[#177693]).
* Adds support for not clearing the value on the filter builder when the operator changes ({kibana-pull}176911[#176911]).

[float]
[[fixes-v8.14.0]]
=== Bug Fixes
Alerting::
* Fixes bug with aggregation building for {es} query rule when there are multi-terms and a group by field ({kibana-pull}182865[#182865]).
* Fixes using `recoveredCurrent` and `activeCurrent` to determine how to update old alerts ({kibana-pull}180934[#180934]).
* Fixes logging the errors reported by `addLastRunError` to the console ({kibana-pull}179962[#179962]).
* Preserves relative snooze when adding or removing snooze schedules ({kibana-pull}178344[#178344]).
* Reverts changes to notify when there is a change on connector configuration ({kibana-pull}177054[#177054]).
APM::
* Fixes the cardinality count for SLOs generated from a single SLI definition was previously incorrect for APM latency and APM availability SLIs ({kibana-pull}183171[#183171]).
* Fixes the telemetry collection of Logstash with metricbeat monitoring ({kibana-pull}182304[#182304]).
* Fixes otel service detection ({kibana-pull}180574[#180574]).
Cases::
* Displays the link to the Cases page under observability when Cases {kib} privileges are granted regardless of the other application privileges ({kibana-pull}182569[#182569]).
Canvas::
* Fixes workpad templates using legacy filters function ({kibana-pull}176093[#176093]).
Connectors::
* Removes secrets from the connectors before validating in `actionsClient` getAll ({kibana-pull}179837[#179837]).
Dashboard::
* Fixes opening panel title edit flyout only when panel title is clicked ({kibana-pull}180137[#180137]).
* Disallows copy to dashboard from a maximized panel ({kibana-pull}179422[#179422]).
Discover::
* Fixes issue where an ES query rule could be created with a data view, then the data view is changed but there's still a reference to the previous data view's timestamp field. ({kibana-pull}182883[#182883]).
* Fixes view all matches button for timestamps with numeric date formats ({kibana-pull}181769[#181769]).
* Fixes time range filters for CSV when a relative time filter is specified in UI ({kibana-pull}181067[#181067]).
* Fixes the status list to be static ({kibana-pull}177435[#177435]).
* Fixes a timeout for a "View all matches" request ({kibana-pull}181859[#181859]).
* Fixes tracking total hits for "View all matches" button ({kibana-pull}181811[#181811]).
* Fixes comments bugs in Discover and Data Visualizer ({kibana-pull}181283[#181283]).
* Fixes the problem with Discover and queries without the from command ({kibana-pull}180692[#180692]).
* Fixes displaying "Unsaved changes" badge on time filter changes in case time range is stored along with saved search ({kibana-pull}178659[#178659]).
Elastic Security::
For the Elastic Security 8.14.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
ES|QL::
* Fixes validation on string implicit casting for dates and other minor issues ({kibana-pull}181571[#181571]).
* Fixes validation for some specific {esql} types ({kibana-pull}181381[#181381]).
* Fixes retrieving the indices from AST parsing ({kibana-pull}181271[#181271]).
* Fixes max and min accepting date fields ({kibana-pull}180945[#180945]).
* Fixes autocomplete with incompatible arguments ({kibana-pull}180874[#180874]).
* Fixes providing the CCS indices on the autosuggestion ({kibana-pull}180610[#180610]).
* Fixes to `auto_bucket` and constant-only parameters ({kibana-pull}180509[#180509]).
* Fixes persisting columns sorting in saved search ({kibana-pull}180193[#180193]).
* Fixes client-side validation: make `and` and `or` accept `null` ({kibana-pull}179707[#179707]).
* Fixes to the @timestamp column ({kibana-pull}176834[#176834]).
* Fixes validation running on outdated queries when typing ({kibana-pull}180977[#180977]).
Fleet::
* Adds validation to dataset field in input packages to disallow special characters ({kibana-pull}182925[#182925]).
* Fixes rollback input package install on failure ({kibana-pull}182665[#182665]).
* Fixes cloudflare template error ({kibana-pull}182645[#182645]).
* Fixes displaying `Config` and `API reference` tabs if they are not needed ({kibana-pull}182518[#182518]).
* Fixes allowing fleet-server agent upgrade to newer than fleet-server ({kibana-pull}181575[#181575]).
* Fixes flattened inputs in the configuration tab ({kibana-pull}181155[#181155]).
* Adds callout when editing an output about plain text secrets being re-saved to secret storage ({kibana-pull}180334[#180334]).
* Removes unnecessary field definitions for custom integrations ({kibana-pull}178293[#178293]).
* Fixes secrets UI inputs in forms when secrets storage is disabled server side ({kibana-pull}178045[#178045]).
* Fixes not being able to preview or download files with special characters ({kibana-pull}176822[#176822]).
* Fixes KQL validation being applied in search boxes ({kibana-pull}176806[#176806]).
Lens & Visualizations::
* Fixes import to other spaces ({kibana-pull}183076[#183076]).
* Fixes clip path cutting mobile view in *Lens* ({kibana-pull}182376[#182376]).
* Fixes error message layer indexing in *Lens* ({kibana-pull}180898[#180898]).
* Fixes markdown table borders being visible in the text panels ({kibana-pull}180454[#180454]).
* Fixes default formatter for gauge charts in *Lens* ({kibana-pull}179473[#179473]).
* Fixes error for non-date histogram charts that contain `showCurrentTimeMarker:true` setting in *Lens* ({kibana-pull}179452[#179452]).
* Fixes overriding title when using the inline *Lens* editor ({kibana-pull}182897[#182897]).
Machine Learning::
* Single Metric Viewer: Ensures edit to different job works as expected ({kibana-pull}183086[#183086]).
* Single Metric Viewer: Fixes hover functionality in the anomalies table ({kibana-pull}182297[#182297]).
* Single Metric Viewer: Ensures chart displays correctly when opening from a job annotation ({kibana-pull}182176[#182176]).
* Single Metric Viewer: Displays error message when insufficient permissions ({kibana-pull}180858[#180858]).
* Fixes retention of categorization example limits ({kibana-pull}182103[#182103]).
* Fixes responsive layout for Trained Models table ({kibana-pull}181541[#181541]).
* Removes datafeed preview frozen tier message in serverless ({kibana-pull}181440[#181440]).
* ML anomaly swim lane: Ensure dashboard reset works correctly ({kibana-pull}181346[#181346]).
* AIOps: Fixes query string for the change point detection metric charts ({kibana-pull}181314[#181314]).
* AIOps: Fixes missing field caps filters for log rate analysis ({kibana-pull}181109[#181109]).
* AIOps: Fixes not running log rate analysis twice when no spike/dip is detected ({kibana-pull}180980[#180980]).
* Removes all SCSS files in favor of CSS ({kibana-pull}178314[#178314]).
* Fixes polling for blocked anomaly detection jobs ({kibana-pull}178246[#178246]).
* Adds trained model list permission UI tests ({kibana-pull}174045[#174045]).
Management::
* Fixes transform health rule failure with a long list of continuous transforms ({kibana-pull}183153[#183153]).
* The runtime field creation modal now shows indexed values instead of source values in the preview pane ({kibana-pull}181246[#181246]).
Monitoring::
* Fixes broken KQL filter for Cluster Health rule ({kibana-pull}183259[#183259]).
Observability::
* Fixes Triggered column timezone and format ({kibana-pull}182653[#182653]).
* Fixes refetching data views on save ({kibana-pull}181033[#181033]).
* Allows editing of charts when {es} query fails ({kibana-pull}180500[#180500]).
* Fixes Agent ID not being parsed correctly ({kibana-pull}180301[#180301]).
* Changes `Custom KQL` to `Custom Query` ({kibana-pull}179497[#179497]).
* Fixes filtering for a histogram legend value ({kibana-pull}178551[#178551]).
* Fixes an OpenAI Connector default model assignment bug ({kibana-pull}178369[#178369]).
Platform::
* Update static asset headers to include `public` and `immutable` link:https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control[cache control directives] to a large number of assets served by Kibana, which should reduce the number of requests for static assets in browsers that respect these directives. ({kibana-pull}180378[#180378]).
* Omits apiKey from RUM agent ({kibana-pull}178902[#178902]).
Presentation::
* Fixes clicking "Explore in maps" button not taking users to maps ({kibana-pull}181903[#181903]).
Security::
* Fixed escaped terminal codes logging in interactive plugin setup ({kibana-pull}180342[#180342]).
* Fixes an issue with Security Assistant send to timeline functionality ({kibana-pull}177771[#177771]).
SharedUX::
* Fixes multiline query in expanded mode displaying undefined for line number ({kibana-pull}181544[#181544]).
* Removes unused legacy markdown component ({kibana-pull}179272[#179272]).
* Fixes typo in chromium driver factory page event ({kibana-pull}178708[#178708]).
* Fixes not being able to enter the {esql} editor when the column menu is open ({kibana-pull}178622[#178622]).
* Fixes an issue in Reporting with consistently showing the toast message for completed report jobs ({kibana-pull}177537[#177537]).
* Fixes time picker to show allowed formats properly in absolute tabs ({kibana-pull}182152[#182152]).

[[release-notes-8.13.4]]
== {kib} 8.13.4

The 8.13.4 release includes the following bug fixes.

[float]
[[fixes-v8.13.4]]
=== Bug Fixes
Lens & Visualizations::
* Fixes table sorting when changing the interval on the time picker in *Lens* ({kibana-pull}182173[#182173]).
Dashboards::
* Fixes a bug with drilldowns where the control group on a source dashboard could be replaced by the control group from the destination dashboard ({kibana-pull}179485[#179485]).

[[release-notes-8.13.3]]
== {kib} 8.13.3

The 8.13.3 release includes the following bug fixes.

[float]
[[fixes-v8.13.3]]
=== Bug Fixes

Alerting::
* Manage loading fields at initialization ({kibana-pull}180412[#180412]).
Elastic Security::
For the Elastic Security 8.13.3 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Fixes managed agent policy preconfiguration update ({kibana-pull}181624[#181624]).
* Use lowercase dataset in template names ({kibana-pull}180887[#180887]).
* Fixes KQL/kuery for getting Fleet Server agent count ({kibana-pull}180650[#180650]).
Index Management::
* Fixes `allow_auto_create` field in the Index Template form ({kibana-pull}178321[#178321]).
Lens & Visualizations::
* Fixes controls on fields with custom label ({kibana-pull}180615[#180615]).
Machine Learning::
* Fixes deep link for Index data visualizer & ES|QL data visualizer ({kibana-pull}180389[#180389]).
Observability::
* Make anomalyDetectorTypes optional ({kibana-pull}180717[#180717]).
SharedUX::
* Revert change to shared UX markdown component for dashboard vis ({kibana-pull}180906[#180906]).
Sharing::
* Default to saved object description when panel description is not provided ({kibana-pull}181177[#181177]).

[[release-notes-8.13.2]]
== {kib} 8.13.2

The 8.13.2 release includes the following bug fixes.

[float]
[[fixes-v8.13.2]]
=== Bug Fixes
Canvas::
* Fixes text settings to be honored in Canvas markdown elements ({kibana-pull}179948[#179948]).
* Fixes custom styling for Canvas markdown Workpads ({kibana-pull}180070[#180070]).
Discover::
* Fixes keyboard navigation for search input on the document viewer flyout ({kibana-pull}180022[#180022]).
Elastic Security::
For the Elastic Security 8.13.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Fixes having to wait ten minutes after agent upgrade if agent cleared watching state ({kibana-pull}179917[#179917]).
Fixes using the latest available version in K8's manifest instead of the latest compatible version ({kibana-pull}179662[#179662]).
* Fixes a step in add agent instructions where a query to get all agents was unnecessary ({kibana-pull}179603[#179603]).
Lens & Visualizations::
* Fixes custom styling for TSVB markdown visualizations ({kibana-pull}180053[#180053]).
Machine Learning::
* Single Metric Viewer embeddable: Ensures the detector index is passed to chart correctly ({kibana-pull}179761[#179761]).
* AIOps: Fixes text field candidate selection for log rate analysis ({kibana-pull}179699[#179699]).
Management::
* Fixes the Response tab loading time to be faster ({kibana-pull}180035[#180035]).
Maps::
* Fixes APM data view ID ({kibana-pull}179257[#179257]).
Monitoring::
* Fixes a runtime error by adding a default value for source and target ({kibana-pull}180043[#180043]).
Operations::
* Fixes an issue with {kib} looking for a configuration file outside of the {kib} home directory, potentially preventing startup due to insufficient permissions ({kibana-pull}179847[#179847]).

[[release-notes-8.13.1]]
== {kib} 8.13.1

The 8.13.1 release includes the following bug fixes.

[float]
[[enhancement-v8.13.1]]
=== Enhancements
Fleet::
* Remove `index.query.default_field` setting from managed component template settings ({kibana-pull}178020[#178020]).

[float]
[[fixes-v8.13.1]]
=== Bug Fixes
Alerting::
* Limit useEffect to calculate view in app URL ({kibana-pull}179197[#179197]).
Data Discovery::
* Hide "Save"/"Save as" actions from "Unsaved changes" badge for read-only users ({kibana-pull}179132[#179132]).
Elastic Security::
For the Elastic Security 8.13.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Use index exists check in fleet-metrics-task ({kibana-pull}179404[#179404]).
Lens & Visualizations::
* Fixes wilcard complex scenarios ({kibana-pull}178938[#178938]).
Machine Learning::
* AIOps: Fix text field candidate selection for log rate analysis ({kibana-pull}179699[#179699]).
Observability::
* Fall back to top 5 docs on scoring error ({kibana-pull}179615[#179615]).
* Fixing APM data view id ({kibana-pull}179257[#179257]).

[[release-notes-8.13.0]]
== {kib} 8.13.0

For information about the {kib} 8.13.0 release, review the following information.

[float]
[[known-issues-8.13.0]]
=== Known issues

[discrete]
[[known-179457]]
.In Canvas, an empty text element incorrectly triggers a toast notification
[%collapsible]
====
*Details* +
In Canvas, an empty text element incorrectly triggers a "Markdown content is required in [readOnly] mode" toast notification. For more information, refer to ({kibana-pull}179457[#179457]).
====

[discrete]
[[known-177938-8.13]]
.Index templates UI incorrectly sets the `allow_auto_create` field to `false` by default.
[%collapsible]
====
*Details* +
If you are creating or editing an index template using the Index Templates form under the Index Management page, the `allow_auto_create` field is incorrectly set to `false` by default (the default value should be `undefined`). For more information, refer to ({kibana-issue}177938[#177938]).
====

[float]
[[breaking-changes-8.13.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.13.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Removes conditional topics for Kafka outputs
[%collapsible]
====
*Details* +
The Kafka output no longer supports conditional topics. For more information, refer to ({kibana-pull}176879[#176879]).
====

[discrete]
.Most Fleet installed integrations are now read-only and labelled with a *Managed* tag in the Kibana UI
[%collapsible]
====
*Details* +

Integration content installed by {fleet} is no longer editable. This content is tagged with *Managed* in the {kib} UI, and is Elastic managed. This content cannot be edited or deleted, however managed visualizations, dashboards, and saved searches can be cloned. The clones can be customized.

When cloning a dashboard the cloned panels become entirely independent copies that are unlinked from the original configurations and dependencies.

Managed content relating to specific visualization editors such as Lens, TSVB, and Maps, the clones retain the original reference configurations. The same applies to editing any saved searches in a managed visualization.

For more information, refer to ({kibana-pull}172393[#172393]).
====

[discrete]
.Removes `is_nan`, `is_finite`, and `is_infinite` functions from {esql}
[%collapsible]
====
*Details* +
These functions have been removed from {esql} queries as they are not supported. Errors would be thrown when trying to use them. For more information, refer to ({kibana-pull}174674[#174674]).
====

[float]
[[features-8.13.0]]
=== Features
{kib} 8.13.0 adds the following new and notable features.

Alerting::
* The Custom Threshold rule is now out of technical preview and generally available ({kibana-pull}176514[#176514]).
* Adds threshold to the custom threshold alert document ({kibana-pull}176043[#176043]).
* Adds the ability to post Block Kit messages to the Slack Web API action ({kibana-pull}174303[#174303]).
* Adds criticality fields and risk score fields to alert schema ({kibana-pull}174626[#174626]).
* Adds fields table to rule details page alert flyout ({kibana-pull}172830[#172830]).
APM::
* Show Universal Profiling on Transaction view ({kibana-pull}176302[#176302]).
* Adds a specific metrics dashboard for opentelemetry-node services ({kibana-pull}174700[#174700]).
Dashboards::
* Adds the creating of {esql} charts from the dashboard ({kibana-pull}171973[#171973]).
Elastic Security::
For the Elastic Security 8.13.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
{esql}::
* Adds enhanced {esql} query editing experience with client side validation ({kibana-pull}170071[#170071]).
Fleet::
* Adds reference to `ecs@mappings` for each index template ({kibana-pull}174855[#174855]).
* Adds support for the `subobjects` setting on the object type mapping ({kibana-pull}171826[#171826]).
Infrastructure::
* Adds a new Services component to host details UI ({kibana-pull}176539[#176539]).
Integrations::
* Adds tiles for Notion and Redis connectors ({kibana-pull}177306[#177306]).
Lens & Visualizations::
* Adds workspace panel dimensions by chart type ({kibana-pull}168651[#168651]).
Machine Learning::
* Adds the single metric viewer embeddable for dashboards ({kibana-pull}175857[#175857]).
* Adds support for {esql} in Data visualizer ({kibana-pull}174188[#174188]).
Management::
* Adds a method of excluding data tiers when getting a field list ({kibana-pull}167946[#167946]).
Reporting::
* Adds support for 'auto' value for CSV scrolling duration ({kibana-pull}175005[#175005]).
* Adds CSV reporting with {esql} in Discover ({kibana-pull}174511[#174511]).
Observability::
* Adds actions column ({kibana-pull}175872[#175872]).
* Adds resource column with tooltip ({kibana-pull}175287[#175287]).
* Adds support for the Timeslice Metric visualization on the SLO detail page ({kibana-pull}175281[#175281]).
* Refactor alert table registration and change default columns ({kibana-pull}175119[#175119]).
* Adds customization for virtual columns and add the 1st virtual column ({kibana-pull}173732[#173732]).
* Adds a new option, Visualize this query, to the generated {esql} quires in the Elastic Assistant ({kibana-pull}174677[#174677]).

For more information about the features introduced in 8.13.0, refer to <<whats-new,What's new in 8.13>>.

[[enhancements-and-bug-fixes-v8.13.0]]
=== Enhancements and bug fixes

For detailed information about the 8.13.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.13.0]]
=== Enhancements
Alerting::
* Improve default AlertsTable columns configuration ({kibana-pull}176137[#176137]).
* Evenly distribute bulk-enabled alerting rules ({kibana-pull}172742[#172742]).
* Implement a mechanism to copy source data into the alerts-as-data documents for ES Query rules ({kibana-pull}171129[#171129]).
APM::
* Adds detectors for anomaly rules creation ({kibana-pull}171901[#171901]).
* Allows Universal Profiling agent to send error frames ({kibana-pull}176537[#176537]).
* Adds Azure settings ({kibana-pull}176386[#176386]).
* Adds table search to services, transactions and errors ({kibana-pull}174490[#174490]).
* Adds memoization to hooks consumed on service inventory page ({kibana-pull}173973[#173973]).
* Adds stack traces Threads embeddable ({kibana-pull}173905[#173905]).
* Enhances the diff topN functions ({kibana-pull}173397[#173397]).
* Updates Indices API to support sourcemap parameters ({kibana-pull}177847[#177847]).
* Fixes sorting instances table results on server-side ({kibana-pull}174164[#174164]).
Cases::
* Required custom fields now support default values, which will be used to automatically populate the custom fields if they are not defined when creating and updating cases ({kibana-pull}175961[#175961]).
* Persists all filter options of the cases table, including custom fields, in the URL. The filtering is also persisted when navigating back and forth between pages ({kibana-pull}175237[#175237]).
* Enables the alerts table for cases in the Stack Management ({kibana-pull}172217[#172217]).
Dashboard::
* Adds step setting for range slider control ({kibana-pull}174717[#174717]).
* Adds a deprecation badge in Dashboard on legacy control panels ({kibana-pull}174302[#174302]).
* Adds external link icon to external URL links in the Links panel ({kibana-pull}174407[#174407]).
* Re-adds filtering settings in the Control settings UI ({kibana-pull}172857[#172857]).
* Adds number field support the the Options List control({kibana-pull}172106[#172106]).
Discover::
* Hides the Empty fields section if there are no fields in it ({kibana-pull}172956[#172956]).
* Adds data table header row height configuration ({kibana-pull}175501[#175501]).
* Adds new fields ingested in the background to the field list with valid mappings ({kibana-pull}172329[#172329]).
* Adds caching to data view field list request with a `stale-while-revalidate` strategy ({kibana-pull}168910[#168910]).
* Distinguish among empty and available fields in Discover {esql} mode ({kibana-pull}174585[#174585]).
Elastic Security::
For the Elastic Security 8.13.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Elastic Search::
* Adds `ignore_empty_value` to generated set processor ({kibana-pull}175172[#175172]).
{esql}::
* Adds clickable badges on compact view for {esql} queries ({kibana-pull}176568[#176568]).
* Adds link on the documentation popover to navigate to our external docs ({kibana-pull}176377[#176377]).
* Adds support for canceling {esql} queries in *Lens* ({kibana-pull}176277[#176277]).
* Adds quick fixes feature to {esql} query validation errors ({kibana-pull}175553[#175553]).
* Adds support for command settings ({kibana-pull}175114[#175114]).
* Allows line breaks on the {esql} editor ({kibana-pull}173596[#173596]).
Fleet::
* Adds `skipRateLimitCheck` flag to the Upgrade API and Bulk_upgrade API ({kibana-pull}176923[#176923]).
* Adds making datastream rollover lazy ({kibana-pull}176565[#176565]).
* Stops creating  the `{type}-{datastet}@custom` component template during package installation ({kibana-pull}175469[#175469]).
* Adds the `xpack.fleet.isAirGapped` flag ({kibana-pull}174214[#174214]).
* Adds a warning when download upgrade is failing ({kibana-pull}173844[#173844]).
* Adds a message explaining why an agent is not upgradeable ({kibana-pull}173253[#173253]).
* Makes logs-* and metrics-* data views available across all spaces ({kibana-pull}172991[#172991]).
* Adds flag for pre-release to templates/inputs endpoint ({kibana-pull}174471[#174471]).
* Adds concurrency control to Fleet data stream API handler ({kibana-pull}174087[#174087]).
* Adds a handlebar helper to percent encode a given string ({kibana-pull}173119[#173119]).
Integrations::
* Enables minute frequency for incremental syncs ({kibana-pull}176603[#176603]).
Lens & Visualizations::
* Datatable improvements in *Lens* ({kibana-pull}174994[#174994]).
* Adds IP Prefix Aggregation-based Visualization ({kibana-pull}173474[#173474]).
* Displays the suggestions on the dataview mode charts in *Lens* ({kibana-pull}172924[#172924]).
* Enables treemap in suggestions in *Lens* ({kibana-pull}169095[#169095]).
Machine Learning::
* AIOps: Adds UI action for Change Point Detection embeddable to open in the ML app ({kibana-pull}176694[#176694]).
* AIOps: Enhances display of results for alias field types in pattern analysis ({kibana-pull}176586[#176586]).
* Enhances support for {esql} Data visualizer ({kibana-pull}176515[#176515]).
* Adds a prompt to delete alerting rules upon the anomaly detection job deletion ({kibana-pull}176049[#176049]).
* Adds grok highlighting to the file data visualizer ({kibana-pull}175913[#175913]).
* Adds a warning if trained model is referenced by the `_inference` API ({kibana-pull}175880[#175880]).
* Adds a feedback button to anomaly explorer and single metric viewer for metrics hosts anomaly detection jobs ({kibana-pull}175613[#175613]).
* Adds actions menu to anomaly markers in Single Metric Viewer chart ({kibana-pull}175556[#175556]).
* AIOps: Adds expanded rows to pattern analysis table ({kibana-pull}175320[#175320]).
* AIOps: Adds link to log rate analysis from anomaly table ({kibana-pull}175289[#175289]).
* AIOps: Improves pattern analysis refresh behavior ({kibana-pull}174516[#174516]).
* Adds option for using table layout in the Change Point Detection embeddable ({kibana-pull}174348[#174348]).
* Adds high count option to the anomaly detection categorization wizard ({kibana-pull}174252[#174252]).
* Improves Data drift time range selection & shows hints for analysis process ({kibana-pull}174049[#174049]).
* Adds link to anomaly detection job creation from the alerting rule form ({kibana-pull}174016[#174016]).
* Adds warning for legacy method for installing pre-configured APM transaction job ({kibana-pull}173375[#173375]).
* Enhances toast notifications to improve error reporting ({kibana-pull}173362[#173362]).
* Adds document count chart for file upload ({kibana-pull}173210[#173210]).
* Trained models: Adds workflow for creating an ingest pipeline for a trained model ({kibana-pull}170902[#170902]).
* Updates alerts-as-data payload for Anomaly detection health and Transform health rules ({kibana-pull}176307[#176307]).
Management::
* Changes the column "Components" in the index templates table to display number of component templates ({kibana-pull}175823[#175823]).
Maps::
* Adds support in maps for the {esql} `geo_shape` column type ({kibana-pull}175156[#175156]).
* Adds a {esql} card to the add layer UI in maps ({kibana-pull}173481[#173481]).
* Displays vector tile results in vector tile inspector ({kibana-pull}172627[#172627]).
Observability::
* Enable burn rate alert by default during creation via UI ({kibana-pull}176317[#176317]).
* Implements Bedrock support for the Claude models ({kibana-pull}176191[#176191]).
* Adds link for AI Assistant in Observability left hand navigation ({kibana-pull}176144[#176144]).
* Handle token limit error message improvement ({kibana-pull}175871[#175871]).
* Corrects common {esql} mistakes ({kibana-pull}175520[#175520]).
* Adds resource column with tooltip ({kibana-pull}175287[#175287]).
* Adds alert fields table to Observability flyout ({kibana-pull}174685[#174685]).
Platform::
* Adds an option to disable APM user redaction ({kibana-pull}176566[#176566]).
Reporting::
* Updated CSV export to insert error messages into the contents if the export results in an empty file due to an error ({kibana-pull}175852[#175852]).
* Adds setting to use PIT or Scroll API ({kibana-pull}174980[#174980]).
Security::
* Default value of `server.securityResponseHeaders.referrerPolicy` changed to `strict-origin-when-cross-origin` ({kibana-pull}177559[#177559]).
* Adds server side validation for uploaded file types ({kibana-pull}173960[#173960]).
Sharing::
* Show 'View details' UI action to open clusters inspector tab when request fails ({kibana-pull}172971[#172971]).
Unified Search::
* Adds 'greater than or equals to' and 'less than' options to filter options for date ranges and numbers ({kibana-pull}174283[#174283]).
* Adds a one minute option to the date picker ({kibana-pull}172944[#172944]).
* Adds multiple improvements to saved query management ({kibana-pull}170599[#170599]).

[float]
[[fixes-v8.13.0]]
=== Bug Fixes
Alerting::
* Fixes Elasticsearch query rule with KQL evaluation matched document count ({kibana-pull}176620[#176620]).
* Fixes alerts not being visible when number of alerts are more than max alert limit ({kibana-pull}178019[#178019]).
* Fixes `ruleClient.getAlertState` error when a task is no longer available ({kibana-pull}177077[#177077]).
* Fixes AlertsTable sorting with inactive columns and default sort direction ({kibana-pull}176172[#176172]).
APM::
* Fixes an infinite loop caused by matching child and parent IDs ({kibana-pull}177914[#177914]).
* Fixes inconsistencies on Service Overview page ({kibana-pull}176293[#176293]).
* Fixes occurrences cut off value to be fully visible ({kibana-pull}175307[#175307]).
Cases::
* Fixes a bug where if there are required custom fields on a case whose values are empty, it is not possible to update any of those fields ({kibana-pull}176574[#176574]).
Dashboard::
* Fixes hidden add panel popover on smaller viewports ({kibana-pull}178593[#178593]).
* Fixes form validation when saving Links to library ({kibana-pull}176021[#176021]).
Design::
* Fixes a11y concerns ({kibana-pull}174772[#174772]).
Discover::
* Update full screen handling to fix z-index issues in {kib} ({kibana-pull}178788[#178788]).
* Fixes "New" link in {esql} mode ({kibana-pull}177038[#177038]).
* Fixes grid column settings on Surrounding Documents page ({kibana-pull}177003[#177003]).
* Fixes time zone for field popover histogram and removes `getTimeZone` duplicates ({kibana-pull}172705[#172705]).
* Fixes including global filters when opening a saved search ({kibana-pull}175814[#175814]).
* Fixes loading a missing data view in the case where it's not provided by the consuming plugin ({kibana-pull}173017[#173017]).
Elastic Security::
For the Elastic Security 8.13.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Elastic Search::
* Fixes minor problems with integrations for Enterprise Search ({kibana-pull}177570[#177570]).
Fleet::
* Fixes a bug where secret values were not deleted on output type change ({kibana-pull}178964[#178964]).
* Fixes formatting for some integrations on the overview page ({kibana-pull}178937[#178937]).
* Fixes the name of {es} output workers configuration key ({kibana-pull}178329[#178329]).
* Fixes clean up of the `.fleet-policies` entries when deleting an agent policy. ({kibana-pull}178276[#178276]).
* Fixes only showing remote {es} output health status if later than last updated time ({kibana-pull}177685[#177685]).
* Fixes status summary when `showUpgradeable` is selected ({kibana-pull}177618[#177618]).
* Fixes issue of agent sometimes not getting inputs using a new agent policy with system integration ({kibana-pull}177594[#177594]).
* Fixes the activity flyout keeping the scroll state on rerender ({kibana-pull}177029[#177029]).
* Fixes inactive popover tour not resetting ({kibana-pull}176929[#176929]).
* Fixes `isPackageVersionOrLaterInstalled` to check for installed package ({kibana-pull}176532[#176532]).
* Removes pre-release exception for Synthetics package ({kibana-pull}176249[#176249]).
* Fixes output validation when creating package policy ({kibana-pull}175985[#175985]).
* Fixes allowing an agent to upgrade to a newer patch version than fleet-server ({kibana-pull}175775[#175775]).
* Fixes asset creation during custom integration installation ({kibana-pull}174869[#174869]).
* Fixes cascading agent policy's namespace to package policies ({kibana-pull}174776[#174776]).
Infrastructure::
* Fixing derivative aggregation on kubernetes pods ({kibana-pull}177295[#177295]).
Lens & Visualizations::
* Fixes handling of `doc_count` on time shift scenarios ({kibana-pull}178394[#178394]).
* Fixes the title of a formula based metric visualization defaulting to `Formula` in *Lens* ({kibana-pull}177299[#177299]).
* Fixes sorting on table when using Last value on date field in *Lens* ({kibana-pull}177288[#177288]).
* Align formatters for point and range annotations in *Lens* ({kibana-pull}177199[#177199]).
* Fixes the mapping of {es} fields ({kibana-pull}176665[#176665]).
* Fixes the display of warnings with additional information ({kibana-pull}176660[#176660]).
* Fixes clicking the editor closing the {esql} documentation popover ({kibana-pull}176394[#176394]).
* Fixes creating or removing layers in *Lens* loosing focus ({kibana-pull}175893[#175893]).
* Fixes using the same adhoc data views for queries with the same index pattern ({kibana-pull}174736[#174736]).
* Fixes the markdown editor not expanding to fill vertical space ({kibana-pull}174276[#174276]).
Machine Learning::
* Preserves field formatters between rule executions ({kibana-pull}178621[#178621]).
* Fixes quick create geo job created by ID ({kibana-pull}177691[#177691]).
* AIOps: Fixes incomplete edge buckets for change point detection ({kibana-pull}177579[#177579]).
* AIOps: Fixes grouping for fields with large arrays ({kibana-pull}177438[#177438]).
* Fixes Single Metric Viewer's zoom settings in URL are not restored if URL specifies a forecast ID ({kibana-pull}176969[#176969]).
* Adds delay to deletion modal to avoid flickering ({kibana-pull}176424[#176424]).
* Fixes Single Metric Viewer not showing chart for metric functions and mismatch function in tooltip ({kibana-pull}176354[#176354]).
* Fixes multi-match query overriding filters in Data Visualizer and Data Drift ({kibana-pull}176347[#176347]).
* Fixes only enabling apply button in anomaly detection datafeed chart if changes have been made ({kibana-pull}174425[#174425]).
Management::
* Fixes editing a rollup data view ({kibana-pull}177446[#177446]).
* Fixes showing previously selected no time field setting ({kibana-pull}177221[#177221]).
* Fixes package showing 'Needs authorization' warning even after transform assets were authorized successfully ({kibana-pull}176647[#176647]).
* Removes the polling interval to reload indices in the background ({kibana-pull}174681[#174681]).
* Fixes keeping the filters value in the URL for the indices list ({kibana-pull}174515[#174515]).
* Fixes categorizing fields as empty that never had a value in matching indices ({kibana-pull}174063[#174063]).
* Fixes the badge for managed data streams in Index Management ({kibana-pull}173408[#173408]).
* Some input fields are now disabled when editing managed repositories in Snapshot & Restore ({kibana-pull}173137[#173137]).
* Input fields to change snapshot name and repository are now disabled when editing managed SLM policies in Snapshot & Restore ({kibana-pull}172291[#172291]).
Maps::
* Fixes Request URL Too Long (414) with heatmap layer when data view has larger number of date fields ({kibana-pull}177900[#177900]).
* Fixes the maps application breaking if you open a map with layers or sources that do not exist (#176419).
Observability::
* SLOs: Does not display group by cardinality when group by is not selected ({kibana-pull}178133[#178133]).
* Fixes bug in inventory rule for Inbound and Outbound traffic threshold (both preview and executor) ({kibana-pull}177997[#177997]).
* Fixes more lenient parsing of suggestion scores ({kibana-pull}177898[#177898]).
* Fixes refreshing the conversations list on conversation update ({kibana-pull}177897[#177897]).
* Fixes SLO details path is broken when `instanceId` contains a forward slash ({kibana-pull}177843[#177843]).
* Prevents users from picking date fields for the group-by selector ({kibana-pull}177830[#177830]).
* Fixes undefined issue cased due row check missing ({kibana-pull}177293[#177293]).
* Fixes making IDs unique to capture multiple invocations of the same query ({kibana-pull}173433[#173433]).
Querying & Filtering::
* Fixes autocomplete value suggestions for KQL when the corresponding index has no tier preference set ({kibana-pull}176355[#176355]).
SharedUX::
* Fixes how sample data test install state is determined in test ({kibana-pull}178529[#178529]).
* Fixed a bug in Stack Management Reporting where the Delete button was not disabled after click ({kibana-pull}173707[#173707]).
Uptime::
* Require `unifiedSearch` plugin and include in top-level Kibana Context Provider ({kibana-pull}178421[#178421]).
* Omit the request `Content-Type` header if body check is empty ({kibana-pull}178399[#178399]).
* Fixes Certificates page for monitors that have status alert disabled ({kibana-pull}178336[#178336]).
* Fixes allowing Synthetics global parameters to include dashes ({kibana-pull}178054[#178054]).
* Change test now trigger route from GET to POST ({kibana-pull}177093[#177093]).
* Fixes and simplifies write access default behavior ({kibana-pull}177088[#177088]).

[[release-notes-8.12.2]]
== {kib} 8.12.2

The 8.12.2 release includes the following bug fixes.

[float]
[[fixes-v8.12.2]]
=== Bug Fixes
Alerting::
* Fixes Discover results when an alert excludes matches from previous runs ({kibana-pull}176690[#176690]).
* Fixes bug where using select all on the rules list bypassed filters ({kibana-pull}176962[#176962]).
Elastic Security::
For the Elastic Security 8.12.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Fixes a popover about inactive agents not being dismissible ({kibana-pull}176929[#176929]).
* Fixes logstash output being link:https://www.rfc-editor.org/rfc/rfc952[RFC-952] compliant ({kibana-pull}176298[#176298]).
* Fixes assets being unintentionally moved to the default space during Fleet setup ({kibana-pull}176173[#176173]).
* Fixes categories labels in integration overview ({kibana-pull}176141[#176141]).
* Fixes the ability to delete agent policies with inactive agents from UI, the inactive agents need to be unenrolled first ({kibana-pull}175815[#175815]).
Machine Learning::
* Fixes Single Metric Viewer's zoom range settings in URL not being restored if the URL specifies a `forecastId` ({kibana-pull}176969[#176969]).
* Fixes incorrect document count values in Top Values statistics ({kibana-pull}176328[#176328]).
* Fixes color of markers in Single Metric Viewer when there is sparse data for anomaly detection ({kibana-pull}176303[#176303]).
Management::
* Fixes package showing 'Needs authorization' warning even after transform assets were authorized successfully ({kibana-pull}176647[#176647]).
Observability::
* Fixes and simplifies write access default behavior ({kibana-pull}177088[#177088]).
* Fixes recall speed when using CVS output ({kibana-pull}176428[#176428]).

[[release-notes-8.12.1]]
== {kib} 8.12.1

The 8.12.1 release includes the following enhancements and bug fixes.

[float]
[[enhancement-v8.12.1]]
=== Enhancements

Elastic Security::
For the Elastic Security 8.12.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Observability::
* Adds `defer_validation: true` to transforms on creation to stop errors when the destination index doesn't exist yet ({kibana-pull}174463[#174463]).

[float]
[[fixes-v8.12.1]]
=== Bug Fixes
Alerting::
* Fixes context variables not being passed in to the action parameters when an alert- as-data document is available ({kibana-pull}175682[#175682]).
* Fixes the Rules page loosing user selections when navigating back ({kibana-pull}174954[#174954]).
* Fixes the custom threshold rendering in the create rule flyout ({kibana-pull}174982[#174982]).
APM::
* Fixes a transactions error link for mobile ({kibana-pull}174655[#174655]).
* Increases the number of maximum function calls from 3 to 5 ({kibana-pull}175588[#175588]).
Dashboard::
* Fixes a caching issue that caused problems updating dashboard information ({kibana-pull}175635[#175635]).
Elastic Security::
For the Elastic Security 8.12.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Fixes the display of category label on the Integration overview page ({kibana-pull}176141[#176141]).
* Fixes conflicting dynamic template mappings for intermediate objects ({kibana-pull}175970[#175970]).
* Fixes reserved keys for Elasticsearch output YAML box ({kibana-pull}175901[#175901]).
* Prevent deletion of agent policies with inactive agents from UI ({kibana-pull}175815[#175815]).
* Fixes incorrect count of agents in bulk actions ({kibana-pull}175318[#175318]).
* Fixes a custom integrations not displaying on the Installed integrations page ({kibana-pull}174804[#174804]).
Lens & Visualizations::
* Fixes a validation error for invalid formula and math columns in *Lens* ({kibana-pull}175644[#175644]).
Machine Learning::
* Fixes Allocation rendering for failed deployments ({kibana-pull}174882[#174882]).
* Fixes an issue where a user could create an anomaly rule but couldn't see it or interact with the rule via stack management ({kibana-pull}174791[#174791]).
Security::
* Fixes API Key table sorting ({kibana-pull}175813[#175813]).
* Ensures all API Keys have a defined name ({kibana-pull}175721[#175721]).
* Fixes an issue with `@kbn-handlebars`, where nested inputs were not being escaped properly ({kibana-pull}175490[#175490]).

[[release-notes-8.12.0]]
== {kib} 8.12.0

For information about the {kib} 8.12.0 release, review the following information.

[float]
[[known-issues-8.12.0]]
=== Known issues

[discrete]
[[known-177938-8.12]]
.Index templates UI incorrectly sets the `allow_auto_create` field to `false` by default.
[%collapsible]
====
*Details* +
If you are creating or editing an index template using the Index Templates form under the Index Management page, the `allow_auto_create` field is incorrectly set to `false` by default (the default value should be `undefined`). For more information, refer to ({kibana-issue}177938[#177938]).
====

[float]
[[breaking-changes-8.12.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.12.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.New SLO architecture
[%collapsible]
====
*Details* +
We introduce a breaking change in the SLO features that will break any SLOs created before 8.12. These SLOs have to be manually reset through an API until we provide a UI for it. The data aggregated over time (rollup) is still available in the sli v2 index, but won't be used for summary calculation when reset.

The previous summary transforms summarizing every SLOs won't be used anymore and can be stopped and deleted:

* slo-summary-occurrences-7d-rolling
* slo-summary-occurrences-30d-rolling
* slo-summary-occurrences-90d-rolling
* slo-summary-occurrences-monthly-aligned
* slo-summary-occurrences-weekly-aligned
* slo-summary-timeslices-7d-rolling
* slo-summary-timeslices-30d-rolling
* slo-summary-timeslices-90d-rolling
* slo-summary-timeslices-monthly-aligned
* slo-summary-timeslices-weekly-aligned

Be aware that when installing a new SLO (or after resetting an SLO), we install two transforms (one for the rollup data and one that summarize the rollup data). Do not delete the new `slo-summary-{slo_id}-{slo_revision}` transforms. For more information, refer to ({kibana-pull}172224[#172224]).
====

[discrete]
.A new sub-feature privilege to control user access to the cases settings
[%collapsible]
====
*Details* +
Roles with at least a sub-feature privilege configured will not have access to the cases setting like they had previously. All roles without a sub-feature privilege configured will not be affected. For more information, refer to ({kibana-pull}170635[#170635]).
====

[float]
[[features-8.12.0]]
=== Features
{kib} 8.12.0 adds the following new and notable features.

APM::
* Adds viewInApp URL to the custom threshold rule type ({kibana-pull}171985[#171985]).
* Adds back the mobile crashes & errors tab ({kibana-pull}165892[#165892]).
Cases::
* The case list filter bar is now customizable, filters are removable and custom fields can be used as filters ({kibana-pull}172276[#172276]).
Elastic Security::
For the Elastic Security 8.12.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Elastic Search::
* Display E5 multilingual callout ({kibana-pull}171887[#171887]).
* Replace model selection dropdown with list ({kibana-pull}171436[#171436]).
Fleet::
* Adds support for preconfigured output secrets (Scrypt edition) ({kibana-pull}172041[#172041]).
* Adds UI components to create and edit output secrets ({kibana-pull}169429[#169429]).
* Adds support for remote ES output ({kibana-pull}169252[#169252]).
* Adds the ability to specify secrets in outputs ({kibana-pull}169221[#169221]).
* Adds an integrations configs tab to display input templates ({kibana-pull}168827[#168827]).
* Adds a {kib} task to publish Agent metrics ({kibana-pull}168435[#168435]).
Lens & Visualizations::
* Adds the ability to edit charts made by {esql} queries in Dashboard ({kibana-pull}169911[#169911]).
Machine Learning::
* Adds E5 model configurations ({kibana-pull}172053[#172053]).
* Adds the ability to create a categorization anomaly detection job from pattern analysis ({kibana-pull}170567[#170567]).
* Adds and displays alerts data in the Anomaly Explorer ({kibana-pull}167998[#167998]).
Observability::
* Adds logic to update flyout highlights ({kibana-pull}172193[#172193]).
* Adds logic to display highlights in the flyout ({kibana-pull}170650[#170650]).
* Changes the Custom threshold title to Beta ({kibana-pull}172360[#172360]).
Security::
* Disables the connector parameters field ({kibana-pull}173610[#173610]).
* Adds a risk engine missing privileges callout ({kibana-pull}171250[#171250]).
* Asset criticality privileges API ({kibana-pull}172441[#172441]).
Uptime::
* Global params Public APIs ({kibana-pull}169669[#169669]).
* Private location public API's ({kibana-pull}169376[#169376]).
* Settings public API ({kibana-pull}163400[#163400]).

For more information about the features introduced in 8.12.0, refer to <<whats-new,What's new in 8.12>>.

[[enhancements-and-bug-fixes-v8.12.0]]
=== Enhancements and bug fixes

For detailed information about the 8.12.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.12.0]]
=== Enhancements
Alerting::
* Auto close ServiceNow incidents when alerts are resolved ({kibana-pull}171760[#171760]).
* PagerDuty connector now supports the links and `custom_details` attributes ({kibana-pull}171748[#171748]).
* Adds a mute and unmute action component in the alerts table row actions ({kibana-pull}170651[#170651]).
* Extends the PagerDuty connector API to support the `links` and `custom_details` attributes provided by the Event API ({kibana-pull}170459[#170459]).
* Adds toggle for alert as data fields in alert templating ({kibana-pull}170162[#170162]).
APM::
* Perform functions and LLM interactions on the server ({kibana-pull}172590[#172590]).
* Adds viewInApp URL to the custom threshold rule type ({kibana-pull}171985[#171985]).
* Adds the KQL bar to embeddables ({kibana-pull}171016[#171016]).
* Enables the average mobile app launch time panel ({kibana-pull}170773[#170773]).
* Enables the mobile most launches panel ({kibana-pull}168925[#168925]).
* Improves the Differential Top N functions grid view ({kibana-pull}170008[#170008]).
Cases::
* Users can copy to the clipboard the hashes of files uploaded to cases ({kibana-pull}172450[#172450]).
* Allow users to configure which columns are displayed in the cases list including custom fields ({kibana-pull}170950[#170950]).
* Adds a new sub-feature privilege to control user access to the cases settings ({kibana-pull}170635[#170635]).
Dashboard::
* Adds Links to the Visualization library ({kibana-pull}170810[#170810]).
Discover::
* Adds a field tokens column in the grid header ({kibana-pull}167179[#167179]).
* Enables the addition of columns from the document viewer when using ES|QL ({kibana-pull}171083[#171083]).
* Adds field search via wildcards in the document viewer ({kibana-pull}168616[#168616]).
* Improves search for field names by handling spaces like wildcards ({kibana-pull}168381[#168381]).
* Updates mapping conflict popover with types list ({kibana-pull}169855[#169855]).
* On search source error, show 'view details' action that opens request in inspector ({kibana-pull}170790[#170790]).
* Adds an Unsaved changes label when in an unsaved state of saved search ({kibana-pull}169548[#169548]).
* Allows changing the current sample size and saving it with a saved search ({kibana-pull}157269[#157269]).
* Adds new sparse vector and dense vector icons ({kibana-pull}169493[#169493]).
* Adds `sparse_vector` field support ({kibana-pull}168186[#168186]).
Elastic Security::
For the Elastic Security 8.12.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Elastic Search::
*  Trained models can now be deployed and started directly from the Machine Learning inference pipeline configuration flyout ({kibana-pull}173434[#173434]).
Fleet::
* Adds support for Elasticsearch output performance presets ({kibana-pull}172359[#172359]).
* Adds a new `keep_monitoring_alive` flag to agent policies ({kibana-pull}168865[#168865]).
* Adds support for additional types for dynamic mappings ({kibana-pull}168842[#168842]).
* Implements Elastic Agent upgrade states UI ({kibana-pull}167539[#167539]).
* Use default component templates from Elasticsearch ({kibana-pull}163731[#163731]).
Lens & Visualizations::
* Moves the tagcloud visualization in *Lens* out of experimental status ({kibana-pull}168824[#168824]).
* Allows coloring an entire metric panel when applying a maximum value to the metric visualization in **Lens** ({kibana-pull}172531[#172531]).
* Adds truncation for data view pickers and field lists with many characters ({kibana-pull}172296[#172296]).
* Allows searching in the {esql} inline documentation description ({kibana-pull}171916[#171916]).
* Allows setting non-numeric metrics for metric visualizations in *Lens* ({kibana-pull}169258[#169258]).
Machine Learning::
* Removes the beta badge from ML alerting rules ({kibana-pull}173545[#173545]).
* Removes the technical preview badge from AIOps log rate analysis ({kibana-pull}172722[#172722]).
* Adds anomaly description as an alert message for the anomaly detection rule type ({kibana-pull}172473[#172473]).
* Adds a sampled percentage of documents, and cardinality, for text fields for the Data Visualizer Field statistics tab and addresses an issue with a missing bucket in the document count chart ({kibana-pull}172378[#172378]).
* Adds option to display an overlay chart on the data drift expanded row ({kibana-pull}172239[#172239]).
* AIOps: Shows top N results when no documents are in baseline or deviation in log rate analysis({kibana-pull}171924[#171924]).
* AIOps: Adds support to restore baseline and deviation from URL state on page refresh for log rate analysis ({kibana-pull}171398[#171398]).
* Validates and limits threading parameters for starting a model deployment ({kibana-pull}171921[#171921]).
* Trained models: Adds a missing job node to models map view when original job has been deleted ({kibana-pull}171590[#171590]).
* Trained models list: Disables the View training data action if data frame analytics job no longer exists ({kibana-pull}171061[#171061]).
* Adds a trained model flyout with available models to download for in the Trained Models UI ({kibana-pull}171024[#171024]).
* Allows temporary data views in the anomaly detection jobs wizards ({kibana-pull}170112[#170112]).
* Assigns downloaded ELSER models to the `*` space ({kibana-pull}169939[#169939]).
* Adds pattern analysis to the anomaly action menu ({kibana-pull}169400[#169400]).
* Adds test pipeline action for data frame analysis trained models in models list ({kibana-pull}168400[#168400]).
Management::
* Adds a search bar to the Clusters and shards tab ({kibana-pull}171806[#171806]).
* Aligns data view and destination index creation workflows in Transforms and Data Frame Analytics wizards ({kibana-pull}171202[#171202]).
* The index lifecycle summary on the Index lifecycle page is now displayed in a separate tab ({kibana-pull}170726[#170726]).
* Adds the ability to view mappings conflicts in data views on the data view management page ({kibana-pull}169381[#169381]).
* Implements index overview cards ({kibana-pull}168153[#168153]).
Observability::
* Reset UI for updating outdated SLOs ({kibana-pull}172883[#172883]).
* Adds timeslice metric indicator for SLOs ({kibana-pull}168539[#168539]).
* Adds logic to update flyout highlights ({kibana-pull}172193[#172193]).
* Sets budget consumed mode as the default mode for burn rate rule configuration ({kibana-pull}171433[#171433]).
* Allow users to define burn rate windows using budget consumed ({kibana-pull}170996[#170996]).
* Makes rules created in Discover visible in Observability ({kibana-pull}171364[#171364]).
* Adds support for document count to custom metric indicator ({kibana-pull}170913[#170913]).
* Improves displaying inline frames ({kibana-pull}169212[#169212]).
* Adds summary insight to the Differential flamegraph ({kibana-pull}168978[#168978]).
* Include `search-*` when recalling documents ({kibana-pull}173710[#173710]).
Platform::
* Limits `elasticsearch.maxSockets` to 800 by default ({kibana-pull}151911[#151911]).
Presentation::
* Adds popover message in the control title ({kibana-pull}172094[#172094]).
* Displays incomplete results warning in layer legend ({kibana-pull}171144[#171144]).
* Updates incomplete data messaging ({kibana-pull}169578[#169578]).
Reporting::
* Makes searches used for CSV export inspectable ({kibana-pull}171248[#171248]).
* Adds `max_concurrent_shards` setting to schema for the point in time CSV report generation ({kibana-pull}170344[#170344]).
Security::
* The default value of the `elasticsearch.requestHeadersWhitelist` configuration option has been expanded to include the `es-client-authentication` HTTP header, in addition to `authorization` ({kibana-pull}172444[#172444]).
* Adds risk engine missing privileges callout ({kibana-pull}171250[#171250]).
* Implements Asset Criticality Create, Read & Delete APIs ({kibana-pull}172073[#172073]).

[float]
[[fixes-v8.12.0]]
=== Bug Fixes
Alerting::
* Fixes the alert details page search bar not considering Query configurations in the {kib} advanced settings ({kibana-pull}172498[#172498]).
* Fixes adding evaluation threshold to alert payload for ES query rule ({kibana-pull}171571[#171571]).
* Hides the Logs tab in Rules page to unauthorized users ({kibana-pull}171417[#171417]).
* Fixes hyperlinks in Slack messages being broken when there is "_" or "*" in the URL ({kibana-pull}170067[#170067]).
APM::
* Removes usage of internal client when fetching agent configuration etags metrics ({kibana-pull}173001[#173001]).
* Fixes encoding custom links values ({kibana-pull}171032[#171032]).
* Fixes an issue where data views were previously not space aware ({kibana-pull}170857[#170857]).
* Fixes issue with onboarding page around java agent ({kibana-pull}168816[#168816]).
* Adds a data tier filter to the `/has_data` API ({kibana-pull}173382[#173382]).
Cases::
* Fixes a bug that prevented users with read permission from being assigned to cases ({kibana-pull}172047[#172047]).
Dashboard::
* Prevents unnecessary loss of dashboard unsaved state ({kibana-pull}167707[#167707]).
Discover::
* Fixes escaping column names when copying ({kibana-pull}170997[#170997]).
* Discover sharing links now preserve customized column widths ({kibana-pull}172405[#172405]).
* Fixes displaying the columns as they are returned from the query ({kibana-pull}171874[#171874]).
* Fixes issue with `defaultColumns` when changing data views ({kibana-pull}168994[#168994]).
Elastic Security::
For the Elastic Security 8.12.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Allows agent upgrades if patch version is higher than {kib} ({kibana-pull}173167[#173167]).
* Fixes secrets with dot-separated variable names ({kibana-pull}173115[#173115]).
* Fixes endpoint privilege management endpoints return errors ({kibana-pull}171722[#171722]).
* Fixes expiration time for immediate bulk upgrades being too short ({kibana-pull}170879[#170879]).
* Fixes incorrect overwrite of `logs-*` and `metrics-*` data views on every integration install ({kibana-pull}170188[#170188]).
* Creates intermediate objects when using dynamic mappings ({kibana-pull}169981[#169981]).
Lens & Visualizations::
* Fixes the sorting of null values so they are displayed last ({kibana-pull}172691[#172691]).
* Fixes the overwriting of chart descriptions after editing a visualization in *Lens* ({kibana-pull}172653[#172653]).
* Fixes an issue where the timerange panel wasn't correctly assigned during a conversion from dashboard to *Lens* ({kibana-pull}172647[#172647]).
* Various fixes for heatmap in *Lens* ({kibana-pull}172602[#172602]).
* Fixes filters being lost when navigating from dashboard -> editor -> *Lens* in *TSVB* ({kibana-pull}172566[#172566]).
* Ignore drop ES|QL commands for date histogram in discover ({kibana-pull}171769[#171769]).
Machine Learning::
* Ensures data frame analytics job can be deleted from analytics map ({kibana-pull}174212[#174212]).
* Fixes filter for boolean fields filtering for numbers in Field statistics / Data Visualizer ({kibana-pull}174212[#174050])
* Fixes registering of the ML alerting rules with the basic license ({kibana-pull}173644[#173644]).
* Fixes display of actions column in the datafeed chart flyout ({kibana-pull}173365[#173365]).
* Fixes View in Discover option in Anomaly explorer not handling multiple field values or values with quotation marks ({kibana-pull}172897[#172897]).
* Fixes field stats in Discover showing 0 sample count at times when switching data views ({kibana-pull}172734[#172734]).
* Fixes long field names overflowing in Anomaly detection wizard detector selection ({kibana-pull}172715[#172715]).
* Fixes data drift numeric fields not showing correctly ({kibana-pull}172504[#172504]).
* Fixes Data Visualizer / ML field stats and Data Frame Analytics to exclude _tier fields ({kibana-pull}172223[#172223]).
* Uses standard analyzer in log pattern analysis to ensure filter in Discover matches correct documents ({kibana-pull}172188[#172188]).
* Fixes ML node check and checks user privileges to create job button in dashboard ({kibana-pull}172022[#172022]).
* Fixes {kib} object list in new job from recognized index page ({kibana-pull}171935[#171935]).
Management::
* Fixes retention policy field name not setting by default correctly in the Transform creation wizard ({kibana-pull}172609[#172609]).
Metrics::
* Moves formulas and dashboard config to inventory models ({kibana-pull}171872[#171872]).
Platform::
* Fixes a bug that could cause the `rollingFile` log appender to not properly rotate files on DST switch days ({kibana-pull}173811[#173811]).
* Fixes context formula functions ({kibana-pull}172710[#172710]).
Observability::
* Removes legacy screenshot image data from the codepath in Synthetics ({kibana-pull}172684[#172684]).
* Fixes incorrect rule parameters when changing aggregation type using a custom equation ({kibana-pull}171958[#171958]).
* Adds parent link in host detail's breadcrumb ({kibana-pull}170792[#170792]).
Presentation::
* Fixes validation query for nested fields ({kibana-pull}173690[#173690]).
* Fixes user privileges around Links panels saved to the library ({kibana-pull}173332[#173332]).
* Prevents overflowing dashboard title on saved toast notifications ({kibana-pull}172620[#172620]).
* Ignore indices without geometry field in vector tile requests ({kibana-pull}171472[#171472]).
* Fixes layer displaying no data instead of error ({kibana-pull}170084[#170084]).

[[release-notes-8.11.4]]
== {kib} 8.11.4

[float]
[[fixes-v8.11.4]]
=== Bug fixes and enhancements
There are no user-facing changes in the 8.11.4 release.

[[release-notes-8.11.3]]
== {kib} 8.11.3

The 8.11.3 release includes the following bug fixes.

[float]
[[fixes-v8.11.3]]
=== Bug Fixes
Elastic Security::
For the Elastic Security 8.11.3 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Fixes a 500 error in the Fleet API when a request for the product versions endpoint throws `ECONNREFUSED` ({kibana-pull}172850[#172850]).
* Fixes agent policy timeout to accept only integers ({kibana-pull}172222[#172222]).
Machine Learning::
* Fixes data drift numeric fields not displaying correctly ({kibana-pull}172504[#172504]).
* Fixes Data visualizer, ML field stats, and Data Frame Analytics so the `_tier` field can be excluded ({kibana-pull}172223[#172223]).
Operations::
* Fixes an issue where running `kibana-keystore` commands required `kibana.yml` to exist ({kibana-pull}172943[#172943]).

[[release-notes-8.11.2]]
== {kib} 8.11.2

The 8.11.2 release includes the following bug fixes.

[float]
[[security-update-v8.11.2]]
=== Security updates

* The 8.11.2 patch release contains a fix for a potential security vulnerability. https://discuss.elastic.co/c/announcements/security-announcements/31[Please see our security advisory for more details].

[float]
[[enhancement-v8.11.2]]
=== Enhancements
APM::
* Added `context_propagation_only` APM agent setting ({kibana-pull}170405[#170405]).
Elastic Security::
For the Elastic Security 8.11.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Improve UX for policy secrets ({kibana-pull}171405[#171405]).
Observability::
* Adds `date_formats` to SLI ingest pipeline template ({kibana-pull}172377[#172377]).
Platform::
* It is now possible to hot reload Kibana's TLS (`server.ssl`) configuration by updating it and then sending a `SIGHUP` signal to the Kibana process ({kibana-pull}171823[#171823]).

[float]
[[fixes-v8.11.2]]
=== Bug Fixes
Dashboard::
* Fixes reference extract method ({kibana-pull}171360[#171360]).
* Adds Dashboard title to browser tab title ({kibana-pull}171255[#171255]).
Elastic Security::
For the Elastic Security 8.11.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Support integration secrets in a local package registry with variables `secret: true` and `required: false` ({kibana-pull}172078[#172078]).
* Fixes agents metrics retrieval on the agent list page, previously displaying N/A for metrics for users with more than 10 agents. ({kibana-pull}172016[#172016]).
* Only add `time_series_metric` if TSDB is enabled ({kibana-pull}171712[#171712]).
* Fixes inability to upgrade agents from version 8.10.4 to version 8.11 ({kibana-pull}170974[#170974]).
Lens & Visualizations::
* Handle invalid values gracefully for static value operation in *Lens* ({kibana-pull}172198[#172198]).
* Make the dashboard SO lighter ({kibana-pull}172130[#172130]).
Machine Learning::
* Fixes blocked jobs polling interval ({kibana-pull}171878[#171878]).
Management::
* Fixes autocomplete to show suggestions even if user types in every letter ({kibana-pull}171952[#171952]).
* Fixes wrong autocomplete suggestions when using the slash symbol ({kibana-pull}171948[#171948]).
* Fixes clusters and shards table expanded row not updating when request is changed ({kibana-pull}171232[#171232]).
Maps::
* Fixes using `max_result_window` to set up a mapbox vector tile (MVT) size request leading to all results not showing ({kibana-pull}171344[#171344]).
Observability::
* Fixes the custom threshold document link ({kibana-pull}171125[#171125]).
SharedUX::
* Fixes custom branding for users without "Saved Object Management" privilege ({kibana-pull}171308[#171308]).
* Fixes the custom threshold document link ({kibana-pull}171125[#171125]).
Uptime::
* Fixes advanced fields broken for ICMP monitors ({kibana-pull}171161[#171161]).

[[release-notes-8.11.1]]
== {kib} 8.11.1

For information about the {kib} 8.11.1 release, review the following information.

[float]
[[security-update-v8.11.1]]
=== Security updates

* An issue was discovered by Elastic whereby sensitive information is recorded
in {kib} logs in the event of an error. The error message recorded in the log
may contain account credentials for the `kibana_system` user, API Keys, and
credentials of {kib} end users.
+
--
The issue impacts {kib} {kib} versions on or after 8.0.0 and before 8.11.1. The
issue is resolved in {kib} 8.11.1.

**Nov 15, 2023 Update:** After additional investigation, it has been determined
that {kib} 7.x versions are not affected by this issue. We previously reported
this issue impacted {kib} versions before 7.17.15.

For more information, see our related
https://discuss.elastic.co/t/8-11-1-7-17-15-security-update-esa-2023-25/347149[security
announcement].
--

[float]
[[fixes-v8.11.1]]
=== Bug Fixes

Fleet::
* Append space ID to security solution tag ({kibana-pull}170789[#170789]).
* Modify bulk unenroll to include inactive agents ({kibana-pull}170249[#170249]).
Lens & Visualizations::
* Fixes error handling for ES|QL nested error messages ({kibana-pull}170005[#170005]).
Machine Learning::
* Disable anomaly detection job creation from ES|QL lens visualizations ({kibana-pull}170711[#170711]).
Presentation::
* Fixes vector tile layer with joins stuck in loading state when not visible ({kibana-pull}170984[#170984]).
* Fixes expand layer control is not clickable when layers are loading ({kibana-pull}170912[#170912]).

[[release-notes-8.11.0]]
== {kib} 8.11.0


For information about the {kib} 8.11.0 release, review the following information.


[float]
[[known-issues-8.11.0]]
=== Known issues

// tag::known-issue-169170[]
[discrete]
.Gatekeeper error on macOS
[%collapsible]
====
*Details* +
Due to a version upgrade of the server binary used by {kib} and an upstream notarization issue, a Gatekeeper error may display for "node"
when starting {kib} in macOS environments.

*Workaround* +
More information can be found at <<install-darwin64>>.

====
// end::known-issue-169170[]

[float]
[[breaking-changes-8.11.0]]
=== Breaking changes


Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.11.0, review the breaking changes, then mitigate the impact to your application.


[discrete]
.Improve config output validation for default output.
[%collapsible]
====
*Details* +
Improve config output validation to not allow to defining multiple default outputs in {kib} configuration. For more information, refer to ({kibana-pull}167085[#167085]).
====

[discrete]
.Convert filterQuery to KQL.
[%collapsible]
====
*Details* +
Converts `filterQuery` to a KQL query string. For more information, refer to ({kibana-pull}161806[#161806]).
====

[float]
[[deprecations-8.11.0]]
=== Deprecations


The following functionality is deprecated in 8.11.0, and will be removed in 9.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 8.11.0.


[discrete]
[[deprecation-164651]]
.Updates to move from doc_root.vulnerability.package -> doc_root.package (ECS).
[%collapsible]
====
*Details* +
This updates all instances of vulnerability.package to the ECS standard package fieldset. For more information, refer to ({kibana-pull}164651[#164651]).
====
[float]
[[features-8.11.0]]
=== Features
{kib} 8.11.0 adds the following new and notable features.


Alerting::
* Adds support for the new ES|QL language for {es} query rules ({kibana-pull}165973[#165973]).
* Elasticsearch query rule can select multiple group-by terms ({kibana-pull}166146[#166146]).
* Adds a Log tab to the Observability Rules page ({kibana-pull}165115[#165115]).
APM::
* Adds bulk action to untrack selected alerts ({kibana-pull}167579[#167579]).
* Introduce custom dashboards tab in service overview ({kibana-pull}166789[#166789]).
* Adds service profiling Top 10 Functions ({kibana-pull}166226[#166226]).
* Adds service profiling flamegraph ({kibana-pull}165360[#165360]).
Cases::
* Adds custom fields in Cases ({kibana-pull}167016[#167016]).
Dashboard::
* Copy panel refactor ({kibana-pull}166991[#166991]).
* Make links panel available under technical preview ({kibana-pull}166896[#166896]).
* Store view mode in local storage ({kibana-pull}166523[#166523]).
* Adds a read only state for Managed Dashboards ({kibana-pull}166204[#166204]).
Discover::
* Adds resize support to the Discover field list sidebar ({kibana-pull}167066[#167066]).
Elastic Security::
For the Elastic Security 8.11.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Enterprise Search service::
For the Elastic Enterprise Search service 8.11.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Release notes_].
Fleet::
* Set env variable `ELASTIC_NETINFO:false` in {kib} ({kibana-pull}166156[#166156]).
* Added restart upgrade action ({kibana-pull}166154[#166154]).
* Adds ability to set a proxy for agent binary source ({kibana-pull}164168[#164168]).
* Adds ability to set a proxy for agent download source ({kibana-pull}164078[#164078]).
Lens & Visualizations::
* Adds color mapping for categorical dimensions in *Lens* available under technical preview ({kibana-pull}162389[#162389]).
* Inline editing of **Lens** panels on a dashboard or canvas ({kibana-pull}166169[#166169]).
* Individual annotation editing from library ({kibana-pull}163346[#163346]).
Logs::
* Convert log explorer profile into standalone app available under technical preview ({kibana-pull}164493[#164493]).
Machine Learning::
* Adds support for the ELSER v2 download in the Trained Models UI ({kibana-pull}167407[#167407]).
* Adds data drift detection workflow from Trained Models to Data comparison view ({kibana-pull}162853[#162853]).
Management::
* Supports for viewing and editing data retention per data stream in Index Management is available under technical preview ({kibana-pull}167006[#167006]).
* Supports for viewing and editing data retention per data stream in Index Management is available under technical preview ({kibana-pull}167006[#167006]).
* Index details can now be viewed on a new index details page in Index Management ({kibana-pull}165705[#165705]).
* Supports for managing, executing, and deleting enrich policies in Index Management ({kibana-pull}164080[#164080]).
Platform::
* ES|QL, a new query language, is available under technical preview in Discover and Dashboards ({kibana-pull}146971[#146971]).
Querying & Filtering::
* Saved queries can now be shared between multiple spaces ({kibana-pull}163436[#163436]).
Uptime::
* Adds a document viewer to the summary pings table ({kibana-pull}163926[#163926]).


For more information about the features introduced in 8.11.0, refer to <<whats-new,What's new in 8.11>>.


[[enhancements-and-bug-fixes-v8.11.0]]
=== Enhancements and bug fixes


For detailed information about the 8.11.0 release, review the enhancements and bug fixes.


[float]
[[enhancement-v8.11.0]]
=== Enhancements
APM::
* Changed mobile badge from 'technical preview' to 'beta' ({kibana-pull}167543[#167543]).
* New Profiling ES Flamegraph API ({kibana-pull}167477[#167477]).
* Adds Universal Profiling to O11y overview and Setup guide ({kibana-pull}165092[#165092]).
* Mark disabled alerts as Untracked in both Stack Management and o11y ({kibana-pull}164788[#164788]).
* Adds time range to event metadata API ({kibana-pull}167132[#167132]).
* New settings to control CO2 calculation ({kibana-pull}166637[#166637]).
* Adds permissions for "input-only" package ({kibana-pull}166234[#166234]).
* Adds selecting the consumer based on the authorized consumers when a user is creating an ES Query threshold rule ({kibana-pull}166032[#166032]).
* Migrate Ace based `EuiCodeEditor` to Monaco based code editor ({kibana-pull}165951[#165951]).
* Mobile UI crash widget added ({kibana-pull}163527[#163527]).
Cases::
* Show a warning message to inform user that navigating after the 10Kth case is not possible ({kibana-pull}164323[#164323]).
Dashboard::
* Focus on a single panel while disabling all other panels ({kibana-pull}165417[#165417]).
* Adds filter details to panel settings ({kibana-pull}162913[#162913]).
* Adds support for date fields in the options list controls ({kibana-pull}164362[#164362]).
Discover::
* Redesign for the grid, panels and sidebar ({kibana-pull}165866[#165866]).
* Set data table row height to auto-fit by default ({kibana-pull}164218[#164218]).
* Allow fetching more documents on Discover page ({kibana-pull}163784[#163784]).
Elastic Security::
For the Elastic Security 8.11.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Search::
* Self-managed connector clients now show advanced configuration options in the UI ({kibana-pull}167770[#167770]).
Fleet::
* Adds sidebar navigation showing headings extracted from the readme ({kibana-pull}167216[#167216]).
Inspector::
* Clusters tab added under Inspector ({kibana-pull}166025[#166025]).
* Open incomplete response warning in Inspector ({kibana-pull}167205[#167205]).
Lens & Visualizations::
* Other bucket defaults to false for top values greater than equal 1000 in *Lens* ({kibana-pull}167141[#167141]).
* Adds support for decimals in percentiles in *Lens* ({kibana-pull}165703[#165703]).
Machine Learning::
* Updates ELSER version for Elastic Assistant ({kibana-pull}167522[#167522]).
* Retains `created_by` setting when exporting anomaly detection jobs ({kibana-pull}167319[#167319]).
* Improves the wording of awaiting ML nodes messages ({kibana-pull}167306[#167306]).
* Adds `created_by` job property for the advanced wizard ({kibana-pull}167021[#167021]).
* Trained model testing: only show indices with supported fields ({kibana-pull}166490[#166490]).
* Alerts as data integration for Anomaly Detection rule type ({kibana-pull}166349[#166349]).
* Data Frame Analytics Trained models: adds the ability to reindex after pipeline creation ({kibana-pull}166312[#166312]).
* Adds Create a data view button to index or saved search selector in ML pages and Transforms management ({kibana-pull}166668[#166668]).
* Improvements to UX of adding ML embeddables to a dashboard ({kibana-pull}165714[#165714]).
* AIOps: Supports text fields in log rate analysis ({kibana-pull}165124[#165124]).
* Data Frame Analytics creation wizard: adds ability to add custom URLs to jobs ({kibana-pull}164520[#164520]).
Management::
* Adds Create a data view button to index or saved search selector in ML pages and Transforms management ({kibana-pull}166668[#166668]).
* Improve loading behavior of Transforms list if stats request is slow or is not available ({kibana-pull}166320[#166320]).
* Adds support for PATCH requests in Console ({kibana-pull}165634[#165634]).
* Improves autocomplete to suggest knn in search query ({kibana-pull}165531[#165531]).
* Improves display for long descriptions in Transforms ({kibana-pull}165149[#165149]).
* Improve transform list reloading behavior ({kibana-pull}164296[#164296]).
Maps::
* Allow by value styling for EMS boundary fields ({kibana-pull}166306[#166306]).
* Adds support for `geo_shape` fields as the entity geospatial field when creating tracking containment alerts ({kibana-pull}164100[#164100]).
Observability::
* ES|QL query generation ({kibana-pull}166041[#166041]).
Querying & Filtering::
* New "Saved Query Management" privilege to allow saving queries across Kibana ({kibana-pull}166937[#166937]).
* Improvements to the filter builder inputs for long fields ({kibana-pull}166024[#166024]).
Uptime::
* Added ability to hide public locations ({kibana-pull}164863[#164863]).


[float]
[[fixes-v8.11.0]]
=== Bug Fixes
Alerting::
* Improve error handling in ES Index action response ({kibana-pull}164841[#164841]).
* Bring back toggle column on alert table ({kibana-pull}168158[#168158]).
* Fixes Errors rules link on observability alert page ({kibana-pull}167027[#167027]).
* Enable read-only users to access rules ({kibana-pull}167003[#167003]).
* Fixes rule snooze toast copy ({kibana-pull}166030[#166030]).
APM::
* Ensure APM data view is available across all spaces ({kibana-pull}167704[#167704]).
* Adds an environment param to the service metadata details endpoint ({kibana-pull}167173[#167173]).
* Fixes set up process ({kibana-pull}167067[#167067]).
Dashboard::
* Generate new panel IDs on Dashboard clone ({kibana-pull}166299[#166299]).
Elastic Security::
For the Elastic Security 8.11.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Search::
* Native connector external documentation links are now rendered conditionally to avoid empty links ({kibana-pull}169121[#169121]).
* Fixed an issue which caused Access Control Syncs to be scheduled when Document Level Security was disabled ({kibana-pull}168987[#168987]).
* Restored access and admin checks for App Search and Workplace Search product cards ({kibana-pull}168890[#168890]).
* The filter box in the *Browse documents* tab under *Search > Content > Indices* now escapes Lucene reserved characters instead of throwing errors ({kibana-pull}168092[#168092]).
* Fixed an issue associated with changing the indices underlying a search application. When a user modifies the indices underlying a search application in Kibana, the associated search template is now reverted to the default template ({kibana-pull}167532[#167532]).
* Fixed an issue where the Search plugin was inaccessible for unauthenticated users, eg. for Kibana in read-only demo setups ({kibana-pull}167171[#167171]).
* Fixed an issue with the welcome banner in Search ({kibana-pull}166814[#166814]).
* Self managed connector clients now show advanced configuration options in the UI ({kibana-pull}167770[#167770]).
Fleet::
* Vastly improve performance of Fleet final pipeline's date formatting logic for `event.ingested` ({kibana-pull}167318[#167318]).
Lens & Visualizations::
* Fixes heatmap color assignment on single value scenario in *Lens* ({kibana-pull}167995[#167995]).
* Fixes mosaic with 2 axis coloring in *Lens* ({kibana-pull}167035[#167035]).
* Show icons/titles instead of previews in suggestions panel in *Lens* ({kibana-pull}166808[#166808]).
* Consider root level filters buckets correctly when building other terms bucket ({kibana-pull}165656[#165656]).
* Prevent user to use decimals for custom Percentile rank function in Top values in *Lens* ({kibana-pull}165616[#165616]).
* Fixes the Graph application settings tab when in dark mode ({kibana-pull}165614[#165614]).
* Fixes Visualize List search and CRUD operations via content management ({kibana-pull}165485[#165485]).
Logs::
* Use correct ML API to query blocking tasks ({kibana-pull}167779[#167779]).
Machine Learning::
* AIOps: Fixes log pattern analysis sparklines and chart ({kibana-pull}168337[#168337]).
* AIOps: Fixes Data View runtime fields support in the Change point detection UI ({kibana-pull}168249[#168249]).
* Fixes anomaly charts when partition field contains an empty string ({kibana-pull}168102[#168102]).
* Data Frame analytics outlier detection results: ensure scatterplot matrix adheres to bounding box ({kibana-pull}167941[#167941]).
* Fixes Anomaly charts embeddable fails to load if partition value is empty string ({kibana-pull}167827[#167827]).
Management::
* Fixes `isErrorResponse` when cluster details are provided ({kibana-pull}166667[#166667]).
* Fixes autocomplete not to be prompted between triple quotes ({kibana-pull}165535[#165535]).
* Fixes autocomplete on only 1 letter typed in Console's request editor ({kibana-pull}164707[#164707]).
* Fixing duration field formatter showing 0 seconds instead of "few seconds" ({kibana-pull}164659[#164659]).
* Fixes a bug that autocomplete does not work right after a comma ({kibana-pull}164608[#164608]).
* Fixes unnecessary autocompletes on HTTP methods ({kibana-pull}163233[#163233]).
Presentation::
* Fixes ES query rule boundary field changed when editing the rule ({kibana-pull}165155[#165155]).

[[release-notes-8.10.4]]
== {kib} 8.10.4

The 8.10.4 release includes the following bug fixes.

[float]
[[fixes-v8.10.4]]
=== Bug Fixes
Elastic Security::
For the Elastic Security 8.10.4 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Fixes validation errors in KQL queries ({kibana-pull}168329[#168329]).

[[release-notes-8.10.3]]
== {kib} 8.10.3

[float]
[[security-update-8.10.3]]
=== Security updates

* **Kibana heap buffer overflow vulnerability**
+
On Sept 11, 2023, Google Chrome announced CVE-2023-4863, described as Heap buffer overflow in libwebp in Google Chrome prior to 116.0.5845.187 and libwebp 1.3.2 allowed a remote attacker to perform an out of bounds memory write via a crafted HTML page. Kibana includes a bundled version of headless Chromium that is only used for Kibanas reporting capabilities and which is affected by this vulnerability. An exploit for Kibana has not been identified, however as a resolution, the bundled version of Chromium is updated in this release.
+
The issue is resolved in 8.10.3.
+
For more information, see our related
https://discuss.elastic.co/t/kibana-8-10-3-7-17-14-security-update/344735[security
announcement].

[float]
[[enhancement-v8.10.3]]
=== Enhancements
Elastic Security::
For the Elastic Security 8.10.3 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

[float]
[[fixes-v8.10.3]]
=== Bug Fixes
Dashboard::
* Fixes an error the panel descriptions weren't retrieved from the right method ({kibana-pull}166825[#166825]).
Discover::
* Soften saved search content management response `sort` schema ({kibana-pull}166886[#166886]).
Elastic Security::
For the Elastic Security 8.10.3 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Enterprise Search::
For the Elastic Enterprise Search 8.10.3 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].
Fleet::
* Fixes incorrect index template used from the data stream name ({kibana-pull}166941[#166941]).
* Increase package install max timeout limit and add concurrency control to rollovers ({kibana-pull}166775[#166775]).
* Fixes bulk action dropdown ({kibana-pull}166475[#166475]).
Machine Learning::
* AIOps: Fixes render loop when using a saved search ({kibana-pull}166934[#166934]).
Monitoring::
* Convert node roles into array ({kibana-pull}167628[#167628]).
Observability::
* Fixes a set up process error in Universal Profiling ({kibana-pull}167068[#167068]).
Uptime::
* Fixes an error when updating browser monitor in a project ({kibana-pull}168064[#168064]).

[[release-notes-8.10.2]]
== {kib} 8.10.2

The 8.10.2 release includes the following bug fixes.

[float]
[[fixes-v8.10.2]]
=== Bug fixes

Fleet::
* Fixes force delete package, updated used by agents check ({kibana-pull}166623[#166623]).
Management::
* Fixes showing `Received partial message` instead of results when there are some remote shard errors in a {ccs} ({kibana-pull}166544[#166544]).

[[release-notes-8.10.1]]
== {kib} 8.10.1

The 8.10.1 release includes the following bug fixes.

[float]
[[fixes-v8.10.1]]
=== Bug fixes

Dashboard::
* Fixes content editor flyout footer ({kibana-pull}165907[#165907]).
Elastic Security::
For the Elastic Security 8.10.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Show snapshot version in agent upgrade modal and allow custom values ({kibana-pull}165978[#165978]).
Observability::
* Fix(slo): Use comma-separarted list of source index for transform ({kibana-pull}166294[#166294]).
Presentation::
* Fixes air-gapped enviroment hitting `400` error when loading fonts for layer ({kibana-pull}165986[#165986]).

[[release-notes-8.10.0]]
== {kib} 8.10.0

IMPORTANT: {kib} 8.10.0 has been withdrawn.

For information about the {kib} 8.10.0 release, review the following information.

[float]
[[security-updates-v8.10.0]]
=== Security updates

* An issue was discovered by Elastic whereby sensitive information is recorded
in {kib} logs in the event of an error. The issue impacts only {kib} version
8.10.0 when logging in the JSON layout or when the pattern layout is configured
to log the `%meta` pattern.
+
The issue is resolved in {kib} 8.10.1. Version 8.10.0 has been removed from our
download sites.
+
For more information, see our related
https://discuss.elastic.co/t/kibana-8-10-1-security-update/343287[security
announcement].

[float]
[[breaking-changes-8.10.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.10.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.New summary search capabilities cause existing SLOs to stop working
[%collapsible]
====
*Details* +
New summary search capabilities introduce breaking changes in various places, and we have decided not to handle backward compatibility:

* SLO find API body parameters have changed.
* The index mapping used by the rollup data has changed, and we have added a summary index that becomes the new source of truth for search.
* The rollup transforms have been updated, but existing SLO with their transforms won't be updated.

If some SLOs have been installed in a prior version at 8.10, they won't work after migrating to 8.10. There are two approaches to handle this breaking change. The recommended route is to delete all SLOs before migrating to 8.10. The alternative is to migrate to 8.10 and manually remove the SLOs.

*Removing SLOs before migrating to 8.10*

Use the SLO UI or the SLO delete API to delete all existing SLOs. This takes care of the Saved Object, Transform and rollup data. When all SLOs have been deleted, then delete the residual rollup indices: `.slo-observability.sli-v1*`. Note that this is v1.

*Removing SLOs after migrating to 8.10*

After migrating to 8.10, the previously created SLOs wont appear in the UI because the API is using a new index. The previously created SLOs still exist, and associated transforms are still rolling up data into the previous index `.slo-observability.sli-v1*`. The SLO delete API can't be used now, so remove the resources resources manually:

. Find all existing transforms
All SLO related transforms start with the `slo-` prefix, this request returns them all:
+
[source, bash]
----
GET _transform/slo-*
----
+
Make a note of all the transforms IDs for later.

. Stop all transforms
+
[source, bash]
----
POST _transform/slo-*/_stop?force=true
----

. Remove all transforms
+
From the list of transforms returned during the first step, now delete them one by one:
+
[source, bash]
----
DELETE _transform/{transform_id}?force=true
----

. Find the SLO saved objects
+
This request lists all the SLO saved objects. The SLO IDs and the saved object IDs are not the same.
+
[source, bash]
----
GET kbn:/api/saved_objects/_find?type=slo
----
+
Make a note of all the saved object IDs from the response.

. Remove the SLO saved objects
+
For each saved object ID, run the following:
+
[source, bash]
----
DELETE kbn:/api/saved_objects/slo/{Saved_Object_Id}
----

. Delete the rollup indices v1
+
Note that this is v1.
+
[source, bash]
----
DELETE .slo-observability.sli-v1*
----
====

[discrete]
.Get case metrics APIs now internal
[%collapsible]
====
*Details* +
The get case metrics APIs are now internal. For more information, refer to ({kibana-pull}162506[#162506]).
====

[discrete]
.Case limits
[%collapsible]
====
*Details* +
Limits are now imposed on the number of objects cases can process or the amount of data those objects can store.
////
For example:
* Updating a case comment is now included in the 10000 user actions restriction. ({kibana-pull}163150[#163150])
* Updating a case now fails if the operation makes it reach more than 10000 user actions. ({kibana-pull}161848[#161848])
* The total number of characters per comment is limited to 30000. ({kibana-pull}161357[#161357])
* The getConnectors API now limits the number of supported connectors returned to 1000. ({kibana-pull}161282[#161282])
* There are new limits and restrictions when retrieving cases. ({kibana-pull}162411[#162411]), ({kibana-pull}162245[#162245]), ({kibana-pull}161111[#161111]), ({kibana-pull}160705[#160705])
* A case can now only have 100 external references and persistable state(excluding files) attachments combined. ({kibana-pull}162071[#162071]).
* New limits on titles, descriptions, tags and category. ({kibana-pull}160844[#160844]).
* The maximum number of cases that can be updated simultaneously is now 100. The minimum is 1. ({kibana-pull}161076[#161076]).
* The Delete cases API now limits the number of cases to be deleted to 100.({kibana-pull}160846[#160846]).
////
For the full list, refer to {kib-issue}146945[#146945].
====

[discrete]
.`addProcessorDefinition` is removed
[%collapsible]
====
*Details* +
The function `addProcessorDefinition` is removed from the Console plugin start contract (server side). For more information, refer to ({kibana-pull}159041[#159041]).
====

[discrete]
.The Download CSV endpoint has changed.
[%collapsible]
====
*Details* +
The API endpoint for downloading a CSV file from a saved search in the Dashboard application has changed to reflect the fact that this is an internal API. The previous API path of
`/api/reporting/v1/generate/immediate/csv_searchsource` has been changed to `/internal/reporting/generate/immediate/csv_searchsource`. For more information, refer to {kibana-pull}162288[#162288].
====

[float]
[[deprecations-8.10.0]]
=== Deprecations

The following functionality is deprecated in 8.10.0, and will be removed in 9.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 8.10.0.

[discrete]
[[deprecation-161136]]
.Action variables in the UI and in tests that were no longer used have been replaced
[%collapsible]
====
*Details* +
The following rule action variables have been deprecated; use the recommended variables (in parentheses) instead:

* alertActionGroup (alert.actionGroup)
* alertActionGroupName (alert.actionGroupName)
* alertActionSubgroup (alert.actionSubgroup)
* alertId (rule.id)
* alertInstanceId (alert.id)
* alertName (rule.name)
* params (rule.params)
* spaceId (rule.spaceId)
* tags (rule.tags)

For more information, refer to ({kibana-pull}161136[#161136]).
====

[float]
[[features-8.10.0]]
=== Features
{kib} 8.10.0 adds the following new and notable features.

Alerting::
* Adds support for self-signed SSL certificate authentication in webhook connector ({kibana-pull}161894[#161894]).
* Allow runtime fields to be selected for {es} query rule type 'group by' or 'aggregate over' options ({kibana-pull}160319[#160319]).
APM::
* Adds KQL filtering in APM rules ({kibana-pull}163825[#163825]).
* Make service group saved objects exportable ({kibana-pull}163569[#163569]).
* Added ability to manage cross-cluster API keys ({kibana-pull}162363[#162363]).
* Enable Trace Explorer by default ({kibana-pull}162308[#162308]).
* Adds error.grouping_name to group alerts in Error Count rule ({kibana-pull}161810[#161810]).
* Adds query to check for overflow bucket in service groups ({kibana-pull}159990[#159990]).
Elastic Security::
For the Elastic Security 8.10.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Enterprise Search::
For the Elastic Enterprise Search 8.10.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].
Fleet::
* Only enable secret storage once all fleet servers are above 8.10.0 ({kibana-pull}163627[#163627]).
* Kafka integration API ({kibana-pull}159110[#159110]).
Machine Learning::
* AIOps: Adds/edits change point charts embeddable from the Dashboard app ({kibana-pull}163694[#163694]).
* AIOps: Adds change point detection charts embeddable ({kibana-pull}162796[#162796]).
* Adds ability to deploy trained models for data frame analytics jobs ({kibana-pull}162537[#162537]).
* Adds map view for models in Trained Models and expands support for models in Analytics map ({kibana-pull}162443[#162443]).
* Adds new Data comparison view ({kibana-pull}161365[#161365]).
Management::
* Added ability to create a remote cluster with the API key based security model ({kibana-pull}161836[#161836]).
* REST endpoint for swapping saved object references ({kibana-pull}157665[#157665]).
Maps::
* Maps tracks layer now uses group by time series logic ({kibana-pull}159267[#159267]).
Observability::
* SLO definition and computed values are now summarized periodically into a summary search index, allowing users to search by name, tags, SLO budgeting type or time window, and even by and sort by error budget consumed, error budget remaining, SLI value or status ({kibana-pull}162665[#162665]).
* Adds indicator to support histogram fields ({kibana-pull}161582[#161582]).

For more information about the features introduced in 8.10.0, refer to <<whats-new,What's new in 8.10>>.

[[enhancements-and-bug-fixes-v8.10.0-revised]]
=== Enhancements and bug fixes

For detailed information about the 8.10.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.10.0]]
=== Enhancements
Alerting::
* Fixes the event log data stream to use Data stream lifecycle instead of Index Lifecycle Management. If you had previously customized the Kibana event log ILM policy, you should now update the lifecycle of the event log data stream itself. ({kibana-pull}163210[#163210]).
* KQL search bar for Rules page ({kibana-pull}158106[#158106]).
APM::
* Lens function ({kibana-pull}163872[#163872]).
* Adds several function implementations to the AI Assistant ({kibana-pull}163764[#163764]).
* Feature controls ({kibana-pull}163232[#163232]).
* Added improved JVM runtime metrics dashboard ({kibana-pull}162460[#162460]).
* Move to new plugin, update design and use connectors ({kibana-pull}162243[#162243]).
* Adding endpoint to upload android map files ({kibana-pull}161252[#161252]).
* Navigate from the transaction details view into the Profiling ({kibana-pull}159686[#159686]).
Dashboard::
* Change badge color in options list ({kibana-pull}161401[#161401]).
* Edit title, description, and tags from dashboard listing page ({kibana-pull}161399[#161399]).
* Editing toolbar update ({kibana-pull}154966[#154966]).
Discover::
* Inline shard failures warnings ({kibana-pull}161271[#161271]).
* Improve shard error message formatting ({kibana-pull}161098[#161098]).
Elastic Security::
For the Elastic Security 8.10.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Enterprise Search::
For the Elastic Enterprise Search 8.10.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].
Fleet::
* Adds support for runtime fields ({kibana-pull}161129[#161129]).
Lens & Visualizations::
* Migrate range slider to `EuiDualRange` and make styling consistent across all controls ({kibana-pull}162651[#162651]).
* Introduce new duration formatter in *Lens* ({kibana-pull}162246[#162246]).
* Create a filter with field:value when last value metric is used on a data table in *Lens* ({kibana-pull}160509[#160509]).
* Adds tooltip for partition and heatmap filtering ({kibana-pull}162716[#162716]).
Machine Learning::
* Hides paging controls in anomaly swim lane if only one page is available ({kibana-pull}163931[#163931]).
* Adds a throughput description in the Trained Models Deployment stats table ({kibana-pull}163481[#163481]).
* Provides hints for empty fields in dropdown options in Anomaly detection & Transform creation wizards, Change point detection view ({kibana-pull}163371[#163371]).
* AIOps: Adds dip support to log rate analysis in ML AIOps Labs ({kibana-pull}163100[#163100]).
* AIOps: Improves table hovering for log rate analysis ({kibana-pull}162941[#162941]).
* AIOps: Adds dip support for log rate analysis in observability alert details page ({kibana-pull}162476[#162476]).
* Adds validation of field selected for log pattern analysis ({kibana-pull}162319[#162319]).
* AIOps: Renames Explain Log Rate Spikes to Log Rate Analysis ({kibana-pull}161764[#161764]).
* Adds new Data comparison view ({kibana-pull}161365[#161365]).
* Adds test UI for text expansion models ({kibana-pull}159150[#159150]).
* Adds update index mappings step to ML pipeline config workflow ({kibana-pull}163723[#163723]).
Management::
* Adds multiple formats for geo_point fields and make geo conversion tools part of field_format/common/utils ({kibana-pull}147272[#147272]).
Maps::
* Support time series split for top hits per entity source ({kibana-pull}161799[#161799]).
Observability::
* Adds support for group by to SLO burn rate rule ({kibana-pull}163434[#163434]).
* Applying consistent design to Histogram and Custom Metric forms ({kibana-pull}162083[#162083]).
* Adds preview chart to custom metric indicator ({kibana-pull}161597[#161597]).
* Support filters for good/total custom metrics ({kibana-pull}161308[#161308]).
Reporting::
* Increase max size bytes default to 250mb ({kibana-pull}161318[#161318]).
Security::
* Change the default value of `session.idleTimeout` from 8 hours to 3 days ({kibana-pull}162313[#162313]).
* User roles displayed on the user profile page ({kibana-pull}161375[#161375]).
Uptime::
* Implement private location run once ({kibana-pull}162582[#162582]).

[float]
[[fixes-v8.10.0]]
=== Bug fixes
APM::
* Fixes styling and port issue with new onboarding ({kibana-pull}163922[#163922]).
* Fixes missing alert index issue ({kibana-pull}163600[#163600]).
* Fixes trace waterfall loading logic to handle empty scenarios ({kibana-pull}163397[#163397]).
* Fixes the action menu overlapping the 'Create custom link' flyout ({kibana-pull}162664[#162664]).
* Improve service groups error messages and validations ({kibana-pull}162556[#162556]).
* Fixes throwing appropriate error when user is missing necessary permission ({kibana-pull}162466[#162466]).
* Hide components when there is no support from agents ({kibana-pull}161970[#161970]).
* Fixes link to onboarding page in the Observability Onboarding plugin ({kibana-pull}161847[#161847]).
Dashboard::
* Disables top navigation actions when cloning or overlay is showing ({kibana-pull}162091[#162091]).
Discover::
* Fixes document failing to load when the ID contains a slash ({kibana-pull}160239[#160239]).
* Fixes NoData screen in alignment with Dashboard and Lends behavior ({kibana-pull}160747[#160747]).
Elastic Security::
For the Elastic Security 8.10.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Enterprise Search::
For the Elastic Enterprise Search 8.10.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].
Fleet::
* Only show agent dashboard links if there is more than one non-server agent and if the dashboards exist ({kibana-pull}164469[#164469]).
* Exclude Synthetics from per-policy-outputs ({kibana-pull}161949[#161949]).
* Fixing the path for hint templates for auto-discover ({kibana-pull}161075[#161075]).
Lens & Visualizations::
* Fixes params._interval conversion to Lens formula ({kibana-pull}164150[#164150]).
* Fixes issues with field name that contains the `:` character in it in *Lens* ({kibana-pull}163626[#163626]).
* Fixes other request merge behavior when empty string key is retrieved ({kibana-pull}163187[#163187]).
* Fixes editing of multi values filters when adding a custom item ({kibana-pull}161940[#161940]).
* Allow setting custom colors to be collapsed by slices pie's multiple metrics in *Lens* ({kibana-pull}160592[#160592]).
* Fixes data table sorting for keyword values in *Lens* ({kibana-pull}160163[#160163]).
* Fixes override parameter when creating data views ({kibana-pull}160953[#160953]).
Logs::
* Amend lazy imports in logs_shared plugin ({kibana-pull}164102[#164102]).
Machine Learning::
* Fixes Trained models list crashes on browser refresh if not on page 1 ({kibana-pull}164163[#164163]).
* Fixes query bar not switching from KQL to Lucene and vice versa in Anomaly explorer ({kibana-pull}163625[#163625]).
* Data Frame Analytics creation wizard: ensures validation works correctly ({kibana-pull}163446[#163446]).
* Fixes capabilities polling in manage page ({kibana-pull}163399[#163399]).
* Fixes unhandled promise rejection from ML plugin ({kibana-pull}163129[#163129]).
* AIOps: Uses Kibana's http service instead of fetch and fixes throttling ({kibana-pull}162335[#162335]).
* Uses model supplied mask token for testing trained models ({kibana-pull}162168[#162168]).
Management::
* Fixes how a bulk request body with variables are processed in Console ({kibana-pull}162745[#162745]).
* Improves a way of variable substitution and its documentation in Console ({kibana-pull}162382[#162382]).
* Transforms: Reduces rerenders and multiple fetches of source index on transform wizard load ({kibana-pull}160979[#160979]).
Maps::
* Fixes Map layer preview blocks adding layer until all tiles are loaded ({kibana-pull}161994[#161994]).
Monitoring::
* Rewrite CPU usage rule to improve accuracy ({kibana-pull}159351[#159351]).
Observability::
* Fixes email connector rule URL ({kibana-pull}162954[#162954]).
* Disable the 'View rule details' option from the Alert Details' Actions list when the rule is deleted ({kibana-pull}163183[#163183]).
Reporting::
* Fixes a bug where Kibana Reporting would not work in Elastic Docker without adding a special setting in kibana.yml to disable the Chromium sandbox. ({kibana-pull}149080[#149080]).
* Fixes an issue where certain international characters would not appear correctly in the contents of a print-optimized PDF report of a dashboard ({kibana-pull}161825[#161825]).
Uptime::
* Fixes auto-expand feature for failed step detail ({kibana-pull}162747[#162747]).

[[release-notes-8.9.2]]
== {kib} 8.9.2

Review the following information about the {kib} 8.9.2 release.

[float]
[[enhancement-v8.9.2]]
=== Enhancements

Fleet::
* Adds the configuration setting `xpack.fleet.packageVerification.gpgKeyPath` as an environment variable in the {kib} container ({kibana-pull}163783[#163783]).

[float]
[[fixes-v8.9.2]]
=== Bug fixes

Dashboard::
* Fixes missing state on short URLs could be lost on an alias match redirect ({kibana-pull}163658[#163658]).
* Fixes 'Download CSV' returning no data when panel has custom time range outside the time range of the global time picker ({kibana-pull}163887[#163887]).
* Fixes **Dashboard** getting stuck at loading in {kib} when Controls is used and mapping changed from integer to keyword ({kibana-pull}163529[#163529]).
Elastic Security::
For the Elastic Security 8.9.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Lens & Visualizations::
* Allow removing temporary data view from event annotation group in *Lens* ({kibana-pull}163976[#163976]).
Machine Learning::
* Anomaly detection wizard: ensure custom URLs test functionality works as expected ({kibana-pull}165055[#165055]).
* Fixes anomaly detection module manifest queries for {kib} sample data sets, so cold and frozen tiers are not queried ({kibana-pull}164332[#164332]).
Management::
* Transforms: Fixes privileges check ({kibana-pull}163687[#163687]).
Operations::
* Fixes an issue where {kib} did not start on CentOS/RHEL 7 ({kibana-pull}165151[#165151]).
Reporting::
* Allow custom roles to use image reporting in **Dashboard** ({kibana-pull}163873[#163873]).

[[release-notes-8.9.1]]
== {kib} 8.9.1

Review the following information about the {kib} 8.9.1 release.

[float]
[[breaking-changes-8.9.1]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.9.0, review the breaking changes, then mitigate the impact to your application.

There are no breaking changes in the {kib} 8.9.1 release.

To review the breaking changes in the previous release, check {kibana-ref-all}/8.9/release-notes-8.9.0.html#breaking-changes-8.9.0[8.9.0].

[float]
[[fixes-v8.9.1]]
=== Bug fixes
APM::
* Fixes flame graph rendering on the transaction detail page ({kibana-pull}162968[#162968]).
* Check if documents are missing `span.name` ({kibana-pull}162899[#162899]).
* Fixes transaction action menu for Trace Explorer and dependency operations ({kibana-pull}162213[#162213]).
Canvas::
* Fixes embeddables not rendering in Canvas ({kibana-pull}163013[#163013]).
Discover::
* Fixes grid styles to enable better content wrapping ({kibana-pull}162325[#162325]).
* Fixes search sessions using temporary data views ({kibana-pull}161029[#161029]).
* Make share links and search session information shorter for temporary data views ({kibana-pull}161180[#161180]).
Elastic Security::
For the Elastic Security 8.9.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Fixes for query error on Agents list in the UI ({kibana-pull}162816[#162816]).
* Remove duplicate path being pushed to package archive ({kibana-pull}162724[#162724]).
Management::
* Resolves potential errors present in v8.9.0 with data views that contain field filters that have been edited ({kibana-pull}162860[#162860]).
Uptime::
* Fixes Monitor not found 404 message display ({kibana-pull}163501[#163501]).

[float]
[[enhancement-v8.9.1]]
=== Enhancements
Discover::
* Set legend width to extra large and enable text wrapping in legend labels ({kibana-pull}163009[#163009]).

[[release-notes-8.9.0]]
== {kib} 8.9.0

For information about the {kib} 8.9.0 release, review the following information.

[float]
[[known-issues-8.9.0]]
=== Known issues

// tag::known-issue-160116[]
[discrete]
.Changes to Lens visualizations do not appear in the saved object.
[%collapsible]
====
*Details* +
Changes to Lens visualizations do not appear in the saved object.

*Impact* +
When you remove fields from Lens visualizations, then save your changes, the removed fields continue to appear in the Lens visualization saved objects.
For example, when you remove runtime fields from a Lens visualization and {kib}, then inspect the Lens visualization saved object, the runtime fields continue to appear and an error message appears.

*Workaround* +
In 8.10.0, we are addressing this issue by merging the existing and changed saved object instead of replacing the saved object.

====
// end::known-issue-161249[]

[float]
[[breaking-changes-8.9.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.9.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Hide Uptime app if no data is available
[%collapsible]
====
*Details* +
The Uptime app now gets hidden from the interface when it doesn't have any data for more than a week. If you have a standalone Heartbeat pushing data to Elasticsearch, the Uptime app is considered active. You can disable this automatic behavior from the advanced settings in Kibana using the **Always show legacy Uptime app** option.
For synthetic monitoring, we now recommend to use the new Synthetics app. For more information, refer to {kibana-pull}159118[#159118]
====

[discrete]
.Remove synthetics pattern from Uptime settings
[%collapsible]
====
*Details* +
Data from browser monitors and monitors of all types created within the Synthetics App or via the Elastic Synthetics Fleet Integration will no longer appear in Uptime. For more information, refer to {kibana-pull}159012[#159012]
====

[float]
[[deprecations-8.9.0]]
=== Deprecations

The following functionality is deprecated in 8.9.0, and will be removed in 9.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 8.9.0.

[discrete]
[[deprecation-156455]]
.Hide ability to create legacy input controls
[%collapsible]
====
*Details* +
The option to create legacy input controls when creating a new visualization is hidden. For more information, refer to {kibana-pull}156455[#156455]
====

[discrete]
[[deprecation-155503]]
.Remove legacy field stats
[%collapsible]
====
*Details* +
Legacy felid stats that were previously shown within a popover have been removed. For more information, refer to {kibana-pull}155503[#155503]
====

[float]
[[features-8.9.0]]
=== Features
{kib} 8.9.0 adds the following new and notable features.

APM::
* Removes default service name and environment {kibana-pull}159901[#159901]
* Adds Agent status action {kibana-pull}159227[#159227]
* Added `sessionSampleRate` to agent configuration, which is a mobile specific setting {kibana-pull}159061[#159061]
* Adds storage explorer improvements {kibana-pull}157303[#157303]

Elastic Security::
For the Elastic Security 8.9.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Enterprise Search::
For the Elastic Enterprise Search 8.9.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Adds CloudFormation install method to CSPM {kibana-pull}159994[#159994]
* Adds flags to give permissions to write to any dataset and namespace {kibana-pull}157897[#157897]
* Disables Agent ID verification for Observability projects {kibana-pull}157400[#157400]
* Setup ignore_malformed in fleet {kibana-pull}157184[#157184]

Lens & Visualizations::
* Adds several new capabilities for annotation groups in *Lens* {kibana-pull}152623[#152623]

Observability::
* Adds SLO create callout to service overview, transactions page and transactions details {kibana-pull}159958[#159958]
* Adds the Logs threshold alert detail page, which provides more information and context about the Logs threshold alert {kibana-pull}159947[#159947]

Security::
* Adds vulnerability dashboard tables {kibana-pull}159699[#159699]
* Adds new Vulnerabilities tab to the Group by Resource page {kibana-pull}158987[#158987]
* Adds display errors and check licenses for actions in response actions {kibana-pull}155254[#155254]
* Adds common response actions tab in the alert flyout {kibana-pull}155362[#155362]

For more information about the features introduced in 8.9.0, refer to <<whats-new,What's new in 8.9>>.

[[enhancements-and-bug-fixes-v8.9.0]]
=== Enhancements and bug fixes

For detailed information about the 8.9.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.9.0]]
=== Enhancements
Alerting::
* Adds a Mustache lambda for alerting actions to format numbers with `{{#FormatNumber}}` using `Intl.NumberFormat` {kibana-pull}159644[#159644]
* Removes bulk snoozing of rules in Select All mode {kibana-pull}159749[#159749]
* Adds refresh button to maintenance windows list {kibana-pull}159618[#159618]
* Adds the feature for a Slack API to have allowed list on channels {kibana-pull}159534[#159534]
* Integrate Conditional Actions with several Observability rule types {kibana-pull}159522[#159522]
* Adds AAD Fields API {kibana-pull}158516[#158516]
* Adds API to retrieve the `fieldsForAAD` from a given rule type {kibana-pull}158516[#158516]
* Improves the performance of clearing expired snooze schedules {kibana-pull}157909[#157909]
APM::
* Ensure Saved Objects are versionable {kibana-pull}159881[#159881]
* Adds active alerts column for transaction group table {kibana-pull}159552[#159552]
* Adds an OpenAI integration {kibana-pull}158678[#158678]
* Adds Storage explorer improvements {kibana-pull}157303[#157303]
* Adds logic to replace transaction histogram with summary for backwards compatibility {kibana-pull}155714[#155714]
Dashboard::
* Adds design enhancements to the clone experience in Dashboards {kibana-pull}159752[#159752]
* Adds enhancements to the empty state screen in Dashboards {kibana-pull}158496[#158496]
* Adds a query DSL documentation link to filters UI {kibana-pull}156543[#156543]
* Adds a counter displaying the min/max values of the time series counter field in the field popover {kibana-pull}155499[#155499]
* Adds the ability for Controls to recover from non-fatal error state {kibana-pull}158087[#158087]
Discover::
* Updates Discover sharing capabilities to enable sharing a link when using temporary data views {kibana-pull}154947[#154947]
Elastic Security::
For the Elastic Security 8.9.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Enterprise Search::
For the Elastic Enterprise Search 8.9.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].
Fleet::
* Adds agent integration health reporting in the Fleet UI {kibana-pull}158826[#158826]
Lens & Visualizations::
* Adds feature to ignore global filters at layer level in *Lens* {kibana-pull}159248[#159248]
* Adds significant terms support as ranking function in Top Values in *lens* {kibana-pull}158962[#158962]
* Adds support for curved, linear and stepped lines in *Lens* {kibana-pull}158896[#158896]
* Allow wildcard searching in options list {kibana-pull}158427[#158427]
* Adds tag cloud to *Lens* {kibana-pull}157751[#157751]
Machine Learning::
* Data Frame Analytics: Allow interval time range selection in custom URLs {kibana-pull}159874[#159874]
* Increase limit of anomaly charts to max of 50 {kibana-pull}159816[#159816]
* Enable auto-complete on filter by influencer search box on anomaly explorer page {kibana-pull}159739[#159739]
* Moves import buttons in file data visualizer {kibana-pull}159722[#159722]
* Explain Log Rate Spikes: Adds secondary sort by `doc_count` only if sorted by `p-value` {kibana-pull}159568[#159568]
* Adds hyperlink to anomaly explorer for job from anomaly layer in maps {kibana-pull}159268[#159268]
* Support pipelines deletion and force flag for delete action {kibana-pull}158671[#158671]
* Use auto layout for anomalies table columns {kibana-pull}157687[#157687]
* Versioning all ML APIs {kibana-pull}156949[#156949]
Management::
* Transforms: Adds extra checkpoint stats to details tab {kibana-pull}157287[#157287]
* Adds in-product docs for cross cluster search index pattern input {kibana-pull}156155[#156155]
Maps::
* Adds a new layer wizard for the spatial join option {kibana-pull}156618[#156618]
Metrics::
* Adds copilot to hosts process {kibana-pull}159413[#159413]
Observability::
* Adds TLS Certificates page copied from Uptime, which only displays certificates from the synthetics application {kibana-pull}159541[#159541]
* Adds creating, editing, deleting monitors in private locations, which no longer requires all permissions in feet. You will only need synthetics write permissions. {kibana-pull}159378[#159378]
* Adds burn rate windows to SLO detail page {kibana-pull}159750[#159750]
* Adds *Normalize by* time and scale factor on Diff TopN functions page {kibana-pull}159394[#159394]
* Adds a severity label to SLO burn rate rule reason message {kibana-pull}158954[#158954]
* Adds Copy JSON button to Clipboard for SLO form {kibana-pull}157902[#157902]
* Adds Custom Metric SLI {kibana-pull}157421[#157421]
* Adds Data Views to index pattern selector {kibana-pull}158033[#158033]
Platform::
* The savedObjects export API now supports exporting all types using the `*` wildcard. Please refer to the documentation {kibana-pull}159289[#159289]
Security::
* Hide create spaces button when limit is reached {kibana-pull}159102[#159102]
Uptime::
* Adds the option to send an HTML email instead of a plaintext email to users when assigned to a case {kibana-pull}159335[#159335]
* Implement standard time formatting {kibana-pull}143799[#143799]
* Adds a new field, called `category`, to categorize cases. Users can create a new category, set or select an existing one on a case, and filter by multiple categories on the cases table. {kibana-pull}159890[#159890]

[float]
[[fixes-v8.9.0]]
=== Bug fixes
Alerting::
* Fixes containment boundaries not being re-fetched when a query changes {kibana-pull}157408[#157408]
* Fixes the charts on Log threshold breached details page {kibana-pull}160321[#160321]
APM::
* Fixes infinite loading of APM alert table {kibana-pull}161134[#161134]
* Fixes other bucket message and sorting {kibana-pull}159919[#159919]
* Fixes percentiles for service transaction metrics {kibana-pull}158913[#158913]
* Fixes stack trace on errors when only available as plain text {kibana-pull}156831[#156831]
Cases::
* Fixes a bug in the alerts table where you cannot create a new case when attaching alerts to a case from the cases modal {kibana-pull}160526[#160526]
* Fixes an issue where the following special characters could not be included in the case tags: `\\():<>"*` because it resulted in a bug where the case would not be displayed in the cases table when filtered for those tags. These characters are now handled correctly and the cases will be shown in the table. {kibana-pull}159815[#159815]
Dashboard::
* Fixes an issue where a Dashboard redirect alias displayed a blank screen instead of redirecting properly {kibana-pull}161043[#161043]
* Fixes an issue where the time slider would override custom time ranges {kibana-pull}160938[#160938]
* Fixes an issue where if the Reset button is clicked after changing the Title or Description in Panel settings before clicking Save, the Title or Description would revert to previous values {kibana-pull}159430[#159430]
* Fixes dashboard reset when initial state has no controls {kibana-pull}159404[#159404]
Design::
* Accessibility: Make links on job validation step distinguished from surrounding text {kibana-pull}160608[#160608]
* Fixes the range slider rendering issues and performance improvements {kibana-pull}159271[#159271]
Discover::
* Fixes refresh fields when entering Discover {kibana-pull}160195[#160195]
Elastic Security::
For the Elastic Security 8.9.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Enterprise Search::
For the Elastic Enterprise Search 8.9.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].
Fleet::
* Fixes bug that prevented `index.mapping` settings to be propagated into component templates from default settings {kibana-pull}157289[#157289]
Lens & Visualizations::
* Fixes missing datasource migration sometimes failing to run in *Lens* {kibana-pull}160129[#160129]
* Removes wrong padding on the dashboard in *Lens* {kibana-pull}159992[#159992]
* Fixes counter fields being used with Top values in *Lens* {kibana-pull}159709[#159709]
* Fixes dimension labels being partially translated on language change in *Lens* {kibana-pull}159089[#159089]
* Fixes the threshold visibility rendering in XY charts {kibana-pull}158917[#158917]
* Fixes a tag cloud warning about container being too small that never disappears {kibana-pull}159611[#159611]
* Default format in *Lens* will apply dataView field format as usual now in new Metric visualization {kibana-pull}158468[#158468]
* Fixes the handling of partition chart empty slices in *Lens* {kibana-pull}158346[#158346]
* Make reference lines use the correct formatter when configured in *Lens* {kibana-pull}158266[#158266]
* Fixes an issue where dropping a date field into a XY visualization with multiple mixed layers resets the chart type of all layers in *Lens* {kibana-pull}157871[#157871]
* Fixes an issue where incompatible actions were visible from the panels {kibana-pull}156667[#156667]
Machine Learning::
* Fixing time range selector in recognizer wizard {kibana-pull}160910[#160910]
* Fixes Anomaly Explorer URL for alerting context with non-default space {kibana-pull}160899[#160899]
* Hide inference stats for PyTorch models {kibana-pull}160599[#160599]
* Outlier detection results: ensure feature influence color persists on column position change {kibana-pull}160470[#160470]
* Anomaly detection: fixes time format used in query for datafeed chart {kibana-pull}160325[#160325]
* Hide `cache_miss_count` for PyTorch models {kibana-pull}160265[#160265]
* Fixes time range in link to data visualizer after file upload {kibana-pull}160189[#160189]
* Fixes links to dashboards in Lens created anomaly detection jobs {kibana-pull}160156[#160156]
* Adds warning to log pattern analysis page if data view is not time based {kibana-pull}160021[#160021]
Management::
* Fixes creation and editing of composite runtime fields with dots in the names {kibana-pull}160458[#160458]
* Fixes decreasing network delays when cross cluster search is running by sending `ccs_minimize_roundtrips=true` for async search requests {kibana-pull}159848[#159848]
* Fixes max page search size limit for Transforms {kibana-pull}159052[#159052]
* Fixes issue with single value for fields parameters {kibana-pull}157930[#157930]
* Fixes data view timestamp validation {kibana-pull}150398[#150398]
* Fixes theming for search sessions management {kibana-pull}160182[#160182]
Maps::
* Fixes geojson layer with joins and no left source matches stuck in loading state {kibana-pull}160222[#160222]
* Fixes size legend not indicating when min/max clamped by standard deviation range {kibana-pull}156927[#156927]
Metrics::
* Fixes `metric_explorer` flaky test{kibana-pull}157194[#157194]
Operations::
* Fixes Elasticsearch snapshot startup for parameters with dots in their path {kibana-pull}161022[#161022]
Platform::
* Fixes theming for error toast messages {kibana-pull}160219[#160219]
* Fixes a bug that could cause old Kibana deployments to loose their uiSettings after an upgrade {kibana-pull}159649[#159649]
* Fixes the handling of non-existing objects in _copy_saved_objects API call {kibana-pull}158036[#158036]
Security::
* Fixes theming of CodeEditors {kibana-pull}159638[#159638]
* Update session viewer Policy permissions to use Policy specific check {kibana-pull}160448[#160448]
* Fixes an issue when opening an endpoint exception from the Alert's summary flyout actions button, the exception did not auto-populate {kibana-pull}159908[#159908]
Uptime::
* Fixes parsing of response check on JSON expressions {kibana-pull}161634[#161634]
* Fixes an API error stating no key exists when a user was visiting the getting started page or tried to add monitor view by enabling synthetics {kibana-pull}160360[#160360]
* Fixes copy on private locations popover {kibana-pull}159740[#159740]

[[release-notes-8.8.2]]
== {kib} 8.8.2

Review the following information about the {kib} 8.8.2 release.

[float]
[[known-issues-8.8.2]]
=== Known issues

// tag::known-issue-161249[]
[discrete]
.Kibana can run out of memory during an upgrade when there are many {fleet} agent policies.
[%collapsible]
====
*Details* +
Due to a schema version update, during {fleet} setup in 8.8.x, all agent policies are being queried and deployed.
This action triggers a lot of queries to the Elastic Package Registry (EPR) to fetch integration packages.  As a result,
there is an increase in Kibana's resident memory usage (RSS).

*Impact* +
Because the default batch size of `100` for schema version upgrade of {fleet} agent policies is too high, this can
cause Kibana to run out of memory during an upgrade.  For example, we have observed 1GB Kibana instances run
out of memory during an upgrade when there were 20 agent policies with 5 integrations in each.

*Workaround* +
Two workaround options are available:

* Increase the Kibana instance size to 2GB. So far, we are not able to reproduce the issue with 2GB instances.
* Set `xpack.fleet.setup.agentPolicySchemaUpgradeBatchSize` to `2` in the `kibana.yml` and restart the Kibana instance(s).

In 8.9.0, we are addressing this by changing the default batch size to `2`.

====
// end::known-issue-161249[]

[float]
[[fixes-v8.8.2]]
=== Bug fixes

APM::
* Fixes the latency graph displaying all service transactions, rather than the selected one, on the transaction detail page {kibana-pull}159085[#159085]

Dashboard::
* Fixes styling of top nav bar {kibana-pull}159754[#159754]
* Fixes alias redirect and update error handling {kibana-pull}159742[#159742]
* Fixes time range regression {kibana-pull}159337[#159337]

Elastic Security::
For the Elastic Security 8.8.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.8.2 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Fixes usage of AsyncLocalStorage for audit log {kibana-pull}159807[#159807]
* Fixing issue of returning output API key {kibana-pull}159179[#159179]

Logs::
* Fixes log categorization UI failure due to an infinite loop {kibana-pull}159090[#159090]

Machine Learning::
* Hiding pattern analysis button for non-time series data {kibana-pull}160051[#160051]
* Fixes blocking forced downgrades/installation if indices can't be deleted {kibana-pull}159814[#159814]

Maps::
* Fixes layer group loading indicator always on when group has non-visible layer {kibana-pull}159517[#159517]
* Fixes geo line source not loading unless the Maps application is open {kibana-pull}159432[#159432]
* Fixes Maps orphan sources on layer deletion {kibana-pull}159067[#159067]

Monitoring::
* Permanently hide the telemetry notice on dismissal {kibana-pull}159893[#159893]

Observability::
* Handle buildEsQuery error (such as leading wildcard) in status change {kibana-pull}159891[#159891]

Platform::
* Fixes global search crash on missing tag {kibana-pull}159196[#159196]
* Fixes a regression where the "saved_object_resolve" audit action was not being logged per object {kibana-pull}160014[#160014]

Uptime::
* Ensures that users can configure custom `Content-Type` headers for HTTP monitors in the Synthetics app {kibana-pull}159737[#159737]
* Fixes an issue where alerting on Synthetics monitors was sometimes delayed {kibana-pull}159511[#159511]

[[release-notes-8.8.1]]
== {kib} 8.8.1

Review the following information about the {kib} 8.8.1 release.

[float]
[[known-issues-8.8.1]]
=== Known issues

// tag::known-issue-161249[]
[discrete]
.Kibana can run out of memory during an upgrade when there are many {fleet} agent policies.
[%collapsible]
====
*Details* +
Due to a schema version update, during {fleet} setup in 8.8.x, all agent policies are being queried and deployed.
This action triggers a lot of queries to the Elastic Package Registry (EPR) to fetch integration packages.  As a result,
there is an increase in Kibana's resident memory usage (RSS).

*Impact* +
Because the default batch size of `100` for schema version upgrade of {fleet} agent policies is too high, this can
cause Kibana to run out of memory during an upgrade.  For example, we have observed 1GB Kibana instances run
out of memory during an upgrade when there were 20 agent policies with 5 integrations in each.

*Workaround* +
Two workaround options are available:

* Increase the Kibana instance size to 2GB. So far, we are not able to reproduce the issue with 2GB instances.
* Set `xpack.fleet.setup.agentPolicySchemaUpgradeBatchSize` to `2` in the `kibana.yml` and restart the Kibana instance(s).

In 8.9.0, we are addressing this by changing the default batch size to `2`.

====
// end::known-issue-161249[]

// tag::known-issue-159807[]
[discrete]
.Memory leak in {fleet} audit logging.
[%collapsible]
====
*Details* +
{fleet} introduced audit logging for various CRUD (create, read, update, and delete) operations in version 8.8.0.

While audit logging is not enabled by default, we have identified an off-heap memory leak in the implementation of {fleet} audit logging that can result in poor {kib} performance, and in some cases {kib} instances being terminated by the OS kernel's oom-killer. This memory leak can occur even when {kib} audit logging is not explicitly enabled (regardless of whether `xpack.security.audit.enabled` is set in the `kibana.yml` settings file).

*Impact* +
The version 8.8.2 release includes in {kibana-pull}159807[a fix] for this problem. If you are using {fleet} integrations
and {kib} audit logging in version 8.8.0 or 8.8.1, you should upgrade to 8.8.2 or above to obtain the fix.
====
// end::known-issue-159807[]

[float]
[[breaking-changes-8.8.1]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.8.1, review the breaking changes, then mitigate the impact to your application.

There are no breaking changes in the {kib} 8.8.1 release.

To review the breaking changes in the previous release, check {kibana-ref-all}/8.8/release-notes-8.8.0.html#breaking-changes-8.8.0[8.8.0].

[float]
[[enhancement-v8.8.1]]
=== Enhancements

Elastic Security::
For the Elastic Security 8.8.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Add Elastic Agent UI instructions for Universal Profile {kibana-pull}158936[#158936]

[float]
[[fixes-v8.8.1]]
=== Bug fixes

Alerting::
* Fixes a bug where ML embeddables, OsQuery, and IoCs attachments in a case render the wrong view {kibana-pull}158441[#158441]
* Makes alert links shorter {kibana-pull}158582[#158582]
* Throws a Mustache error when validating action message for warnings {kibana-pull}158668[#158668]
* Adds null checks when iterating through an index template list {kibana-pull}158742[#158742]

APM::
* Displays the size of hidden indices in storage explorer {kibana-pull}158746[#158746]
* Changes the APM latency value and latency threshold to microseconds {kibana-pull}158703[#158703]
* Fixes service transaction metrics by using `transaction.duration.histogram` for percentile aggregations {kibana-pull}158909[#158909]

Discover::
* Update single doc view locator to URL encode `rowId` {kibana-pull}158635[#158635]
* Fixes the display of grid row selection when in dark mode {kibana-pull}158231[#158231]

Elastic Security::
For the Elastic Security 8.8.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Include hidden data streams in package upgrade {kibana-pull}158654[#158654]

Logs::
* Fixes Log Categorization UI failure due to an infinite loop {kibana-pull}159090[#159090]

Machine Learning::
* Increases calendar events request limit {kibana-pull}158726[#158726]
* Disables the delete option for deployed models {kibana-pull}158533[#158533]
* Applies theme based on the User Profile settings {kibana-pull}158258[#158258]

Maps::
* Fixes toolbar action button not filled when selected {kibana-pull}158284[#158284]
* Fixes Maps to display dark theme when enabled {kibana-pull}158219[#158219]

Operations::
* Fixes configuration stacking order {kibana-pull}158827[#158827]

Platform::
* Fixes {kib} crashing on Safari versions prior to 16.4 {kibana-pull}158825[#158825]
* Updates all aliases with a single `updateAliases()` when relocating saved objects {kibana-pull}158940[#158940]
* Fixes a race condition that could cause intermittent upgrade migration failures when {kib} connects to a single node {es} cluster {kibana-pull}158182[#158182]
* Dynamically reduces the `migrations.batchSize` value when {kib} encounters a migration batch that's too big to process {kibana-pull}157494[#157494]

[[release-notes-8.8.0]]
== {kib} 8.8.0

Review the following information about the {kib} 8.8.0 release.

[float]
[[known-issues-8.8.0]]
=== Known issues

// tag::known-issue-161249[]
[discrete]
.Kibana can run out of memory during an upgrade when there are many {fleet} agent policies.
[%collapsible]
====
*Details* +
Due to a schema version update, during {fleet} setup in 8.8.x, all agent policies are being queried and deployed.
This action triggers a lot of queries to the Elastic Package Registry (EPR) to fetch integration packages.  As a result,
there is an increase in Kibana's resident memory usage (RSS).

*Impact* +
Because the default batch size of `100` for schema version upgrade of {fleet} agent policies is too high, this can
cause Kibana to run out of memory during an upgrade.  For example, we have observed 1GB Kibana instances run
out of memory during an upgrade when there were 20 agent policies with 5 integrations in each.

*Workaround* +
Two workaround options are available:

* Increase the Kibana instance size to 2GB. So far, we are not able to reproduce the issue with 2GB instances.
* Set `xpack.fleet.setup.agentPolicySchemaUpgradeBatchSize` to `2` in the `kibana.yml` and restart the Kibana instance(s).

In 8.9.0, we are addressing this by changing the default batch size to `2`.

====
// end::known-issue-161249[]

// tag::known-issue-158940[]
[discrete]
.Failed upgrades to 8.8.0 can cause bootlooping and data loss
[%collapsible]
====
*Details* +
The 8.8.0 release splits the `.kibana` index into multiple saved object indices. If an upgrade to 8.8.0 partially succeeds, but not all the indices are created successfully, {kib} may be unable to successfully complete the upgrade on the next restart.

This can result in a loss of saved objects during the upgrade. This can also leave {kib} in a bootlooping state where it's unable to start due to `write_blocked` indices.

*Impact* +
The 8.8.1 release includes in {kibana-pull}158940[a fix] for this problem. Customers affected by a failed 8.8.0 upgrade should contact Elastic support. For more information, see the {kibana-issue}158733[related issue].
====
// end::known-issue-158940[]

// tag::known-issue-159807[]
[discrete]
.Memory leak in {fleet} audit logging.
[%collapsible]
====
*Details* +
{fleet} introduced audit logging for various CRUD (create, read, update, and delete) operations in version 8.8.0.
While audit logging is not enabled by default, we have identified an off-heap memory leak in the implementation of {fleet} audit logging that can result in poor {kib} performance, and in some cases {kib} instances being terminated by the OS kernel's oom-killer. This memory leak can occur even when {kib} audit logging is not explicitly enabled (regardless of whether `xpack.security.audit.enabled` is set in the `kibana.yml` settings file).

*Impact* +
The version 8.8.2 release includes in {kibana-pull}159807[a fix] for this problem. If you are using {fleet} integrations
and {kib} audit logging in version 8.8.0 or 8.8.1, you should upgrade to 8.8.2 or above to obtain the fix.
====
// end::known-issue-159807[]

// tag::known-issue-155203[]
[discrete]
.Monitors in Synthetics may stop running
[%collapsible]
====
*Details* +
If Monitor Management was enabled prior to 8.6.0, the API key generated internally will not contain the required permissions. The Synthetics app will attempt to fix this automatically in {kibana-pull}155203[#155203] when a user with https://www.elastic.co/guide/en/observability/8.8/synthetics-role-setup.html[sufficient privileges] visits this page for the first time after upgrading to 8.8.0.

*Impact* +
All monitors configured to run on Elastic's global managed testing infrastructure will stop running until a user with permissions has loaded the Synthetics app.
====
// end::known-issue-155203[]

// tag::known-issue-156798[]
[discrete]
.Network throttling disabled for browser monitors in Synthetics
[%collapsible]
====
*Details* +
Network throttling has been temporarily disabled for browser-based Synthetics monitors running on Elastic's global managed testing infrastructure and private locations. This will be enabled again at some point in the future. We're providing frequent updates on this issue in https://github.com/elastic/synthetics/blob/main/docs/throttling.md[this document].

*Impact* +
With network throttling being disabled, your monitors may run more quickly (i.e. have a lower duration) than you observed previously and than when network throttling is enabled again in the future. No monitor configurations have been changed, but the network throttling settings are ignored at the moment.
====
// end::known-issue-156798[]

// tag::known-issue-120[]
[discrete]
.Alert failures when migrating to 8.8.0 from 8.6 or earlier
[%collapsible]
====
*Details* +
If a cluster meets all of the following conditions, its {elastic-sec} and {observability} rules will fail and no actions will be sent:

- The {elastic-sec} and {observability} rules were created in version 8.6 or earlier releases.
- There must be an {ref}/index-templates.html[index template] (for any index) that isn't composed of component templates.

The following error messages in the {kib} log occur when {kib} starts or when the rules run:

[source,sh]
----
Error installing component template .alerts-ecs-mappings - Cannot read properties of undefined (reading 'includes')

Error installing common resources for AlertsService. No additional resources will be installed and rule execution may be impacted. - Failure during installation. Cannot read properties of undefined (reading 'includes')
----

*Impact* +
If you have upgraded to 8.8.0 and your alerting rules fail, upgrade to 8.8.1.
====
// end::known-issue-120[]

// tag::known-issue-158447[]
[discrete]
.Incorrect attachments are added to cases
[%collapsible]
====
*Details* +
When you attach {ml} visualizations, OsQuery, or Indicators of Compromise (IoCs) to a case, each attachment has its own view which renders in the *Activity* tab.
For these attachments, a bug was introduced in 8.8.0:

. If you add two different attachments on a case, the view will be the same for both.
. If you add one attachment to one case and another to a different case, in the second case you will view the attachment of the first case.

Alerts are not affected.

*Impact* +
There are no mitigations for the first scenario, other than upgrading to 8.8.1.
For the second scenario, refreshing the case fixes the issue.
====
// end::known-issue-158447[]

[float]
[[breaking-changes-8.8.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.8.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Removes legacy project monitor API
[%collapsible]
====
*Details* +
The project monitor API for Synthetics in Elastic Observability has been removed. For more information, refer to {kibana-pull}155470[#155470].

*Impact* +
In 8.8.0 and later, an error appears when you use the project monitor API.
====

[discrete]
.Changes the privileges for alerts and cases
[%collapsible]
====
*Details* +
The privileges for attaching alerts to cases has changed. For more information, refer to {kibana-pull}147985[#147985].

*Impact* +
To attach alerts to cases, you must have `Read` access to an {observability} or Security feature that has alerts and `All` access to the **Cases** feature. For detailed information, check link:https://www.elastic.co/guide/en/kibana/current/kibana-privileges.html[{kib} privileges] and link:https://www.elastic.co/guide/en/kibana/current/setup-cases.html[Configure access to cases].
====

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.7/release-notes-8.7.0.html#breaking-changes-8.7.0[8.7.0] | {kibana-ref-all}/8.6/release-notes-8.6.0.html#breaking-changes-8.6.0[8.6.0] | {kibana-ref-all}/8.5/release-notes-8.5.0.html#breaking-changes-8.5.0[8.5.0] | {kibana-ref-all}/8.4/release-notes-8.4.0.html#breaking-changes-8.4.0[8.4.0] | {kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[deprecations-8.8.0]]
=== Deprecations

The following functionality is deprecated in 8.8.0, and will be removed in 9.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 8.8.0.

[discrete]
[[deprecation-154275]]
.Deprecates ephemeral Task Manager settings
[%collapsible]
====
*Details* +
The following Task Manager settings are deprecated:

* `xpack.task_manager.ephemeral_tasks.enabled`
* `xpack.task_manager.ephemeral_tasks.request_capacity`
* `xpack.alerting.maxEphemeralActionsPerAlert`

For more information, refer to {kibana-pull}154275[#154275].

*Impact* +
To improve task execution resiliency, remove the deprecated settings from the `kibana.yml` file. For detailed information, check link:https://www.elastic.co/guide/en/kibana/current/task-manager-settings-kb.html[Task Manager settings in {kib}].
====

[discrete]
[[deprecation-154010]]
.Deprecates monitor schedules
[%collapsible]
====
*Details* +
Synthetics and Uptime monitor schedules and zip URL fields are deprecated. For more information, refer to {kibana-pull}154010[#154010] and {kibana-pull}154952[#154952].

*Impact* +
When you create monitors in Uptime Monitor Management and the Synthetics app, unsupported schedules are automatically transfered to the nearest supported schedule. To use zip URLs, use project monitors.
====

[discrete]
[[deprecation-152236]]
.Deprecates Agent reassign API PUT endpoint
[%collapsible]
====
*Details* +
The PUT endpoint for the agent reassign API is deprecated. For more information, refer to {kibana-pull}152236[#152236].

*Impact* +
Use the POST endpoint for the agent reassign API.
====

[discrete]
[[deprecation-151564]]
.Deprecates `total` in `/agent_status` Fleet API
[%collapsible]
====
*Details* +
The `total` field in `/agent_status` Fleet API responses is deprecated. For more information, refer to {kibana-pull}151564[#151564].

*Impact* +
The `/agent_status` Fleet API now returns the following statuses:

* `all` &mdash; All active and inactive
* `active` &mdash; All active
====

[discrete]
[[deprecation-149506]]
.Deprecates Elastic Synthetics integration
[%collapsible]
====
*Details* +
The Elastic Synthetics integration is deprecated. For more information, refer to {kibana-pull}149506[#149506].

*Impact* +
To monitor endpoints, pages, and user journeys, go to **{observability}** -> **Synthetics (beta)**.
====

[float]
[[features-8.8.0]]
=== Features
{kib} 8.8.0 adds the following new and notable features.

Alerting::
* Adds Maintenance Window Task Runner Integration + New AAD/Event Log Fields {kibana-pull}154761[#154761]
* Adds support for users authenticated with API keys to manage alerting rules {kibana-pull}154189[#154189]
* Adds the ability to control allowed attached file mime types and the maximum file size {kibana-pull}154013[#154013]
* Adds query and timeframe params to RuleAction to filter alerts {kibana-pull}152360[#152360]

APM::
* Adds group-by feature in APM rules {kibana-pull}155001[#155001]
* Adds queues as nodes to the service map {kibana-pull}153784[#153784]
* Adds the ability to display the latest agent version in agent explorer {kibana-pull}153643[#153643]
* Adds table tabs showing summary of metrics {kibana-pull}153044[#153044]
* Adds warning to Edit Rule Flyout when publicUrl is not configured {kibana-pull}149832[#149832]

Cases::
* Adds support for file attachments in Cases {kibana-pull}154436[#154436]
* Adds the Cases column to the alerts table {kibana-pull}150963[#150963]
* Adds filtering and sorting for the case activity {kibana-pull}149396[#149396]
* Adds the ability to filter user activities with pagination {kibana-pull}152702[#152702]

Dashboard::
Pins the unified search bar and dashboard toolbar to the top of the dashboard page when scrolling {kibana-pull}145628[#145628]

Discover::
Adds log pattern analysis {kibana-pull}153449[#153449]

Elastic Security::
For the Elastic Security 8.8.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.8.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Adds audit logging for core CRUD operations {kibana-pull}152118[#152118]
* Adds modal to display versions changelog {kibana-pull}152082[#152082]

Infrastructure::
* Adds the logs tab to the Hosts View {kibana-pull}152995[#152995]
* Adds Alerts tab into Hosts View {kibana-pull}149579[#149579]
* Adds refactoring to the Time and Position log stream state {kibana-pull}149052[#149052]

Machine Learning::
* Adds ELSER config to the Trained Models UI {kibana-pull}155867[#155867]
* Adds support for custom URLs in jobs for Data Frame Analytics {kibana-pull}154287[#154287]
* Adds support to filter fields from grouping in Explain Log Rate Spikes {kibana-pull}153864[#153864]
* Adds log pattern analysis in Discover {kibana-pull}153449[#153449]

Management::
* Adds support for global settings {kibana-pull}148975[#148975]
* Adds Custom Branding settings to Global settings {kibana-pull}150080[#150080]

Maps::
Adds map.emsUrl to docker env variables {kibana-pull}153441[#153441]

Observability::
* Adds the ability to changes all SLO assets to managed, and indices to hidden {kibana-pull}154953[#154953]
* Adds Exploratory View to a separate app {kibana-pull}153852[#153852]

Platform::
Adds text {kibana-pull}151631[#151631]

Security::
* Adds CloudFormation agent install method {kibana-pull}155045[#155045]
* Adds Vul mgmt flyout details panel {kibana-pull}154873[#154873]
* Adds Vulnerabilities Table {kibana-pull}154388[#154388]
* Adds the ability to select a theme preference for {kib} in the User Profile {kibana-pull}151507[#151507]

Uptime::
Adds UUID to RuleAction {kibana-pull}148038[#148038]

For more information about the features introduced in 8.8.0, refer to <<whats-new,What's new in 8.8>>.

[[enhancements-and-bug-fixes-v8.8.0]]
=== Enhancements and bug fixes

For detailed information about the 8.8.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.8.0]]
=== Enhancements
Alerting::
* Adds the ability to predefine IDs when you create connectors {kibana-pull}155392[#155392]
* Adds the ability to allow the footer added to emails sent from {kib} alerting rules to **NOT** be added {kibana-pull}154919[#154919]
* Adds conditional actions UI for timeframe {kibana-pull}153944[#153944]
* Adds a single view in the app function for rule actions variables and UI page {kibana-pull}148671[#148671]

APM::
* Adds error grouping key filter in error count rule type {kibana-pull}155410[#155410]
* Adds transaction name filter in failed transaction rate rule type {kibana-pull}155405[#155405]
* Replaces most used charts with the Lens embeddable {kibana-pull}155026[#155026]
* Adds transaction name filter in latency threshold rule {kibana-pull}154241[#154241]
* Adds Unified Search for APM {kibana-pull}153842[#153842]
* Adds migratation for the remaining tx-based visualizations {kibana-pull}153375[#153375]
* Adds migration for the tx latency chart and group stats to rollups/service metrics {kibana-pull}153162[#153162]
* Disables agent configuration creation for opentelemetry agents {kibana-pull}150697[#150697]

Cases::
* Adds the ability to set a new connector to default {kibana-pull}151884[#151884]
* Improves the design of the description markdown editor on the Cases page {kibana-pull}155151[#155151]

Dashboard::
* Adds support to Dashboard for searching saved objects by tags {kibana-pull}154946[#154946]
* Adds reset button {kibana-pull}154872[#154872]
* Adds unified dashboard settings {kibana-pull}153862[#153862]
* Adds the ability to scroll to a new panel {kibana-pull}152056[#152056]

Discover::
* Adds the ability to allow wildcards in field search {kibana-pull}155540[#155540]
* Adds a loading indicator during Discover table updates {kibana-pull}155505[#155505]
* Adds drag & drop capabilities for adding columns to the table {kibana-pull}153538[#153538]
* Adds a progress indicator when a saved search embeddable is updating {kibana-pull}152342[#152342]
* Adds inline data fetching errors {kibana-pull}152311[#152311]
* Adds a loading indicator for the classic table embeddable {kibana-pull}152072[#152072]
* Adds the ability to suppress "Missing index" toasts {kibana-pull}149625[#149625]

Elastic Security::
For the Elastic Security 8.8.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.8.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Adds support for fields of type aggregate_metric_double {kibana-pull}154920[#154920]
* Adds overview dashboards in fleet {kibana-pull}154914[#154914]
* Adds raw status to Agent details UI {kibana-pull}154826[#154826]
* Adds support for dynamic_namespace and dynamic_dataset {kibana-pull}154732[#154732]
* Adds the ability to show pipelines and mappings editor for input packages {kibana-pull}154077[#154077]
* Adds placeholder to integration select field {kibana-pull}153927[#153927]
* Adds the ability to show integration subcategories {kibana-pull}153591[#153591]
* Adds the ability to create and update the package policy API return 409 conflict when names are not unique {kibana-pull}153533[#153533]
* Adds the ability to display policy changes in Agent activity {kibana-pull}153237[#153237]
* Adds the ability to display errors in Agent activity with link to Logs {kibana-pull}152583[#152583]
* Adds support for select type in integrations {kibana-pull}152550[#152550]
* Adds the ability to make spaces plugin optional {kibana-pull}152115[#152115]
* Adds proxy ssl key and certificate to agent policy {kibana-pull}152005[#152005]
* Adds `_meta` field `has_experimental_data_stream_indexing_features` {kibana-pull}151853[#151853]
* Adds the ability to create templates and pipelines when updating package of a single package policy from type integration to input {kibana-pull}150199[#150199]
* Adds user's secondary authorization to Transforms {kibana-pull}154665[#154665]

Infrastructure::
Adds Memory Available Graph To Hosts View {kibana-pull}151863[#151863]

Lens & Visualizations::
* Adds the ability to sync the partition legend order with the filters order in *Lens* {kibana-pull}154820[#154820]
* Adds support for icons in the new *Lens* metric {kibana-pull}154210[#154210]
* Adds the ability to share with reports in *Lens* {kibana-pull}153429[#153429]
* Adds show and hide heatmap ticks in *Lens* {kibana-pull}153425[#153425]
* Adds the ability to remove empty headers when there is no x-axis in *Lens* {kibana-pull}153420[#153420]
* Adds improvements to the Metric formatter to support bit format in *Lens* {kibana-pull}153389[#153389]
* Adds the ability to prevent default behaviour from action callback in *Lens* {kibana-pull}152842[#152842]
* Adds Random Sampling to *Lens* {kibana-pull}151749[#151749]

Machine Learning::
* Data Frame Analytics creation wizard: add ability to add time field to result data view {kibana-pull}155669[#155669]
* Display info when no datafeed preview results are found {kibana-pull}155650[#155650]
* Adding ignore unavailable indices option to anomaly detection job wizards {kibana-pull}155527[#155527]
* Support multiple model deployments {kibana-pull}155375[#155375]
* Uses two weeks before now for default start time in job start date picker {kibana-pull}155312[#155312]
* AIOps: Adds filter action for the Change point detection results {kibana-pull}155256[#155256]
* Adds search links for AIOps Labs pages {kibana-pull}155202[#155202]
* AIOps: Adds field stats for metric and split fields {kibana-pull}155177[#155177]
* AIOps: Link from Explain Log Rate Spikes to Log Pattern Analysis {kibana-pull}155121[#155121]
* Explain Log Rate Spikes: adds popover to analysis table for viewing other field values {kibana-pull}154689[#154689]
* Explain Log Rate Spikes: Makes use of random sampling for overall histogram chart {kibana-pull}154520[#154520]
* Explain Log Rate Spikes: Adds table action to copy filter to clipboard {kibana-pull}154311[#154311]
* Change point detection: support for multiple metric and split fields {kibana-pull}154237[#154237]
* Enhances support for counter fields in data visualizer / field statistics {kibana-pull}153893[#153893]
* Custom sorting by message level on Notifications page {kibana-pull}153462[#153462]
* Adds log pattern analysis in Discover {kibana-pull}153449[#153449]
* Explain Log Rate Spikes: Improves grouping using the `include` option of the `frequent_item_sets` agg {kibana-pull}153091[#153091]
* Data Frame Analytics exploration: adds actions column with link to discover {kibana-pull}151482[#151482]
* Allows row expansion for blocked anomaly detection jobs {kibana-pull}151351[#151351]
* Enhances job and datafeed config editors in the Advanced anomaly detection job wizard to provide suggestions and documentation {kibana-pull}146968[#146968]

Management::
* Adds timezone support for Transforms date histogram pivot configuration {kibana-pull}155535[#155535]
* Adds more system indices to store internal data when you upgrade to 8.8.0 {kibana-pull}154888[#154888]
* Adds improvements for supporting counter fields in Transforms {kibana-pull}154171[#154171]
* Adds `_schedule_now` action to transform list {kibana-pull}153545[#153545]
* Adds link to Discover from Index Management so users can directly look at documents of their indices {kibana-pull}152640[#152640]
* Adds health information for alerting rule in Transforms{kibana-pull}152561[#152561]
* Adds improvements for index pattern input in the data view flyout {kibana-pull}152138[#152138]
* Adds a new description for the metadata field in ingest pipelines {kibana-pull}150935[#150935]
* Adds a _meta field to the Ingest pipelines form {kibana-pull}149976[#149976]
* Adds option to Reauthorize transform on Management page {kibana-pull}154736[#154736]

Maps::
Adds metrics mask {kibana-pull}154983[#154983]

Observability::
* Adds invalid license page {kibana-pull}154866[#154866]
* Adds empty state page links {kibana-pull}154678[#154678]
* Adds upload symbols instructions to add data page {kibana-pull}154670[#154670]
* Adds new CPU incl and CPU excl names {kibana-pull}154560[#154560]
* Adds symbols callout on frame information window {kibana-pull}154478[#154478]
* Adds Co2 and dollar cost columns and show more information action to functions table {kibana-pull}154097[#154097]
* Adds improvements to functions {kibana-pull}153873[#153873]
* Adds improvements to Flamegraph {kibana-pull}153598[#153598]
* Adds the ability to open the Traces view when you click on a series in stacked charts {kibana-pull}153325[#153325]
* Adds CPU usage column to replace CPU count column {kibana-pull}151696[#151696]

Querying & Filtering::
* Adds the ability to avoid duplicate host IP mapping {kibana-pull}155353[#155353]
* Adds improvements to the saved query terminology {kibana-pull}154517[#154517]

[float]
[[fixes-v8.8.0]]
=== Bug fixes
Alerting::
* Fixes Delete Schedule button padding issue {kibana-pull}154503[#154503]
* Fixes error message flash and throttle value reset {kibana-pull}154497[#154497]
* Fixes broken custom snooze recurrences with monthly frequency {kibana-pull}154251[#154251]
* Fixes an issue where you were unable to use retry on updateAPIKey conflict {kibana-pull}151802[#151802]

APM::
* Fixes an issue where you were uneable to enable framework alerts as data by default {kibana-pull}154076[#154076]
* Upgraded EUI to v76.0.0 {kibana-pull}152506[#152506]
* Fixes an issue where the OpenTelemetry process and system metrics were unsupported {kibana-pull}151826[#151826]

Canvas::
Fixes `createElement` callback {kibana-pull}154398[#154398]

Cases::
Fixes the Lens visualization in the comment and description markdown on the New Case page {kibana-pull}155897[#155897]

Dashboard::
* Fixes unsaved changes bug on empty dashboard {kibana-pull}155648[#155648]
* Removed Reload on Clone and Replace Panel {kibana-pull}155561[#155561]
* Fixes z index of toolbar items {kibana-pull}154501[#154501]
* Fixes inherited input race condition {kibana-pull}154293[#154293]
* Fixes Changing label of a geospatial filter causes filter disappear from map {kibana-pull}154087[#154087]

Discover::
* Adds a "Temporary" badge for temporary data views in the Alerts flyout {kibana-pull}155717[#155717]
* Adds the ability to exclude counter fields from Breakdown options {kibana-pull}155532[#155532]
* Adds the ability to skip requests for the time series metric counter field {kibana-pull}154319[#154319]
* Fixes KQL autocomplete suggestions, which now support IP-type fields when the `autocomplete:valueSuggestionMethod advanced setting is set to terms_enum {kibana-pull}154111[#154111]
* Fixes an issue where saved search "Manage searches" button was unable to apply the "search" type filter {kibana-pull}152565[#152565]

Elastic Security::
For the Elastic Security 8.8.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.8.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Fixes package license check to use new `conditions.elastic.subscription` field {kibana-pull}154831[#154831]
* Fixes the OpenAPI spec from `/agent/upload` to `/agent/uploads` for Agent uploads API {kibana-pull}151722[#151722]

Infrastructure::
Adds a 404 page for metrics and logs {kibana-pull}153005[#153005]

Integrations::
Fixes the slow process event for queries + xterm.js {kibana-pull}155326[#155326]

Kibana Home & Add Data::
Fixes the guided onboarding API prefix to indicate that it's intended for internal use {kibana-pull}155643[#155643]

Lens & Visualizations::
* Adds a default label on field changes for counter rate in *Lens* {kibana-pull}155509[#155509]
* Panel titles and descriptions are now transferred to the converted Lens panels in *TSVB* {kibana-pull}154713[#154713]
* Adds the ability to use the empty label for `/` terms in *TSVB* {kibana-pull}154647[#154647]
* Fixes the formatting for the legend actions title {kibana-pull}153747[#153747]
* Adds support for negative filter ratios in *TSVB* {kibana-pull}152053[#152053]
* Adds the ability to always retain source order for multi-metric partition chart layers in *Lens* {kibana-pull}151949[#151949]

Machine Learning::
* Data Frame Analytics/Anomaly Detection: Custom URLs - entity dropdown reflects Data View update {kibana-pull}155096[#155096]
* AIOps: Fix race condition where stale url state would reset search bar {kibana-pull}154885[#154885]
* Fixes anomalies table drilldown time range for longer bucket spans {kibana-pull}153678[#153678]
* Do not match time series counter fields with aggs in wizards {kibana-pull}153021[#153021]
* Anomaly Detection datafeed chart: ensure chart y axis minimum set correctly {kibana-pull}152051[#152051]

Management::
* Improves the display when there are many columns {kibana-pull}155119[#155119]
* Fixes stale submit handler ref update {kibana-pull}154242[#154242]
* Fixes terms aggregation support in wizard for Transforms {kibana-pull}151879[#151879]
* Fixes an issue where you were unable to accept additional dynamic field values for an index template {kibana-pull}150543[#150543]

Maps::
* Fixes raster layer is missing in pdf/png exports {kibana-pull}154686[#154686]
* Fixes RegionMap chart type does not work with reporting {kibana-pull}153492[#153492]
* Fixes layers are not displayed in offline environment and map.includeElasticMapsService not set to false {kibana-pull}152396[#152396]

Monitoring::
Removes usage for the stats endpoint {kibana-pull}151082[#151082]

Observability::
* Adds space-specific feature privileges {kibana-pull}154734[#154734]
* Adds the ability to properly handle NO DATA with multiple conditions with a mix of aggregations and document count thresholds {kibana-pull}154690[#154690]
* Adds additional types to the fields to be use with cardinality aggregation for Metric Threshold Rule {kibana-pull}154197[#154197]
* Adds persistent normalization mode {kibana-pull}153116[#153116]
* Fixes refresh every in the alert search bar {kibana-pull}152246[#152246]

Platform::
Fixes badge counter for global settings {kibana-pull}150869[#150869]

Querying & Filtering::
* Adds the ability to unload a selected query when it is deleted {kibana-pull}154644[#154644]
* Removes failures in wrong custom timerange {kibana-pull}154643[#154643]

Reporting::
* Fixes report generation when image panel is in the end of the layout {kibana-pull}153846[#153846]
* Updates Chromium to 111.0.5555.0 (r1095492) and Puppeteer to 19.7.2 {kibana-pull}153033[#153033]

Uptime::
* Fixes default date range on errors page {kibana-pull}155661[#155661]
* Removes the "Beta" labels in Synthetics {kibana-pull}155589[#155589]
* Fixes ML job/rule edit error {kibana-pull}155212[#155212]

[[release-notes-8.7.1]]
== {kib} 8.7.1

Review the following information about the {kib} 8.7.1 release.

[float]
[[breaking-changes-8.7.1]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.7.1, review the breaking changes, then mitigate the impact to your application.

There are no breaking changes in the {kib} 8.7.1 release.

To review the breaking changes in the previous release, check {kibana-ref-all}/8.7/release-notes-8.7.0.html#breaking-changes-8.7.0[8.7.0].

[float]
[[enhancement-v8.7.1]]
=== Enhancement
Fleet::
The agent policy "Host name format" selector is now enabled by default {kibana-pull}154563[#154563]

[float]
[[fixes-v8.7.1]]
=== Bug fixes
APM::
* Scoring is now applied by ES {kibana-pull}154627[#154627]
* Fixes the APM Java Agent download link {kibana-pull}154023[#154023]
* Improves the overflow message text {kibana-pull}153676[#153676]

Canvas::
* Disables the Edit in Lens action for the legacy savedVisualization function {kibana-pull}154656[#154656]
* Fixes the home page redirect loop {kibana-pull}154568[#154568]
* Fixes an issue where the image upload component was unable to load for image elements {kibana-pull}154385[#154385]

Dashboard::
Improves controls flyout performance for data views with a large number of fields {kibana-pull}154004[#154004]

Discover::
Fixes aborted request handling in the saved search embeddable {kibana-pull}153822[#153822]

Elastic Security::
For the Elastic Security 8.7.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Fixes an issue where the Advanced options toggle in the policy editor was always showing {kibana-pull}154612[#154612]
* Fixes an issue where the warning icon was unable to display in 8.7 {kibana-pull}154119[#154119]
* Adds updates to output logic {kibana-pull}153226[#153226]

Infrastructure::
Fixes the inventory table pagination navigation {kibana-pull}153849[#153849]

Lens & Visualizations::
Fixes the timezone that *Lens* uses in normalize by unit {kibana-pull}154472[#154472]

Machine Learning::
* Change point detection: Fixes applied filters and queries to the charts {kibana-pull}154707[#154707]
* Change point detection: Fixes support for running over relative time range {kibana-pull}154313[#154313]
* Reinstates cold and frozen tier filters for Linux and Windows security modules {kibana-pull}153222[#153222]

Maps::
Fixes an issue where geographic filters were unable to work when courier:ignoreFilterIfFieldNotInIndex was enabled {kibana-pull}153816[#153816]

Monitoring::
Fixes the CCR read_exceptions alert {kibana-pull}153888[#153888]

Querying & Filtering::
Fixes the ability to copy and paste the comma delimeter for multifields {kibana-pull}153772[#153772]

[[release-notes-8.7.0]]
== {kib} 8.7.0

Review the following information about the {kib} 8.7.0 release.

[float]
[[known-issues-8.7.0]]
=== Known issues

// tag::known-issue-151698[]
[discrete]
.Observability Overview shows empty User Experience panel
[%collapsible]
====
*Details* +
Release 8.7.0 has a bug causing the Observability Overview page to show an empty User Experience panel, even when there is RUM data (fixed in {kibana-pull}154419[#154419]).

*Impact* +
While the User Experience panel on the Observability Overview page is empty, any RUM data will still be available from the User Experience Dashboard.
====
// end::known-issue-151698[]

[float]
[[breaking-changes-8.7.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.7.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Removes the fields list sampling setting
[%collapsible]
====
*Details* +
`lens:useFieldExistenceSampling` has been removed from *Advanced Settings*. The setting allowed you to enable document sampling to determine the fields that are displayed in *Lens*. For more information, refer to {kibana-pull}149482[#149482].

*Impact* +
In 8.1.0 and later, {kib} uses the field caps API, by default, to determine the fields that are displayed in *Lens*.
====

[discrete]
.Removes the legacy pie chart visualization setting
[%collapsible]
====
*Details* +
`visualization:visualize:legacyPieChartsLibrary` has been removed from *Advanced Settings*. The setting allowed you to create aggregation-based pie chart visualizations using the legacy charts library. For more information, refer to {kibana-pull}146990[#146990].

*Impact* +
In 7.14.0 and later, the new aggregation-based pie chart visualization is available by default. For more information, check <<add-aggregation-based-visualization-panels>>.
====

[discrete]
.Removes the current_upgrades endpoint
[%collapsible]
====
*Details* +
The `api/fleet/current_upgrades` endpoint has been removed. For more information, refer to {kibana-pull}147616[#147616].

*Impact* +
When you upgrade to 8.7.0, use the `/action_status` endpoint.
====

[discrete]
.Removes the preconfiguration API route
[%collapsible]
====
*Details* +
The `/api/fleet/setup/preconfiguration` API, which was released as generally available by error, has been removed. For more information, refer to {kibana-pull}147199[#147199].

*Impact* +
Do not use `/api/fleet/setup/preconfiguration`. To manage preconfigured agent policies, use kibana.yml. For more information, check link:https://www.elastic.co/guide/en/kibana/current/fleet-settings-kb.html#_preconfiguration_settings_for_advanced_use_cases[Preconfigured settings].
====

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.6/release-notes-8.6.0.html#breaking-changes-8.6.0[8.6.0] | {kibana-ref-all}/8.5/release-notes-8.5.0.html#breaking-changes-8.5.0[8.5.0] | {kibana-ref-all}/8.4/release-notes-8.4.0.html#breaking-changes-8.4.0[8.4.0] | {kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[features-8.7.0]]
=== Features
{kib} 8.7.0 adds the following new and notable features.

Alerting::
* Alerts Table- Inspect Modal {kibana-pull}149586[#149586]
* Updates Rule Action Form to add Summary UX {kibana-pull}149367[#149367]
* Users can now search for Cases by ID {kibana-pull}149233[#149233]
* Alerts table row loading state {kibana-pull}148874[#148874]
* Adds default summary message {kibana-pull}148749[#148749]
* AlertsTable - Add persistent controls that show even on empty state {kibana-pull}148735[#148735]
* Connector logs view {kibana-pull}148291[#148291]
* Make action retries configurable {kibana-pull}147876[#147876]
* Adds summary capabilities to the API and execution logic {kibana-pull}147360[#147360]
* Adds flapping state to alert context for action parameters {kibana-pull}147136[#147136]
* Adds triggered actions list in task state {kibana-pull}146183[#146183]
* Moves Notify When and throttle from rule to action {kibana-pull}145637[#145637]

APM::
* Increases maxTraceItems {kibana-pull}149062[#149062]
* Disables navigation to _other bucket and show warning tooltip {kibana-pull}148641[#148641]
* Show warning if transaction groups are dropped {kibana-pull}148625[#148625]
* Show alert indicator on alerts tab {kibana-pull}148048[#148048]
* Adds latency alert history chart on the Alert details page for APM {kibana-pull}148011[#148011]
* Adds alert annotation and threshold shade on the APM latency chart on the Alert Details page {kibana-pull}147848[#147848]
* Errors group sampler {kibana-pull}147571[#147571]
* Show alert indicator on service inventory page {kibana-pull}147511[#147511]
* Adds alertDetailAppSection to the APM Rule Details page {kibana-pull}143298[#143298]

Dashboard::
* Adds the ability to load more options list suggestions when you scroll {kibana-pull}148331[#148331]
* Adds alert filters to the Detection page {kibana-pull}146989[#146989]
* Adds the image embeddable {kibana-pull}146421[#146421]
* Adds the "Convert to lens" action to Dashboard {kibana-pull}146363[#146363]
* Adds a step size to the time slider control {kibana-pull}145033[#145033]
* Adds the ability to sort the options list suggestions {kibana-pull}144867[#144867]

Elastic Security::
For the Elastic Security 8.7.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.7.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Adds ability to show FQDN of agents {kibana-pull}150239[#150239]
* Adds `getStatusSummary` query parameter to `GET /api/fleet/agents` API {kibana-pull}149963[#149963]
* Enabling diagnostics feature flag and changed query for files to use upload_id {kibana-pull}149575[#149575]
* Experimental toggles for doc-value-only {kibana-pull}149131[#149131]
* We now display agent metrics, CPU and memory in the agent list table and agent details page {kibana-pull}149119[#149119]
* Implement subcategories in integrations UI {kibana-pull}148894[#148894]
* Added rollout period to upgrade action {kibana-pull}148240[#148240]
* Adds per-policy inactivity timeout + use runtime fields for agent status {kibana-pull}147552[#147552]
* Show dataset combo box for input packages {kibana-pull}147015[#147015]
* Adds UI controls to setting/outputs to configure new shipper {kibana-pull}145755[#145755]

Infrastructure::
* Adds link to ingest pipeline dashboard from Stack Monitoring {kibana-pull}149721[#149721]

Integrations::
* User friendly UX added alongside advanced yaml editor {kibana-pull}147900[#147900]
* Custom fleet policy UX for new integration (cloud defend v1) {kibana-pull}147300[#147300]

Kibana Home & Add Data::
Self-managed {kib} instances now have a link to instructions for migrating self-managed clusters to Elastic Cloud {kibana-pull}145523[#145523]

Lens & Visualizations::
Adds the share link feature in *Lens* {kibana-pull}148829[#148829]

Machine Learning::
* Adds change point detection feature {kibana-pull}150308[#150308]
* Remove Technical Preview label from the Trained Models UI {kibana-pull}149715[#149715]
* Adds a new memory usage by job and by model view {kibana-pull}149419[#149419]
* Allow Anomaly Detection geo jobs to be created from maps dashboard {kibana-pull}147797[#147797]
* Adds geo fields support for Unified field list, add statistics flyover to Anomaly detection job creation wizards {kibana-pull}147322[#147322]
* Anomaly Detection wizards: adds geo job wizard {kibana-pull}147043[#147043]

Management::
* Adds field statistics popovers for Data Frame Analytics & Transform creation wizards {kibana-pull}149879[#149879]
* Transforms: Shows health status of transform in UI {kibana-pull}150359[#150359]

Monitoring::
* Adds duration configuration to Stack Monitoring Cluster Health rule {kibana-pull}147565[#147565]

Observability::
* Adds alert summary widget to overview page {kibana-pull}149581[#149581]
* Adds AlertSummaryWidget full-size on the Alerts page {kibana-pull}148539[#148539]
* Additional context for log threshold rule {kibana-pull}148503[#148503]
* Adds charts to Alert Summary Widget {kibana-pull}148143[#148143]
* Adds rule details locator and make AlertSummaryWidget clickable {kibana-pull}147103[#147103]
* Adds groupByKeys context to recovered alerts for Log Threshold Rule and Metric Threshold Rule {kibana-pull}146874[#146874]
* Adds new context variable called groupByKeys {kibana-pull}146633[#146633]
* Adds new context variable for group by keys {kibana-pull}145654[#145654]
* Adds Platinum license check for SLO APIs and SLO pages {kibana-pull}149055[#149055]
* Create SLO / Edit SLO Form - Custom KQL {kibana-pull}147843[#147843]
* SLO List {kibana-pull}147447[#147447]

Platform::
New trigger actions for chart legends and table cell actions {kibana-pull}146779[#146779]

Querying & Filtering::
* Insight filter builder form as markdown plugin {kibana-pull}150363[#150363]
* Adds the ability to support complex filters with AND/OR relationships {kibana-pull}143928[#143928]

Security::
* Adds the ability to allow administrators to limit the number of concurrent user sessions with `xpack.security.session.oncurrentSessions.maxSessions` {kibana-pull}147442[#147442]
* API Keys can now be updated with new role descriptors and metadata in the API Keys Management screen {kibana-pull}146237[#146237]

For more information about the features introduced in 8.7.0, refer to <<whats-new,What's new in 8.7>>.

[[enhancements-and-bug-fixes-v8.7.0]]
=== Enhancements and bug fixes
For detailed information about the 8.7.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.7.0]]
=== Enhancements
Alerting::
* Bring flapping status and settings in o11y {kibana-pull}150483[#150483]
* RenderCustomActionsRow with named params instead of args {kibana-pull}149304[#149304]
* Ram 145739 use bulk enable disable in UI {kibana-pull}145928[#145928]
* Create generic retry if function {kibana-pull}145713[#145713]
* Return rules from bulk enable {kibana-pull}145391[#145391]
* Create bulk disable endpoint {kibana-pull}145179[#145179]
* Adding group by options to ES query rule type {kibana-pull}144689[#144689]

APM::
* Adds APM alert status to the alerts table {kibana-pull}150500[#150500]
* Promotes the Alerts tab in the APM UI to GA {kibana-pull}150528[#150528]
* Switches get environment function to use `terms_enum` api {kibana-pull}150175[#150175]
* Uses (rolled up) service metrics for service inventory {kibana-pull}149938[#149938]
* Adds KQL filter bar to the service map page {kibana-pull}149900[#149900]
* Integrates Alert search bar in the alerts tab {kibana-pull}149610[#149610]
* Adds Azure Functions support in the APM UI {kibana-pull}149479[#149479]
* Adds a 404 page {kibana-pull}149471[#149471]
* Adds single-click setup from Kibana {kibana-pull}148959[#148959]
* Updates sparklines to support the bar chart graph style {kibana-pull}148702[#148702]
* Adds a flamegraph legend {kibana-pull}147910[#147910]
* Adds API keys to APM package policies {kibana-pull}147650[#147650]
* Only renders waterfall items up until 3 levels {kibana-pull}147569[#147569]
* Improves span links navigation {kibana-pull}147426[#147426]
* Updates default refresh interval to 60 seconds {kibana-pull}146791[#146791]
* Adds pagination to source map API {kibana-pull}145959[#145959]
* Adds ability to offset point labels on maps {kibana-pull}145773[#145773]

Cases::
* Adds new column `Updated on ` in `all cases list ` table. This column can be sorted and can persist sorting options {kibana-pull}149116[#149116]
* Improves the design of all cases list select modal {kibana-pull}149851[#149851]
* Adds a button to Case Detail and All Cases List to copy case UUIDs to the clipboard {kibana-pull}148962[#148962]
* Adds the ability to persist sorting, severity filter, and status filter in the URL and local storage for the all cases list {kibana-pull}148549[#148549]
* Adds the ability to allow sorting by status, severity, and title in the all-cases list {kibana-pull}148193[#148193]
* See "My recently assigned cases" to the recent cases widget of Overview dashboard in Security {kibana-pull}147763[#147763]
* Adds the ability to bulk edit assignees on multiple cases {kibana-pull}146907[#146907]
* Adds the ability to save draft comments {kibana-pull}146327[#146327]

Dashboard::
* Add new panel settings option to change the title, description, and time range for panels {kibana-pull}148301[#148301]
* Anchor time slider to start {kibana-pull}148028[#148028]
* Show document count beside options list suggestions {kibana-pull}146241[#146241]

Discover::
* Show "Copy value" button for any grid cell {kibana-pull}149525[#149525]
* Align field list filters UI between Discover and Lens {kibana-pull}148547[#148547]
* Persist field list sections state in local storage {kibana-pull}148373[#148373]
* Enable adhoc data views creation from no data views state {kibana-pull}147850[#147850]
* Adds a way to quickly expand time range from "No results" screen {kibana-pull}147195[#147195]
* Optimize checking for multifields during grid rendering {kibana-pull}145698[#145698]
* Align field list sections between Discover and Lens {kibana-pull}144412[#144412]
* Update Discover's histogram to use Lens, and add support for breaking down the histogram by top values of a selected field {kibana-pull}143117[#143117]

Elastic Security::
For the Elastic Security 8.7.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.7.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Fixes discard changes link taking user to "page not found" {kibana-pull}150174[#150174]
* Adds filebeat_input index to agent policy default {kibana-pull}149974[#149974]
* Bugfix: Apply namespace from agent policy if there is one when adding integration {kibana-pull}149949[#149949]
* Agent List: Inform users when agents have become inactive since last page view {kibana-pull}149226[#149226]
* Experimental toggles for doc-value-only {kibana-pull}149131[#149131]
* Create index templates and ingest pipeline at package policy creation time for input packages {kibana-pull}148772[#148772]
* Do not allow namespace or dataset to be edited for input only package policies {kibana-pull}148422[#148422]
* Adds deprecation warning to unenrollment timeout agent policy setting {kibana-pull}147963[#147963]
* Adds active filter count to agent status filter {kibana-pull}147821[#147821]

Kibana UI::
The list view in Dashboard, Visualize Library, Maps, and Graph now stores the latest state of the table in the URL {kibana-pull}145517[#145517]

Lens & Visualizations::
* Enable nice rounding for scalar axis in *Lens* {kibana-pull}149388[#149388]
* Don't block render on missing field in *Lens* {kibana-pull}149262[#149262]
* Enable previous time shift when using a date histogram in *Lens* {kibana-pull}149126[#149126]
* Displays the annotation icon on the annotation dimension label in *Lens* {kibana-pull}147686[#147686]
* Extend explore data in Discover/open in Discover drilldown to visualizations with annotations and reference lines in *Lens* {kibana-pull}147541[#147541]
* Moves the mosaic/waffle charts into GA in *Lens* {kibana-pull}146261[#146261]
* Color by slice for multi-metric partition chart in *Lens* {kibana-pull}145948[#145948]
* Save function to integrate listing Inspector {kibana-pull}145381[#145381]
* Absolute time shift support in formula in *Lens* {kibana-pull}144564[#144564]

Machine Learning::
* Adding multi-modal distribution to the explain anomaly results {kibana-pull}150014[#150014]
* Adding anomaly explanation help link {kibana-pull}149674[#149674]
* Data Frame Analytics results view: add link to custom visualizations for viewing scatterplot charts {kibana-pull}149647[#149647]
* Explain Log Rate Spikes: highlight field pairs unique to groups in expanded row {kibana-pull}148601[#148601]
* Adds delete annotations option to delete and reset job modals {kibana-pull}147537[#147537]
* Adds override for data which doesn't contain a time field {kibana-pull}147504[#147504]
* Adds responsive layout to Index data visualizer, fix doc count chart margin {kibana-pull}147137[#147137]
* Use anomaly score explanation for chart tooltip multi-bucket impact {kibana-pull}146866[#146866]
* Remove beta badge for Field statistics table in Discover {kibana-pull}140991[#140991]

Management::
* Transforms: Adds "Use full data" button to transform creation wizard {kibana-pull}150030[#150030]
* Adds override field to Dot expander processor form {kibana-pull}149599[#149599]
* Adds fields to Append Ingest Pipeline processor form {kibana-pull}149520[#149520]
* Adds support for S3 intelligent tiering in Snapshot and Restore {kibana-pull}149129[#149129]
* Transforms: Adds date picker to transform wizard for data view with time fields {kibana-pull}149049[#149049]
* Use data view formatter for fields preview in Edit field flyout {kibana-pull}148446[#148446]
* Adds a new global ui settings client {kibana-pull}146270[#146270]
* Update Transform installation mechanism to support upgrade paths {kibana-pull}142920[#142920]

Maps::
Adds support for hex aggregation with geo_shape field {kibana-pull}143890[#143890]

Monitoring::
* Link to individual host page on hosts view {kibana-pull}147380[#147380]
* Adds support for beats datastream patterns {kibana-pull}146184[#146184]

Observability::
* Custom equation editor for Metric Threshold Rule {kibana-pull}148732[#148732]
* Adds context.originalAlertState to the Metric Threshold and Inventory Threshold recovery context {kibana-pull}147928[#147928]

Querying & Filtering::
Allows case sensitive option on multiselection filters input {kibana-pull}149570[#149570]

Security::
* The default `csp.disableUnsafeEval` value is now `true`, so now the `unsafe-eval` source expression isn't present by default in the Kibana Content Security Policy (CSP) {kibana-pull}150157[#150157]
* Adds client IP address to Kibana audit log {kibana-pull}148055[#148055]
* Adds `Cross-Origin-Opener-Policy: same-origin` HTTP header to Kibana default response headers {kibana-pull}147874[#147874]

Sharing::
Enables multiple values filtering on tooltip actions {kibana-pull}148372[#148372]

Uptime::
TLS rule allow monitors filtering {kibana-pull}150339[#150339]

[float]
[[fixes-v8.7.0]]
=== Bug fixes
Alerting::
* Event log failure message {kibana-pull}149355[#149355]
* Optimize alerting task runner for persistent (non-lifecycle rule types) {kibana-pull}149043[#149043]
* Failed test x-pack/plugins/triggers_actions_ui/public/application/lib/transformActionVariables {kibana-pull}147579[#147579]
* Rule create/update form re-render {kibana-pull}147221[#147221]
* Hiding all features in a space causes rules to stop running {kibana-pull}146188[#146188]
* Send complete test data to xMatters, so it can create an alert {kibana-pull}145431[#145431]
* Hiding all features in a space causes rules to stop running {kibana-pull}145372[#145372]

APM::
* Latency threshold rule's threshold context variable should use milliseconds instead of microseconds {kibana-pull}150234[#150234]
* Cannot read/write APM Settings Indices page with minimally-privileged user {kibana-pull}150107[#150107]
* Adds `service.environment` log correlation {kibana-pull}150065[#150065]
* Remove `host.name` correlation {kibana-pull}150005[#150005]
* Fixes display of stacktrace with EuiCodeBlocks {kibana-pull}149911[#149911]
* Alert rules: The transaction type and environment options are not filtered by the selected service {kibana-pull}149849[#149849]
* Unable to create Latency threshold rule for All services or All Transaction types {kibana-pull}149735[#149735]
* Adds language specific headers {kibana-pull}149400[#149400]
* Adds stacktrace support for php {kibana-pull}149122[#149122]
* Tech preview feature on General settings {kibana-pull}148996[#148996]
* Fixes APM sourcemap upload route {kibana-pull}148508[#148508]
* Change order of tabs {kibana-pull}147518[#147518]
* Show values of highlighted sample in TopN chart {kibana-pull}147431[#147431]
* Synchronous Anomaly detection jobs creation {kibana-pull}145969[#145969]
* Change default refresh interval to 60 seconds {kibana-pull}144389[#144389]

Dashboard::
* Retain maximized panel on link/unlink from library {kibana-pull}150405[#150405]
* Fixes Unlink from Library / Save to Library for Maximized Panel {kibana-pull}150338[#150338]
* Fixes Darktheme is missing from add drilldowns panel {kibana-pull}147270[#147270]
* Removes options list `"Allow <x>"` toggles {kibana-pull}147216[#147216]

Design::
* Fixes a11y issue with dev tool tabs {kibana-pull}149349[#149349]
* Fixes a11y issues with cross cluster replication flyouts {kibana-pull}149069[#149069]
* Fixes a11y for snapshot policy flyout {kibana-pull}148972[#148972]

Discover::
* Fixes Phrase_filter query for scripted fields {kibana-pull}148943[#148943]
* Use Discover locator for alert results link {kibana-pull}146403[#146403]
* Validate if Data View time field exists on Alert creation / editing {kibana-pull}146324[#146324]

Elastic Security::
For the Elastic Security 8.7.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.7.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Truncate long names in agents table {kibana-pull}150069[#150069]
* Update kubernetes templates for elastic-agent {kibana-pull}143275[#143275]

Infrastructure::
Remove ts-ignore annotation {kibana-pull}145759[#145759]

Lens & Visualizations::
* Always use resolved time range when computing Top values order agg with timeshifts in *Lens* {kibana-pull}150418[#150418]
* Fixes problem with timeshift in formula and breakdown in *Lens* {kibana-pull}150406[#150406]
* Fixes nested other bucket for empty string {kibana-pull}150321[#150321]
* Fixes chart padding on reference lines/annotations icon on the left side in *Lens* {kibana-pull}149573[#149573]
* Fixes the partition legend actions header format problem in *Lens* {kibana-pull}149114[#149114]
* Automatically enable show array values for non-numeric runtime fields in *Lens* {kibana-pull}149025[#149025]
* Always display the major label {kibana-pull}148999[#148999]
* Adds multi fields support to selected fields list in *Lens* {kibana-pull}148899[#148899]
* Allows cleaning up of the filters aggregatiob custom label in *Lens* {kibana-pull}148535[#148535]
* Order date fields first on discover drilldown in *Lens* {kibana-pull}146786[#146786]
* Fixes the syncing of other series color in *Lens* {kibana-pull}146785[#146785]

Machine Learning::
* Data Frame Analytics creation wizard: ensure includes table is populated correctly on job type change {kibana-pull}150112[#150112]
* Data Frame Analytics maps view: Fix update of map when selecting results index node {kibana-pull}149993[#149993]
* Fixes Typical to actual connector lines in AnomalyLayer have dot halfway {kibana-pull}149270[#149270]
* Fixes responsive behaviour of page header with date picker {kibana-pull}149073[#149073]
* Delayed data visualization: ensure y-axis count is visible {kibana-pull}148982[#148982]
* Allow dedicated index override in JSON editor {kibana-pull}148887[#148887]
* Anomaly Detection: Fix button switch issue with unmounted component {kibana-pull}148239[#148239]
* Anomaly Detection: Fix Anomaly Explorer context handling {kibana-pull}148231[#148231]
* Fixes modal titles {kibana-pull}147855[#147855]

Management::
* Replace global `GET /_mapping` request with `GET <index>/_mapping` {kibana-pull}147770[#147770]
* Fixes form validation UX when the same data view name already exists {kibana-pull}146126[#146126]
* The field preview in the data view field editor now works for all fields, whether or not they are in the document's `_source` {kibana-pull}145943[#145943]

Maps::
* Fixes Kibana maps should not override the sort field if not provided by the user {kibana-pull}150400[#150400]
* Show embeddable filters in spatial layer {kibana-pull}150078[#150078]
* Fixes Kibana Maps UI upload geojson failure should be received as such {kibana-pull}149969[#149969]
* Verify CRS for geojson upload {kibana-pull}148403[#148403]

Monitoring::
Use UI time range filter in logstash pipeline details query {kibana-pull}150032[#150032]

Observability::
Adds ALERT_RULE_PARAMETERS to the common fields in Rule Registry {kibana-pull}147458[#147458]

Platform::
Support cgroup v2 in core metric collection {kibana-pull}147082[#147082]

[[release-notes-8.6.1]]
== {kib} 8.6.1

Review the following information about the {kib} 8.6.1 release.

[float]
[[breaking-changes-8.6.1]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.6.1.

{kibana-ref-all}/8.5/release-notes-8.5.0.html#breaking-changes-8.5.0[8.5.0] | {kibana-ref-all}/8.4/release-notes-8.4.0.html#breaking-changes-8.4.0[8.4.0] | {kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[enhancement-v8.6.1]]
=== Enhancements
Alerting::
* Create OAS for get rule types and get alerting framework health {kibana-pull}148774[#148774]
* Create open API specification for create/update connector {kibana-pull}148691[#148691]
* Create open API specification for disable/enable rule and mute/unmute all alerts {kibana-pull}148494[#148494]

Elastic Security::
For the Elastic Security 8.6.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

[float]
[[fixes-v8.6.1]]
=== Bug fixes
Canvas::
Replaces React.lazy and withSuspense with async imports in expressions plugins {kibana-pull}147693[#147693]

Dashboard::
* Adds styling to allow clickable *TSVB* markdown images {kibana-pull}147802[#147802]
* Changes the visibility of the panel filters action {kibana-pull}146335[#146335]

Discover::
* Adds support for case-insensitive search in Document Viewer {kibana-pull}148312[#148312]
* Fixes the field stats for the epoch time format {kibana-pull}148288[#148288]

Elastic Security::
For the Elastic Security 8.6.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Fixes missing policy Id in installation URL for cloud integrations {kibana-pull}149243[#149243]
* Fixes package installation APIs to install packages without a version {kibana-pull}149193[#149193]
* Fixes issue where the latest GA version could not be installed if there was a newer prerelease version in the registry {kibana-pull}149133[#149133] and {kibana-pull}149104[#149104]

Infrastructure::
Fixes an issue where the summary request piled up {kibana-pull}148670[#148670]

Machine Learning::
* Fixes the bucket span estimator in the advanced wizard {kibana-pull}149008[#149008]
* Fixes the transforms JSON display {kibana-pull}147996[#147996]

Management::
* Fixes the runtime field format editor {kibana-pull}148497[#148497]
* Improves the check for response size in the `/autocomplete_entities` endpoint {kibana-pull}148328[#148328]

Maps::
Fixes an issue where Maps was unable to  initialize the time range from URLs {kibana-pull}148465[#148465]

Platform::
Fixes the server-side import of the contract `CloudStart` {kibana-pull}149203[#149203]

Uptime::
* ssl fields are now omitted when ssl is disabled {kibana-pull}149087[#149087]
* Adds the ability to disable throttling for project monitors {kibana-pull}148669[#148669]

[[release-notes-8.6.0]]
== {kib} 8.6.0

Review the following information about the {kib} 8.6.0 release.

[float]
[[known-issues-8.6.0]]
=== Known issues

[discrete]
[[known-issue-146020]]
.Attempting to create APM latency threshold rules from the Observability rules page fail
[%collapsible]
====
*Details* +
When you attempt to create an APM latency threshold rule in **Observability** > **Alerts** > **Rules** for all services or all transaction types, the request will fail with a `params invalid` error.

*Impact* +
This known issue only impacts the Observability Rules page. To work around this issue, create APM latency threshold rules in the APM Alerts and Rules dialog. See {observability-guide}/apm-alerts.html[Alerts and rules] for detailed instructions.
====

[float]
[[breaking-changes-8.6.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.6.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Changes the `histogram:maxBars` default setting
[%collapsible]
====
*Details* +
To configure higher resolution data histogram aggregations without changing the *Advanced Settings*, the default histogram:maxBars setting is now 1000 instead of 100. For more information, refer to {kibana-pull}143081[#143081].

*Impact* +
For each {kibana-ref}/xpack-spaces.html[space], complete the following to change *histogram:maxBars* to the previous default setting:

. Open the main menu, then click *Stack Management > Advanced Settings*.
. Scroll or search for *histogram:maxBars*.
. Enter `100`, then click *Save changes*.
====

[discrete]
.CSV reports use PIT instead of Scroll
[%collapsible]
====
*Details* +
CSV reports now use PIT instead of Scroll. Previously generated CSV reports that used an index alias with alias-only privileges, but without privileges on the alias referenced-indices will no longer generate. For more information, refer to {kibana-pull}158338[#158338].

*Impact* +
To generate CSV reports, grant `read` privileges to the underlying indices.
====

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.5/release-notes-8.5.0.html#breaking-changes-8.5.0[8.5.0] | {kibana-ref-all}/8.4/release-notes-8.4.0.html#breaking-changes-8.4.0[8.4.0] | {kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[features-8.6.0]]
=== Features
{kib} 8.6.0 adds the following new and notable features.

Alerting::
* Notify users by email when assigned to a case {kibana-pull}144391[#144391]
* Adds flapping state object and interface in AAD index and Event Log {kibana-pull}143920[#143920]
* Change Alerts > Actions execution order {kibana-pull}143577[#143577]
* Adds the ability to remove alerts attached to a case {kibana-pull}143457[#143457]
* This feature allows users to create and close alerts within Opsgenie {kibana-pull}142411[#142411]
* Adds filter field to index threshold rule type {kibana-pull}142255[#142255]
* Allow users to see event logs from all spaces they have access to {kibana-pull}140449[#140449]

Elastic Security::
For the Elastic Security 8.6.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.6.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Differentiate kubernetes integration multipage experience {kibana-pull}145224[#145224]
* Adds prerelease toggle to Integrations list {kibana-pull}143853[#143853]
* Adds link to allow users to skip multistep add integration workflow {kibana-pull}143279[#143279]

Infrastructure::
Adds support for the the Unified Search Bar for Query input {kibana-pull}143222[#143222]

Lens & Visualizations::
Adds support for trend lines in *Lens* metric visualizations {kibana-pull}141851[#141851]

Machine Learning::
* Trained model testing with index data {kibana-pull}144629[#144629]
* Adding anomaly score explanations {kibana-pull}142999[#142999]


Monitoring::
Collect metrics about the active/idle connections to ES nodes {kibana-pull}141434[#141434]

Observability::
* Integrate alert search bar on rule details page {kibana-pull}144718[#144718]
* Adds additional context to recovered alerts of Infrastructure rules {kibana-pull}144683[#144683]
* Adds list of containers in context variable of Inventory rule {kibana-pull}144526[#144526]
* Adds new contextual attributes to Infrastructure - Metric threshold rule {kibana-pull}143001[#143001]
* Adds alert details page feature flag by App {kibana-pull}142839[#142839]
* Adds new contextual attributes to Infrastructure - Inventory Rule {kibana-pull}140598[#140598]

Osquery::

Allows users to deploy Osquery across all {agent} policies or on specified policies only {kibana-pull}143948[#143948]

Platform::
Adds notifications plugin, offering basic email service {kibana-pull}143303[#143303]

Security::
Adds the ability to show sub-feature privileges when using the Basic license {kibana-pull}142020[#142020]

Uptime::
Adds `created_at` field in saved objects {kibana-pull}143507[#143507]

For more information about the features introduced in 8.6.0, refer to <<whats-new,What's new in 8.6>>.

[[enhancements-and-bug-fixes-v8.6.0]]
=== Enhancements and bug fixes

For detailed information about the 8.6.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.6.0]]
=== Enhancements
Alerting::
* Clone rule {kibana-pull}144741[#144741]
* Remove errors and warning in triggers_actions_ui jest test {kibana-pull}144443[#144443]

* Increase the default table size of the cases table to 10 {kibana-pull}144228[#144228]
* Bulk enable rules api {kibana-pull}144216[#144216]
* Create bulk delete on rules front {kibana-pull}144101[#144101]
* Improve Task Managers retry logic for ad-hoc tasks {kibana-pull}143860[#143860]
* Increases the max length limit of the case title to 160 characters {kibana-pull}143664[#143664]
* Adds the ability to bulk edit tags in the cases table {kibana-pull}143450[#143450]
* Filter cases without assignees {kibana-pull}143390[#143390]
* Make actions retry when encountering failures {kibana-pull}143224[#143224]
* Adds a backlink to cases when pushing in external services {kibana-pull}143174[#143174]
* Move Connectors to own page {kibana-pull}142485[#142485]
* 142183 create bulk delete on rules {kibana-pull}142466[#142466]
* Allow `_source` field for ES DSL query rules {kibana-pull}142223[#142223]
* Update rule status {kibana-pull}140882[#140882]

APM::
* Adds pie charts displaying the most used mobile devices, operating systems, etc. {kibana-pull}144232[#144232]
* Adds the ability to filter mobile APM views {kibana-pull}144172[#144172]
* Adds average latency map to the mobile service overview {kibana-pull}144127[#144127]
* Adds new options to APM central configuration {kibana-pull}143668[#143668]
* Adds a trace waterfall to the dependency operation detail view {kibana-pull}143257[#143257]
* Adds a configuration table above code sample in getting started guide {kibana-pull}143178[#143178]
* Adds improvements to the AWS Lambda metrics view {kibana-pull}143113[#143113]
* Adds total APM size and perecent of disk space used to storage explorer {kibana-pull}143179[#143179]
* [Technical preview] Adds the ability to display a critical path for a single trace {kibana-pull}143735[#143735]
* [Technical preview] Adds the agent explorer inventory and detail page {kibana-pull}143844[#143844]

Dashboard::
* Adds unmapped runtime field support to options list {kibana-pull}144947[#144947]
* Adds "Exists" functionality to options list {kibana-pull}143762[#143762]
* Adds `excludes` toggle to options list {kibana-pull}142780[#142780]
* Adds support for IP field to options list {kibana-pull}142507[#142507]
* Adds option to disable cursor sync on dashboards {kibana-pull}143355[#143355]

Discover::
* Adds the ability to edit ad hoc data views without permissions {kibana-pull}142723[#142723]
* Enables `esQuery` alert for adhoc data views {kibana-pull}140885[#140885]

Elastic Security::
For the Elastic Security 8.6.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.6.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
Adds `?full` option to get package info endpoint to return all package fields {kibana-pull}144343[#144343]

Infrastructure::
* Use the Unified Search Bar for date range selection {kibana-pull}144351[#144351]
* Adds network traffic to Hosts table {kibana-pull}142137[#142137]

Kibana UI::
Updates the Dashboard, Visualize Library, and Maps pages with enhanced tag filtering {kibana-pull}142108[#142108]

Lens & Visualizations::
* Rearranges the options in *Lens* {kibana-pull}144891[#144891]
* Adds the ability to open *TSVB* tables in *Lens* {kibana-pull}143946[#143946]
* Adds advanced params to the formula API in *Lens* {kibana-pull}143876[#143876]
* Adds the ability to display value labels on histogram and stacked charts in *Lens* {kibana-pull}143635[#143635]
* Distinguishes the adhoc data views from the permanent data views in the dropdowns {kibana-pull}143525[#143525]
* Adds the ability to filter metrics in the *Lens* data table {kibana-pull}143219[#143219]
* Adds support for navigate Variance aggregations in *Lens* {kibana-pull}143209[#143209]
* Adds selected field accordion to the fields list in *Lens* {kibana-pull}143175[#143175]
* Adds the ability to open aggregation-based xy charts in *Lens* {kibana-pull}142936[#142936]
* Adds the ability to open aggregation-based Gauge and Goal visualizations in *Lens* {kibana-pull}142838[#142838]
* Enables cursor syncronization in *Lens* heatmaps {kibana-pull}142821[#142821]
* Adds a reduced time range option for formula in *Lens* {kibana-pull}142709[#142709]
* Adds the ability to open aggregation-based metric visualization in *Lens* {kibana-pull}142561[#142561]
* Adds the ability to edit data views in the *Lens* flyout {kibana-pull}142362[#142362]
* Adds conditional operations in the *Lens* formula {kibana-pull}142325[#142325]
* Adds the ability to explore fields in Discover from *Lens* {kibana-pull}142199[#142199]
* Adds the ability to open *TSVB* Gauge visualizations in *Lens* {kibana-pull}142187[#142187]
* Adds new defaults function in *Lens* {kibana-pull}142087[#142087]
* Adds support for mustache context variables with periods {kibana-pull}143703[#143703]
* Adds explore matching indices to data view menu {kibana-pull}141807[#141807]
* Adds control in the *Lens* annotations layer menu for global filters {kibana-pull}141615[#141615]
* Adds field filter to popover in *Lens* {kibana-pull}141582[#141582]
* Improves the performance for large formulas in *Lens* {kibana-pull}141456[#141456]
* Improves the Quick function in-product assistance in *Lens* {kibana-pull}141399[#141399]
* Adds bit formatter in *Lens* {kibana-pull}141372[#141372]
* Adds the ability to open aggregation-based pie visualizations in *Lens* {kibana-pull}140879[#140879]
* Adds the ability to open *TSVB* metric visualizations in *Lens* {kibana-pull}140878[#140878]
* Adds the ability to open aggregation-based table visualizations in *Lens* {kibana-pull}140791[#140791]
* Adds the ability to allow date functions in formula {kibana-pull}143632[#143632]

Machine Learning::
* Data Frame Analytics: Highlight filtered data in scatterplot charts {kibana-pull}144871[#144871]
* Allow updates for number of allocations and priority for trained model deployments {kibana-pull}144704[#144704]
* Switch from normal sampling to random sampler for Index data visualizer table {kibana-pull}144646[#144646]
* Explain Log Rate Spikes: Replace chunks of queries with concurrent queue {kibana-pull}144220[#144220]
* Explain Log Rate Spikes: Allow to continue failed stream {kibana-pull}143301[#143301]
* Entity filter for the Notifications page {kibana-pull}142778[#142778]
* Show an info callout for new notifications {kibana-pull}142245[#142245]
* Adding dashboard custom url to lens created jobs {kibana-pull}142139[#142139]
* Adds ML open API output to appendix {kibana-pull}141556[#141556]

Management::
Adds missing geo aggs to autocomplete in Console {kibana-pull}141504[#141504]

Maps::
* Adds the ability to invert color ramp and size {kibana-pull}143307[#143307]
* Adds layer groups {kibana-pull}142528[#142528]
* Adds the ability to hide or show all layers {kibana-pull}141495[#141495]

Observability::
* Adds kibana.alert.time_range field to Alert-As-Data mappings and populate it {kibana-pull}141309[#141309]
* Alert summary widget new design {kibana-pull}141236[#141236]
* Adds histogram support for avg, max, min, sum and percentiles {kibana-pull}139770[#139770]

Platform::
Adds maxIdleSockets and idleSocketTimeout to Elasticsearch config {kibana-pull}142019[#142019]

Security::
* Adds a read-only mode to the User management screen for users with `read_security` cluster privilege {kibana-pull}143438[#143438]
* Adds a read-only mode to the API keys management screen for users with `read_security` cluster privilege {kibana-pull}144923[#144923]
* Adds `user.id` field to Kibana audit log {kibana-pull}141092[#141092]

Uptime::
* Allow using AND for tags filtering {kibana-pull}145079[#145079]
* Adds monitor detail flyout {kibana-pull}136156[#136156]

[float]
[[fixes-v8.6.0]]
=== Bug fixes
Alerting::
* Fixes logger text and fix bulk error type {kibana-pull}144598[#144598]
* Flaky bulkDisable tasks functional test {kibana-pull}144405[#144405]
* Adding back unknown outcome filter {kibana-pull}143546[#143546]
* Fixing flaky test in x-pack/test/functional_with_es_ssl/apps/triggers_actions_ui/alerts_listts {kibana-pull}142855[#142855]
* Rule run history displays success with a message when the rule status is warning {kibana-pull}142645[#142645]
* Elasticsearch query rule type allows SIZE: 0, but flags as error on re-edit {kibana-pull}142225[#142225]
* Rules and Connectors: Current page in breadcrumbs shows as link {kibana-pull}141838[#141838]
* Move save button into connector config form {kibana-pull}141361[#141361]

APM::
* Show a recommended minimum size when going below 5 minutes {kibana-pull}144170[#144170]
* Fixes ML permissions by removing usage of `canAccessML` {kibana-pull}143631[#143631]
* Fallback to terms aggregation search if terms enum doesnt return results {kibana-pull}143619[#143619]
* Fixes bug that causes alert expression to not close {kibana-pull}143531[#143531]
* Fixes `apm.transaction_duration` alert to aggregrate over service environment {kibana-pull}143238[#143238]
* Fixes broken latency and services layout {kibana-pull}143453[#143453]
* Fixes metadata API environment filter {kibana-pull}144472[#144472]

Dashboard::
* The extra reload caused by Controls is now skipped {kibana-pull}142868[#142868]
* Modifies the state shared in dashboard permalinks {kibana-pull}141985[#141985]

Discover::
* Fixes theme for Alerts popover {kibana-pull}145390[#145390]
* Improves the no data views state for `esQuery` alert {kibana-pull}145052[#145052]
* Updates the data view id on adhoc data view change {kibana-pull}142069[#142069]
* Improves the error and fix app state when updating data view ID in the URL to an invalid ID {kibana-pull}141540[#141540]

Elastic Security::
For the Elastic Security 8.6.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.6.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
Only show fleet managed data streams on data streams list page {kibana-pull}143300[#143300]

Infrastructure::
Adds disk latency metrics to hosts table {kibana-pull}144312[#144312]

Kibana Home & Add Data::
* Updates the examples {kibana-pull}141265[#141265]

Lens & Visualizations::
* All saved queries are now returned on the list instead of only the first 50 {kibana-pull}145554[#145554]
* The baseTheme is now always included with the charts theme {kibana-pull}145401[#145401]
* Do not throw on undefined sorting column referenced in *Lens* {kibana-pull}144716[#144716]
* Fixes suggestion bug in *Lens* {kibana-pull}144708[#144708]
* The reference layer is now excluded from the cursor sync hook in *Lens* {kibana-pull}144384[#144384]
* Improves the embeddable warnings placement in *Lens* metric visualizations {kibana-pull}144368[#144368]
* Fixes the list control popover background color in dark mode {kibana-pull}144204[#144204]
* The unused dimension label from the tooltip in *Lens* is now hidden {kibana-pull}143721[#143721]
* Improves the default text for the controls options list {kibana-pull}143413[#143413]
* Fixes styling issues in *Vega* {kibana-pull}143168[#143168]
* Fixes an issue where the shard failure notices made *Lens* unusable {kibana-pull}142985[#142985]
* Fixes the syncing for colors and tooltips {kibana-pull}142957[#142957]
* Updates the label for Time field annotations in *TSVB* {kibana-pull}142452[#142452]
* Fixes an issue where empty annotation query strings in *TSVB* and *Lens* displayed different results {kibana-pull}142197[#142197]
* Drag and drop capabilities of a single element in *Lens* is no longer allowed {kibana-pull}141793[#141793]
* Fixes the ability to close the settings popover with a click in *Lens* {kibana-pull}141272[#141272]

Machine Learning::
* Fixes the default time range on the Notifications page {kibana-pull}145578[#145578]
* Data Frame Analytics maps view: ensure nodes reload correctly after using timepicker refresh {kibana-pull}145265[#145265]
* Explain Log Rate Spikes: Fix applying overall params to histogram queries {kibana-pull}144219[#144219]
* Calculate model memory limit for Lens created jobs {kibana-pull}143456[#143456]
* Explain Log Rate Spikes: fix chart showing as empty when filter matches field/value pair in hovered row {kibana-pull}142693[#142693]

Management::
* Fixes nested formatter for terms {kibana-pull}144543[#144543]
* Cache ad-hoc data views to avoid repeated field list calls {kibana-pull}144465[#144465]
* In the case of 2 or more panels on the dashboard, TSVB renderComplete fires 2 times {kibana-pull}143999[#143999]
* Shard failure notifications have been reduced when many queries fail at the same time {kibana-pull}131776[#131776]

Maps::
* Fixes an issue where the Time Slider text was not working properly with Dark Mode {kibana-pull}145612[#145612]
* Adds ungroup layers action {kibana-pull}144574[#144574]

Observability::
Fixes alerts' blank page in case of invalid query string {kibana-pull}145067[#145067]

Observability Home::
* Use bucketSize from request options for overview query {kibana-pull}145032[#145032]
* Solution nav with no data page {kibana-pull}144280[#144280]

Querying & Filtering::
* Fixes an issue with autocomplete value suggestions where the date range was sometimes incorrectly applied {kibana-pull}144134[#144134]
* Fixes Moment.js timezone error when defining a range filter {kibana-pull}143213[#143213]

Reporting::
* Fixed a bug with CSV export in Discover, where searching over hundreds of shards would result in an incomplete CSV file {kibana-pull}144201[#144201]
* Fixes an issue where downloading a report caused a new browser tab to open with the report content, rather than receiving a downloaded file {kibana-pull}144136[#144136]
* Fixed an issue with CSV exports from Discover, where using the `_id` field in an export, when `_id` is a very high numeric value, the value could lose precision {kibana-pull}143807[#143807]

[[release-notes-8.5.2]]
== {kib} 8.5.2

Review the following information about the {kib} 8.5.2 release.

[float]
[[breaking-changes-8.5.2]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.5.2.

{kibana-ref-all}/8.4/release-notes-8.4.0.html#breaking-changes-8.4.0[8.4.0] | {kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[enhancement-v8.5.2]]
=== Enhancement
Security::
* Adds a `Content-Security-Policy` header to all `/api/*` responses {kibana-pull}144902[#144902]

[float]
[[fixes-v8.5.2]]
=== Bug fixes
APM::
* Limits the number of source map artifacts {kibana-pull}144963[#144963]
* Fixes an incorrect documentation link {kibana-pull}145077[#145077]
* Suppresses error toast when data view cannot be created {kibana-pull}143639[#143639]

Dashboard::
Fixes unexpected suggestions for text/keyword multi-fields {kibana-pull}145177[#145177]

Discover::
Fixes % for field stats calculations (edge cases) {kibana-pull}144962[#144962]

Management::
Fixes autocomplete_entities API crash when response size is too big {kibana-pull}140569[#140569]

Uptime::
Adjust formula for synthetics monitor availability {kibana-pull}144868[#144868]

[[release-notes-8.5.1]]
== {kib} 8.5.1

Review the following information about the {kib} 8.5.1 release.

[float]
[[breaking-changes-8.5.1]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.5.1.

{kibana-ref-all}/8.4/release-notes-8.4.0.html#breaking-changes-8.4.0[8.4.0] | {kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[enhancement-v8.5.1]]
=== Enhancements
Elastic Security::
For the Elastic Security 8.5.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

[float]
[[fixes-v8.5.1]]
=== Bug fixes
APM::
* Fixes a bug where Metadata API does not filter by environment {kibana-pull}144472[#144472]
* Fixes a bug where AWS lambda checks for an undefined value {kibana-pull}143987[#143987]
* Limits the number of source map artifacts {kibana-pull}144963[#144963]
* Fixes an incorrect documentation link {kibana-pull}145077[#145077]

Dashboard::
* Removes support for scripted fields in options list {kibana-pull}144643[#144643]
* Fixes help documentation link for dashboard {kibana-pull}143894[#143894]

Elastic Security::
For the Elastic Security 8.5.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
Make asset tags space aware {kibana-pull}144066[#144066]

Machine Learning::
* Correcting the size of the free ML node on cloud {kibana-pull}144512[#144512]
* Fixes model testing flyout reload {kibana-pull}144318[#144318]
* Explain Log Rate Spikes: Wrap analysis in try/catch block {kibana-pull}143651[#143651]
* Explain Log Rate Spikes: Fix uncompressed streams and backpressure handling {kibana-pull}142970[#142970]

Osquery::
* Fixes a bug that prevented users from viewing Osquery results if they were in a non-default {kib} space {kibana-pull}144210[#144210]

Platform::
Fixes the execution pipeline not to stop on a flaky subexpression {kibana-pull}143852[#143852]

Uptime::
* Adjust forumla for synthetics monitor availability {kibana-pull}144868[#144868]
* TLS alert - do not alert when status cannot be determined {kibana-pull}144767[#144767]

[[release-notes-8.5.0]]
== {kib} 8.5.0

Review the following information about the {kib} 8.5.0 release.

[float]
[[known-issues-8.5.0]]
=== Known issues

Due to a recent change in the Red Hat scan verification process,
{kib} 8.5.0 is not available in the Red Hat Ecosystem Catalog.
This known issue will be fixed in the next release.
To download the {kib} 8.5.0 image, use the https://www.docker.elastic.co/r/kibana/kibana[Elastic docker registry].

[float]
[[breaking-changes-8.5.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.5.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Updates bulk action API to return actionId instead of agent success
[%collapsible]
====
*Details* +
To make bulk action responses consistent, returns `actionId` instead of agent ids with `success: True` or `success: False` results. For more information, refer to {kibana-pull}141757[#141757].

*Impact* +
When you use `FleetBulkResponse`, you now receive only `actionId` responses.
====

[discrete]
.Removes filter validation for ad-hoc data views
[%collapsible]
====
*Details* +
Filters associated with unknown data views, such as deleted data views, are no longer automatically disabled. For more information, refer to {kibana-pull}139431[#139431].

*Impact* +
Filters associated with unknown data views now display a warning message instead of being automatically disabled.
====

[discrete]
.Removes the `package_policies` field from the agent policy saved object
[%collapsible]
====
*Details* +
The bidirectional foreign key between agent policy and package policy has been removed. For more information, refer to {kibana-pull}138677[#138677].

*Impact* +
The agent policy saved object no longer includes the `package_policies` field.
====

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.4/release-notes-8.4.0.html#breaking-changes-8.4.0[8.4.0] | {kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[features-8.5.0]]
=== Features
{kib} 8.5.0 adds the following new and notable features.

Alerting::
* Adds dynamic field selection to the alerts table {kibana-pull}140516[#140516]
* Show alerts count {kibana-pull}140473[#140473]
* Adds the ability to allows users to assign other users to cases {kibana-pull}140208[#140208]
* Ability run a rule on-demand {kibana-pull}139848[#139848]
* Ability to bulk update API keys for alerting rules {kibana-pull}139036[#139036]
* Index threshold alert can't use unsigned long data type {kibana-pull}138452[#138452]
* Category fields endpoint {kibana-pull}138245[#138245]
* Index threshold alert UI does not fill index picker with data streams {kibana-pull}137584[#137584]

APM::
* Display kubernetes metadata in service icons popup and instance accordion {kibana-pull}139612[#139612]
* AWS lambda metrics api {kibana-pull}139041[#139041]

Discover::
* Adds support for storing time with saved searches {kibana-pull}138377[#138377]
* Enables tags for saved searches {kibana-pull}136162[#136162]

Elastic Security::
For the Elastic Security 8.5.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Adds agent activity flyout {kibana-pull}140510[#140510]
* Adds a new event toggle to capture terminal output in endpoint {kibana-pull}139421[#139421]
* Makes batch actions asynchronous {kibana-pull}138870[#138870]
* Adds ability to tag integration assets {kibana-pull}137184[#137184]
* Adds support for input only packages {kibana-pull}140035[#140035]

Infrastructure::
Inital hosts page {kibana-pull}138173[#138173]

Lens & Visualizations::
* Adds query-based annotations in *Lens* {kibana-pull}138753[#138753]
* Enables ad-hoc data views in *Lens* {kibana-pull}138732[#138732]

Machine Learning::
* Notifications page {kibana-pull}140613[#140613]
* Explain Log Rate Spikes: Add option to view grouped analysis results {kibana-pull}140464[#140464]
* Stubs out UI for the ML Inference Pipeline panel {kibana-pull}140456[#140456]
* Attach the anomaly charts embeddable to Case {kibana-pull}139628[#139628]
* Log pattern analysis UI {kibana-pull}139005[#139005]
* Attach the anomaly swim lane embeddable to Case {kibana-pull}138994[#138994]

Management::
* Adds the ability to allow variables in URL Drilldown titles {kibana-pull}140076[#140076]
* Enables time series downsampling action in ILM configurations {kibana-pull}138748[#138748]
* Adds the composite runtime field editor {kibana-pull}136954[#136954]

Observability::
Feat(slo): Create basic SLO route {kibana-pull}139490[#139490]

Osquery::
* Adds Osquery results to cases {kibana-pull}139909[#139909]
* Add support for differential logs {kibana-pull}140660[#140660]

Security::
Adds the ability to set a default Access Agreement for all `xpack.security`-level authentication providers {kibana-pull}139217[#139217]

For more information about the features introduced in 8.5.0, refer to <<whats-new,What's new in 8.5>>.

[[enhancements-and-bug-fixes-v8.5.0]]
=== Enhancements and bug fixes

For detailed information about the 8.5.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.5.0]]
=== Enhancements
Alerting::
* 141189 alerts table performance {kibana-pull}141385[#141385]
* 141119 remove visibility toogle + use_columns refactor {kibana-pull}141250[#141250]
* Adds Stats on top of execution logs {kibana-pull}140883[#140883]
* Adds the Logs tab to Rules and Connectors UI {kibana-pull}138852[#138852]
* Adds "exclude previous hits" check box to ESQuery rule form {kibana-pull}138781[#138781]
* The ES Query Rule Type now supports Runtime Mappings and the Fields parameters when using an Elasticsearch DSL query {kibana-pull}138427[#138427]

APM::
* Adds option to power APM inventory with service metrics {kibana-pull}140868[#140868]
* Adds a sort order to the trace samples on the transaction details page {kibana-pull}140589[#140589]
* Adds a tail-based sampling storage limit (APM integration) {kibana-pull}140567[#140567]
* Adds AWS Lambda metrics to the "Metrics" tab {kibana-pull}140550[#140550]
* Adds an experimental mode to the APM app {kibana-pull}139553[#139553]
* Renames JVMs to Metrics {kibana-pull}138437[#138437]
* Changes how partial data buckets are displayed {kibana-pull}137533[#137533]

Dashboard::
Adds the ability to view panel-level filters and queries {kibana-pull}136655[#136655]

Discover::
* Enables `Explore in Discover` for adhoc data views in *Lens* {kibana-pull}140726[#140726]
* Adds the ability to show actions inline in the Expanded Document view for quick access {kibana-pull}140085[#140085]
* Updates the layout for unified histogram {kibana-pull}139446[#139446]
* Adds new field stats in sidebar popover {kibana-pull}139072[#139072]
* Adds ad-hoc data views {kibana-pull}138283[#138283]
* Updates the formatter for aggregate_metric_double field values {kibana-pull}138205[#138205]

Elastic Security::
For the Elastic Security 8.5.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Adds toggle for experimental synthetic `_source` support in Fleet data streams {kibana-pull}140132[#140132]
* Enhances the package policy API to create or update a package policy API with a simplified way to define inputs {kibana-pull}139420[#139420]
* Support new subscription and license fields {kibana-pull}137799[#137799]

Infrastructure::
* Adds log-* index pattern support on SM UI {kibana-pull}139121[#139121]
* Adds health API support for data ingested from package {kibana-pull}138964[#138964]
* Adds support for integration package {kibana-pull}138224[#138224]
* Adds the inital hosts page {kibana-pull}138173[#138173]

Lens & Visualizations::
* Adds the Collapse by option for partition charts in *Lens* {kibana-pull}140336[#140336]
* Adds the ability to show the metric name if there are multiple layers with breakdowns in *Lens* {kibana-pull}140314[#140314]
* Adds time scaling without date histogram in *Lens* {kibana-pull}140107[#140107]
* Improves the field drag defaults in *Lens* {kibana-pull}140050[#140050]
* Adds the time marker setting for time axis in *Lens* {kibana-pull}139950[#139950]
* Adds the ability to make sure shard size stays stable for low number of sizes in *TSVB*, *Lens*, and Agg based visualizations {kibana-pull}139791[#139791]
* Adds the one click filter to the *Lens* table {kibana-pull}139701[#139701]
* Improves the metric palette behavior in *Lens* {kibana-pull}139596[#139596]
* Adds separate dimension groups for mosaic rows and columns in *Lens* {kibana-pull}139214[#139214]
* Adds display-infinity option to custom palette editor in *Lens* {kibana-pull}139061[#139061]
* Adds TSDB support for *Lens*, *TSVB* and *Timelion* {kibana-pull}139020[#139020]
* Adds the format selector to the new metric visualization in *Lens* {kibana-pull}139018[#139018]
* Shows the edit/delete button while field stats are loading in *Lens* {kibana-pull}138899[#138899]
* Adds auto mode for secondary metric prefix in *Lens* {kibana-pull}138167[#138167]
* Adds open in *Lens* extendability {kibana-pull}136928[#136928]
* Adds TSDB warning handling support for *Lens*, Agg based, and *TSVB* {kibana-pull}136833[#136833]
* Adds reduced time range option in *Lens* {kibana-pull}136706[#136706]
* Migrates xy visualization type to new unified xy expression {kibana-pull}136475[#136475]
* Adds the ability to duplicate layers in *Lens* {kibana-pull}140603[#140603]

Machine Learning::
* Explain Log Rate Spikes: add main chart sync on row hover at group level {kibana-pull}141138[#141138]
* Show "No anomalies found" message instead of empty swim lane {kibana-pull}141098[#141098]
* Explain Log Rate Spikes: Group results API {kibana-pull}140683[#140683]
* Match Data Visualizer/Field stats table content with the popover {kibana-pull}140667[#140667]
* Explain Log Rate Spikes: Adds discover link to analysis table {kibana-pull}139877[#139877]
* Adding ecs_compatibility setting for find structure calls {kibana-pull}139708[#139708]
* Improves messaging when an anomaly detection forecast errors {kibana-pull}139345[#139345]
* Anomaly Detection: adds maps link when source data contains geo fields {kibana-pull}139333[#139333]
* Quickly create ML jobs from lens visualizations {kibana-pull}136421[#136421]

Management::
* Url drilldown `date` helper now allows rounding up relative dates {kibana-pull}137874[#137874]
* In CSV reports, an error message now appears on the job when fewer CSV rows are generated than expected {kibana-pull}137800[#137800]

Maps::
* Adds support for adhoc data views {kibana-pull}140858[#140858]
* Timeslider control {kibana-pull}139228[#139228]
* Support Vector tile runtime geo_point fields {kibana-pull}139047[#139047]
* Show data view name in UI {kibana-pull}138928[#138928]
* Adds ability to disable tooltips for layer {kibana-pull}138275[#138275]
* Cancel button when editing by value from dashboard {kibana-pull}137880[#137880]

Security::
Adds audit events to "login-less" authentication flows (e.g. PKI, Kerberos) {kibana-pull}139492[#139492]

Uptime::
* Project monitors - support lightweight project monitors {kibana-pull}141066[#141066]
* Adds Actions popover menu {kibana-pull}136992[#136992]

[float]
[[fixes-v8.5.0]]
=== Bug fixes
Alerting::
* Render the grid only if we have alerts {kibana-pull}142481[#142481]
* Alerts Table browser field - fix siem browser fields call {kibana-pull}141431[#141431]
* Adds getActionsHealth method to return permanent encryption key existence {kibana-pull}140535[#140535]
* Clarify rule notification values {kibana-pull}140457[#140457]
* Actions are not able to configure a max number of attempts {kibana-pull}138845[#138845]
* Elasticsearch Query Rule doesn't have 'dark mode' view for query {kibana-pull}138631[#138631]
* Getting error about secrets not being saved when import a SO (Connector Saved Object) {kibana-pull}138019[#138019]
* Provide indication of how many rules are using connector on Connector List view {kibana-pull}137181[#137181]

APM::
* Remove check for infra data {kibana-pull}142835[#142835]
* Prefer span metrics over span events {kibana-pull}141519[#141519]
* Fixes search bar suggestions {kibana-pull}141101[#141101]
* Sort trace samples {kibana-pull}140589[#140589]

Dashboard::
Fixes pinned filters that backed up in Session Storage {kibana-pull}142262[#142262]

Discover::
* Adds support for line breaks in Document explorer {kibana-pull}139449[#139449]
* Cancelled request errors for embeddables are now hidden {kibana-pull}137690[#137690]
* Fixes legacy sort saved search stored in Dashboard saved objects {kibana-pull}137488[#137488]
* Fixes column width handling {kibana-pull}137445[#137445]

Elastic Security::
For the Elastic Security 8.5.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.5.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Refresh search results when clearing category filter {kibana-pull}142853[#142853]
* Respect `default_field: false` when generating index settings {kibana-pull}142277[#142277]
* Fixes repeated debug logs when bundled package directory does not exist {kibana-pull}141660[#141660]

Graph::
Fixes query bar autocomplete {kibana-pull}140963[#140963]

Infrastructure::
* Adds support for Logstash datastream in standalone query {kibana-pull}138689[#138689]

Lens & Visualizations::
* Fixes the detailed tooltip wrap problem {kibana-pull}142818[#142818]
* Fixes an issue where columns normalized by unit were unable to display properly on Dashboards for *Lens* metric visualizations {kibana-pull}142741[#142741]
* Adds back ticks on bands in *Lens* {kibana-pull}142702[#142702]
* Fixes guidance panel appearing for a moment when saving Graph {kibana-pull}141228[#141228]
* Fixes pie filter without slice {kibana-pull}141227[#141227]
* Fixes an issue where using annotations from different data views than the visualizations created panel breaks in *TSVB* {kibana-pull}141104[#141104]
* Fixes drilldown url templates for sample data {kibana-pull}141079[#141079]
* Fixes time shift with reduced time range tabification in *Lens* {kibana-pull}141076[#141076]
* Fixes the time shifted pipeline agg in *Lens* {kibana-pull}140723[#140723]
* Fixes an A11y issue where the query input doesn't react to `escape` button in *Lens* {kibana-pull}140382[#140382]
* Boolean values are now correctly formatted by default in *TSVB* {kibana-pull}140308[#140308]
* All data views are no longer loaded on broken data view reference in *Lens* {kibana-pull}139690[#139690]
* Removes the exclamation circle icon in *TSVB* {kibana-pull}139686[#139686]
* Theme is now passed to visualize save modal {kibana-pull}139685[#139685]
* Push-out behavior is now preserved for table cells when possible in *Lens* {kibana-pull}139619[#139619]
* The metric visualization state is now cleared in *Lens* {kibana-pull}139154[#139154]
* Adds the ability to set minimum table width for column split tables {kibana-pull}139004[#139004]
* Adds the ability to scroll tall metric visualizations in *Lens* {kibana-pull}138178[#138178]

Machine Learning::
* Explain Log Rate Spikes: update more groups badge for clarity {kibana-pull}142793[#142793]
* Fixes Index data visualizer doc count when time field is not defined {kibana-pull}142409[#142409]
* Explain Log Rate Spikes: Fix error handling {kibana-pull}142047[#142047]
* Fixes date picker not allowing unpause when refresh interval is 0 {kibana-pull}142005[#142005]
* Fixes expanded row layout in the Nodes table {kibana-pull}141964[#141964]
* Fixes links to Discover and Maps and custom URLs for jobs with a query in the datafeed {kibana-pull}141871[#141871]

Management::
* The progress bar is now visible in Expression renderer {kibana-pull}142699[#142699]
* Transforms: Preserves the `field` for unsupported aggs {kibana-pull}142106[#142106]
* Removes unnecessary time units in ILM policy dialog {kibana-pull}140815[#140815]
* Fixes search query builder to generate wildcard query for keyword fields {kibana-pull}140629[#140629]
* Updates "Copy as cURL" to interpolate variables and strip request-body comments {kibana-pull}140262[#140262]
* Fixes previewing data streams in template editor {kibana-pull}140189[#140189]
* Fixes an issue where selecting requests with characters ending with '{}' was not possible {kibana-pull}140068[#140068]
* Filters that are associated with an unknown data view, such as deleted data views, are no longer automatically disabled, but now instead display a warning message {kibana-pull}139431[#139431]
* Watches no longer get stuck in a "Firing" state in Watcher {kibana-pull}138563[#138563]
* Fixes an issue where data view search results were not showing the value of mapped fields that shared a name with a runtime field {kibana-pull}138471[#138471]

Maps::
* Fixes Go To - lat/long values outside expected range cause blank Maps app {kibana-pull}141873[#141873]
* Fixes scaling and term join in product help popover width {kibana-pull}139120[#139120]
* Fixes legacy tile_map and region_map visualizations do not display title in Map embeddable action modals {kibana-pull}139054[#139054]
* Fixes Filters applied to map visualization not preserved when added to dashboard {kibana-pull}138188[#138188]

Monitoring::
Health api: account for ccs in indices regex {kibana-pull}137790[#137790]

Observability::
* Fixes Alert tab goes blank in APM because of Alert Details page feature flag {kibana-pull}142188[#142188]
* Update links to Observability rule management {kibana-pull}140009[#140009]

Platform::
* Fixes an issue where the expressions executor stopped on failing partially emitted results {kibana-pull}142105[#142105]
* A 0 is now returned when there are no overdue tasks for capacity estimation {kibana-pull}140720[#140720]
* The task health calculation now never returns Error or Warning, but logs the HealthStatus {kibana-pull}139274[#139274]

Uptime::
* Fixes Next and Previous button on step screenshot carousel {kibana-pull}141422[#141422]
* Fixes disrupted UI on Browser Test Results` step screenshots {kibana-pull}139017[#139017]

[[release-notes-8.4.3]]
== {kib} 8.4.3

Review the following information about the {kib} 8.4.3 release.

[float]
[[breaking-changes-8.4.3]]
=== Breaking change

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.4.3.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[fixes-v8.4.3]]
=== Bug fixes
Cases::
Fixes an issue where the recent cases widget shows cases from other solutions {kibana-pull}141221[#141221]

Discover::
* Fixes scrolling prevented by saved search embeddable on touch devices {kibana-pull}141718[#141718]
* Fixes columns management for saved search embeddable {kibana-pull}140799[#140799]

Elastic Security::
For the Elastic Security 8.4.3 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Graph::
* Fixes the position of Add fields popover {kibana-pull}141040[#141040]
* Fixes responsive styles of field manager {kibana-pull}140948[#140948]

Machine Learning::
Fixes an issue where Data visualizer was unable to update distribution when changing shard size, forbidden error with recognize modules on basic license {kibana-pull}141313[#141313]

Management::
Fixes the removal of a single field formatter {kibana-pull}141078[#141078]

Observability::
Fixes an alert summary widget issue in non-default space {kibana-pull}140842[#140842]

[[release-notes-8.4.2]]
== {kib} 8.4.2

Review the following information about the {kib} 8.4.2 release.

[float]
[[breaking-changes-8.4.2]]
=== Breaking change

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.4.2.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[enhancement-v8.4.2]]
=== Enhancements
Security::
Logs a hash of the saved objects encryption key (`xpack.encryptedSavedObjects.encryptionKey`) when {kib} starts to assist in identifying mismatched encryption keys {kibana-pull}139874[#139874]

[float]
[[fixes-v8.4.2]]
=== Bug fixes
Connectors::
The connectors table now uses "compatibility" rather than "availability" {kibana-pull}139024[#139024]

Discover::
Fixes saved search embeddable rendering {kibana-pull}140264[#140264]

Elastic Security::
For the Elastic Security 8.4.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Applies fixes for package policy upgrade API with multiple ids {kibana-pull}140069[#140069]
* Improves performance for many integration policies {kibana-pull}139648[#139648]

Lens & Visualizations::
* Fixes "Collapse by" for table and XY visualizations with multiple metrics in *Lens* {kibana-pull}140381[#140381]
* Fixes action menu in *Lens* {kibana-pull}139588[#139588]

Machine Learning::
* Explain Log Rate Spikes: Histogram fixes {kibana-pull}139933[#139933]
* Explain Log Rate Spikes: Improve streaming headers for certain proxy configs {kibana-pull}139637[#139637]
* Fixes navigation for the Basic licence {kibana-pull}139469[#139469]
* Corrects file.path field name in v3_windows_anomalous_script job {kibana-pull}139109[#139109]

Management::
Bfetch` response headers now include `X-Accel-Buffering: no` {kibana-pull}139534[#139534]

Maps::
* Fixes issue where percentile aggregation was not working with vector tiles {kibana-pull}140318[#140318]
* Fixes Map app crashing on file upload request timeout {kibana-pull}139760[#139760]

Monitoring::
* Ensures GlobalState class has it's destroy() method called on unmount {kibana-pull}139908[#139908]
* Adds KibanaThemeProvider to Stack Monitoring UI {kibana-pull}139839[#139839]

Uptime::
Fixes an issue where decryption errors caused the entire suite of monitors to fail syncing {kibana-pull}140549[#140549]

[[release-notes-8.4.1]]
== {kib} 8.4.1

Review the following information about the {kib} 8.4.1 release.

[float]
[[breaking-changes-8.4.1]]
=== Breaking change

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.4.1.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[fixes-v8.4.1]]
=== Bug fixes

Alerting::
* Fixes alert tab crash on rule details page {kibana-pull}139372[#139372]
* Fixes issue where some 8.3.x clusters failed to upgrade with a saved object migration failure {kibana-pull}139427[#139427]

Lens & Visualizations::
* Fixes table pagination in *Lens* and *Aggregation-based* visualization editors {kibana-pull}139160[#139160]

[[release-notes-8.4.0]]
== {kib} 8.4.0

Review the following information about the {kib} 8.4.0 release.

[float]
[[known-issue-8.4.0]]
=== Known issues

If you have alerting rules that have been snoozed, do not upgrade {kib} to 8.4.0. Upgrade to 8.4.1 instead.

To determine if you have snoozed alerting rules, open the main menu, then click
**{stack-manage-app}** -> **{rac-ui}**. Filter the rule list by selecting
**View** -> **Snoozed**. If you must upgrade to 8.4.0, for each space, cancel
the snooze for all affected rules before you upgrade.

To identify snoozed rules in all Spaces using **Dev Tools**, run the following
query:

[source,console]
----
GET /.kibana/_search
{
  "query": {
    "exists": {
      "field": "alert.isSnoozedUntil"
    }
  }
}
----

If you upgraded {kib} to 8.4.0 and you have alerting rules configured to
snooze notifications, you will receive the following error message:

[source,text]
----
FATAL  Error: Unable to complete saved object migrations for the [.kibana] index.
----

To fix that problem, restore your previous version, then upgrade to 8.4.1 instead.

[float]
[[breaking-changes-8.4.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.4.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.xpack.agents.* are uneditable in UI when defined in kibana.yml
[%collapsible]
====
*Details* +
When you configure `setxpack.fleet.agents.fleet_server.hosts` and `xpack.fleet.agents.elasticsearch.hosts` in kibana.yml, you are unable to update the fields on the Fleet UI.

For more information, refer to {kibana-pull}135669[#135669].

*Impact* +
To configure `setxpack.fleet.agents.fleet_server.hosts` and `xpack.fleet.agents.elasticsearch.hosts` on the Fleet UI, avoid configuring the settings in kibana.yml.
====

[discrete]
.Removes the legacy charts library
[%collapsible]
====
*Details* +
The legacy implementation of the *Timelion* visualization charts library has been removed. All *Timelion* visualizations now use the elastic-charts library, which was introduced in 7.15.0.

For more information, refer to {kibana-pull}134336[#134336].

*Impact* +
In 8.4.0 and later, you are unable to configure the *Timelion* legacy charts library advanced setting. For information about visualization Advanced Settings, check link:https://www.elastic.co/guide/en/kibana/8.4/advanced-options.html#kibana-visualization-settings[Visualization].
====

{kibana-ref-all}/8.3/release-notes-8.3.0.html#breaking-changes-8.3.0[8.3.0] | {kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[deprecations-8.4.0]]
=== Deprecations

The following functionality is deprecated in 8.4.0, and will be removed in 9.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 8.4.0.

[discrete]
[[deprecation-136422]]
.Deprecates ApiKey authentication for interactive users
[%collapsible]
====
*Details* +
The ability to authenticate interactive users with ApiKey via a web browser has been deprecated, and will be removed in a future version.

For more information, refer to {kibana-pull}136422[#136422].

*Impact* +
To authenticate interactive users via a web browser, use <<kibana-authentication,another authentication method>>. Use API keys only for programmatic access to {kib} and {es}.
====

[float]
[[features-8.4.0]]
=== Features
{kib} 8.4.0 adds the following new and notable features.

Alerting::
* Adds the "updated at" feature in new alerts table {kibana-pull}136949[#136949]
* Adds a rule detail table with bulk actions {kibana-pull}136601[#136601]
* Adds bulk Actions for Alerts Table {kibana-pull}135797[#135797]
* Adds the Alerting stack-monitoring PoC {kibana-pull}135365[#135365]
* Adds custom inline/row actions for alerts table {kibana-pull}134015[#134015]

Cases::
Adds the ability to customize permissions to prevent users from deleting Cases entities, such as Cases themselves, attachments, and comments {kibana-pull}135487[#135487]

Connectors::
The {webhook-cm} connector allows users to build a custom connector for any third-party case/ticket management system {kibana-pull}131762[#131762]

Discover::
Adds the ability to add a custom number of rows in the results and save the specified number with a Saved Search {kibana-pull}135726[#135726]

Elastic Security::
For the Elastic Security 8.4.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Enables package signature verification feature {kibana-pull}137239[#137239]
* Modal to allow user to force install an unverified package {kibana-pull}136108[#136108]
* Display package verification status {kibana-pull}135928[#135928]
* Tag rename and delete feature {kibana-pull}135712[#135712]
* Bulk update agent tags ui {kibana-pull}135646[#135646]
* Adds API to bulk update tags {kibana-pull}135520[#135520]
* Adds and remove agent tags {kibana-pull}135320[#135320]
* Support sorting agent list {kibana-pull}135218[#135218]
* Promote Logstash output support to GA {kibana-pull}135028[#135028]
* Create new API to manage download_source setting {kibana-pull}134889[#134889]

Machine Learning::
* Adds random sampler to Data visualizer document count chart {kibana-pull}136150[#136150]
* Adds explain log rate spikes feature to the ML plugin {kibana-pull}135948[#135948]

Management::
* Run packs live {kibana-pull}132198[#132198]
* Ability to set human readable title of data view & ability to edit data view {kibana-pull}124191[#124191]

Monitoring::
Adds stale status reporting for Kibana {kibana-pull}132613[#132613]

Observability::
* Adds Beta label to Infrastructure tab {kibana-pull}136710[#136710]
* Creates and adds Rule Alerts Summary as a sharable component to the O11y Rule Details {kibana-pull}135805[#135805]
* Rule Details Page - Use RuleStatusPanel from triggersActionsUI {kibana-pull}135643[#135643]
* Adds Top erroneous transactions to errors details page {kibana-pull}134929[#134929]
* Introduces Alerts tab on service overview page {kibana-pull}134350[#134350]
* Adds single metric report type {kibana-pull}132446[#132446]

Platform::
Adds new bulkUpdatesSchedules method to Task Manager {kibana-pull}132637[#132637]

Security::
Adds the ability to create personal avatars {kibana-pull}132522[#132522]

Sharing::
Adds the new metric visualization {kibana-pull}136567[#136567]

For more information about the features introduced in 8.4.0, refer to <<whats-new,What's new in 8.4>>.

[[enhancements-and-bug-fixes-v8.4.0]]
=== Enhancements and bug fixes

For detailed information about the 8.4.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.4.0]]
=== Enhancements
Alerting::
* Adds snooze state UI to Rule Details page {kibana-pull}135146[#135146]
* Adds Snooze Scheduling UI and API {kibana-pull}134512[#134512]
* Adds recovery context for ES query rule type {kibana-pull}132839[#132839]
* Visualize alerting metrics in Stack Monitoring {kibana-pull}123726[#123726]

Canvas::
* Markdown element auto-applies text changes {kibana-pull}133318[#133318]
* Lines operations keybindings {kibana-pull}132914[#132914]
* Detailed tooltip {kibana-pull}131116[#131116]

Cases::
* Improved the cases search bar functionality. The search functionality will only consider the title and description fields {kibana-pull}136776[#136776]
* Performance improvements were made to reduce the time required to create, update, and delete cases and comments. In our testing we saw around a half second reduction in the round trip time for the UI requests {kibana-pull}136452[#136452]

Dashboard::
Hide controls callout when the `hideAnnouncements` setting is `true` {kibana-pull}136410[#136410]

Design::
* Adds an H1 tag with the workpad title when viewing workpads {kibana-pull}135504[#135504]
* Improve keyboard navigation in Discover top nav menu {kibana-pull}134788[#134788]

Discover::
* Improves the HTML formatting of fields with a list of values {kibana-pull}136684[#136684]
* Adds support for accessing the edit field flyout from the document explorer column popover {kibana-pull}135277[#135277]
* Adds support for copying the query from the add rule flyout {kibana-pull}135098[#135098]
* Adds focus to h1 on navigate for single document and surrounding document views {kibana-pull}134942[#134942]
* Improves the creation and editing of "Elasticsearch query" rule in Management {kibana-pull}134763[#134763]
* Adds data view changed warning after alert rule created {kibana-pull}134674[#134674]
* Make 'Test query' button pretty {kibana-pull}134605[#134605]
* Improves the document explorer timestamp tooltip accessibility {kibana-pull}134411[#134411]
* Adds focus to h1 element when client side routing is executed {kibana-pull}133846[#133846]
* Adds an option to copy column values to Clipboard in Document Explorer {kibana-pull}132330[#132330]

Elastic Security::
For the Elastic Security 8.4.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Remove Kubernetes Package granularity {kibana-pull}136622[#136622]
* Elastic-agent manifests: align with elastic-agent repo; add comments {kibana-pull}136394[#136394]
* Configure source URI in global settings and in agent policy settings {kibana-pull}136263[#136263]
* Adds Kubernetes in platforms selection list && update managed agent installation steps {kibana-pull}136109[#136109]
* That PR will enable user to write custom ingest pipeline for Fleet installed datastream {kibana-pull}134578[#134578]
* Update manifests for agent on kubernetes with new permissions {kibana-pull}133495[#133495]
* Adds support for a textarea type in integrations {kibana-pull}133070[#133070]

Kibana Home & Add Data::
Adds AnalyticsNoDataPage {kibana-pull}134172[#134172]

Lens & Visualizations::
* Adds supports for include and exclude terms in *Lens* {kibana-pull}136179[#136179]
* Adds the ability to set top values limit to 10,000 in *Lens* {kibana-pull}136399[#136399]
* Addss value count to *Lens* {kibana-pull}136385[#136385]
* Adds standard deviation function in *Lens* {kibana-pull}136323[#136323]
* Adds the ability to set the font size for mosaic outer level in *Lens* {kibana-pull}135911[#135911]
* Adds the ability to rank top values by custom metric in *Lens* {kibana-pull}134811[#134811]
* Adds the ability to convert TSVB series agg to *Lens* configuration {kibana-pull}134681[#134681]
* Adds the ability to allow multiple split accessors {kibana-pull}134566[#134566]
* Adds the ability to render newlines in data table in *Lens* {kibana-pull}134441[#134441]
* Extends Axis bounds for XY chart when using Interval operation in *Lens* {kibana-pull}134020[#134020]
* Adds the ability to use pick_max instead of clamp for positive only {kibana-pull}133460[#133460]
* Adds a new pick_min/max operation and clamp fixes in *Lens* {kibana-pull}132449[#132449]
* Adds support for percentile_ranks aggregation in *Lens* {kibana-pull}132430[#132430]
* Implements the ability to drag and drop between layers in *Lens* {kibana-pull}132018[#132018]
* Adds optimization for percentiles fetching in *Lens* {kibana-pull}131875[#131875]

Machine Learning::
* Adds tooltips for disabled actions in the Trained Models list {kibana-pull}137176[#137176]
* Data visualizer: Add field types in-product help {kibana-pull}137121[#137121]
* Plot zero scores on the Overall anomaly swim lane {kibana-pull}136951[#136951]
* One-way cursor sync added from Anomaly detection swimlane to other charts {kibana-pull}136775[#136775]
* Adds action to view datafeed counts chart to jobs list rows {kibana-pull}136274[#136274]
* Data Visualizer: Remove duplicated geo examples, support 'version' type, add filters for boolean fields, and add sticky header to Discover {kibana-pull}136236[#136236]
* Adds a link to ML trained models list from ID in Stack Management app table {kibana-pull}135700[#135700]
* Adds information callouts to trained model testing flyout {kibana-pull}135566[#135566]
* Limit Use full data button in anomaly detection job wizards to past data only {kibana-pull}135449[#135449]
* Replace a fixed Y-axis width with a max width setting for Anomaly Swim Lane Embeddable {kibana-pull}135436[#135436]
* Adds support for setting threading params when starting a trained model deployment {kibana-pull}135134[#135134]
* Refactors Management page to focus on space management tasks {kibana-pull}134893[#134893]
* Disable the Single Metric Viewer button for not viewable jobs {kibana-pull}134048[#134048]
* Anomaly Detection: allow snapshot to be reverted from the view datafeed flyout {kibana-pull}133842[#133842]

Management::
* Transforms: Adds per-transform setting for num_failure_retries to creation wizard and edit flyout and authorization info {kibana-pull}135486[#135486]
* Transforms: Adds sorting to audit messages tab {kibana-pull}135047[#135047]
* Console now supports saving the state of folding/unfolding of commands {kibana-pull}134810[#134810]
* Render most severe response status code from Console response pane {kibana-pull}134627[#134627]
* You can now create variables in Console {kibana-pull}134215[#134215]
* Make index template previews copyable {kibana-pull}134060[#134060]
* Console now supports adding comments in the body of a request by using `//` for a single line and `/*....*/` for multiline comments {kibana-pull}133852[#133852]
* Surface HTTP status badges next to each response in Console {kibana-pull}132494[#132494]
* Adds updated `essql` expression function {kibana-pull}132332[#132332]
* Adds a "get all" REST API for data views: `GET /api/data_views` {kibana-pull}131683[#131683]

Maps::
* Automatically display the maps legend {kibana-pull}136872[#136872]
* Custom raster source example plugin {kibana-pull}136761[#136761]
* Label zoom range style property {kibana-pull}136690[#136690]
* Adjust icon size when cluster resolution changes {kibana-pull}136573[#136573]
* Adds context for 'No longer contained' geo-containment alert {kibana-pull}136451[#136451]
* Keydown+scroll to zoom {kibana-pull}135330[#135330]
* Synchronize map views in dashboard and canvas {kibana-pull}134272[#134272]
* Adds spatial filter from cluster {kibana-pull}133673[#133673]
* Customizable colors in basemaps {kibana-pull}131576[#131576]

Observability::
* Prefer DataView client over SavedObjects client when possible {kibana-pull}136694[#136694]
* Use proper header nesting {kibana-pull}136559[#136559]
* Removes "no data" redirects for observability overview {kibana-pull}136442[#136442]
* Allow connectors to explicitly register which features they will be available in {kibana-pull}136331[#136331]
* Display node details metrics for kubernetes containers {kibana-pull}135585[#135585]
* Replace sourceId with mandatory logView prop in LogStream component {kibana-pull}134850[#134850]
* Backend operation distribution chart {kibana-pull}134561[#134561]
* Display top spans for operation {kibana-pull}134179[#134179]
* Show descriptive loading, empty and error states in the metrics table {kibana-pull}133947[#133947]
* Backend operations detail view + metric charts {kibana-pull}133866[#133866]
* Backend operations list view {kibana-pull}133653[#133653]

Platform::
* Upgrade Kibana logs to ECS 8.4 {kibana-pull}136362[#136362]
* Adds error messaging to the report contents when there is a timeout in page setup {kibana-pull}134868[#134868]
* Adds migrations.discardCorruptObjects flag {kibana-pull}132984[#132984]
* Adds migrations.discardUnknownObjects flag {kibana-pull}132167[#132167]

Querying & Filtering::
Hides the tour component when the hideAnnouncements uiSetting is on {kibana-pull}135990[#135990]

Security::
Eliminates the need for a full page reload when navigating to a user profile page {kibana-pull}135543[#135543]

[float]
[[fixes-v8.4.0]]
=== Bug fixes
Alerting::
* Error message hidden after closing action accordion {kibana-pull}136570[#136570]
* Allow wildcard search on rule's name and tags {kibana-pull}136312[#136312]

Canvas::
* Fixes Filter not saving the selected Sort field option {kibana-pull}136085[#136085]
* Fixes "Element status" is inaccurate for grouped elements {kibana-pull}135829[#135829]
* Fixes Canvas filter behaviour on table {kibana-pull}134801[#134801]
* Fixes Uploaded asset not being saved {kibana-pull}133166[#133166]
* Lines operations keybindings {kibana-pull}132914[#132914]
* Fixes pointseries don't get updated on datasource change {kibana-pull}132831[#132831]

Connectors::
* Fixing ES index connector so that it can index into data streams as well as indices {kibana-pull}136011[#136011]
* Verify emails when creating an email connector, even if allowedDomain {kibana-pull}133859[#133859]

Dashboard::
Fixes Copy to dashboard includes filters {kibana-pull}136275[#136275]

Discover::
* Fixes hiding histogram for rollup data views {kibana-pull}137157[#137157]
* Fixes filtering out custom meta fields of Elasticsearch plugins enhanced documents {kibana-pull}137147[#137147]
* Disables refresh interval for data views without time fields and rollups {kibana-pull}137134[#137134]
* Fixes Discover breadcrumb losing context after page refresh or when opening in a new tab {kibana-pull}136749[#136749]
* Improves support for pinned filters in surrounding documents {kibana-pull}135722[#135722]
* Fixes flaky accessibility functional tests {kibana-pull}135596[#135596]
* Improves alerts popover accessibility and semantics {kibana-pull}135270[#135270]
* Migrate from savedObjectsClient to dataViews and fix the displayed data view name {kibana-pull}135142[#135142]
* Removes _type of metaFields to remove of sidebar {kibana-pull}134453[#134453]
* Fixes legacy sort parameter provided by URL {kibana-pull}134447[#134447]
* Make footer visible under Document Explorer if sample size is less than hits number {kibana-pull}134231[#134231]
* Do not update defaultIndex in case of insufficient permissions {kibana-pull}134202[#134202]
* Fixes flaky test for "allows editing of a newly created field" {kibana-pull}132812[#132812]
* Fixes flaky test for "context encoded URL params" {kibana-pull}132808[#132808]

Elastic Security::
For the Elastic Security 8.4.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
Using point in time for agent status query to avoid discrepancy {kibana-pull}135816[#135816]

Lens & Visualizations::
* Make reference line chart more robust in *Lens* {kibana-pull}137101[#137101]
* Format the label with the right default formatter in *TSVB* {kibana-pull}136934[#136934]
* Removes extra space from the legend when it is positioned on top/bottom {kibana-pull}135982[#135982]
* Display Y-axis tick labels {kibana-pull}135976[#135976]
* Fixes Date histogram bounds calculation doesn't update "now" {kibana-pull}135899[#135899]
* Fixes internal links in *Vega* {kibana-pull}135890[#135890]
* Do not set non-unique id for legend action popovers in *Lens* {kibana-pull}135656[#135656]
* Fixes non-editable Lens panel when using prefix wildcard in *Lens* {kibana-pull}135654[#135654]
* Removes saved search references from all places on unlink in *Visualize* {kibana-pull}135628[#135628]
* Fix multi-field top values for Heatmap visualizations in *Lens* {kibana-pull}135581[#135581]
* Fixes styling issues in *Lens* {kibana-pull}135406[#135406]
* Show badge for read-only in *Lens* {kibana-pull}135313[#135313]
* Don't let reference line fills on different axes collide in *Lens* {kibana-pull}135299[#135299]
* Fixes css specificity issue in *TSVB* {kibana-pull}135245[#135245]
* Always show palette on first dimension for mosaic in *Lens* {kibana-pull}135198[#135198]
* Wrong `visType` for `horizontal_bar` visualization {kibana-pull}135013[#135013]
* Unlinking Some Agg Based Visualizations Results in Unsaved Changes in *Visualize* {kibana-pull}134229[#134229]
* Fixes an issue where ellipsis truncation is not visible in table visualization cells, and letters are cut off in *Lens* {kibana-pull}134065[#134065]
* Switching dashboard mode doesn't update missing data view prompt in *Visualize* {kibana-pull}133873[#133873]
* Fixes application of suffix formats in *Lens* {kibana-pull}133780[#133780]
* Error messages not centered in *TSVB* {kibana-pull}133288[#133288]
* Use correct time zone for time shifting {kibana-pull}133141[#133141]

Machine Learning::
* Lock the delete annotation button on click {kibana-pull}137306[#137306]
* Fixes globally pinned filters in Data visualizer and query search bar not clearing properly for saved searches {kibana-pull}136897[#136897]
* Fixes overflow in start datafeed modal {kibana-pull}136292[#136292]
* Fixes error in categorization wizard summary step {kibana-pull}134228[#134228]
* Fixes flaky job selection on the Anomaly Explorer page {kibana-pull}137596[#137596]
* Fixes query in the Anomaly Explorer when viewing a job with no influencers {kibana-pull}137670[#137670]
* Fixes the Dashboard saving indicator with Anomaly Swim Lane embeddable {kibana-pull}137989[#137989]
* Anomaly detection job wizards now use data view names {kibana-pull}138255[#138255]

Management::
* The ILM UI now supports configuring policies with rollover based on `max_primary_shard_docs` {kibana-pull}137364[#137364]
* Fixes a bug in Console when sending a request with encoded characters resulted in an error {kibana-pull}136788[#136788]
* Fixes a bug where the autocomplete popup remains open when navigating away from Console {kibana-pull}136268[#136268]
* Fixes a bug in Index Management where the number of documents for an index could appear wrong {kibana-pull}135748[#135748]
* Fixes a bug in the Painless code editor that was incorrectly handling expressions with multiple division operators {kibana-pull}135423[#135423]
* Transforms: Fixes unsupported boolean filter when cloning {kibana-pull}137773[#137773]
* Transforms: Fixes restoring a field name with the exists filter aggregation {kibana-pull}138630[#138630]
* Transforms: Fixes data view error on cloning due to missing indices {kibana-pull}138756[#138756]
* Fixes Watcher stuck firing state {kibana-pull}138563[#138563]

Maps::
* Fixes "other" is always shown in legend for category styling rules {kibana-pull}137008[#137008]
* Fixes Tooltip loses pages on refresh {kibana-pull}135593[#135593]
* Fixes Pinned filters should be visible on new maps without user having to do any action on layers {kibana-pull}135465[#135465]
* Keep timeframe when editing a map from a dashboard {kibana-pull}135374[#135374]
* Reduce precision of coordinates for geo imports {kibana-pull}135133[#135133]
* Fixes onDataLoadEnd and onDataLoadError event handler callbacks only called for source data requests {kibana-pull}134786[#134786]
* Fixes sort not applied to vector tile search request {kibana-pull}134607[#134607]
* Fixes array values out of order in tooltips {kibana-pull}134588[#134588]

Monitoring::
Removes beta icon from logstash pipeline {kibana-pull}131752[#131752]

Observability::
* Invalid array value is permitted in Origin Headers for RUM configuration {kibana-pull}137228[#137228]
* When comparison feature is disabled, we still see the shaded area {kibana-pull}137223[#137223]
* Fixes responsivity Alert Summary chart in the Rule details page {kibana-pull}137175[#137175]
* Fixes custom link filter select value {kibana-pull}137025[#137025]
* Fixes Spark plots loading state when there are no data {kibana-pull}136817[#136817]
* Adds support for metrics for latency distribution histogram {kibana-pull}136594[#136594]
* Navigation from Span to Service breaks due to wrong transactionType {kibana-pull}136569[#136569]
* Breadcrumbs not updating from service jump on service map {kibana-pull}136144[#136144]
* Adds support for metrics for latency distribution histogram {kibana-pull}136083[#136083]
* Disallow spaces in index pattern {kibana-pull}135977[#135977]
* WrappedElasticsearchClientError: Request aborted {kibana-pull}135752[#135752]
* Fixes waterfall skew due to accordion left margins {kibana-pull}135544[#135544]
* Service inventory: detailed stats fetched for all services {kibana-pull}134844[#134844]
* Update network fields {kibana-pull}134471[#134471]
* Fixes Metrics Table Pod link to Details Page {kibana-pull}134354[#134354]
* Adds last updated at label and fix started at label {kibana-pull}134254[#134254]
* Adds event module filter to metrics table {kibana-pull}133872[#133872]
* APM Correlations: Fixes chart errors caused by inconsistent histogram range steps {kibana-pull}138259[#138259]

Platform::
* Migrations wait for index status green if create index returns acknowledged=false or shardsAcknowledged=false {kibana-pull}136605[#136605]
* Fixes CSV generator to include unmapped fields in the search source {kibana-pull}132972[#132972]
Security::
Fixes keyboard and screen reader navigation for the spaces selector {kibana-pull}134454[#134454]

[[release-notes-8.3.3]]
== {kib} 8.3.3

Review the following information about the {kib} 8.3.3 release.

[float]
[[breaking-changes-8.3.3]]
=== Breaking change

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.3.3.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[fixes-v8.3.3]]
=== Bug fixes
Dashboard::
* Fixes `z-index` of `embPanel__header--floater` {kibana-pull}136463[#136463]
* Filter out experimental visualizations when labs setting is disabled {kibana-pull}136332[#136332]

Discover::
Fixes filter in / filter out buttons for empty values {kibana-pull}135919[#135919]

Elastic Security::
For the Elastic Security 8.3.3 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Pass start_time to actions when the maintenance window for rolling upgrades is set to immediately {kibana-pull}136384[#136384]
* Allow agent bulk actions without specific licence restrictions {kibana-pull}136334[#136334]
* Adds reinstall button to integration settings page {kibana-pull}135590[#135590]

Lens & Visualizations::
Fixes normalizeTable performance bottleneck in *Lens* {kibana-pull}135792[#135792]

[[release-notes-8.3.2]]
== {kib} 8.3.2

Review the following information about the {kib} 8.3.2 release.

[float]
[[breaking-changes-8.3.2]]
=== Breaking change

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.3.2.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[fixes-v8.3.2]]
=== Bug fixes
Alerting::
Fixes an issue where alerting rules that were created or edited in 8.2.0 stopped running when you upgraded {kib} to 8.3.0 or 8.3.1 {kibana-pull}135663[#135663]

Discover::
* Hide Alerts menu item when user does not have access to Stack Rules {kibana-pull}135655[#135655]
* Fixes loading of a single doc JSON when using index alias based data views {kibana-pull}135446[#135446]

Elastic Security::
For the Elastic Security 8.3.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
Keep all agents selected in query selection mode {kibana-pull}135530[#135530]

Machine Learning::
* Fixes put anomaly detection job endpoint when payload contains datafeed {kibana-pull}134986[#134986]
* Fixes trained model map associating wrong model to job {kibana-pull}134849[#134849]
* Use time range when validating datafeed preview {kibana-pull}134073[#134073]

Maps::
* Do not show layer error for term joins when terms aggregation does not return results {kibana-pull}135564[#135564]
* Fixes Vector map layers will not render when runtime field has '%' {kibana-pull}135491[#135491]

[[release-notes-8.3.1]]
== {kib} 8.3.1

Review the following information about the {kib} 8.3.1 release.

[float]
[[known-issues-8.3.1]]
=== Known issues

[discrete]
[[known-issue-133965]]
.URL arguments cause API requests in Dev Tools to fail
[%collapsible]
====
*Details* +
When you add any URL arguments, such as `?v` or `?pretty`, to API requests, the requests fail  {kibana-issue}133965[#133965]

*Impact* +
The known issue only impacts {kib} Dev Tools. All other sources of API requests are unaffected, such as curl and Elastic Cloud API console.
====

[discrete]
[[known-issue-alerting-rule]]
.Alerting rules stop running when you upgrade to 8.3.0 or 8.3.1
[%collapsible]
====
*Details* +
In 8.3.0 and 8.3.1, there is a known issue where alerting rules that were created or edited in 8.2.0 stop running when you upgrade {kib}. When you upgrade to 8.3.0 or 8.3.1, and your alerting rules have stopped running, the following error appears:

[source,text]
----
<rule-type>:<UUID>: execution failed - security_exception: [security_exception] Reason: missing authentication credentials for REST request [/_security/user/_has_privileges], caused by: ""
----

*Impact* +
If you have upgraded to 8.3.0 or 8.3.1, and your alerting rules fail, reset the rules by disabling, then re-enabling them. When you disable, then re-enable your alerting rules, {kib} generates a new API key using the credentials of the user that manages the rules.

To disable, then re-enable your alerting rules:

. Open the main menu, then click *{stack-manage-app} > {rac-ui}*.

. Select the failed alerting rules.

. Click **Manage rules > Disable**, then click **Manage rules > Enable**.

For more details about API key authorization, refer to <<alerting-authorization>>.
====

[float]
[[breaking-changes-8.3.1]]
=== Breaking change

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.3.1.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[enhancement-v8.3.1]]
=== Enhancements
Operations::
Adds EsArchiver datastream support {kibana-pull}132853[#132853]

[float]
[[fixes-v8.3.1]]
=== Bug fixes
Alerting::
Prevent negative snooze intervals {kibana-pull}134935[#134935]

Elastic Security::
For the Elastic Security 8.3.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Fixes dropping select all {kibana-pull}135124[#135124]
* Improves bulk actions for more than 10k agents {kibana-pull}134565[#134565]

Infrastructure::
Query persistent queue size for metricbeat documents {kibana-pull}134569[#134569]

Observability::
* Fixes a bug that displayed a toast error when deleting a rule {kibana-pull}135132[#135132]
* Fixes viewInAppUrl for custom metrics for Inventory Threshold Rule {kibana-pull}134114[#134114]

Platform::
* Fixes an issue where importing/copying the same saved object to the same space multiple times using the "Check for existing objects" option could fail or cause duplicates to be created {kibana-pull}135358[#135358]
* Fixes a bug where {es} nodes that stopped, then started again, were unreachable by {kib} for a given amount of requests when {kib} was configured to connect to multiple {es} nodes {kibana-pull}134628[#134628]

[[release-notes-8.3.0]]
== {kib} 8.3.0

Review the following information about the {kib} 8.3.0 release.

[float]
[[known-issues-8.3.0]]
=== Known issues

Alerting users who are running 8.2 should not upgrade to either 8.3.0 or 8.3.1.
Both 8.3.0 and 8.3.1 have a bug where alerting rules that were created or edited
in 8.2 will stop running on upgrade. If you have upgraded to 8.3.0 or 8.3.1 and
your alerting rules have stopped running with an error similar to the following
example, you will need to go to *{stack-manage-app} > {rac-ui}*, multi-select
the failed rules, click on **Manage rules > Disable** and then click on **Manage
rules > Enable**. Disabling and re-enabling the rule will generate a new API key
using the credentials of the user performing these actions and reset the rule
state. For more details about API key authorization, refer to
<<alerting-authorization>>.

Example error message::

[source,text]
----
<rule-type>:<UUID>: execution failed - security_exception: [security_exception] Reason: missing authentication credentials for REST request [/_security/user/_has_privileges], caused by: ""
----

[float]
[[breaking-changes-8.3.0]]
=== Breaking change

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

[discrete]
.Removes Quandl and Graphite integrations
[%collapsible]
====
*Details* +
The experimental `.quandl` and `.graphite` functions and advanced settings are removed from *Timelion*. For more information, check {kibana-pull}129581[#129581].

*Impact* +
When you use the `vis_type_timelion.graphiteUrls` kibana.yml setting, {kib} successfully starts, but logs a `[WARN ][config.deprecation] You no longer need to configure "vis_type_timelion.graphiteUrls".` warning.

To leave your feedback about the removal of `.quandl` and `.graphite`, go to the link:https://discuss.elastic.co/c/elastic-stack/kibana/7[discuss forum].
====

[discrete]
.Makes Osquery All with All base privilege
[%collapsible]
====
*Details* +
The Osquery {kib} privilege has been updated, so that when the *Privileges for all features level* is set to *All*, this now applies *All* to Osquery privileges as well. Previously, users had to choose the *Customize* option to grant any access to Osquery. For more information, refer to {kibana-pull}130523[#130523].

*Impact* +
This impacts user roles that have *Privileges for all features* set to *All*. After this update, users with this role will have access to the Osquery page in {kib}. However, to use the Osquery feature fully, these requirements remain the same: users also need Read access to the logs-osquery_manager.result* index and the Osquery Manager integration must be deployed to Elastic Agents.
====

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[deprecations-8.3.0]]
=== Deprecations

The following functionality is deprecated in 8.3.0, and will be removed in 9.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 8.3.0.

[discrete]
[[deprecation-132790]]
.Removes `apm_user`
[%collapsible]
====
*Details* +
Removes the `apm_user` role. For more information, check {kibana-pull}132790[#132790].

*Impact* +
The `apm_user`role is replaced with the `viewer` and `editor` built-in roles.
====

[discrete]
[[deprecation-132562]]
.Deprecates input controls
[%collapsible]
====
*Details* +
The input control panels, which allow you to add interactive filters to dashboards, are deprecated. For more information, check {kibana-pull}132562[#132562].

*Impact* +
To add interactive filters to your dashboards, use the link:https://www.elastic.co/guide/en/kibana/8.3/add-controls.html[new controls].
====

[discrete]
[[deprecation-131636]]
.Deprecates anonymous authentication credentials
[%collapsible]
====
*Details* +
The apiKey, including key and ID/key pair, and `elasticsearch_anonymous_user` credential types for anonymous authentication providers are deprecated. For more information, check {kibana-pull}131636[#131636].

*Impact* +
If you have anonymous authentication provider configured with apiKey or `elasticsearch_anonymous_user` credential types, a deprecation warning appears, even when the provider is not enabled.
====

[discrete]
[[deprecation-131166]]
.Deprecates v1 and v2 security_linux and security_windows jobs
[%collapsible]
====
*Details* +
The v1 and v2 job configurations for security_linux and security_windows are deprecated. For more information, check {kibana-pull}131166[#131166].

*Impact* +
The following security_linux and security_windows job configurations are updated to v3:

* security_linux:

** v3_linux_anomalous_network_activity
** v3_linux_anomalous_network_port_activity_ecs
** v3_linux_anomalous_process_all_hosts_ecs
** v3_linux_anomalous_user_name_ecs
** v3_linux_network_configuration_discovery
** v3_linux_network_connection_discovery
** v3_linux_rare_metadata_process
** v3_linux_rare_metadata_user
** v3_linux_rare_sudo_user
** v3_linux_rare_user_compiler
** v3_linux_system_information_discovery
** v3_linux_system_process_discovery
** v3_linux_system_user_discovery
** v3_rare_process_by_host_linux_ecs

* security_windows:

** v3_rare_process_by_host_windows_ecs
** v3_windows_anomalous_network_activity_ecs
** v3_windows_anomalous_path_activity_ecs
** v3_windows_anomalous_process_all_hosts_ecs
** v3_windows_anomalous_process_creation
** v3_windows_anomalous_script
** v3_windows_anomalous_service
** v3_windows_anomalous_user_name_ecs
** v3_windows_rare_metadata_process
** v3_windows_rare_metadata_user
** v3_windows_rare_user_runas_event
** v3_windows_rare_user_type10_remote_login
====

[discrete]
[[deprecation-130336]]
.Updates the default legend size
[%collapsible]
====
*Details* +
In the *Lens* visualization editor, the *Auto* default for *Legend width* has been deprecated. For more information, check {kibana-pull}130336[#130336].

*Impact* +
When you create *Lens* visualization, the default for the *Legend width* is now *Medium*.
====

[discrete]
[[deprecation-122075]]
.Deprecates `xpack.data_enhanced.*`
[%collapsible]
====
*Details* +
In kibana.yml, the `xpack.data_enhanced.*` setting is deprecated. For more information, check {kibana-pull}122075[#122075].

*Impact* +
Use the `data.*` configuration parameters instead.
====

[float]
[[features-8.3.0]]
=== Features

{kib} 8.3.0 adds the following new and notable features.

Alerting::
* Adds circuit breaker for max number of actions by connector type {kibana-pull}128319[#128319]
* Adds `bulkEdit` method to alerting rulesClient and internal _bulk_edit API, that allow bulk editing of rules {kibana-pull}126904[#126904]

Cases::
* Adds average time to close metric in Cases {kibana-pull}131909[#131909]
* View all alerts attached to a case in the alerts table. The feature is experimental {kibana-pull}131883[#131883]
* Adds severity field to Cases {kibana-pull}131626[#131626]
* Adds the ability to delete comments in Cases {kibana-pull}130254[#130254]

Dashboard::
Enables the new controls by default {kibana-pull}131341[#131341]

Discover::
* To enable Threshold Alerts, adds the ability to edit dataView, query, & filters {kibana-pull}131688[#131688]
* To enable Threshold Alerts, extended the {es} query rule with search source-based data fetching {kibana-pull}124534[#124534]

Elastic Security::
For the Elastic Security 8.3.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
Changes to agent upgrade modal to allow for rolling upgrades {kibana-pull}132421[#132421]

Lens & Visualizations::
* Adds method to re-link visualizations with missing `SavedSearch` {kibana-pull}132729[#132729]
* Adds support of Data View switching for Agg-Based visualizations {kibana-pull}132184[#132184]

Machine Learning::
* Adds the ability to create anomaly detection jobs from Lens visualizations {kibana-pull}129762[#129762]
* Adds trained model testing for additional pytorch models {kibana-pull}129209[#129209]

Management::
* Adds saved object relationships to data view management {kibana-pull}132385[#132385]
* Adds support for feature_states {kibana-pull}131310[#131310]

Monitoring::
Adds the Stack monitoring health API {kibana-pull}132705[#132705]

Observability::
* Adds the ability to bulk attach multiple alerts to a Case {kibana-pull}130958[#130958]
* Adds rule details page {kibana-pull}130330[#130330]
* Adds span link {kibana-pull}126630[#126630]
* Adds ML expected model bounds as an option to Comparison controls {kibana-pull}132456[#132456]

Platform::
Adds `xyVis` and `layeredXyVis` {kibana-pull}128255[#128255]

Querying & Filtering::
Improves the current filter/search experience {kibana-pull}128401[#128401]

Sharing::
Adds method to re-link visualizations with missing index-pattern {kibana-pull}132336[#132336]

For more information about the features introduced in 8.3.0, refer to <<whats-new,What's new in 8.3>>.

[[enhancements-and-bug-fixes-v8.3.0]]
=== Enhancements and bug fixes

For detailed information about the 8.3.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.3.0]]
=== Enhancements
Alerting::
* Adds helper text in the edit rule form about the change in privileges when saving the rule {kibana-pull}131738[#131738]
* Display rule API key owner to users who can manage API keys {kibana-pull}131662[#131662]

Canvas::
Fixes reference line overlay {kibana-pull}132607[#132607]

Cases::
* Show a warning for deprecated preconfigured connectors {kibana-pull}132237[#132237]
* Reduce space taken by the reporter column in the all cases table {kibana-pull}132200[#132200]
* Adds a tooltip to show truncate tags in Cases {kibana-pull}132023[#132023]
* Adds the ability to create a case from within the selection case modal {kibana-pull}128882[#128882]

Content Management::
The list view for Dashboard, Visualize Library, Maps, and Graph has a new "Last updated" column to easily access content that has been recently modified {kibana-pull}132321[#132321]

Dashboard::
* Improves the banner {kibana-pull}132301[#132301]
* Adds Analytics No Data Page {kibana-pull}132188[#132188]
* Adds field first control creation {kibana-pull}131461[#131461]
* Make text field based Options list controls case Insensitive {kibana-pull}131198[#131198]
* Allow existing controls to change type {kibana-pull}129385[#129385]

Discover::
* Adds an option to hide specified filter actions from SearchBar filter panels {kibana-pull}132037[#132037]
* Adds Analytics No Data Page {kibana-pull}131965[#131965]
* Adds close button to field popover using Document Explorer {kibana-pull}131899[#131899]
* Adds monospace font in Document Explorer {kibana-pull}131513[#131513]
* Adds a tour for Document Explorer {kibana-pull}131125[#131125]
* Display current interval setting {kibana-pull}130850[#130850]
* Adds a direct link from sample data to Discover {kibana-pull}130108[#130108]

Elastic Security::
For the Elastic Security 8.3.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Move integration labels below title and normalise styling {kibana-pull}134360[#134360]
* Adds First Integration Multi Page Steps Flow MVP (cloud only) {kibana-pull}132809[#132809]
* Optimize package installation performance, phase 2 {kibana-pull}131627[#131627]
* Adds APM instrumentation for package install process {kibana-pull}131223[#131223]
* Adds "Label" column + filter to Agent list table {kibana-pull}131070[#131070]
* Adds `cache-control` headers to key `/epm` endpoints in Fleet API {kibana-pull}130921[#130921]
* Optimize package installation performance, phase 1 {kibana-pull}130906[#130906]
* Adds experimental features (feature flags) config to fleet plugin {kibana-pull}130253[#130253]
* Adds redesigned Fleet Server flyout {kibana-pull}127786[#127786]

Lens & Visualizations::
* Renders no data component if there is no {es} data or dataview in *Visualize* {kibana-pull}132223[#132223]
* Swaps dimensions for mosaic in *Lens* {kibana-pull}131945[#131945]
* Adds log and sqrt scale in *Lens* {kibana-pull}131940[#131940]
* Adds collapse fn to table and xy chart in *Lens* {kibana-pull}131748[#131748]
* Allow filtering on metric vis in *Lens* {kibana-pull}131601[#131601]
* Improved interval input in *Lens* {kibana-pull}131372[#131372]
* Adds the Discover drilldown to *Lens* {kibana-pull}131237[#131237]
* Update defaults for metric vis in *Lens* {kibana-pull}129968[#129968]
* Adds range event annotations in *Lens* {kibana-pull}129848[#129848]
* Adds accuracy mode for Top Values in *Lens* {kibana-pull}129220[#129220]
* Adds type murmur3 into the *Lens* fields list {kibana-pull}129029[#129029]

Machine Learning::
* Optimize resize behaviour for the Anomaly Explorer page {kibana-pull}132820[#132820]
* Wizard validation improvements {kibana-pull}132615[#132615]
* Support version fields in anomaly detection wizards {kibana-pull}132606[#132606]
* Context for recovered alerts {kibana-pull}132496[#132496]
* Adding UI for question_answering model testing {kibana-pull}132033[#132033]
* Adds recognized modules links for Index data visualizer {kibana-pull}131342[#131342]
* Anomaly Detection: Adds View in Maps item to Actions menu in the anomalies table {kibana-pull}131284[#131284]
* Adding v3 modules for Security_Linux and Security_Windows and Deprecating v1 + v2 {kibana-pull}131166[#131166]
* Data Frame Analytics creation wizard: add support for filters in saved searches {kibana-pull}130744[#130744]
* Edit job selection on data frame analytics results and map pages {kibana-pull}130419[#130419]
* Resizable/Collapsible Top Influencers section {kibana-pull}130018[#130018]

Management::
* Adds context for recovered alerts {kibana-pull}132707[#132707]
* Adds warnings for managed system policies {kibana-pull}132269[#132269]
* Skip empty prompt screen {kibana-pull}130862[#130862]
* Console now supports properly handling multiple requests. For es errors such as `400`, `405` exception results are displayed with successful request results in the order they called {kibana-pull}129443[#129443]
* Display vector tile API response in Console {kibana-pull}128922[#128922]
* Adds option to disable keyboard shortcuts {kibana-pull}128887[#128887]

Maps::
* Show marker size in legend {kibana-pull}132549[#132549]
* Fixes marker size scale issue for counts {kibana-pull}132057[#132057]
* Scale marker size by area {kibana-pull}131911[#131911]
* Localized basemaps {kibana-pull}130930[#130930]
* Support term joins for Elasticsearch document source with vector tile scaling {kibana-pull}129771[#129771]
* Allow feature editing for document layers with "applyGlobalTime", "applyGlobalQuery", and joins {kibana-pull}124803[#124803]

Observability::
* Bumps synthetics integration package to 0.9.4 {kibana-pull}133423[#133423]
* Immediately re-run monitors in the synthetics service when they're edited {kibana-pull}132639[#132639]
* Enables log flyouts on APM logs tables {kibana-pull}132617[#132617]
* Adds logging to Metric Threshold Rule {kibana-pull}132343[#132343]
* Adds Page load distribution chart to overview page {kibana-pull}132258[#132258]
* Show experimental locations only when a particular flag is enabled {kibana-pull}132063[#132063]
* Trace explorer {kibana-pull}131897[#131897]
* Static Java agent version list becomes stale quickly {kibana-pull}131759[#131759]
* Adds recovery context to Log Threshold rule {kibana-pull}131279[#131279]
* Adds recovery context to the Metric Threshold rule {kibana-pull}131264[#131264]
* Adds context variables to recovery alerts for Inventory Threshold rule {kibana-pull}131199[#131199]
* Copy alert state to alert context and implement alert recovery {kibana-pull}128693[#128693]
* Progressive fetching (experimental) {kibana-pull}127598[#127598]
* Replace environment dropdown with SuggestionsSelect in landing pages and service overview page {kibana-pull}126679[#126679]
* Store Logs UI settings in a dedicated `infrastructure-monitoring-log-view` saved object {kibana-pull}125014[#125014]

Platform::
* The saved objects management table has a new "Last updated" column to easily access recently modified saved objects {kibana-pull}132525[#132525]
* Sync panels tooltips on dashboard level {kibana-pull}130449[#130449]

Querying & Filtering::
* Support fields custom label on filter editor {kibana-pull}130533[#130533]
* Allows comma delimiter on the filters multiple selections dropdowns {kibana-pull}130266[#130266]

Security::
* Disallows creating a role with an existing name in the role management page. Introduces an optional boolean `createOnly` parameter in the create role API to prevent overwriting existing roles; the default value is false, preserving the original API behavior {kibana-pull}132218[#132218]
* Adds experimental `csp.disableUnsafeEval` config option. Set this to `true` to remove the link:https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src#unsafe_eval_expressions[`unsafe-eval`] source expression from the `script-src` Content Security Policy (CSP) directive. The default value is `false`, which is identical to the original Kibana behavior {kibana-pull}124484[#124484]

[float]
[[fixes-v8.3.0]]
=== Bug fixes
Alerting::
* Don't load connectors and connector types when there isn't an encryptionKey {kibana-pull}133335[#133335]
* Adds cloud icon "ess-icon" at the end of the config keys in "alerting" {kibana-pull}131735[#131735]
* Fixes optional spaceId in rules_client {kibana-pull}130704[#130704]

Content Managment::
Fixes the listingLimit settings url {kibana-pull}129701[#129701]

Dashboard::
* Adds Fatal Error Handling {kibana-pull}133579[#133579]
* Hide in Print Mode {kibana-pull}133446[#133446]
* Send Control State to Reporting Via Locator {kibana-pull}133425[#133425]
* Fixes new controls causing unsaved changes bug {kibana-pull}132850[#132850]

Design::
* Keyboard shortcut popup {kibana-pull}133069[#133069]
* Adding aria-label for discover data grid select document checkbox {kibana-pull}131277[#131277]
* Adds item descriptions to edit button screen reader labels in TableListView {kibana-pull}125334[#125334]

Discover::
* Hide "Add a field", "Edit" and "Create a data view" buttons in viewer mode {kibana-pull}134582[#134582]
* Unify definition of field names and field descriptions {kibana-pull}134463[#134463]
* Address "Don't call Hooks" React warnings {kibana-pull}134339[#134339]
* Include current filters into "Test query" request {kibana-pull}134184[#134184]
* Prevent rule flyout from being open simultaneously with other popovers like search suggestions {kibana-pull}132108[#132108]
* Fixes link to open new window {kibana-pull}131930[#131930]
* Discover Classic View Filter In/Out placement when `truncate:maxHeight` is set to 0 {kibana-pull}129942[#129942]
* Fixes inconsistent usage of arrow icons on Surrounding documents page {kibana-pull}129292[#129292]
* Show a fallback empty message when no results are found {kibana-pull}128754[#128754]

Elastic Security::
For the Elastic Security 8.3.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Bulk reassign kuery optimize {kibana-pull}134673[#134673]
* Fixes flickering tabs layout in add agent flyout {kibana-pull}133769[#133769]
* Adds $ProgressPreference to windows install command in flyout {kibana-pull}133756[#133756]
* Fixes sorting by size on data streams table {kibana-pull}132833[#132833]

Infrastructure::
Pass decorated server to routes {kibana-pull}133264[#133264]

Lens & Visualizations::
* Hide null cells in Heatmap {kibana-pull}134450[#134450]
* Fixes formula generate error in *Lens* {kibana-pull}134434[#134434]
* Better default for date_range agg in *Visualize* {kibana-pull}134220[#134220]
* Keep suggestions stable in *Lens* {kibana-pull}134212[#134212]
* Fixes voiceover drag and drop in *Lens* {kibana-pull}134196[#134196]
* Fixes palette bug {kibana-pull}134159[#134159]
* Fixes multi index pattern load on the server in *TSVB* {kibana-pull}134091[#134091]
* Fixes axis title visibility bug in *Lens* {kibana-pull}134082[#134082]
* Fixes broken drilldowns for gauges and heatmaps in *Lens* {kibana-pull}134008[#134008]
* Fixes application of suffix formats in *Lens* {kibana-pull}133780[#133780]
* Do not show edit field for record field in *Lens* {kibana-pull}133762[#133762]
* Fixes discover drilldown for non-time field case in *Lens* {kibana-pull}133334[#133334]
* Do not reset session on Lens load with filters in *Lens* {kibana-pull}133191[#133191]
* Fixes transition issue in *Lens* {kibana-pull}132956[#132956]
* Escape label in lodash set command in *TSVB* {kibana-pull}132932[#132932]
* Changing the `Data View` logic with an initially missed `Data View` does not work in *TSVB* {kibana-pull}132796[#132796]
* Terms with keyword field with "numbers" is displayed with a weird date in *TSVB* {kibana-pull}132226[#132226]
* TSVB] Chart is failing when the user tries to add a percentile_rank {kibana-pull}132105[#132105]
* Fixes metric label font size in *Visualize* {kibana-pull}132100[#132100]
* Datatable: Do not apply truncation in value popover in *Lens* {kibana-pull}132005[#132005]
* Fixes percentile rank math in *TSVB* {kibana-pull}132003[#132003]
* Fixes timezone bucket shift in *Timelion* {kibana-pull}131213[#131213]
* Fixes vega controls layout in *Vega* {kibana-pull}130954[#130954]
* Fixes requesting not permitted or used data views in *Timelion* {kibana-pull}130899[#130899]
* Fixed bugs when using `include/exclude` options for Terms in *TSVB* {kibana-pull}130884[#130884]
* Make series agg work after math in *TSVB* {kibana-pull}130867[#130867]
* Use elastic-charts axis calculation in *Lens* {kibana-pull}130429[#130429]
* Make suggestions depend on active data in *Lens* {kibana-pull}129326[#129326]
* Adds back setMapView function in *Vega* {kibana-pull}128914[#128914]
* Fixes the Order by setting for split chart in metric and custom metric visualizations {kibana-pull}128185[#128185]

Machine Learning::
* Fixes creation of the custom URLs for Kibana Dashboard {kibana-pull}134248[#134248]
* Fixes expanded row stats not loading all correctly whenever sort by cardinality {kibana-pull}134113[#134113]
* Fixes Data visualizer showing 0 count in the doc count chart even though documents do exist {kibana-pull}134083[#134083]
* Fixes querying anomalies for the Single Metric Viewer {kibana-pull}133419[#133419]
* Fixes Anomaly Charts filtering based on the swim lane job selection {kibana-pull}133299[#133299]
* Fixes handling of unrecognised URLs {kibana-pull}133157[#133157]
* Prevent duplicate field selection in detector modal {kibana-pull}133018[#133018]
* Fixes single metric job with doc_count field {kibana-pull}132997[#132997]
* Hide job messages clear notifications tooltip on click {kibana-pull}132982[#132982]
* Filtering category runtime fields in advanced wizard {kibana-pull}132916[#132916]
* Fixes trained model testing so it is available for users with ML read permissions {kibana-pull}132698[#132698]
* Adding type for job summary state {kibana-pull}131643[#131643]

Management::
* Fixes linebreaks (\r\n) mis-applied from history {kibana-pull}131037[#131037]
* Fixes Kibana DevTool Copy as CURL does not url encode special chars in indice date math {kibana-pull}130970[#130970]
* Fixes cat APIs returning as escaped string {kibana-pull}130638[#130638]
* Fixes Elasticsearch doc VIEW IN CONSOLE will clean local Kibana console form history {kibana-pull}127430[#127430]

Maps::
* Fixes icon markers fail to load when browser zoomed out {kibana-pull}134367[#134367]
* Hide create filter UI in canvas {kibana-pull}133943[#133943]
* Use label features from ES vector tile search API to fix multiple labels {kibana-pull}132080[#132080]
* Fixes Map panels should not show the user controls in a dashboard report {kibana-pull}131970[#131970]
* Show "no results" found for vector tile aggregations when there are no results {kibana-pull}130821[#130821]

Monitoring::
* Prevent exceptions in rule when no data present {kibana-pull}131332[#131332]
* Fixes displaying ES version for external collection {kibana-pull}131194[#131194]
* Fixes node type detection for external collection {kibana-pull}131156[#131156]
* Use server.publicBaseUrl in Alert links {kibana-pull}131154[#131154]

Observability::
* Fixes x-axis on error charts {kibana-pull}134193[#134193]
* Display ENVIRONMENT_ALL label instead of value {kibana-pull}133616[#133616]
* Fixes normalizers to not parse list values if they are already parsed {kibana-pull}133563[#133563]
* Change bucket_scripts to use params for thresholds {kibana-pull}133214[#133214]
* Use Observability rule type registry for list of rule types {kibana-pull}132484[#132484]
* APM anomaly rule type should appear in observability rules page {kibana-pull}132476[#132476]
* Fixes monitors details page errors {kibana-pull}132196[#132196]
* Set a valid `service_name` for python APM onboarding {kibana-pull}131959[#131959]
* Rename service groups template titles and links {kibana-pull}131381[#131381]
* Show service group icon only for service groups {kibana-pull}131138[#131138]
* Refactor Metric Threshold rule to push evaluations to Elasticsearch {kibana-pull}126214[#126214]
* Ellipsis truncation issue - dependencies and service section {kibana-pull}122203[#122203]
* Fixes lookback window for anomalies for anomaly alert {kibana-pull}93389[#93389]

Operations::
Fixes error handling on precommit hook {kibana-pull}132998[#132998]

Platform::
Prevents Kibana from bootlooping during migrations when Elasticsearch routing allocation settings are incompatible {kibana-pull}131809[#131809]

Querying & Filtering::
Allows the negative character on the number type fields {kibana-pull}130653[#130653]

Reporting::
Remove controls from reports {kibana-pull}134240[#134240]

Security::
* Session view process events index will now match on prefixed index {kibana-pull}133984[#133984]
* Timestamp issue fix + updated Jest to include mock date format {kibana-pull}132290[#132290]
* Session view alerts loading improvements, and other polish / bug fixes {kibana-pull}131773[#131773]

[[release-notes-8.2.3]]
== {kib} 8.2.3

Review the following information about the {kib} 8.2.3 release.

[float]
[[breaking-changes-8.2.3]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking changes, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.2.2.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[fixes-v8.2.3]]
=== Bug fixes
Elastic Security::
For the Elastic Security 8.2.3 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Elastic Agent integration now installs automatically if agent monitoring is turned on in the agent policy {kibana-pull}133530[#133530]
* Removes {beats} tutorials from the Elastic Stack category {kibana-pull}132957[#132957]
Management::
Fixes an edge case in the Inspector request selector where duplicate request names could result in a UI bug {kibana-pull}133511[#133511]
Operations::
Fixes an issue where `node.options` was reset between upgrades in deb and rpm packages {kibana-pull}133249[#133249]
Platform::
defaultIndex attribute was migrated for config saved object {kibana-pull}133339[#133339]

[[release-notes-8.2.2]]
== {kib} 8.2.2

Review the following information about the {kib} 8.2.2 release.

[float]
[[breaking-changes-8.2.2]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking changes, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.2.2.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[fixes-v8.2.2]]
=== Bug fix
Machine Learning::
Fixes width of icon column in Messages table {kibana-pull}132444[#132444]

[[release-notes-8.2.1]]
== {kib} 8.2.1

Review the following information about the {kib} 8.2.1 release.

[float]
[[breaking-changes-8.2.1]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking changes, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.2.1.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.2/release-notes-8.2.0.html#breaking-changes-8.2.0[8.2.0] | {kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[enhancement-v8.2.1]]
=== Enhancements
Elastic Security::
For the Elastic Security 8.2.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Monitoring::
* Adds the ability collect Telemetry {kibana-pull}130498[#130498]
* Adds the ability to report panels in dashboards by type {kibana-pull}130166[#130166]

[float]
[[fixes-v8.2.1]]
=== Bug fixes
Discover::
* Fixes Document Explorer infinite height growth {kibana-pull}131723[#131723]
* Fixes links in helper callouts {kibana-pull}130873[#130873]
Elastic Security::
For the Elastic Security 8.2.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Removes legacy component templates on package install {kibana-pull}130758[#130758]
Lens & Visualizations::
* Fixes time shift bug in *Lens* {kibana-pull}132000[#132000]
* Fixes single color palette configuration {kibana-pull}131128[#131128]
Machine Learning::
* Removes alerting_rules from general job list items {kibana-pull}131936[#131936]
* Fixes management app docs links {kibana-pull}130776[#130776]
Management::
* Restores data view management field type conflict detail modal {kibana-pull}132197[#132197]
* Fixes test data for import and export between versions tests {kibana-pull}131470[#131470]
* Fixes condition auto-completion for templates in Console {kibana-pull}126881[#126881]
Maps::
* Fixes background tiles in a map panel might not load in a screenshot report {kibana-pull}131185[#131185]
Observability::
* Services without application metrics display an error {kibana-pull}131347[#131347]
* Correctly interprets the `resetting` and `reverting` job states {kibana-pull}129570[#129570]
Platform::
* Migrations incorrectly detects cluster routing allocation setting as incompatible {kibana-pull}131712[#131712]
* Fixes resetting image values {kibana-pull}131610[#131610]
* Fixes a bug causing the newsfeed to not be properly displayed in locales other than english {kibana-pull}131315[#131315]

[[release-notes-8.2.0]]
== {kib} 8.2.0

Review the following information about the {kib} 8.2.0 release.

[float]
[[known-issue-v8.2.0]]
=== Known issue

Lens & visualizations::
A change in the Markdown library that {kib} uses to create *TSVB* *Markdown* visualizations and *Text* dashboard panels renders some tables differently. For more information, check out link:https://github.com/markdown-it/markdown-it/pull/767[#767].

[float]
[[breaking-changes-8.2.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking changes, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.2.0.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.1/release-notes-8.1.0.html#breaking-changes-8.1.0[8.1.0] | {kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[features-8.2.0]]
=== Features
{kib} 8.2.0 adds the following new and notable features.

Alerting::
* Keep the number_of_scheduled_actions in event log {kibana-pull}128438[#128438]
* Remove defaultRuleTaskTimeout and set ruleType specific timeout from kibana.yml {kibana-pull}128294[#128294]
* Limit the executable actions per rule execution {kibana-pull}128079[#128079] and {kibana-pull}126902[#126902]

Cases::
* Adds Cases to the Stack Management page as a technical preview feature {kibana-pull}125224[#125224]

Dashboard::
* Adds time slider control {kibana-pull}128305[#128305]
* Adds Control group search settings {kibana-pull}128090[#128090]
* Adds hierarchical chaining setting to Controls {kibana-pull}126649[#126649]
* Adds options list API and validation system {kibana-pull}123889[#123889]

Discover::
* Enables document explorer by default {kibana-pull}125485[#125485]
* Adds `Copy to clipboard` ability for column name of Document Explorer {kibana-pull}123892[#123892]

Elastic Security::
For the Elastic Security 8.2.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Lens & Visualizations::
* Adds manual annotations in *Lens* {kibana-pull}126456[#126456]
* Adds multi-field group by in *TSVB* {kibana-pull}126015[#126015]
* Adds ability to navigate to *Lens* with your current *TSVB* configuration {kibana-pull}114794[#114794]

Machine Learning::
* Add link to maps in charts section of Anomaly Explorer {kibana-pull}128697[#128697]
* Testing trained models in UI {kibana-pull}128359[#128359]
* Space aware trained models {kibana-pull}123487[#123487]

Management::
* Adds support for auto-complete for data streams {kibana-pull}126235[#126235]
* Adds ability to filter Data View UI for runtime fields {kibana-pull}124114[#124114]
* Adds ability to share data views across spaces via data view management {kibana-pull}123991[#123991]

Observability::
* Adds button which allows users to signup for the Synthetics service public beta {kibana-pull}128798[#128798]
* Adds "View in App URL" {{context.viewInAppUrl}} variable to the rule templating language {kibana-pull}128281[#128281]
* Adds "View in App URL" {{context.viewInAppUrl}} variable to the rule templating language {kibana-pull}128243[#128243]
* Adds "View in App URL" {{context.viewInAppUrl}} variable to the rule templating language {kibana-pull}127890[#127890]
* Adds view in app url as an action variable in the alert message for uptime app {kibana-pull}127478[#127478]

For more information about the features introduced in 8.2.0, refer to <<whats-new,What's new in 8.2>>.

[[enhancements-and-bug-fixes-v8.2.0]]
=== Enhancements and bug fixes

For detailed information about the 8.2.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.2.0]]
=== Enhancements
Alerting::
* Adds error logs in rule details page {kibana-pull}128925[#128925]
* Simplify error banner on rules {kibana-pull}128705[#128705]
* Adds Previous Snooze button {kibana-pull}128539[#128539]
* Adds Snooze UI and Unsnooze API {kibana-pull}128214[#128214]
* Adds aggs to know how many rules are snoozed {kibana-pull}128212[#128212]
* Adds a connector for xMatters {kibana-pull}122357[#122357]

Dashboard::
* Adds option to open dashboard drilldowns in new tab or window {kibana-pull}125773[#125773]
* Adds range slider Control {kibana-pull}125584[#125584]

Discover::
Adds ability to edit histogram as vis {kibana-pull}125705[#125705]

Elastic Security::
For the Elastic Security 8.2.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.2.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Merge settings & mappings component template in @package {kibana-pull}128498[#128498]
* Redesign agent flyout {kibana-pull}128381[#128381]
* Adds a link from agent details page to agent dashboard {kibana-pull}127882[#127882]
* Update add agent instructions in fleet managed mode for Kubernetes {kibana-pull}127703[#127703]
* Added time_series_metric mapping for metric_type package field {kibana-pull}126322[#126322]
* Added support for dimension field {kibana-pull}126257[#126257]
* Refactor auto upgrade package policies logic {kibana-pull}125909[#125909]
* Move mappings from index template to component template {kibana-pull}124013[#124013]

Lens & Visualizations::
* Adds normalize_by_unit function and option in *Lens* {kibana-pull}128303[#128303]
* Adds suffix formatter in *Lens* {kibana-pull}128246[#128246]
* Adds Xy gap settings in *Lens* {kibana-pull}127749[#127749]
* Implements null instead of zero switch in *Lens* {kibana-pull}127731[#127731]
* Adds ability to include empty rows setting for date histogram in *Lens* {kibana-pull}127453[#127453]
* Adds support for multi rows headers for the table visualization in *Lens* {kibana-pull}127447[#127447]
* Adds ability to open *Lens* visualizations in *Discover* from dashboards {kibana-pull}127355[#127355]
* Auto-set exists filtering for last value in *Lens* {kibana-pull}127251[#127251]
* Adds ability to include number of values in default terms field label in *lens* {kibana-pull}127222[#127222]
* Adds ability to drop partial buckets option in *Lens* {kibana-pull}127153[#127153]
* Addds ability to allow top metric for last value in *Lens* {kibana-pull}127151[#127151]
* Improves Datatable content height with custom row height in *Lens* {kibana-pull}127134[#127134]
* Adds ability to set legend pixel width in *Lens* {kibana-pull}126018[#126018]
* Adds underlying data editor navigation in *Lens* {kibana-pull}125983[#125983]
* Adds top metrics aggregation to AggConfigs, Expressions, and Visualize {kibana-pull}125936[#125936]
* Adds the ability to detach from global time range in *Lens* {kibana-pull}125563[#125563]
* Adds last value, min and max on dates, allow last value on ip_range, number_range, and date_range in *Lens* {kibana-pull}125389[#125389]
* Adds version-aware sorting to data table in *Lens* {kibana-pull}125361[#125361]
* Cancel discarded searches in *Timelion* {kibana-pull}125255[#125255]
* Cancel discarded searches in *TSVB* {kibana-pull}125197[#125197]
* Adds the ability to allow users to disable auto-apply in *Lens* {kibana-pull}125158[#125158]
* Adds Filter custom label for kibanaAddFilter in *Vega* {kibana-pull}124498[#124498]
* Adds metric Viz config options, title position, and sizing in *Lens* {kibana-pull}124124[#124124]
* Adds the ability to make graph edges easier to click {kibana-pull}124053[#124053]
* Adds "Show empty rows" options to intervals function in *Lens* {kibana-pull}118855[#118855]

Machine Learning::
* Combines annotations into one block if multiple annotations overlap {kibana-pull}128782[#128782]
* Adds `throughput_last_minute` to the deployment stats {kibana-pull}128611[#128611]
* Adds new API endpoint to improve anomaly chart performance {kibana-pull}128165[#128165]
* Utilize ML memory stats endpoint for the memory overview chart {kibana-pull}127751[#127751]
* Deleting trained model space checks {kibana-pull}127438[#127438]
* Show at least one correlation value and consolidate correlations columns {kibana-pull}126683[#126683]
* Include fields not in docs in Data Visualizer field name control {kibana-pull}126519[#126519]
* Anomaly Explorer performance enhancements {kibana-pull}126274[#126274]
* Fixes Index data visualizer reaching Elasticsearch rate request limits {kibana-pull}124898[#124898]
* Adds cache for data recognizer module configs to reduce number of privilege checks {kibana-pull}126338[#126338]

Management::
* Extend Transform Health alerting rule with error messages check {kibana-pull}128731[#128731]
* Enable opening queries from any UI {kibana-pull}127461[#127461]
* No Data Views Component {kibana-pull}125403[#125403]

Maps::
* Remove usage of max file size advanced setting 1GB limit in geo file upload {kibana-pull}127639[#127639]
* Adds support for geohex_grid aggregation {kibana-pull}127170[#127170]
* Lens choropleth chart {kibana-pull}126819[#126819]
* Register GeoJson upload with integrations page {kibana-pull}126350[#126350]
* Support custom icons in maps {kibana-pull}113144[#113144]

Observability::
* Guided setup progress {kibana-pull}128382[#128382]
* Enable check for public beta {kibana-pull}128240[#128240]
* Guided setup button on the overview page {kibana-pull}128172[#128172]
* Show warning when users exceed a Synthetics Node throttling limits {kibana-pull}127961[#127961]
* Adds logging to Inventory Threshold Rule {kibana-pull}127838[#127838]
* O11y rules page {kibana-pull}127406[#127406]
* Enrich documents generated by the synthetics service with `port` information {kibana-pull}127180[#127180]
* Make UI indices space aware (support for spaces) {kibana-pull}126176[#126176]
* Setting for default env for service inventory {kibana-pull}126151[#126151]
* Alerts in overview page {kibana-pull}125337[#125337]
* Adds log rate to Exploratory View {kibana-pull}125109[#125109]
* Support switching between log source modes {kibana-pull}124929[#124929]
* Overview style updates {kibana-pull}124702[#124702]
* Adds full screen/copy button ability in browser inline script editing {kibana-pull}124500[#124500]
* Update position of legend and it's controls {kibana-pull}115854[#115854]

Platform::
Allow customizing {es} client maxSockets {kibana-pull}126937[#126937]

[float]
[[fixes-v8.2.0]]
=== Bug fixes
Alerting::
* Fixes bug when providing a single value to the `fields` query parameter of the Cases find API {kibana-pull}128143[#128143]
* Fixes the count of alerts in the cases table. Only unique alerts are being counted {kibana-pull}127721[#127721]
* Do not show the lens action if Visualize feature is not enabled {kibana-pull}127613[#127613]

Dashboard::
* Fixes control removal {kibana-pull}128699[#128699]
* Select televant data view ID {kibana-pull}128440[#128440]
* Close controls flyouts on unmount, save, and view mode change {kibana-pull}128198[#128198]

Discover::
* Account for hidden time column in default sort {kibana-pull}129659[#129659]
* Make field icons consistent across field list and doc tables {kibana-pull}129621[#129621]
* Fixes `Filter for field present` in expanded document view of Document Explorer {kibana-pull}129588[#129588]
* Cancel long running request after navigating out from Discover {kibana-pull}129444[#129444]
* Fixes height of JSON tab in Document flyout when using Document explorer in Safari {kibana-pull}129348[#129348]
* Fixes stuck action menu in expanded document sidebar {kibana-pull}127588[#127588]

Elastic Security::
For the Elastic Security 8.2.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Lens & Visualizations::
* Fixes multi index pattern load bug in *TSVB* {kibana-pull}130428[#130428]
* Handle empty values for range formatters {kibana-pull}129572[#129572]
* Apply pinned filters to *Lens* {kibana-pull}129503[#129503]
* Imported vislib pie triggers unsaved viz warning when embedded on a dashboard in *Visualize* {kibana-pull}129336[#129336]
* Fixes auto session-renewal on non-timebased data views in *Lens* {kibana-pull}129313[#129313]
* Fixes steps behavior to happen at the change point in *TSVB* {kibana-pull}128741[#128741]
* Improve check for 0 opacity in *TSVB* {kibana-pull}128630[#128630]
* Fixes firefox scrollbars in *Vega* {kibana-pull}128515[#128515]
* Log data tables properly in *Lens* {kibana-pull}128297[#128297]
* Fixes annotation bounds bug in *TSVB* {kibana-pull}128242[#128242]
* Make sure x axis values are always strings in *Lens* {kibana-pull}128160[#128160]
* Use default number formatter as fallback if nothing else is specified in *Timelion* {kibana-pull}128155[#128155]
* Enable Save&Return button for canvas when dashboard permissions are off in *Visualize* {kibana-pull}128136[#128136]
* Fixes permission problem for "Save and return" button in *Lens* {kibana-pull}127963[#127963]
* Restore operation auto switch based on field type in *Lens* {kibana-pull}127861[#127861]
* Fixes mosaic color syncing in *Lens* {kibana-pull}127707[#127707]
* Make edge selection work {kibana-pull}127456[#127456]
* Remove opacity for fitting line series {kibana-pull}127176[#127176]
* Handle line/area fitting function when the editor has started with bar configuration in *Visualize* {kibana-pull}126891[#126891]
* Preserve custom label when changing with multi-terms settings in *Lens* {kibana-pull}126773[#126773]
* Fixes multi terms fields validation in *Lens* {kibana-pull}126618[#126618]
* Make Embeddable resilient when toggling actions in *Lens* {kibana-pull}126558[#126558]
* Make graph app resilient to no fields or missing data views {kibana-pull}126441[#126441]
* Fixes Formula to Quick functions does not preserve custom formatting in *Lens* {kibana-pull}124840[#124840]
* Inspector displays only visible content {kibana-pull}124677[#124677]
* Coloring tooltips in Heatmap are not properly positioned in *Visualize* {kibana-pull}124507[#124507]
* Adds rison helper and URL encoding for drilldown urls in *TSVB* {kibana-pull}124185[#124185]

Machine Learning::
* Fixes alignment of Anomaly Explorer swim lane annotations label on Firefox {kibana-pull}130274[#130274]
* Fixes Single Metric Viewer chart failing to load if no points during calendar event {kibana-pull}130000[#130000]
* Fixes Single Metric Viewer for jobs that haven't been run {kibana-pull}129063[#129063]
* Fix outlier detection results exploration color legend display {kibana-pull}129058[#129058]
* Fixes new anomaly detection job from saved search with no query filter {kibana-pull}129022[#129022]
* Fixes data frame analytics map saved object sync warning {kibana-pull}128876[#128876]
* Adds error toast to Data visualizer when using unpopulated time field {kibana-pull}127196[#127196]

Management::
* Transforms: Fix to not pass on default values in configurations {kibana-pull}129091[#129091]
* Encode + sign in ISO8601 time range in query {kibana-pull}126660[#126660]

Maps::
* Fixes lens region map visualization throws a silent error {kibana-pull}129608[#129608]
* Fixes double click issue when deleting a shape {kibana-pull}124661[#124661]

Monitoring::
* Exclude Malwarescore + Ransomware EP alerts from DRule telemetry {kibana-pull}130233[#130233]
* Rename "APM & Fleet Server" to "Integrations Server" {kibana-pull}128574[#128574]
* Fixes sorting by node status on nodes listing page {kibana-pull}128323[#128323]

Observability::
* Service environment should be selected when you edit the agent configuration {kibana-pull}129929[#129929]
* Adds migration to include synthetics and heartbeat indices on 8.2.0 {kibana-pull}129510[#129510]
* Rules summary on the Alerts view is not showing the count of rules {kibana-pull}129052[#129052]
* Fixes shadow for overview panels {kibana-pull}128878[#128878]
* Ensure rum_allow_origins setting only saves valid YAML strings {kibana-pull}128704[#128704]
* Standardize NOW as startedAt from executor options {kibana-pull}128020[#128020]
* Fixes synthetics recorder file upload {kibana-pull}127614[#127614]
* Service Maps popover detail metrics are aggregates over all transaction types {kibana-pull}125580[#125580]

Platform::
* Fixes an issue where duplicate data appears in the inspector datatable in *Lens* for heatmap visualizations, and stale data persists in the inspector datatable when you remove layers {kibana-pull}126786[#126786]
* Fixes an issue that caused {kib} to become unresponsive while generating a PDF report {kibana-pull}124787[#124787]
* Fixes an issue where an unfriendly notification title displays after you create a report {kibana-pull}123607[#123607]

Security::
* Fixes styles for "You do not have permission" screen {kibana-pull}129715[#129715]
* Change session expiration to override on app leave behavior {kibana-pull}129384[#129384]

[[release-notes-8.1.3]]
== {kib} 8.1.3

Review the following information about the {kib} 8.1.3 release.

[float]
[[security-update-v8.1.3]]
=== Security update

The 8.1.3 release contains a fix to a potential security vulnerability. For more information, check link:https://discuss.elastic.co/t/kibana-7-17-3-and-8-1-3-security-update/302826[Security Announcements].

[float]
[[breaking-changes-8.1.3]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking changes, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.1.3.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[fixes-v8.1.3]]
=== Bug fix
Discover::
* Fixes toggle table column for classic table {kibana-pull}128603[#128603]

[[release-notes-8.1.2]]
== {kib} 8.1.2

Review the following information about the {kib} 8.1.2 release.

[float]
[[breaking-changes-8.1.2]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking changes, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.1.2.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[enhancement-v8.1.2]]
=== Enhancement
Dashboard::
Improve controls management UX {kibana-pull}127524[#127524]

[float]
[[fixes-v8.1.2]]
=== Bug fixes
Discover::
* Fixes toggle table column for classic table {kibana-pull}128603[#128603]
* Fixes selection popover close action without making a selection in Document Explorer {kibana-pull}128124[#128124]

Elastic Security::
For the Elastic Security 8.1.2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Management::
Handle scenario when user has no indices {kibana-pull}128066[#128066]

Monitoring::
Rename "APM & Fleet Server" to "Integrations Server" {kibana-pull}128574[#128574]

Platform::
Fixes KQL typeahead missing description and improve display for long field names {kibana-pull}128480[#128480]

[[release-notes-8.1.1]]
== {kib} 8.1.1

Review the following information about the {kib} 8.1.1 release.

[float]
[[breaking-changes-8.1.1]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.1.1, review the breaking changes, then mitigate the impact to your application.

There are no breaking changes in {kib} 8.1.1.

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[enhancement-v8.1.1]]
=== Enhancement
Dashboard::
Improves controls empty state {kibana-pull}125728[#125728]

[float]
[[fixes-v8.1.1]]
=== Bug fixes
Data ingest::
The dot expander processor in the Ingest Pipelines UI now allows setting a wildcard (`*`) for the field parameter {kibana-pull}123522[#123522]

Elastic Security::
For the Elastic Security 8.1.1 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.1.1 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Adds a new validation message {kibana-pull}127239[#127239]
* Fixes empty assets on package install {kibana-pull}127070[#127070]
* Hide enroll command when user creates a new agent policy in the Add agent flyout {kibana-pull}126431[#126431]
* Makes input IDs unique in agent policy yaml {kibana-pull}127343[#127343]
* Fixes links to Agent logs for APM, Endpoint, Synthetics, and OSQuery {kibana-pull}127480[#127480]

[[release-notes-8.1.0]]
== {kib} 8.1.0

Review the following information about the {kib} 8.1.0 release.

[float]
[[breaking-changes-8.1.0]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.1.0, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Removes legacy CSV export type
[%collapsible]
====
*Details* +
The `/api/reporting/generate/csv` endpoint has been removed. For more information, refer to {kibana-pull}121435[#121435].

*Impact* +
If you are using 7.13.0 and earlier, {kibana-ref-all}/8.1/automating-report-generation.html[regenerate the POST URLs] that you use to automatically generate CSV reports.
====

[discrete]
.Removes legacy PDF shim
[%collapsible]
====
*Details* +
The POST URLs that you generated in {kib} 6.2.0 no longer work. For more information, refer to {kibana-pull}121369[#121369].

*Impact* +
{kibana-ref-all}/8.1/automating-report-generation.html[Regenerate the POST URLs] that you use to automatatically generate PDF reports.
====

To review the breaking changes in previous versions, refer to the following:

{kibana-ref-all}/8.0/release-notes-8.0.0.html#breaking-changes-8.0.0[8.0.0] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc2.html#breaking-changes-8.0.0-rc2[8.0.0-rc2] | {kibana-ref-all}/8.0/release-notes-8.0.0-rc1.html#breaking-changes-8.0.0-rc1[8.0.0-rc1] | {kibana-ref-all}/8.0/release-notes-8.0.0-beta1.html#breaking-changes-8.0.0-beta1[8.0.0-beta1] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha2.html#breaking-changes-8.0.0-alpha2[8.0.0-alpha2] | {kibana-ref-all}/8.0/release-notes-8.0.0-alpha1.html#breaking-changes-8.0.0-alpha1[8.0.0-alpha1]

[float]
[[features-8.1.0]]
=== Features
{kib} 8.1.0 adds the following new and notable features.

Canvas::
* Adds Heatmap {kibana-pull}120239[#120239]
* Adds the *Filters* panel for element settings {kibana-pull}117270[#117270] and {kibana-pull}116592[#116592]

Discover::
* Adds document explorer callout {kibana-pull}123814[#123814]
* Adds ability to create data views from the sidebar {kibana-pull}123391[#123391]
* Adds redirect if there are no data views {kibana-pull}123366[#123366]
* Adds row height options {kibana-pull}122087[#122087]

Elastic Security::
For the Elastic Security 8.1.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Lens & Visualizations::
* Adds the waffle visualization type to *Lens* {kibana-pull}119339[#119339]
* Adds the gauge visualization type to *Lens* {kibana-pull}118616[#118616]
* Adds multi terms support to *Top Values* in *Lens* {kibana-pull}118600[#118600]
* Adds a new heatmap implementation with elastic-charts to *Visualize Library* {kibana-pull}118338[#118338]
* Adds the Mosaic or mekko visualization type to *Lens* {kibana-pull}117668[#117668]
* Adds the ability to configure the Metric visualization type color palette in *Lens* {kibana-pull}116170[#116170]

Machine Learning::
* Enable Field statistics table on by default {kibana-pull}124046[#124046]
* Adds grouping to the side nav {kibana-pull}123805[#123805]
* Integration part 1: Create anomalies layer in maps {kibana-pull}122862[#122862]
* Replace navigation bar with a side nav {kibana-pull}121652[#121652]
* Overview page redesign {kibana-pull}120966[#120966]

Management::
* Support suggesting index templates v2 {kibana-pull}124655[#124655]
* *Console* now supports autocompletion for index templates and component templates introduced in {es} 7.8.0.
* Transforms: Support to set destination ingest pipeline {kibana-pull}123911[#123911]
* Transforms: Adds reset action to transforms management {kibana-pull}123735[#123735]
* Transforms: Support for terms agg in pivot configurations {kibana-pull}123634[#123634]

Observability::
* Adds Tail-based sampling settings {kibana-pull}124025[#124025]
* APM UI changes for serverless services / AWS lambda {kibana-pull}122775[#122775]

For more information about the features introduced in 8.1.0, refer to <<whats-new,What's new in 8.1>>.

[[enhancements-and-bug-fixes-v8.1.0]]
=== Enhancements and bug fixes

For detailed information about the 8.1.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.1.0]]
=== Enhancements
Alerting::
* Adds P50/95/99 for rule execution duration in the rules table {kibana-pull}123603[#123603]
* Adds dropdown for number of executions in Rule Details view {kibana-pull}122595[#122595]

Canvas::
* Adds titles to the heatmap axis {kibana-pull}123992[#123992]
* Adds the esql Monaco editor {kibana-pull}118531[#118531]
* Adds expression `metrisVis` workpad arguments {kibana-pull}114808[#114808]

Dashboard::
Adds the ability to always allow internal URLs in *Vega* {kibana-pull}124705[#124705]

Data ingest::
Adds the ability to create ingest pipelines from a CSV upload that enables mapping custom data source into ECS {kibana-pull}101216[#101216]

Discover::
* Improves the document explorer flyout {kibana-pull}120116[#120116]
* Adds the ability to preserve *Discover* main route state in breadcrumb links {kibana-pull}119838[#119838]
* Adds error state if chart loading fails {kibana-pull}119289[#119289]
* Enable Field statistics table on by default {kibana-pull}124046[#124046]

Elastic Security::
For the Elastic Security 8.1.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
* Adds shipper label {kibana-pull}122491[#122491]
* Adds support for non-superuser access to *Fleet* and *Integrations* {kibana-pull}122347[#122347]
* Adds support for bundling packages as zip archives with {kib} source {kibana-pull}122297[#122297]
* Makes the default integration install explicit {kibana-pull}121628[#121628]

Lens & Visualizations::
* Addx suport for timefilter/min/max in *Vega* URLs {kibana-pull}124077[#124077]
* The filtered field list now uses field caps API in *Lens* {kibana-pull}122915[#122915]
* Updates the *Lens* empty state copy {kibana-pull}122174[#122174]
* Adds a global filter for formulas in *Lens* {kibana-pull}121768[#121768]
* Adds rare terms in *Lens* {kibana-pull}121500[#121500]
* Adds previous time shift back in *Lens* {kibana-pull}121284[#121284]
* Adds the size ratio setting to pie and donut charts in *Lens* {kibana-pull}120101[#120101]
* Adds multi terms dnd support in *Lens* {kibana-pull}119841[#119841]
* Improves the color stop UI in *Lens* {kibana-pull}119165[#119165]
* Enables table pagination in *Lens* {kibana-pull}118557[#118557]
* Adds support for ephemeral sort to the data table embeddable {kibana-pull}117742[#117742]
* Debounce duplicate error messages in *Vega* {kibana-pull}116408[#116408]
* Replaces EUICodeEditor with Monaco in *Vega* {kibana-pull}116041[#116041]

Machine Learning::
* Adds missing document titles {kibana-pull}124125[#124125]
* Synchronize Anomaly charts cursor position for X-axis with *Lens* visualizations in *Dashboard* {kibana-pull}123951[#123951]
* Adds grouping to the side nav {kibana-pull}123805[#123805]
* Adds empty states for the Jobs list pages {kibana-pull}123462[#123462]
* Adds error messages to Index data visualizer and improve distribution charts for fields with low cardinality {kibana-pull}123306[#123306]
* Standardize Add embeddable flow from the Anomaly Explorer page {kibana-pull}123199[#123199]
* Integration part 1: Create anomalies layer in *Maps** {kibana-pull}122862[#122862]
* Adds options to exclude or include frozen data tier for Anomaly detection and Index data visualizer {kibana-pull}122306[#122306]
* Editing semi-structured text fields in grok pattern {kibana-pull}122274[#122274]
* Adds extra search deep links for nodes overview and file upload {kibana-pull}121740[#121740]
* Replace navigation bar with a side nav {kibana-pull}121652[#121652]
* File data visualizer reduce chunk size for slow processors {kibana-pull}121353[#121353]
* Adds ability to save session to Index data visualizer {kibana-pull}121053[#121053]
* Overview page redesign {kibana-pull}120966[#120966]
* Adds *Maps* UI action to Index data visualizer/*Discover* Field statistics {kibana-pull}120846[#120846]
* Adds auto generated drill down link to *Discover* for Anomaly explorer table {kibana-pull}120450[#120450]
* Adds multilayer time axis style to Data visualizer doc count chart {kibana-pull}117398[#117398]

Management::
* Transforms: Add call out warning & delete option if a task exists for a transform without a config {kibana-pull}123407[#123407]
* Adds warnings for actions for managed Anomaly detection jobs and Transforms {kibana-pull}122305[#122305]
* Refresh frequency refinements {kibana-pull}122125[#122125]
* Configure refresh frequency {kibana-pull}121874[#121874]
* Geo point field formatter {kibana-pull}121821[#121821]
* Adds links to docs {kibana-pull}121066[#121066]
* Highlight the tutorial example text with console syntax {kibana-pull}120474[#120474]
* Compress mappings response size for autocomplete {kibana-pull}120456[#120456]
* Handle binary data response {kibana-pull}119586[#119586]
* Improve error handling when local storage quota is full {kibana-pull}118495[#118495]
* Error handling {kibana-pull}109233[#109233]

Maps::
* Adds Shapefile import {kibana-pull}123764[#123764]
* Should be able to zoom in on selected range of timeslider {kibana-pull}122131[#122131]
* Delete button should be toggleable in Edit Features {kibana-pull}122017[#122017]
* Change "show as" from EuiSelect to EuiButtonGroup {kibana-pull}121960[#121960]
* Format counts {kibana-pull}119646[#119646]
* Convert maki icons to SDF sprites on-the-fly {kibana-pull}119245[#119245]
* Convert HeatmapLayer to vector tiles and add support for high resolution grids {kibana-pull}119070[#119070]
* Make the icon for max results limit more evident {kibana-pull}118044[#118044]
* Enable on-prem for *Vega* {kibana-pull}104422[#104422]

Monitoring::
Compatibility for agent data streams {kibana-pull}119112[#119112]

Observability::
* Adds Tail-based sampling settings {kibana-pull}124025[#124025]
* UI Monitor Management - Add namespace field {kibana-pull}123248[#123248]
* Default alert connectors email settings {kibana-pull}123244[#123244]
* Only show span.sync badge when relevant {kibana-pull}123038[#123038]
* Optimize waffle map {kibana-pull}122889[#122889]
* APM UI changes for serverless services / AWS lambda {kibana-pull}122775[#122775]
* Update the style of the service/backend info icons in the selected service/backend header {kibana-pull}122587[#122587]
* Adds basic infra metrics config {kibana-pull}120881[#120881]
* Adds comparision to service maps popover {kibana-pull}120839[#120839]
* Link originating service in traces list table {kibana-pull}120768[#120768]
* Prefer `service.name` for logs correlation {kibana-pull}120694[#120694]
* Query numerator & denominator simultaneously for log threshold alerts {kibana-pull}107566[#107566]

Operations::
Improves the file logging capabilities so that missing directories in the configured file path are now created before {kib} attempts to write to the file {kibana-pull}117666[#117666]

Platform::
* Add a new `elasticsearch.compression` configuration property to enable compression for communications between {kib} and {es} {kibana-pull}124009[#124009]
* Adds support of comments {kibana-pull}122457[#122457]
* Adds support for PNG and PDF reports on Darwin Arm64 architecture {kibana-pull}122057[#122057]
* Short URL client is now accessible on the frontend through plugin contract. *Dashboard* and *Discover* shared short URLs now contain a three word, human-readable slug {kibana-pull}121886[#121886]
* Adds the ability to add URL drilldowns to *Dashboard* panels {kibana-pull}121801[#121801]
* Adds a new structure to the report details flyout to help you find information faster {kibana-pull}120617[#120617]
* Adds HTML tag and impact level to axe-core CI violation reporter {kibana-pull}119903[#119903]
* Exposes {es} accuracy warnings to the user {kibana-pull}116632[#116632]

Querying & Filtering::
Improves the version field type {kibana-pull}123739[#123739]

Security::
* Audit logs now include records for individual saved objects when an entire space is deleted {kibana-pull}124145[#124145]
* User login audit events now include the session ID for better correlation, and single sign-on flows no longer result in an extra `user_logout` event {kibana-pull}124299[#124299]

[float]
[[fixes-v8.1.0]]
=== Bug fixes
Alerting::
* Fixes the pagination results for fetching existing alerts {kibana-pull}122474[#122474]
* Running disabled rules are now skipped {kibana-pull}119239[#119239]

Canvas::
* Fixes an issue where the image repeat element was not updating {kibana-pull}118701[#118701]
* Fixes an issue where *Canvas* validated values before saving variables {kibana-pull}118694[#118694]

Dashboard::
Adds the listing page callout when new dashboards are in progress {kibana-pull}117237[#117237]

Discover::
* Adds the ability to close the expanded document sidebar when you change data views {kibana-pull}119736[#119736]
* Fixes search on page load tests {kibana-pull}119087[#119087]

Elastic Security::
For the Elastic Security 8.1.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Enterprise Search::
For the Elastic Enterprise Search 8.1.0 release information, refer to {enterprise-search-ref}/changelog.html[_Elastic Enterprise Search Documentation Release notes_].

Fleet::
* Readded missing packages to keep up to date list {kibana-pull}125787[#125787]
* Trimmed whitespace from package policy names {kibana-pull}125400[#125400]

Lens & Visualizations::
* Fixes some dashboard visualizations that could show "Could not located index pattern" errors when copied from one space to another {kibana-pull}126499[#126499]
* Rarity is not allowed in some cases in *Lens* {kibana-pull}125523[#125523]
* Fixes formatting logic for terms in *Lens* {kibana-pull}125408[#125408]
* Fixes focus on submitting filter popover in *Lens* {kibana-pull}125247[#125247]
* Fixes agg filter for sibling pipeline aggs {kibana-pull}125227[#125227]
* Panel intervals are now used for annotations in *TSVB* {kibana-pull}125222[#125222]
* Outdated inspector data is now hidden in *Vega* {kibana-pull}125051[#125051]
* *Vega* visualizations are no longer missing in sample data reports {kibana-pull}124886[#124886]
* Lucene queries on dashboards are now accepted on annotations and tables in *TSVB* {kibana-pull}124802[#124802]
* Top values now work for custom numeric formatters in *Lens* {kibana-pull}124566[#124566]
* Coloring tooltip in Heatmap is now working for `">= n"` values in *Visualize Library* {kibana-pull}124521[#124521]
* Fixes a metric contrast issue in *TSVB* {kibana-pull}124509[#124509]
* Do not refresh session on "now" drift on incoming data in *Lens* {kibana-pull}124389[#124389]
* Coloring tooltips in Pie are not properly positioned in *Visualize* {kibana-pull}124330[#124330]
* Label placeholder always defaults to the lens proposed text in *Lens* {kibana-pull}124222[#124222]
* Show warning for completely static formula in *Lens* {kibana-pull}124213[#124213]
* Adds step value to make Safari validation work properly in *Lens* {kibana-pull}124210[#124210]
* Guard against parse failures in *Visualize* {kibana-pull}124209[#124209]
* Fixes heatmap suggestions in *Lens* {kibana-pull}124099[#124099]
* Fixes the percentage format for percentiles series {kibana-pull}124098[#124098]
* Displays custom bounds error for right axis when lower bound is above 0 in *Lens* {kibana-pull}124037[#124037]
* Clicking a series agg timeseries chart split by terms should not create a filter in *TSVB* {kibana-pull}124031[#124031]
* Save default data view in *TSVB* {kibana-pull}123997[#123997]
* Switch default bar width to 0px in *TSVB* {kibana-pull}123926[#123926]
* Formatting in the left axis is not respected when I have two separate axis in *TSVB* {kibana-pull}123903[#123903]
* Fixes series containing colon in *TSVB* {kibana-pull}123897[#123897]
* Fixes records field name and migrate in *Lens* {kibana-pull}123894[#123894]
* Hides ticks on the y axis for layers with the same format and different template in *TSVB* {kibana-pull}123598[#123598]
* Various fixes for Lens embeddables in *Lens* {kibana-pull}123587[#123587]
* Make sure session is updated and passed to the embeddable in *Visualize* {kibana-pull}123538[#123538]
* Fixes time range issue on save in *Lens* {kibana-pull}123536[#123536]
* Report override data views to the dashboard in *TSVB* {kibana-pull}123530[#123530]
* Handle ignore daylight time correctly and fix shift problem in *TSVB* {kibana-pull}123398[#123398]
* AggConfigs: Make base id check more stable {kibana-pull}123367[#123367]
* TSVB fix flickering {kibana-pull}122921[#122921]
* Hide tooltips while dragging dimensions in *Lens* {kibana-pull}122198[#122198]
* Make sure saved search id is carried over to saved object {kibana-pull}121082[#121082]
* Paginate through index patterns {kibana-pull}120972[#120972]
* Show generic error for invalid time shift string in *Lens* {kibana-pull}120077[#120077]
* Improves column type detection in table for alignment in *Lens* {kibana-pull}120007[#120007]
* Fixes the broken "aggregate function" in *TSVB* table {kibana-pull}119967[#119967]
* Hide fit from suggestions in *Timelion* {kibana-pull}119568[#119568]
* Match visualization type to first series type when available {kibana-pull}119377[#119377]
* Timelion & vega apply dataview from first filter in *Vega* {kibana-pull}119209[#119209]
* Reset filter state whenever group-by changed in *TSVB* {kibana-pull}118953[#118953]
* Prevent KQL Popovers From Stacking in *Lens* {kibana-pull}118258[#118258]
* Improves outside label placement for pie/donut charts in *Lens* {kibana-pull}115966[#115966]

Machine Learning::
* Fixes permission check for 'View examples' link from Anomaly detection explorer page {kibana-pull}125090[#125090]
* Fixes auto-refresh interval {kibana-pull}124851[#124851]
* Fixes permission check for Discover/data view redirect from Anomaly detection explorer page {kibana-pull}124408[#124408]
* Fixes breadcrumbs inconsistencies and titles capitalisation {kibana-pull}123019[#123019]

Management::
* Update painless antlr grammar for fields API $-syntax {kibana-pull}125818[#125818]
* Adds permission check for 'Set as default data view' button on data view detail page {kibana-pull}124897[#124897]
* In *Index Management*, index details now display previously missing values for the number of deleted documents and the primary storage size {kibana-pull}124731[#124731]
* Transforms: Fix retention policy reset {kibana-pull}124698[#124698]
* Transforms: Fix sort on field names containing dots not applied in wizard preview grid {kibana-pull}124587[#124587]
* Transforms: Fix refresh when transform list is filtered {kibana-pull}124267[#124267]
* Fixes autocomplete inserting comma in triple quotes {kibana-pull}123572[#123572]
* Encode pathname {kibana-pull}122080[#122080]
* Autocomplete missing comma on correct location {kibana-pull}121611[#121611]
* Fixes wrong values in field format editor; fix wrong value formatting in field preview {kibana-pull}121300[#121300]
* Fixes autocomplete suggestions for lowercase methods and other related bug {kibana-pull}121033[#121033]
* Fixes autocomplete suggestions for repository of type `fs` (typo) {kibana-pull}120775[#120775]
* Fixes editor error while adding second request {kibana-pull}120593[#120593]
* Dev Tools Console: Expose the error_trace parameter for completion {kibana-pull}120290[#120290]
* Auto complete for script suggests deprecated query type {kibana-pull}120283[#120283]
* Fixes "Expected one of GET/POST/PUT/DELETE/HEAD" for lowercase methods {kibana-pull}120209[#120209]
* Make the Define script label non clickable {kibana-pull}119947[#119947]
* Fixes error markers in editor output {kibana-pull}119831[#119831]
* Change suggestions for Sampler and Diversified sampler aggregations {kibana-pull}119355[#119355]
* Adds Autocompletion for boxplot aggregation in Kibana Dev tools {kibana-pull}117024[#117024]
* Adds overrides for request parameters for Logstash PUT Pipeline API {kibana-pull}116450[#116450]
* @timestamp as default for timestamp field name in index pattern {kibana-pull}116126[#116126]

Maps::
* Fixes vector tile URL not properly encoded {kibana-pull}126208[#126208]
* Allows feature editing with vector tile scaling {kibana-pull}123409[#123409]
* Fixes Error rendering cluster layer of geoshape documents styled by category {kibana-pull}123308[#123308]
* Fetch geometry from fields API {kibana-pull}122431[#122431]
* Fixes vector tile double counting geo_shapes that cross tile boundaries {kibana-pull}121703[#121703]
* Refactor map telemetry to incrementally calculate usage stats {kibana-pull}121467[#121467]
* Fixes creating filter from array fields {kibana-pull}119548[#119548]

Monitoring::
* Stronger typing for monitoring configs {kibana-pull}125467[#125467]
* Fixes Alerts and Rules menu persisting to other apps {kibana-pull}124291[#124291]
* Fixes Logstash Pipeline hover timestamp isn't visible {kibana-pull}123091[#123091]
* Fixes date picker range options {kibana-pull}121295[#121295]

Observability::
* Set display names for columns and fix reason message {kibana-pull}124570[#124570]
* Rename Backend to Dependency {kibana-pull}124067[#124067]
* Enable parseTechnicalFields to accept partial alert documents {kibana-pull}123983[#123983]
* Include error documents in fallback query for services {kibana-pull}123554[#123554]
* Rewrite the data fetching for Inventory Threshold rule {kibana-pull}123095[#123095]
* Optimizations for Inventory Threshold Alerts {kibana-pull}122460[#122460]
* Increase composite size to 10K for Metric Threshold Rule and optimize processing {kibana-pull}121904[#121904]
* Fixes missing EUI theme in context {kibana-pull}121796[#121796]
* Rename alerting types in triggers_actions_ui {kibana-pull}121107[#121107]
* Fixes loading message for correlations table {kibana-pull}120921[#120921]
* Prefer host.name over host.hostname {kibana-pull}119952[#119952]

Platform::
* Improve `bfetch` error handling {kibana-pull}123455[#123455]
* Fixes a CSV export Reporting issue where expensive queries were used to collect the data when they were not needed {kibana-pull}123412[#123412]
* Fixes URL drilldown placeholder text and add placeholder capability to Monaco {kibana-pull}121420[#121420]
* Consider expired tasks invalid {kibana-pull}119664[#119664]
* `columns`. Fixes Bugs caused by using name instead of ID {kibana-pull}118470[#118470]

Security::
User login audit events now include the session ID for better correlation, and single sign-on flows no longer result in an extra `user_logout` event {kibana-pull}124299[#124299]

[[release-notes-8.0.0]]
== {kib} 8.0.0

Review the {kib} 8.0.0 changes, then use the {kibana-ref-all}/7.17/upgrade-assistant.html[Upgrade Assistant] to complete the upgrade.

[float]
[[breaking-changes-8.0.0]]
=== Breaking change

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade to 8.0.0, review the breaking change, then mitigate the impact to your application.

[discrete]
.Removes the `console.ssl` setting
[%collapsible]
====
*Details* +
The `console.ssl` setting has been removed. For more information, refer to {kibana-pull}123754[#123754].

*Impact* +
Before you upgrade to 8.0.0, remove `console.ssl` from kibana.yml.
====

To review the breaking changes in previous versions, refer to the following:

<<breaking-changes-8.0.0-rc2,8.0.0-rc2>> | <<breaking-changes-8.0.0-rc1,8.0.0-rc1>> | <<breaking-changes-8.0.0-beta1,8.0.0-beta1>> | <<breaking-changes-8.0.0-alpha2,8.0.0-alpha2>> |
<<breaking-changes-8.0.0-alpha1,8.0.0-alpha1>>

[float]
[[deprecations-8.0.0]]
=== Deprecation

The following functionality is deprecated in 8.0.0, and will be removed in 9.0.0.
Deprecated functionality does not have an immediate impact on your application, but we strongly recommend
you make the necessary updates after you upgrade to 8.0.0.

[discrete]
[[deprecation-123229]]
.Removes support for `monitoring.cluster_alerts.allowedSpaces`
[%collapsible]
====
*Details* +
The `monitoring.cluster_alerts.allowedSpaces` setting, which {kib} uses to create Stack Monitoring alerts, has been removed. For more information, refer to {kibana-pull}123229[#123229].

*Impact* +
Before you upgrade to 8.0.0, remove `monitoring.cluster_alerts.allowedSpaces` from kibana.yml.
====

To review the deprecations in previous versions, refer to the following:

<<deprecations-8.0.0-rc1,8.0.0-rc1>> | <<deprecations-8.0.0-alpha1,8.0.0-alpha1>>

[float]
[[known-issue-8.0.0]]
=== Known issue

[discrete]
[[known-issue-123550]]
.Importing and copying saved objects causes weak links to break
[%collapsible]
====
*Details* +
{kib} supports weak links in some saved objects. For example, a dashboard may include a Markdown panel that contains a relative URL to
another dashboard. Weak links are defined by free text, _not_ the saved object's relationships, and can break if **both** of the following
conditions are true:

* You are importing saved objects into multiple spaces, _OR_ you are copying saved objects into another space
* Before you upgraded to 8.0.0, the saved objects did not already exist in the destinations

In 8.0.0 and later, weak links break because <<saved-object-ids-impact-when-using-import-and-copy,saved object IDs can change during import or copy>>.
This applies to both the UI and the API.
For more information, refer to {kibana-issue}123550[#123550].

*Impact* +
Saved objects in 7.x that are migrated during upgrade are **not** impacted.
Only _new_ saved objects that are imported or copied _multiple times_ (causing object IDs to change) are impacted.
If you are impacted, you can re-import or re-copy your saved objects after the fix is
implemented to preserve the weak links.
====

[float]
[[features-8.0.0]]
=== Features
For information about the features introduced in 8.0.0, refer to <<whats-new,What's new in 8.0>>.

Elastic Security::
For the Elastic Security 8.0.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

To review the features in previous versions, refer to the following:

<<features-8.0.0-rc2,8.0.0-rc2>> | <<features-8.0.0-rc1,8.0.0-rc1>> | <<features-8.0.0-beta1,8.0.0-beta1>> | <<features-8.0.0-alpha2,8.0.0-alpha2>>

[[enhancements-and-bug-fixes-v8.0.0]]
=== Enhancements and bug fixes

For detailed information about the 8.0.0 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.0.0]]
==== Enhancements
Dashboard::
Clone ReferenceOrValueEmbeddables by value {kibana-pull}122199[#122199]

Elastic Security::
For the Elastic Security 8.0.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

[float]
[[fixes-v8.0.0]]
==== Bug fixes
APM::
Restrict aggregated transaction metrics search to date range {kibana-pull}123445[#123445]

Elastic Security::
For the Elastic Security 8.0.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].

Fleet::
Allow empty strings for required text fields in package policies {kibana-pull}123610[#123610]

Maps::
Fixes Label border color is not removed from legend when disabled {kibana-pull}122705[#122705]

Monitoring::
Ensure logstash getNodes always contains a uuid {kibana-pull}124201[#124201]

Security::
Long-running requests no longer cause sporadic logouts in certain cases, even when user sessions are active {kibana-pull}122155[#122155]

[[release-notes-8.0.0-rc2]]
== {kib} 8.0.0-rc2

For information about the {kib} 8.0.0-rc2 release, review the following information.

[float]
[[breaking-changes-8.0.0-rc2]]
=== Breaking change

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking change, then mitigate the impact to your application.

[discrete]
.Removes the ability to use `elasticsearch.username: elastic` in production
[%collapsible]
====
*Details* +
In production, you are no longer able to use the `elastic` superuser to authenticate to {es}. For more information, refer to {kibana-pull}122722[#122722].

*Impact* +
When you configure `elasticsearch.username: elastic`, {kib} fails.
====

To review the breaking changes in previous versions, refer to the following:

<<breaking-changes-8.0.0-rc1,8.0.0-rc1>> | <<breaking-changes-8.0.0-beta1,8.0.0-beta1>> | <<breaking-changes-8.0.0-alpha2,8.0.0-alpha2>> |
<<breaking-changes-8.0.0-alpha1,8.0.0-alpha1>>

[float]
[[features-8.0.0-rc2]]
=== Features
{kib} 8.0.0-rc2 adds the following new and notable features.

Dashboard::
Dashboard Integration {kibana-pull}115991[#115991]
Elastic Security::
For the Elastic Security 8.0.0-rc2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Monitoring::
Enterprise Search Stack Monitoring {kibana-pull}114303[#114303]
Observability::
* Adds Agent Keys in APM settings - Create agent keys {kibana-pull}120373[#120373]
* Adds Agent Keys in APM settings - Agent key table {kibana-pull}119543[#119543]
* Allows users to set Download Speed, Upload Speed, and Latency for their synthetic monitors in Uptime {kibana-pull}118594[#118594]
Platform::
Changes saved objects management inspect view to a read-only JSON view of the whole saved object {kibana-pull}112034[#112034]

[[enhancements-and-bug-fixes-v8.0.0-rc2]]
=== Enhancements and bug fixes

For detailed information about the 8.0.0-rc2 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.0.0-rc2]]
==== Enhancements
Elastic Security::
For the Elastic Security 8.0.0-rc2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Security::
Adds session cleanup audit logging {kibana-pull}122419[#122419]
Observability::
Make a monitor's steps details page work on mobile resolutions in Uptime {kibana-pull}122171[#122171]

[float]
[[fixes-v8.0.0-rc2]]
==== Bug fixes
Alerting::
Fixes PagerDuty timestamp validation {kibana-pull}122321[#122321]
Dashboard::
* Creates Explicit Diffing System {kibana-pull}121241[#121241]
* Fixes blank panel save and display issue {kibana-pull}120815[#120815]
* Fixes full screen error when pressing back arrow on browser {kibana-pull}118113[#118113]
Elastic Security::
For the Elastic Security 8.0.0-rc2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Maps::
* Fixes Point to point and Tracks layers label properties not showing in the legend {kibana-pull}122993[#122993]
* Fixes Color ramp UI for percent of a top term in join layer is broken {kibana-pull}122718[#122718]
Observability::
* Updates index pattern permission error in APM {kibana-pull}122680[#122680]
* Honor time unit for Inventory Threshold in Metrics {kibana-pull}122294[#122294]
* Adds locator to aid other plugins in linking properly to Uptime {kibana-pull}123004[#123004]
* Fixes a bug in which headers would be incorrectly centered on desktop in Uptime {kibana-pull}122643[#122643]

[[release-notes-8.0.0-rc1]]
== {kib} 8.0.0-rc1

Review the {kib} 8.0.0-rc1 changes, then use the <<upgrade-assistant,Upgrade Assistant>> to complete the upgrade.

[float]
[[breaking-changes-8.0.0-rc1]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance.
Before you upgrade, review the breaking changes, then mitigate the impact to your application.

[discrete]
.Splits package policy `upgrade` endpoint for Fleet
[%collapsible]
====
*Details* +
For package policy upgrades, the packagePolicy `upgrade` endpoint format supports a mutative upgrade operation (when `dryRun: false`) and a read-only dry run operation (when `dryRun: true`):

[source,text]
--
 POST /package_policies/upgrade
 {
   packagePolicyIds: [...],
   dryRun: false
 }
--

For more information, refer to {kibana-pull}118854[#118854].

*Impact* +
The endpoint is now split into two separate endpoints:

[source,text]
--
 POST /package_policies/upgrade
 {
   packagePolicyIds: [...]
 }

 POST /package_policies/upgrade/dry_run
 {
   packagePolicyIds: [...]
 }
--
====

[discrete]
.Removes APM jobs from Machine Learning
[%collapsible]
====
*Details* +
APM Node.js and RUM JavaScript anomaly detection job modules have been removed. For more information, refer to {kibana-pull}119945[#119945].

*Impact* +
When you upgrade to 8.0.0, you are unable to create and view the APM Node.js and RUM JavaScript jobs in Machine Learning.
====

[discrete]
.Fails migrations for unknown types
[%collapsible]
====
*Details* +
Unknown saved object types now cause {kib} migrations to fail. For more information, refer to {kibana-issue}107678[#107678].

*Impact* +
To complete the migration, re enable plugins or delete documents from the index in the previous version.
====

[discrete]
.Removes deprecated config fields from Logs and Metrics APIs and saved objects
[%collapsible]
====
*Details* +
On the Logs and Metrics UIs, references to the following API and saved object deprecated fields have been removed:

* `timestamp`
* `tiebreaker`
* `container`
* `pod`
* `host`

For more information, refer to {kibana-pull}116821[#116821] and {kibana-pull}115874[#115874].

*Impact* +
When you upgrade to 8.0.0, you are unable to use references to the deprecated fields.
====

To review the breaking changes in previous versions, refer to the following:

<<breaking-changes-8.0.0-beta1,8.0.0-beta1>> | <<breaking-changes-8.0.0-alpha2,8.0.0-alpha2>> |
<<breaking-changes-8.0.0-alpha1,8.0.0-alpha1>>

[float]
[[deprecations-8.0.0-rc1]]
=== Deprecations

Deprecated functionality does not have an immediate impact on your application, but we strongly recommend you make the necessary updates after you complete the upgrade.

[discrete]
.Renames the `autocreate` data view APM setting
[%collapsible]
====
*Details* +
The `xpack.apm.autocreateApmIndexPattern` APM setting has been removed. For more information, refer to {kibana-pull}120689[#120689].

*Impact* +
To automatically create data views in APM, use `xpack.apm.autoCreateApmDataView`.
====

[discrete]
.Updates Fleet API to improve consistency
[%collapsible]
====
*Details* +
The Fleet API has been updated to improve consistency:

* Hyphens are changed to underscores in some names.
* The `pkgkey` path parameter in the packages endpoint is split.
* The `response` and `list` properties are renamed to `items` or `item` in some
responses.

For more information, refer to {kibana-pull}119494[#119494].

*Impact* +
When you upgrade to 8.0.0, use the following API changes:

* Use `enrollment_api_keys` instead of `enrollment-api-keys`.

* Use `agent_status` instead of `agent-status`.

* Use `service_tokens` instead of `service-tokens`.

* Use `/epm/packages/{packageName}/{version}` instead of `/epm/packages/{pkgkey}`.

* Use `items[]` instead of `response[]` in:
+
[source,text]
--
/api/fleet/enrollment_api_keys
/api/fleet/agents
/epm/packages/
/epm/categories
/epm/packages/_bulk
/epm/packages/limited
/epm/packages/{packageName}/{version} <1>
--
<1> Use `items[]` when the verb is `POST` or `DELETE`. Use `item` when the verb
is `GET` or `PUT`.

For more information, refer to {fleet-guide}/fleet-api-docs.html[Fleet APIs].

====

To review the deprecations in previous versions, refer to the <<deprecations-8.0.0-alpha1,8.0.0-alpha1 release notes>>.


[float]
[[features-8.0.0-rc1]]
=== Features
{kib} 8.0.0-rc1 adds the following new and notable features.

Elastic Security::
For the Elastic Security 8.0.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Management::
Display managed badge for transforms {kibana-pull}117679[#117679]
Monitoring::
Enterprise Search Stack Monitoring {kibana-pull}114303[#114303]
Observability::
* Adds ability to create agent keys in APM settings {kibana-pull}120373[#120373]
* Adds Agent key table in APM settings {kibana-pull}119543[#119543]
* Allows users to set Download Speed, Upload Speed, and Latency for their synthetic monitors {kibana-pull}118594[#118594]

[[enhancements-and-bug-fixes-v8.0.0-rc1]]
=== Enhancements and bug fixes

For detailed information about the 8.0.0-rc1 release, review the enhancements and bug fixes.

[float]
[[enhancement-v8.0.0-rc1]]
=== Enhancements
Canvas::
Reverts By-Value Embeddables {kibana-pull}117613[#117613]
Discover::
Adds multi-layer time axis for opt-out only {kibana-pull}115853[#115853]
Elastic Security::
For the Elastic Security 8.0.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
Adds consistent `_meta` property to all Fleet ES assets {kibana-pull}119380[#119380]
Kibana Home & Add Data::
Moves overview page and link to the accordion solution title {kibana-pull}114018[#114018]
Lens & Visualizations::
* Handle removal of deprecated date histogram interval in *Vega* {kibana-pull}109090[#109090]
* Adds value labels to Heatmap in *Lens* {kibana-pull}106406[#106406]
Machine Learning::
* Adds support for `force` stop deployment {kibana-pull}118563[#118563]
* Refactors data view loading to remove unnecessary searches {kibana-pull}116455[#116455]
Observability::
* Service Maps: Adds sparklines to the detail popover {kibana-pull}120021[#120021]
* Offer users upgrade to multi-metric job {kibana-pull}119980[#119980]
* Display relevant anomalies from multi-metric job {kibana-pull}119709[#119709]
* Adds service icon for the originating service in traces table {kibana-pull}119421[#119421]
* Auto attachment for java agent beta in APM integration settings {kibana-pull}119131[#119131]
* Errors: Enhancements to the Errors list page (part II) {kibana-pull}118878[#118878]
* Store Alerts View table state in localStorage {kibana-pull}118207[#118207]
* Handle other values popup when correlated value is not in top 10 {kibana-pull}118069[#118069]
* Adds links to navigate from alerts table to rule {kibana-pull}118035[#118035]
* Reinstates ML multi-metric job {kibana-pull}117836[#117836]
* Re-enables metric-based UI {kibana-pull}117021[#117021]
* Make Alerts page use shared {kib} time range {kibana-pull}115192[#115192]
* Adds enabled toggle {kibana-pull}119994[#119994]
* Adds missing tooltip to the report metric badge in *Exploratory View* {kibana-pull}119940[#119940]
* Adds step duration in step list {kibana-pull}116266[#116266]
Platform::
Moves developer architecture docs to user docs {kibana-pull}119125[#119125]
Reporting::
* Decouples screenshotting plugin from the reporting {kibana-pull}120110[#120110]
* Updates the design of the *Reports* management UI, including the addition of a link to {kib} app where the report was generated {kibana-pull}111412[#111412]
Security::
Adds ability to clone role mappings {kibana-pull}118434[#118434]
Adds user logout audit events {kibana-pull}121455[#121455]

[float]
[[fixes-v8.0.0-rc1]]
=== Bug fixes
Canvas::
* Fixes Error overflow {kibana-pull}122158[#122158]
* Fixes expression input {kibana-pull}121490[#121490]
* Hides edit menu when in view-only mode {kibana-pull}118779[#118779]
Dashboard::
* Allow text wrapping for panel titles and dashboard descriptions for PDF generation {kibana-pull}121360[#121360]
* Page now resets to zero when rows per page is changed on *Add from Library* window {kibana-pull}118627[#118627]
* Fixes full screen error when pressing back arrow in browser {kibana-pull}118113[#118113]
Elastic Security::
For the Elastic Security 8.0.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Fleet::
* Adds `installed_kibana_space_id` to `epm-packages` saved objects {kibana-pull}120517[#120517]
* Handle Saved Object ID changes {kibana-pull}119527[#119527]
* Fixes upgradeable agents filter {kibana-pull}119338[#119338]
Lens & Visualizations::
* Enables normal mode for percentage charts in *Lens* {kibana-pull}120197[#120197]
* Fixes existing fields query for epoch_millis dates in *Lens* {kibana-pull}119508[#119508]
* Include frozen indices in *Lens* {kibana-pull}118555[#118555]
* Fixes focus on legend action popovers in *Lens* {kibana-pull}115066[#115066]
Machine Learning::
* Fixes data view search based on title {kibana-pull}120737[#120737]
* Data frame analytics wizard: Only allow data view creation if job will be started immediately {kibana-pull}120042[#120042]
* Fixes anomaly detection module manifest queries to ignore frozen and cold data tiers {kibana-pull}119635[#119635]
* Catches syntax error in job wizard editor {kibana-pull}119457[#119457]
* Fixes error handling for missing data view in data frame analytics wizard {kibana-pull}119455[#119455]
* Ensures auto refresh interval is used in Data Frame Analytics list {kibana-pull}117959[#117959]
* Ignores frozen indices in data recognizer {kibana-pull}117208[#117208]
Management::
* Fixes data grid column actions button when histogram charts are visible {kibana-pull}120202[#120202]
* Disables delete data view for data frame analytics and transforms wizards {kibana-pull}119732[#119732]
* Check {kib} capabilities for all saving, editing, and deleting {kibana-pull}118480[#118480]
* Adds autocomplete for search_after and pit in search query {kibana-pull}117864[#117864]
* Autocomplete for t_test aggregation {kibana-pull}117782[#117782]
* Disables create data view for data frame analytics and transforms wizards {kibana-pull}117690[#117690]
Maps::
* Fixes an issue where drawings do not show when there is a global filter {kibana-pull}121239[#121239]
* Use minimum symbol size if meta is not loaded {kibana-pull}119119[#119119]
* Do not fail migration when JSON.parse fails {kibana-pull}117342[#117342]
* Do not allow label overlap {kibana-pull}116190[#116190]
Monitoring::
Correct linear regression formula {kibana-pull}120222[#120222]
Observability::
* Renames alerting types in Infra {kibana-pull}121061[#121061]
* Renames occurrences of `alert_type` to `rule_type` in Infra {kibana-pull}120455[#120455]
* Fixes failing alerts table pagination functional tests {kibana-pull}119985[#119985]
* Switch to _source for updating documents instead of fields API {kibana-pull}118245[#118245]
* Fixes an issue where search terms with certain characters caused the APM UI to crash {kibana-pull}118063[#118063]
* Ignore unavailable indices for ML jobs {kibana-pull}117632[#117632]
* Disables the actions button when users have inadequate privileges {kibana-pull}117488[#117488]
* Replaces manual rate calculation with `rate` agg {kibana-pull}115651[#115651]
* Adds migration to fix incorrect action group spelling {kibana-pull}119626[#119626]
* Fixes bug with manage views button {kibana-pull}118547[#118547]
* Disables No Data checkboxes for doc count alerts {kibana-pull}117194[#117194]
* Prevent event propagation on step_duration {kibana-pull}122039[#122039]
* Disables the button to create alerts in Uptime when users do not have permissions to do so {kibana-pull}120379[#120379]
* Fixes a bug that prevented users from saving Uptime configurations when the `inspect` option was turned on {kibana-pull}119142[#119142]
* Adds a callout to informs users that they do not have permissions to create ML jobs for Uptime monitors {kibana-pull}117684[#117684]
Platform::
Fixes font glitches in code editor {kibana-pull}121392[#121392]
Reporting::
Fixes an issue where PDF and PNG reports break on Windows operating systems when the {kib} server hostname is `0.0.0.0` {kibana-pull}117022[#117022]

[[release-notes-8.0.0-beta1]]
== {kib} 8.0.0-beta1

Review the {kib} 8.0.0-beta1 changes, then use the <<upgrade-assistant,Upgrade Assistant>> to complete the upgrade.

[float]
[[breaking-changes-8.0.0-beta1]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance. Review the following breaking changes, then mitigate the impact to your application.

To review the breaking changes in previous versions, refer to the following:

<<breaking-changes-8.0.0-alpha2,8.0.0-alpha2>> | <<breaking-changes-8.0.0-alpha1,8.0.0-alpha1>>

[float]
[[alerting-breaking-changes-8.0.0-beta1]]
==== Alerting

[discrete]
.Removes `xpack.task_manager.index`
[%collapsible]
====
*Details* +
The `xpack.task_manager.index` setting has been removed. For more information, refer to {kibana-pull}114558[#114558].

*Impact* +
Before you upgrade to 8.0.0, remove `xpack.task_manager.index` from kibana.yml.
====

[discrete]
.Removes ability to remove plugins
[%collapsible]
====
*Details* +
The `xpack.actions.enabled` setting has been removed. For more information, refer to {kibana-pull}113461[#113461].

*Impact* +
Before you upgrade to 8.0.0, remove `xpack.actions.enabled` from kibana.yml.
====

[float]
[[lens-visualizations-breaking-changes-8.0.0-beta1]]
==== Lens & visualizations

[discrete]
.Removes display options from legacy gauge
[%collapsible]
====
*Details* +
The *Display warnings* option has been removed from the aggregation-based gauge visualization. For more information, refer to {kibana-pull}113516[#113516].

*Impact* +
When you create aggregation-based gauge visualizations, the *Display warnings* option is no longer available in *Options > Labels*.
====

[discrete]
.Removes settings from visEditors plugins
[%collapsible]
====
*Details* +
The following deprecated visEditors plugin settings have been removed:

* `metric_vis.enabled`
* `table_vis.enabled`
* `tagcloud.enabled`
* `metrics.enabled`
* `metrics.chartResolution`
* `chartResolution`
* `metrics.minimumBucketSize`
* `minimumBucketSize`
* `vega.enabled`
* `vega.enableExternalUrls`
* `vis_type_table.legacyVisEnabled`
* `timelion_vis.enabled`
* `timelion.enabled`
* `timelion.graphiteUrls`
* `timelion.ui.enabled`

For more information, refer to {kibana-pull}112643[#112643].

*Impact* +
Before you upgrade, make the following changes in kibana.yml:

* Replace `metric_vis.enabled` with `vis_type_metric.enabled`
* Replace `table_vis.enabled` with `vis_type_table.enabled`
* Replace `tagcloud.enabled` with `vis_type_tagcloud.enabled`
* Replace `metrics.enabled` with `vis_type_timeseries.enabled`
* Replace `metrics.chartResolution` and `chartResolution` with `vis_type_timeseries.chartResolution`
* Replace `metrics.minimumBucketSize` and `minimumBucketSize` with `vis_type_timeseries.minimumBucketSize`
* Replace `vega.enabled` with `vis_type_vega.enabled`
* Replace `vega.enableExternalUrls` with `vis_type_vega.enableExternalUrls`
* Remove `vis_type_table.legacyVisEnabled`
* Replace `timelion_vis.enabled` with `vis_type_timelion.enabled`
* Replace `timelion.enabled` with `vis_type_timelion.enabled`
* Replace `timelion.graphiteUrls` with `vis_type_timelion.graphiteUrls`
* Remove `timelion.ui.enabled`

====

[discrete]
.Removes dimming opacity setting
[%collapsible]
====
*Details* +
The *Dimming opacity* setting in *Advanced Settings* has been removed. For more information, refer to {kibana-pull}111704[#111704].

*Impact* +
When you upgrade to 8.0.0, you are no longer able to configure the dimming opactiy for visualizations.
====

[discrete]
.Removes Less stylesheet support
[%collapsible]
====
*Details* +
In *TSVB*, custom Less stylesheets have been removed. For more information, refer to {kibana-pull}110985[#110985].

*Impact* +
Existing less stylesheets are automatically converted to CSS stylesheets.
====

[discrete]
.Disables the input string mode
[%collapsible]
====
*Details* +
In *TSVB*, the *Index pattern selection mode* option has been removed. For more information, refer to {kibana-pull}110571[#110571].

*Impact* +
To use index patterns and {es} indices in *TSVB* visualizations:

. Open the main menu, then click *Stack Management > Advanced Settings*.

. Select *Allow string indices in TSVB*.

. Click *Save changes*.
====

[float]
[[logs-breaking-changes-8.0.0-beta1]]
==== Logs

[discrete]
.Removes deprecated alias config entries
[%collapsible]
====
*Details* +
The deprecated `xpack.infra.sources.default.logAlias` and `xpack.infra.sources.default.logAlias` settings have been removed. For more information, refer to {kibana-pull}115974[#115974].

*Impact* +
Before you upgrade, remove the settings from kibana.yml, then configure the settings in <<logs-app,Logs>>.
====

[discrete]
.Removes configurable fields in settings
[%collapsible]
====
*Details* +
The *Logs* and *Metrics* configurable fields settings have been removed. For more information, refer to {kibana-pull}61302[#61302].

*Impact* +
Configure the settings in https://www.elastic.co/guide/en/ecs/current/ecs-reference.html[ECS].
====

[float]
[[machine-learning-breaking-changes-8.0.0-beta1]]
==== Machine learning

[discrete]
.Grants access to machine learning features when base privileges are used
[%collapsible]
====
*Details* +
Machine learning features are included as base privileges. For more information, refer to {kibana-pull}115444[#115444].

*Impact* +
If you do not want to grant users privileges to machine learning features, update <<xpack-security,*Users* and *Roles*>>.
====

[float]
[[maps-breaking-changes-8.0.0-beta1]]
==== Maps

[discrete]
.Removes proxyElasticMapsServiceInMaps
[%collapsible]
====
*Details* +
The `map.proxyElasticMapsServiceInMaps` setting has been removed. For more information, refer to {kibana-pull}116184[#116184].

*Impact* +
Install the on-prem version of the <<maps-connect-to-ems,Elastic Maps Service>>, which is a Docker service that resides in the Elastic Docker registry, in an accessible location on your internal network. When you complete the installation, update kibana.yml to point to the service.
====

[float]
[[operations-breaking-changes-8.0.0-beta1]]
==== Operations

[discrete]
.Removes environment variables
[%collapsible]
====
*Details* +
The `CONFIG_PATH` and `DATA_PATH` environment variables have been removed. For more information, refer to {kibana-pull}111535[#111535].

*Impact* +
Replace the `CONFIG_PATH` environment variable with `KBN_PATH_CONF`, and replace `DATA_PATH` with the `path.data` setting.
====

[float]
[[platform-breaking-changes-8.0.0-beta1]]
==== Platform

[discrete]
.Removes supports for csp.rules configuration
[%collapsible]
====
*Details* +
Support for the `csp.rules` configuration property has been removed. For more information, refer to {kibana-pull}114379[#114379].

*Impact* +
Configuring the default `csp.script_src`, `csp.workers_src`, and `csp.style_src` values is not required.
====

[discrete]
.Changes and removes deprecated core settings and deprecated settings from core plugins
[%collapsible]
====
*Details* +
The deprecation notice for `server.cors` has changed from `level:critical` to `level:warning`.

The following settings have changed:

* The `xpack.banners.placement` value has been renamed
* The `newsfeed.defaultLanguage` newsfeed item retrieval method and default language has changed

Support for the following configuration settings has been removed:

* `newsfeed.defaultLanguage`
* `cpu.cgroup.path.override`
* `cpuacct.cgroup.path.override`
* `server.xsrf.whitelist`
* `xpack.xpack_main.xpack_api_polling_frequency_millis`
* `KIBANA_PATH_CONF`

For more information, refer to {kibana-pull}113653[#113653].

*Impact* +
* The `header` value provided to the `xpack.banners.placement` configuration has been renamed to 'top'
* The `newsfeed.defaultLanguage` newsfeed items are retrieved based on the browser locale and default to English
* Replace `cpu.cgroup.path.override` with `ops.cGroupOverrides.cpuPath`
* Replace `cpuacct.cgroup.path.override` with `ops.cGroupOverrides.cpuAcctPath`
* Replace `server.xsrf.whitelist` with `server.xsrf.allowlist`
* Replace `xpack.xpack_main.xpack_api_polling_frequency_millis` with `xpack.licensing.api_polling_frequency`
* Replace `KIBANA_PATH_CONF` path to the {kib} configuration file using the `KBN_PATH_CONF` environment variable
====

[discrete]
.Removes `enabled` settings from plugins
[%collapsible]
====
*Details* +
Using `{plugin_name}.enabled` to disable plugins has been removed. Some plugins, such as `telemetry`, `newsfeed`, `reporting`, and the various `vis_type` plugins will continue to support this setting. All other {kib} plugins will not support this setting. Any new plugin will support this setting only when specified in the `configSchema`. For more information, refer to {kibana-pull}113495[#113495].

The `xpack.security.enabled` setting has been removed. For more information, refer to {kibana-pull}111681[#111681].

*Impact* +
Before you upgrade to 8.0.0:

* Remove `{plugin_name}.enabled` from kibana.yml. If you use the setting to control user access to {kib} applications, use <<tutorial-secure-access-to-kibana,*Features* controls>> instead.
* Replace `xpack.security.enabled` with {ref}/security-settings.html#general-security-settings[`xpack.security.enabled`] in elasticsearch.yml.
====

[discrete]
.Removes `--plugin-dir` cli option
[%collapsible]
====
*Details* +
The `plugins.scanDirs` setting and `--plugin-dir` cli option have been removed. For more information, refer to {kibana-pull}113367[#113367].

*Impact* +
Before you upgrade to 8.0.0, remove `plugins.scanDirs` from kibana.yml.
====

[discrete]
.Removes support for `optimize.*` settings
[%collapsible]
====
*Details* +
The legacy `optimize.*` settings have been removed. If your configuration uses the following legacy `optimize.*` settings, {kib} fails to start:

* `optimize.lazy`
* `optimize.lazyPort`
* `optimize.lazyHost`
* `optimize.lazyPrebuild`
* `optimize.lazyProxyTimeout`
* `optimize.enabled`
* `optimize.bundleFilter`
* `optimize.bundleDir`
* `optimize.viewCaching`
* `optimize.watch`
* `optimize.watchPort`
* `optimize.watchHost`
* `optimize.watchPrebuild`
* `optimize.watchProxyTimeout`
* `optimize.useBundleCache`
* `optimize.sourceMaps`
* `optimize.workers`
* `optimize.profile`
* `optimize.validateSyntaxOfNodeModules`

For more information, refer to {kibana-pull}113296[#113296].

*Impact* +
To run the `@kbn/optimizer` separately in development, pass `--no-optimizer` to `yarn start`. For more details, refer to {kibana-pull}73154[#73154].
====

[discrete]
.Removes `so/server/es` settings
[%collapsible]
====
*Details* +
Some of the `so/server/es` settings have been removed. If your configuration uses the following settings, {kib} fails to start:

* `savedObjects.indexCheckTimeout`
* `server.xsrf.token`
* `elasticsearch.preserveHost`
* `elasticsearch.startupTimeout`

For more information, refer to {kibana-pull}113173[#113173].

*Impact* +
Before you upgrade to 8.0.0., remove these settings from kibana.yml.
====

[discrete]
.Adds requirement for inline scripting
[%collapsible]
====
*Details* +
To start {kib}, you must enable inline scripting in {es}. For more information, refer to {kibana-pull}113068[#113068].

*Impact* +
Enable {ref}/modules-scripting-security.html[inline scripting].
====

[discrete]
.Removes `kibana.index` settings
[%collapsible]
====
*Details* +
The `kibana.index`, `xpack.reporting.index`, and `xpack.task_manager.index` settings have been removed. For more information, refer to {kibana-pull}112773[#112773].

*Impact* +
Use spaces, cross-cluster replication, or cross-cluster search. To migrate to <<xpack-spaces,spaces>>, export your <<managing-saved-objects, saved objects>> from a tenant into the default space. For more details, refer to link:https://github.com/elastic/kibana/issues/82020[#82020].
====

[discrete]
.Removes legacy logging
[%collapsible]
====
*Details* +
The logging configuration and log output format has changed. For more information, refer to {kibana-pull}112305[#112305].

*Impact* +
Use the new <<logging-configuration,logging system configuration>>.
====

[float]
[[reporting-breaking-changes-8.0.0-beta1]]
==== Reporting

[discrete]
.Removes reporting settings
[%collapsible]
====
*Details* +
The following settings have been removed:

* `xpack.reporting.capture.concurrency`

* `xpack.reporting.capture.settleTime`

* `xpack.reporting.capture.timeout`

* `xpack.reporting.kibanaApp`

For more information, refer to {kibana-pull}114216[#114216].

*Impact* +
Before you upgrade to 8.0.0, remove the settings from kibana.yml.
====

[float]
[[rest-api-breaking-changes-8.0.0-beta1]]
==== REST API

[discrete]
.Removes `/api/settings`
[%collapsible]
====
*Details* +
The `/api/settings` REST API has been removed. For more information, refer to {kibana-pull}114730[#114730].

*Impact* +
Use `/api/stats`.
====

[float]
[[security-breaking-changes-8.0.0-beta1]]
==== Security

[discrete]
.Removes legacy audit logger
[%collapsible]
====
*Details* +
The legacy audit logger has been removed. For more information, refer to {kibana-pull}116191[#116191].

*Impact* +
Audit logs will be written to the default location in the new ECS format. To change the output file, filter events, and more, use the <<audit-logging-settings, audit logging settings>>.
====

[float]
[[deprecations-8.0.0-beta1]]
=== Deprecations

Deprecated functionality does not have an immediate impact on your application, but we strongly recommend you make the necessary updates after you complete the upgrade.

To review the 8.0.0 depcrecations, refer to the <<deprecations-8.0.0-alpha1,8.0.0-alpha1 release notes>>.

[float]
[[features-8.0.0-beta1]]
=== Features
The 8.0.0-beta1 release adds the following new and notable features.

Dashboard::
* Dashboard Integration {kibana-pull}115991[#115991]
Elastic Security::
For the Elastic Security 8.0.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Machine Learning::
* Addition of new Model Management tab {kibana-pull}115772[#115772]
Platform::
* Changes edit view to json read-only view {kibana-pull}112034[#112034]

[float]
[[enhancement-v8.0.0-beta1]]
=== Enhancements

The 8.0.0-beta1 release includes the following enhancements.

Canvas::
* By-Value embeddables {kibana-pull}113827[#113827]
* Toolbar UI updates {kibana-pull}113329[#113329]
Elastic Security::
For the Elastic Security 8.0.0 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Lens & Visualizations::
* Handle removal of deprecated date histogram interval in *Vega* {kibana-pull}109090[#109090]
* Adds value labels to Heatmap in *Lens* {kibana-pull}106406[#106406]
Logs::
* Make Alerts page use shared Kibana time range {kibana-pull}115192[#115192]
Machine Learning::
* Adds support to {fleet} {integrations} for installing ML models {kibana-pull}107710[#107710]
* Adds Index data visualizer grid embeddable as extra view within Discover {kibana-pull}107184[#107184]
Maps::
* Use Elastic Maps Service v8.0 {kibana-pull}116217[#116217]
* Use desaturated map tiles instead of bright map tiles by default {kibana-pull}116179[#116179]
* Use ES mvt {kibana-pull}114553[#114553]
Security::
* Register "minimal" feature privileges regardless of the current license level {kibana-pull}115992[#115992]
Uptime::
* Uptime index config using kibana.yml {kibana-pull}115775[#115775]

[float]
[[fixes-v8.0.0-beta1]]
=== Bug fixes

The 8.0.0-beta1 release includes the following bug fixes.

Management::
* Removes freeze action from Cold phase {kibana-pull}116160[#116160]
* Disallow creating runtime and scripted fields with * in the name {kibana-pull}116119[#116119]
Querying & Filtering::
* Fixes Add filter button doesnt close popup after openning {kibana-pull}111917[#111917]

[[release-notes-8.0.0-alpha2]]
== {kib} 8.0.0-alpha2

Review the {kib} 8.0.0-alpha2 changes, then use the <<upgrade-assistant,Upgrade Assistant>> to complete the upgrade.

[float]
[[breaking-changes-8.0.0-alpha2]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance. Review the following breaking changes, then mitigate the impact to your application.

To review the breaking changes in the previous version, refer to <<breaking-changes-8.0.0-alpha1,8.0.0-alpha1>>.

[discrete]
.Changes the `GET /api/status` default behavior
[%collapsible]
====
*Details* +
`GET /api/status` reports a new and more verbose payload. For more information, refer to {kibana-pull}110830[#110830].

*Impact* +
To retrieve the {kib} status in the previous format, use `GET /api/status?v7format=true`.
====

[discrete]
.Removes support for legacy exports
[%collapsible]
====
*Details* +
In {kib} 8.0.0 and later, the legacy format from {kib} 6.x is unsupported. For more information, refer to {kibana-pull}110738[#110738]

*Impact* +
Using the user interface to import saved objects is restricted to `.ndjson` format imports.
====

[discrete]
.Removes `map.regionmap.*`
[%collapsible]
====
*Details* +
The deprecated `map.regionmap.*` setting in kibana.yml has been removed. For more information, refer to {kibana-pull}109896[#109896].

*Impact* +
If you have maps that use `map.regionmap` layers:

. Remove the `map.regionmap` layer.

. To recreate the choropleth layer, use <<import-geospatial-data,GeoJSON upload>> to index your static vector data into {es}.

. Create a choropleth layer from the indexed vector data.
====

[discrete]
.Removes `kibana.defaultAppId`
[%collapsible]
====
*Details* +
The deprecated `kibana.defaultAppId` setting in kibana.yml, which is also available as `kibana_legacy.defaultAppId`, has been removed. For more information, refer to {kibana-pull}109798[#109798].

*Impact* +
When you upgrade, remove `kibana.defaultAppId` from your kibana.yml file. To configure the default route for users when they enter a space, use the <<defaultroute,`defaultRoute`>> in *Advanced Settings*.
====

[discrete]
.Removes `courier:batchSearches`
[%collapsible]
====
*Details* +
The deprecated `courier:batchSearches` setting in *Advanced Settings* has been removed. For more information, refer to {kibana-pull}109350[#109350].

*Impact* +
When you upgrade, the `courier:batchSearches` setting will no longer be available.
====

[discrete]
.Removes `xpack.task_manager.index`
[%collapsible]
====
*Details* +
The deprecated `xpack.task_manager.index` setting in kibana.yml has been removed. For more information, refer to {kibana-pull}108111[#108111].

*Impact* +
When you upgrade, remove `xpack.task_manager.index` from your kibana.yml file.
====

[discrete]
.Removes dashboard-only mode
[%collapsible]
====
*Details* +
The legacy dashboard-only mode has been removed. For more information, refer to {kibana-pull}108103[#108103].

*Impact* +
To grant users access to only dashboards, create a new role, then assign only the *Dashboard* feature privilege. For more information, refer to <<kibana-feature-privileges,{kib} privileges>>.
====

[discrete]
.Removes `xpack.maps.showMapVisualizationTypes`
[%collapsible]
====
*Details* +
The deprecated `xpack.maps.showMapVisualizationTypes` setting in kibana.yml has been removed. For more information, refer to {kibana-pull}105979[#105979]

*Impact* +
When you upgrade, remove `xpack.maps.showMapVisualizationTypes` from your kibana.yml file.
====

[float]
[[deprecations-8.0.0-alpha2]]
=== Deprecations

Deprecated functionality does not have an immediate impact on your application, but we strongly recommend you make the necessary updates after you complete the upgrade.

To review the 8.0.0 depcrecations, refer to the <<deprecations-8.0.0-alpha1,8.0.0-alpha1 release notes>>.

[float]
[[features-8.0.0-alpha2]]
=== Features
The 8.0.0-alpha2 release adds the following new and notable feature.

Security::
* Adds the interactive setup mode {kibana-pull}106881[#106881]

[float]
[[enhancement-v8.0.0-alpha2]]
=== Enhancements
The 8.0.0-alpha2 release includes the following enhancements.

Elastic Security::
For the Elastic Security 8.0.0-alpha2 release information, refer to {security-guide}/release-notes.html[_Elastic Security Solution Release Notes_].
Security::
* Interactive setup mode {kibana-pull}106881[#106881]

[[release-notes-8.0.0-alpha1]]
== {kib} 8.0.0-alpha1

Review the {kib} 8.0.0-alpha1 changes, then use the <<upgrade-assistant,Upgrade Assistant>> to complete the upgrade.

[float]
[[breaking-changes-8.0.0-alpha1]]
=== Breaking changes

Breaking changes can prevent your application from optimal operation and performance. Review the breaking changes, then mitigate the impact to your application.

[float]
[[enterprise-search-change]]
==== Enterprise Search changes

[discrete]
.Required security plugin in 8.0
[%collapsible]
====
*Details* +
Enterprise Search now requires that you enable X-Pack Security. For more information, refer to {kibana-pull}106307[#106307]

*Impact* +
Enable X-Pack Security.
====

[float]
[[index-pattern-change]]
==== Index pattern changes

[discrete]
.Removed support for time-based interval index patterns
[%collapsible]
====
*Details* +
Time-based interval index patterns were deprecated in 5.x. In 6.x, you could no longer create time-based interval index patterns, but they continued to function as expected. Support for these index patterns has been removed in 8.0. For more information, refer to {kibana-pull}35173[#35173]

*Impact* +
You must migrate your time_based index patterns to a wildcard pattern. For example, logstash-*.
====

[float]
[[operations-changes]]
==== Operations changes

[discrete]
.Removed platform from archive root directory
[%collapsible]
====
*Details* +
After you extract an archive, the output directory no longer includes the target platform. For example, `kibana-8.0.0-linux-aarch64.tar.gz` produces a `kibana-8.0.0` folder. For more information, refer to {kibana-pull}93835[#93835].

*Impact* +
To use the new folder, update the configuration management tools and automation.
====

[discrete]
.Removed default support for TLS v1.0 and v1.1
[%collapsible]
====
*Details* +
The default support for TLS v1.0 and v1.1 has been removed. For more information, refer to {kibana-pull}90511[#90511].

*Impact* +
To enable support, set `--tls-min-1.0` in the `node.options` configuration file. To locate the configuration file, go to the kibana/config folder or any other configuration with the `KBN_PATH_CONF` environment variable. For example, if you are using a Debian-based system, the configuration file is located in /etc/kibana.
====

[discrete]
.Removed support for sysv init
[%collapsible]
====
*Details* +
All supported operating systems use systemd service files. Any system that doesnt have `service` aliased to use kibana.service should use `systemctl start kibana.service` instead of `service start kibana`. For more information, refer to {kibana-pull}74424[#74424].

*Impact* +
If your installation uses .deb or .rpm packages with SysV, migrate to systemd.
====

[discrete]
.Disabled response logging as a default
[%collapsible]
====
*Details* +
In previous versions, all events are logged in `json` when `logging.json:true`. With the new logging configuration, you can choose the `json` and pattern output formats with layouts. For more information, refer to {kibana-pull}42353[#42353].

*Impact* +
To restore the previous behavior, configure the logging format for each custom appender with the `appender.layout property` in kibana.yml. There is no default for custom appenders, and each appender must be configured expilictly.

[source,yaml]
-------------------
logging:
  appenders:
    custom_console:
      type: console
      layout:
        type: pattern
    custom_json:
      type: console
      layout:
        type: json
  loggers:
    - name: plugins.myPlugin
      appenders: [custom_console]
  root:
    appenders: [default, custom_json]
    level: warn
-------------------
====

[float]
[[reporting-changes-8.0.0-alpha1]]
==== Reporting changes

[discrete]
.Legacy job parameters are no longer supported
[%collapsible]
====
*Details* +
*Reporting* is no longer compatible with POST URL snippets generated with {kib} 6.2.0 and earlier. For more information, refer to {kibana-pull}52539[#52539]

*Impact* +
If you use POST URL snippets to automatically generate PDF reports, regenerate the POST URL strings.
====

[float]
[[rest-api-changes]]
==== Security changes

[discrete]
.Removed `/api/security/v1/saml` route
[%collapsible]
====
*Details* +
The `/api/security/v1/saml` route has been removed and is reflected in the kibana.yml `server.xsrf.whitelist` setting, {es}, and the Identity Provider SAML settings. For more information, refer to {kibana-pull}47929[#47929]

*Impact* +
Use the `/api/security/saml/callback` route, or wait to upgrade to 8.0.0-alpha2 when the `/api/security/saml/callback` route breaking change is reverted.
====

[discrete]
.Reject legacy browsers by default
[%collapsible]
====
*Details* +
To provide the maximum level of protection for most installations, the csp.strict config is now enabled by default. Legacy browsers not supported by Kibana, such as Internet Explorer 11, are unable to access {kib} unless explicitly enabled. All browsers officially supported by Kibana do not have this issue. For more information, refer to {kibana-pull}41700[#41700]

*Impact* +
To enable support for legacy browsers, set `csp.strict: false` in kibana.yml. To effectively enforce the security protocol, we strongly discourage disabling `csp.strict` unless it is critical that you support Internet Explorer 11.
====

[float]
[[settings-changes-8.0.0-alpha1]]
==== Settings changes

[discrete]
.Use new session timeout defaults
[%collapsible]
====
*Details* +
The default values for the session timeout `xpack.security.session.{lifespan|idleTimeout}` settings have changed. For more information, refer to {kibana-pull}106061[#106061]

*Impact* +
Use the following default values:

* `xpack.security.session.idleTimeout: 3d`
* `xpack.security.session.lifespan: 30d`
====

[discrete]
.Removed support for setting `server.host` to '0'
[%collapsible]
====
*Details* +
Support for configuring {kib} with `0` as the `server.host` has been removed. Please use `0.0.0.0` instead. For more information, refer to {kibana-pull}87114[#87114]

*Impact* +
You are now unable to use `0` as the `server.host`.
====

[discrete]
.Removed `xpack.security.public` and `xpack.security.authProviders`
[%collapsible]
====
*Details* +
The `xpack.security.public` and `xpack.security.authProviders` settings have been removed. For more information, refer to {kibana-pull}38657[#38657]

*Impact* +
Use the `xpack.security.authc.saml.realm` and `xpack.security.authc.providers` settings.
====

[discrete]
.Removed useUTC deprecation
[%collapsible]
====
*Details* +
The `logging.useUTC` setting has been removed. For more information, refer to {kibana-pull}22696[#22696]

*Impact* +
The default timezone is UTC. To change the timezone, set `logging.timezone: false` in kibana.yml. Change the timezone when the system, such as a docker container, is configured for a nonlocal timezone.
====

[discrete]
.Removed environment variables `CONFIG_PATH` and `DATA_PATH`
[%collapsible]
====
*Details* +
The environment variables `CONFIG_PATH` and `DATA_PATH` have been removed.  For more information, refer to {kibana-pull}32049[#32049]

*Impact* +
Use the environment variable `KBN_PATH_CONF` instead of `CONFIG_PATH`.  Use the setting `path.data` instead of `DATA_PATH`.
====

[float]
[[deprecations-8.0.0-alpha1]]
=== Deprecations

The following functionality is deprecated in 8.0.0, and will be removed in 9.0.0. Deprecated functionality does not have an immediate impact on your application, but we strongly recommend you make the necessary updates after you complete the upgrade.

[discrete]
.Removed support for SysV init
[%collapsible]
====
*Details* +
Systems that don't have `service` aliased to use kibana.service are unable to use `service start kibana`. For more information, refer to {kibana-pull}74424[#74424]

*Impact* +
If your system doesn't have `service` aliased to use kibana.service, use `systemctl start kibana.service`.
====

[discrete]
.Removed `xpack:defaultAdminEmail` setting
[%collapsible]
====
*Details* +
The `xpack:default_admin_email` setting for monitoring use has been removed. For more information, refer to {kibana-pull}33603[#33603]

*Impact* +
Use the `xpack.monitoring.clusterAlertsEmail` in kibana.yml.
====

[float]
[[enhancements-and-bug-fixes-v8.0.0-alpha1]]
=== Bug fix

The 8.0.0-alpha1 release includes the following bug fix.

Operations::
* Moves systemd service to /usr/lib/systemd/system {kibana-pull}83571[#83571]
