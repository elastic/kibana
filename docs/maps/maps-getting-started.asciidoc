[[maps-getting-started]]
== Getting started with Maps

Your best bet to getting started with Maps is to check out one
(or all) of the sample data sets that ship with {kib}.

. Click the {kib} logo in the upper left hand corner of your browser to navigate
to the {kib} home page.
. Click *Load a data set and a Kibana dashboard*.
. Pick a data set. Letâ€™s go with the **Sample web logs** for this example, but while you're
here, feel free to click *Add* on all of the available sample data sets.
Adding sample data sets will also load maps to go with the data set.
. Click the Maps icon in the left hand navigation menu.
. Find the *[Logs] Total Requests and Bytes* map and click on its name to open it.
Explore the map.

This tutorial will walk you through the steps that will re-create the *[Logs] Total Requests and Bytes* map.

[role="screenshot"]
image::maps/images/sample_data_web_logs.png[]

Lets start by creating a new map.

. Click *Maps* in the bread crumbs to return to the map listing page.
. Click the *Create map* button.

Lets create the *Total Requests by Country* layer that displays world countries shaded by web log origination.
Darker shades symbolize countries with more web log traffic while ligther shades symbolize countries with less web log traffic.

. Click *Add layer* in the map legend.
. Click *Vector shapes* data source.
. Select *World Countries* EMS vector shape.
. Click *Add layer* button.
. Set *Layer name* to "Total Requests by Country".
. Set *Layer transparency* to 0.5.
. Click the "plus" icon to the right of *Term Joins* label.
. Click *Join --select--*
. Set *Left field* to *ISO 3166-1 alpha-2 code*
. Set *Right source* to *kibana_sample_data_logs*
. Set *Right field* to *geo.src*.
. Click the "link" button to the right of *Fill color*.
. Select the grey color ramp in the color ramp select input.
. Select *count of kibana_sample_data_logs:geo.src* in the field select input.
. Click *Save & close* button.


Lets create the *Actual Requests* layer that displays web logs documents as points.
This layer is only visible when the map is zoomed in past zoom level 9.

. Click *Add layer* in the map legend.
. Click *Documents* data source.
. Set *Index pattern* to *kibana_sample_data_logs*.
. Click *Add layer* button.
. Set *Layer name* to "Actual Requests".
. Set *Min zoom* to 9 and *Max zoom* to 24.
. Set *Layer transparency* to 1.
. Set *Fill color* to *#2200ff*.
. Click *Save & close* button.

Lets create the *Total Requests and Bytes* layer that displays aggregated data.
This layer is only visible when the map is zoomed out past zoom level 9.
This layer complements the *Actual Requests* layer created above.
Aggregated results will be dispayed when the map is zoomed out to show large amounts of the globe.
Raw documents will be displayed when the map is zoomed in to show smaller regions.

. Click *Add layer* in the map legend.
. Click *Grid aggregation* data source.
. Set *Index pattern* to *kibana_sample_data_logs*.
. Click *Add layer* button.
. Set *Layer name* to "Total Requests and Bytes".
. Set *Min zoom* to 0 and *Max zoom* to 9.
. Set *Layer transparency* to 1.
. Click the "plus" icon to the right of *Metrics* label.
. Select *Sum* in the aggregation select.
. Select *bytes* in the field select.
. Set *Symbol size* style *Min size* to 1.
. Set *Symbol size* style *Max size* to 25.
. Select *sum of bytes* in the *Symbol size* field select input.
. Click *Save & close* button.

Aggregations group elasticsearch documents into grids. Metrics are calculated for each gridded cell.
Darker colors symbolize grids with more web log traffic while lighter colors symbolize grids with less web log traffic.
Larger circles symbolize grids with larger total bytes transferred
while smaller circles symbolize grids with smaller total bytes transferred.

[role="screenshot"]
image::maps/images/grid_metrics_large.png[]

[role="screenshot"]
image::maps/images/grid_metrics_small.png[]

Finally, lets save the map so it can be used by other users.

. Click *Save* button in the application toolbar.
. Set the *Title* to "Tutorial web logs map".
. Click *Confirm Save* button.


