<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [kibana-plugin-plugins-kibana\_utils-public-state\_sync](./kibana-plugin-plugins-kibana_utils-public-state_sync.md) &gt; [syncState](./kibana-plugin-plugins-kibana_utils-public-state_sync.syncstate.md)

## syncState() function

Utility for syncing application state wrapped in state container with some kind of storage (e.g. URL) Refer [here](https://github.com/elastic/kibana/tree/master/src/plugins/kibana_utils/docs/state_sync) for a complete guide and examples

<b>Signature:</b>

```typescript
export declare function syncState<State extends BaseState, StateStorage extends IStateStorage = IStateStorage>({ storageKey, stateStorage, stateContainer, }: IStateSyncConfig<State, IStateStorage>): ISyncStateRef;
```

## Parameters

|  Parameter | Type | Description |
|  --- | --- | --- |
|  { storageKey, stateStorage, stateContainer, } | <code>IStateSyncConfig&lt;State, IStateStorage&gt;</code> |  |

<b>Returns:</b>

`ISyncStateRef`

- [ISyncStateRef](./kibana-plugin-plugins-kibana_utils-public-state_sync.isyncstateref.md)

## Remarks

1. It is responsibility of consumer to make sure that initial app state and storage are in sync before starting syncing No initial sync happens when syncState() is called

## Example 1

1. the simplest use case

```ts
const stateStorage = createKbnUrlStateStorage();
syncState({
  storageKey: '_s',
  stateContainer,
  stateStorage
});

```

## Example 2

2. conditionally configuring sync strategy

```ts
const stateStorage = createKbnUrlStateStorage({useHash: config.get('state:stateContainerInSessionStorage')})
syncState({
  storageKey: '_s',
  stateContainer,
  stateStorage
});

```

## Example 3

3. implementing custom sync strategy

```ts
const localStorageStateStorage = {
  set: (storageKey, state) => localStorage.setItem(storageKey, JSON.stringify(state)),
  get: (storageKey) => localStorage.getItem(storageKey) ? JSON.parse(localStorage.getItem(storageKey)) : null
};
syncState({
  storageKey: '_s',
  stateContainer,
  stateStorage: localStorageStateStorage
});

```

## Example 4

4. Transform state before serialising Useful for: \* Migration / backward compatibility \* Syncing part of state \* Providing default values

```ts
const stateToStorage = (s) => ({ tab: s.tab });
syncState({
  storageKey: '_s',
  stateContainer: {
    get: () => stateToStorage(stateContainer.get()),
    set: stateContainer.set(({ tab }) => ({ ...stateContainer.get(), tab }),
    state$: stateContainer.state$.pipe(map(stateToStorage))
  },
  stateStorage
});

```

