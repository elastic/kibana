[role="xpack"]
[[xmatters-action-type]]
=== xMatters connector and action
++++
<titleabbrev>xMatters</titleabbrev>
++++

The xMatters connector uses the https://help.xmatters.com/integrations/#cshid=Elastic[xMatters Workflow for Elastic] to send actionable alerts to on-call xMatters resources.

[float]
[[xmatters-connector-configuration]]
==== Connector configuration

xMatters connectors have the following configuration properties.

Name::                                 The name of the connector. The name is used to identify a connector in the management UI connector listing, or in the connector list when configuring an action.
Authentication Type::                                                                                                                  The type of authentication used in the request made to xMatters.
URL:: The request URL for the Elastic Alerts trigger in xMatters. If you are using the <<action-settings, `xpack.actions.allowedHosts`>> setting, make sure the hostname is added to the allowed hosts.
Username::                                                                                                                                                      Username for HTTP Basic Authentication.
Password::                                                                                                                                                      Password for HTTP Basic Authentication.

[float]
[[xmatters-connector-networking-configuration]]
==== Connector networking configuration

Use the <<action-settings, Action configuration settings>> to customize connector networking configurations, such as proxies, certificates, or TLS settings. You can set configurations that apply to all your connectors or use `xpack.actions.customHostSettings` to set per-host configurations.

[float]
[[Preconfigured-xmatters-configuration]]
==== Preconfigured connector type

[source,text]
--
 my-xmatters:
   name: preconfigured-xmatters-connector-type
   actionTypeId: .xmatters
   config:
     configUrl: https://test.host
   secrets:
     user: testuser
     password: passwordkeystorevalue
     secretsUrl: https://test.host?apiKey=1234-abcd
--

Config defines information for the connector type.

`configUrl`:: A URL string that corresponds to *URL*. Only used if `usesBasic` is true.
`usesBasic`:: A boolean that corresponds to *Authentication Type*. If `true`, this connector will require values for `user` and `password` inside the secrets configuration. Defaults to `true`.

Secrets defines sensitive information for the connector type.

`user`:: A string that corresponds to *User*. Required if `usesBasic` is set to `true`.
`password`:: A string that corresponds to *Password*. Should be stored in the <<creating-keystore, {kib} keystore>>. Required if `usesBasic` is set to `true`.
`secretsUrl`:: A URL string that corresponds to *URL*. Only used if `usesBasic` is false, indicating the API Key is included in the URL.

[float]
[[define-xmatters-ui]]
==== Define connector in Stack Management

Define xMatters connector properties. Choose between basic and url authentication for the requests.

[role="screenshot"]
image::management/connectors/images/xmatters-connector-basic.png[xMatters connector with basic authentication]
[role="screenshot"]
image::management/connectors/images/xmatters-connector-url.png[xMatters connector with url authentication]

Test xMatters rule parameters.

[role="screenshot"]
image::management/connectors/images/xmatters-params-test.png[xMatters params test]

[float]
[[xmatters-action-configuration]]
==== Action configuration

xMatters rules have the following properties.

Severity::                                                     Severity of the rule.
Tags:: Comma-separated list of tags for the rule as provided by the user in Elastic.

[float]
[[xmatters-benefits]]
==== Configure xMatters

By integrating with xMatters, you can

[float]
[[xmatters-connector-prerequisites]]
==== Prerequisites ** still needs to be string reviewed by the xMatters team **
First Elastic must be configured within your xMatters instance. In your xMatters instance, navigate to workflows. Once you have installed the Elastic workflow template or created a custom workflow with the Elastic trigger, you can begin setup.

[role="screenshot"]
image::management/connectors/images/xmatters-copy-url.png[Elastic Trigger in xMatters]

. Open the trigger in the workflow
. Choose the type of authentication, making sure to copy the url after selecting the chose authentication type
. Copy the URL (this is the URL to use in the xMatters connector in Elastic)
. Paste the URL into the connector in Elastic once you have selected the appropriate authentication type

Note: if using basic authentication, make sure you use your Web / App Login ID. This value can be found in the Edit Profile modal under a specific user.

For more information https://help.xmatters.com/ondemand/#cshid=ElasticTrigger[see xMatters documentation]

Mustache template variables (the text enclosed in double braces, for example, `context.rule.name`) have
their values escaped, so that the final JSON will be valid (escaping double quote characters).
For more information on Mustache template variables, refer to <<defining-rules-actions-details>>.
