# Changelog Configuration
# This file configures the valid values for changelog fields using the pivot structure.
# Place this file as `changelog.yml` in the `docs/` directory

# Available products (optional - if not specified, all products from products.yml are allowed)
# New name (preferred):
products:
# - elasticsearch
  - kibana
# - apm
# - beats
# - elastic-agent
# - fleet
# - cloud-hosted
  - cloud-serverless
# - cloud-enterprise
# Add more products as needed

# Available lifecycle values (strongly typed: preview, beta, ga)
# New name (preferred):
# lifecycles:
#   - preview
#   - beta
#   - ga

# Pivot configuration for types, subtypes, and areas with label mappings.
# By default we render entries grouped by type > subtype > area.
# NOTE: subtype and area are optional and either may be omitted.
# Labels are specified in a "label -> value" format
pivot:
  # Type definitions with optional labels
  # Keys are type names, values can be:
  #   - simple string: comma-separated label list (e.g., ">bug, >fix")
  #   - empty/null: no labels for this type
  #   - object: { labels: "...", subtypes: {...} } for breaking-change type only
  types:
    # Complex object form with subtypes (ONLY allowed for breaking-change)
    # Subtypes help categorize breaking changes by their nature
    breaking-change:
      labels: "release_note:breaking"
    #   subtypes:
    #     api: ">api-breaking"
    #     behavioral: ">behavioral-breaking"
    #     configuration: ">config-breaking"
    #     dependency: ">dependency-breaking"
    #     subscription: ">subscription-breaking"
    #     plugin: ">plugin-breaking"
    #     security: ">security-breaking"
    #     other:
    # Simple string form: labels as comma-separated string
    bug-fix: "release_note:fix"
    deprecation: "release_note:deprecation"
    # Empty block: no labels (YAML null)
    feature: "release_note:feature"
    enhancement: "release_note:enhancement"
    docs: ">docs"
    # known-issue:
    # other:
    # regression:
    # security:

  # Area definitions with labels
  # Keys are area display names, values are label strings
  # Multiple labels can be comma-separated
  areas:
    Alerting: "Feature:Alerting, Team:Alerting Services, Feature:Actions, Team:ResponseOps"
    "Beats management": "Feature:beats-cm, Team:Beats"
    Canvas: "Feature:Canvas"
    "Dashboards and Visualizations": "Feature:Dashboard, Feature:Drilldowns, Project:TimeToVisualize, Team:Presentation, Feature:Lens, Feature:Timelion, Feature:TSVB, Feature:Coordinate Map, Feature:Region Map, Feature:Vega, Feature:Gauge Vis, Feature:Tagcloud, Feature:Vis Loader, Feature:Vislib, Feature:Vis Editor, Feature:Aggregations, Feature:Input Control, Feature:Visualizations, Feature:Markdown, Feature:Data Table, Feature:Heatmap, Feature:Pie Chart, Feature:XYAxis, Feature:Graph, Feature:Graph, Feature:New Feature, Feature:MetricVis, Team:Visualizations"
    "Data ingestion and Fleet": "Team:Fleet, Ingest, Feature:Ingest Node Pipelines"
    Discover: "Feature:Discover, Team:DataDiscovery"
    "ES|QL": "Team:ESQL"
    "Elastic Observability solution": "Feature:Observability Home, Feature:SLO, Team:obs-ux-management, Team:Obs AI Assistant, Team:obs-ux-infra_services, Team:obs-ux-logs, Team:obs-knowledge, Team:obs-entities, ci:project-deploy-observability, Feature:Uptime, Team:uptime, Team:apm, Team:APM, Feature:Metrics UI, Team:logs-metrics-ui, Feature:Logs UI, Feature:Infra UI, Feature:Service Maps"
    "Elastic Security solution": "Team:SIEM, Team:SecuritySolution, Team: SecuritySolution, Team:Endpoint Response, Team:Entity Analytics, Team:Security Generative AI, Team:Threat Hunting, Team:Threat Hunting:Explore, Team:Threat Hunting:Investigations, Team:Detections and Resp, Team:Asset Management, Team:Onboarding and Lifecycle Mgt, Team:Security Solution Platform, Team:Detection Alerts, Team: CTI, Team:Threat Hunting:Cases, Team:Cloud Security, Team:Detection Engine, Team:Defend Workflows, Team:Detection Rules, Team:Security-Scalability, Feature:Timeline, Feature:Detection Rules, Feature:Detection Alerts, Feature:Entity Analytics, Feature:Rule Exceptions, Feature:AutomaticImport"
    "Kibana platform": "Team:SharedUX, Team:Design, Project:Accessibility, Feature:Add Data, Feature:Home, Team:Cloud"
    "Kibana security": "Team:Security, Feature:Security/Spaces, Feature:users and roles, Feature:Security/Authentication, Feature:Security/Authorization, Feature:Security/Feature Controls, Team:Security-Scalability"
    "Kibana UI": "Kibana UI, Team:Core UI, Feature:Header"
    Logstash: "Feature:Logstash Pipelines"
    "Machine learning": ":ml, Feature:Anomaly Detection, Feature:Data Frames, Feature:File Data Viz, Feature:ml-results, Feature:Data Frame Analytics, Feature:Inference UI"
    Management: "Feature:license, Feature:Console, Feature:Search Profiler, Feature:watcher, Feature:Index Patterns, Feature:Data Views, Feature:Kibana Management, Feature:Dev Tools, Feature:Inspector, Feature:Index Management, Feature:Streams, Feature:Snapshot and Restore, Team:Elasticsearch UI, Team:Stack Management, Feature:FieldFormatters, Feature:CCR, Feature:ILM, Feature:Transforms, Feature:Search, Project:AsyncSearch, Feature:Upgrade Assistant" 
    Maps: "Team:Geo"
    Monitoring: "Team:Monitoring, Feature:Telemetry, Feature:Stack Monitoring"
    Operations: "Feature:license, Team:Operations"
    Platform: "Team:Core, Feature:Plugins, Feature:New Platform, Project:i18n, Feature:ExpressionLanguage, Feature:Saved Objects, Team:Stack Services, Feature:NP Migration, Feature:Task Manager, Team:Pulse"
    QA: "Team:QA"
    "Querying and filtering, Feature:Query Bar, Feature:Courier, Feature:Filters, Feature:Timepicker, Feature:Highlight, Feature:KQL, Feature:Rollups, Feature:Search, Project:AsyncSearch"
    Reporting: "Feature:Reporting, Team:Reporting Services"
    Search: "Team:Search"
    Sharing: "Feature:Embedding, Feature:SharingURLs"

# Block configuration - combined create and publish blockers
block:
  # Global labels that block changelog creation for all products (comma-separated string)
  # create: ">non-issue, >test"

  # Block changelog entries from publishing based on entry type or area
  # publish:
  #   types:
  #     - deprecation
  #     - known-issue
  #   areas:
  #     - "Internal"
  # Product-specific overrides (override global blockers, don't merge)
  # Dictionary key can be a single product ID or comma-separated product IDs
  product:
    'kibana':
      create: "release_note:skip, reverted, backport"
      publish:
        types:
          - docs
    'cloud-serverless':
      create: "release_note:skip, reverted, backport"
      publish:
        areas:
          - Monitoring
        types:
          - docs