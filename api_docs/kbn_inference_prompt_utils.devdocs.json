{
  "id": "@kbn/inference-prompt-utils",
  "client": {
    "classes": [],
    "functions": [],
    "interfaces": [],
    "enums": [],
    "misc": [],
    "objects": []
  },
  "server": {
    "classes": [],
    "functions": [
      {
        "parentPluginId": "@kbn/inference-prompt-utils",
        "id": "def-server.executeAsReasoningAgent",
        "type": "Function",
        "tags": [],
        "label": "executeAsReasoningAgent",
        "description": [],
        "signature": [
          "(options: Omit<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.PromptOptions",
            "text": "PromptOptions"
          },
          "<TPrompt>, keyof ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.BoundOptions",
            "text": "BoundOptions"
          },
          "> & ",
          "ReasoningPromptOptions",
          " & { prompt: TPrompt; } & { toolCallbacks: TToolCallbacks; finalToolChoice?: TFinalToolChoice | undefined; }) => Promise<",
          {
            "pluginId": "@kbn/inference-prompt-utils",
            "scope": "server",
            "docId": "kibKbnInferencePromptUtilsPluginApi",
            "section": "def-server.ReasoningPromptResponseOf",
            "text": "ReasoningPromptResponseOf"
          },
          "<TPrompt, TPromptOptions & { toolChoice: TFinalToolChoice; }, TToolCallbacks>>"
        ],
        "path": "x-pack/platform/packages/shared/kbn-inference-prompt-utils/src/flows/reasoning/execute_as_reasoning_agent.ts",
        "lineNumber": 41,
        "columnNumber": 1,
        "deprecated": false,
        "trackAdoption": false,
        "children": [
          {
            "parentPluginId": "@kbn/inference-prompt-utils",
            "id": "def-server.executeAsReasoningAgent.$1",
            "type": "CompoundType",
            "tags": [],
            "label": "options",
            "description": [],
            "signature": [
              "Omit<",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.PromptOptions",
                "text": "PromptOptions"
              },
              "<TPrompt>, keyof ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.BoundOptions",
                "text": "BoundOptions"
              },
              "> & ",
              "ReasoningPromptOptions",
              " & { prompt: TPrompt; } & { toolCallbacks: TToolCallbacks; finalToolChoice?: TFinalToolChoice | undefined; }"
            ],
            "path": "x-pack/platform/packages/shared/kbn-inference-prompt-utils/src/flows/reasoning/execute_as_reasoning_agent.ts",
            "lineNumber": 49,
            "columnNumber": 3,
            "deprecated": false,
            "trackAdoption": false,
            "isRequired": true
          }
        ],
        "returnComment": [],
        "initialIsOpen": false
      },
      {
        "parentPluginId": "@kbn/inference-prompt-utils",
        "id": "def-server.executeAsReasoningAgent",
        "type": "Function",
        "tags": [],
        "label": "executeAsReasoningAgent",
        "description": [
          "\nExecutes a prompt in a loop in a way that the LLM will use the specified tools\nto gather context, and then produce a final output, which may or may not include\na final tool call.\n\nThe rules are as follows:\n- when `reason()` is called, the LLM SHOULD reason about the task or the tool call\nresults\n- when `reason()` is called, the LLM CAN call another tool\n- when `complete()` is called, and `finalToolChoice` is NOT specified, the LLM\nMUST produce a summarization text\n- when `complete()` is called, and `finalToolChoice` is specified, the LLM MUST\ncall a tool to complete the task, and the LLM SHOULD produce a summarization text\n- when `finalToolChoice` is specified, and the LLM calls this tool, the task MUST\nbe completed by the orchestrator\n- when the available number of steps have been exhausted, the LLM MUST produce\nits final output\n- if the LLM fails to produce its final output (e.g. by calling an unavailable tool),\nthe orchestrator MUST complete the task\n- if `finalToolChoice` is specified and is not included as part of the definitive output,\nthe orchestrator MUST fail the task"
        ],
        "signature": [
          "(options: Omit<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.PromptOptions",
            "text": "PromptOptions"
          },
          "<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.Prompt",
            "text": "Prompt"
          },
          "<any, ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.PromptVersion",
            "text": "PromptVersion"
          },
          "<",
          "ToolDefinitions",
          " | undefined>[]>>, keyof ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.BoundOptions",
            "text": "BoundOptions"
          },
          "> & ",
          "ReasoningPromptOptions",
          " & { toolCallbacks: Record<string, ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolCallback",
            "text": "ToolCallback"
          },
          "<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolCall",
            "text": "ToolCall"
          },
          "<string, ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolCallArguments",
            "text": "ToolCallArguments"
          },
          ">, ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolCallbackResult",
            "text": "ToolCallbackResult"
          },
          ">>; finalToolChoice?: ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolChoice",
            "text": "ToolChoice"
          },
          "<string> | undefined; }) => Promise<",
          {
            "pluginId": "@kbn/inference-prompt-utils",
            "scope": "server",
            "docId": "kibKbnInferencePromptUtilsPluginApi",
            "section": "def-server.ReasoningPromptResponse",
            "text": "ReasoningPromptResponse"
          },
          ">"
        ],
        "path": "x-pack/platform/packages/shared/kbn-inference-prompt-utils/src/flows/reasoning/execute_as_reasoning_agent.ts",
        "lineNumber": 62,
        "columnNumber": 1,
        "deprecated": false,
        "trackAdoption": false,
        "children": [
          {
            "parentPluginId": "@kbn/inference-prompt-utils",
            "id": "def-server.executeAsReasoningAgent.$1",
            "type": "CompoundType",
            "tags": [],
            "label": "options",
            "description": [],
            "signature": [
              "Omit<",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.PromptOptions",
                "text": "PromptOptions"
              },
              "<",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.Prompt",
                "text": "Prompt"
              },
              "<any, ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.PromptVersion",
                "text": "PromptVersion"
              },
              "<",
              "ToolDefinitions",
              " | undefined>[]>>, keyof ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.BoundOptions",
                "text": "BoundOptions"
              },
              "> & ",
              "ReasoningPromptOptions",
              " & { toolCallbacks: Record<string, ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.ToolCallback",
                "text": "ToolCallback"
              },
              "<",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.ToolCall",
                "text": "ToolCall"
              },
              "<string, ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.ToolCallArguments",
                "text": "ToolCallArguments"
              },
              ">, ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.ToolCallbackResult",
                "text": "ToolCallbackResult"
              },
              ">>; finalToolChoice?: ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.ToolChoice",
                "text": "ToolChoice"
              },
              "<string> | undefined; }"
            ],
            "path": "x-pack/platform/packages/shared/kbn-inference-prompt-utils/src/flows/reasoning/execute_as_reasoning_agent.ts",
            "lineNumber": 85,
            "columnNumber": 3,
            "deprecated": false,
            "trackAdoption": false,
            "isRequired": true
          }
        ],
        "returnComment": [],
        "initialIsOpen": false
      },
      {
        "parentPluginId": "@kbn/inference-prompt-utils",
        "id": "def-server.executeUntilValid",
        "type": "Function",
        "tags": [],
        "label": "executeUntilValid",
        "description": [],
        "signature": [
          "(options: Omit<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.PromptOptions",
            "text": "PromptOptions"
          },
          "<TPrompt>, keyof ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.BoundOptions",
            "text": "BoundOptions"
          },
          "> & ",
          "UntilValidPromptOptions",
          " & { prompt: TPrompt; } & { toolCallbacks: TToolCallbacks; finalToolChoice: TFinalToolChoice; }) => Promise<",
          "UntilValidPromptResponseOf",
          "<TPrompt, TPromptOptions & { toolChoice: TFinalToolChoice; }, TToolCallbacks>>"
        ],
        "path": "x-pack/platform/packages/shared/kbn-inference-prompt-utils/src/flows/until_valid/execute_until_valid.ts",
        "lineNumber": 36,
        "columnNumber": 1,
        "deprecated": false,
        "trackAdoption": false,
        "children": [
          {
            "parentPluginId": "@kbn/inference-prompt-utils",
            "id": "def-server.executeUntilValid.$1",
            "type": "CompoundType",
            "tags": [],
            "label": "options",
            "description": [],
            "signature": [
              "Omit<",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.PromptOptions",
                "text": "PromptOptions"
              },
              "<TPrompt>, keyof ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.BoundOptions",
                "text": "BoundOptions"
              },
              "> & ",
              "UntilValidPromptOptions",
              " & { prompt: TPrompt; } & { toolCallbacks: TToolCallbacks; finalToolChoice: TFinalToolChoice; }"
            ],
            "path": "x-pack/platform/packages/shared/kbn-inference-prompt-utils/src/flows/until_valid/execute_until_valid.ts",
            "lineNumber": 44,
            "columnNumber": 3,
            "deprecated": false,
            "trackAdoption": false,
            "isRequired": true
          }
        ],
        "returnComment": [],
        "initialIsOpen": false
      },
      {
        "parentPluginId": "@kbn/inference-prompt-utils",
        "id": "def-server.executeUntilValid",
        "type": "Function",
        "tags": [],
        "label": "executeUntilValid",
        "description": [
          "\nExecutes a prompt, forcing a specific tool call, until the tool call does not return\nan error. If an error occurs, the LLM receives the error and is asked to retry."
        ],
        "signature": [
          "(options: Omit<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.PromptOptions",
            "text": "PromptOptions"
          },
          "<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.Prompt",
            "text": "Prompt"
          },
          "<any, ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.PromptVersion",
            "text": "PromptVersion"
          },
          "<",
          "ToolDefinitions",
          " | undefined>[]>>, keyof ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.BoundOptions",
            "text": "BoundOptions"
          },
          "> & ",
          "UntilValidPromptOptions",
          " & { toolCallbacks: Record<string, ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolCallback",
            "text": "ToolCallback"
          },
          "<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolCall",
            "text": "ToolCall"
          },
          "<string, ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolCallArguments",
            "text": "ToolCallArguments"
          },
          ">, ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolCallbackResult",
            "text": "ToolCallbackResult"
          },
          ">>; finalToolChoice: ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolChoice",
            "text": "ToolChoice"
          },
          "<string>; }) => Promise<",
          "UntilValidPromptResponse",
          ">"
        ],
        "path": "x-pack/platform/packages/shared/kbn-inference-prompt-utils/src/flows/until_valid/execute_until_valid.ts",
        "lineNumber": 57,
        "columnNumber": 1,
        "deprecated": false,
        "trackAdoption": false,
        "children": [
          {
            "parentPluginId": "@kbn/inference-prompt-utils",
            "id": "def-server.executeUntilValid.$1",
            "type": "CompoundType",
            "tags": [],
            "label": "options",
            "description": [],
            "signature": [
              "Omit<",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.PromptOptions",
                "text": "PromptOptions"
              },
              "<",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.Prompt",
                "text": "Prompt"
              },
              "<any, ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.PromptVersion",
                "text": "PromptVersion"
              },
              "<",
              "ToolDefinitions",
              " | undefined>[]>>, keyof ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.BoundOptions",
                "text": "BoundOptions"
              },
              "> & ",
              "UntilValidPromptOptions",
              " & { toolCallbacks: Record<string, ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.ToolCallback",
                "text": "ToolCallback"
              },
              "<",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.ToolCall",
                "text": "ToolCall"
              },
              "<string, ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.ToolCallArguments",
                "text": "ToolCallArguments"
              },
              ">, ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.ToolCallbackResult",
                "text": "ToolCallbackResult"
              },
              ">>; finalToolChoice: ",
              {
                "pluginId": "@kbn/inference-common",
                "scope": "common",
                "docId": "kibKbnInferenceCommonPluginApi",
                "section": "def-common.ToolChoice",
                "text": "ToolChoice"
              },
              "<string>; }"
            ],
            "path": "x-pack/platform/packages/shared/kbn-inference-prompt-utils/src/flows/until_valid/execute_until_valid.ts",
            "lineNumber": 62,
            "columnNumber": 3,
            "deprecated": false,
            "trackAdoption": false,
            "isRequired": true
          }
        ],
        "returnComment": [],
        "initialIsOpen": false
      }
    ],
    "interfaces": [],
    "enums": [],
    "misc": [
      {
        "parentPluginId": "@kbn/inference-prompt-utils",
        "id": "def-server.ReasoningPromptResponse",
        "type": "Type",
        "tags": [],
        "label": "ReasoningPromptResponse",
        "description": [],
        "signature": [
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.PromptResponse",
            "text": "PromptResponse"
          },
          "<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.PromptOptions",
            "text": "PromptOptions"
          },
          "<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.Prompt",
            "text": "Prompt"
          },
          "<any, ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.PromptVersion",
            "text": "PromptVersion"
          },
          "<",
          "ToolDefinitions",
          " | undefined>[]>>> & { input: ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.Message",
            "text": "Message"
          },
          "[]; }"
        ],
        "path": "x-pack/platform/packages/shared/kbn-inference-prompt-utils/src/flows/reasoning/types.ts",
        "lineNumber": 45,
        "columnNumber": 1,
        "deprecated": false,
        "trackAdoption": false,
        "initialIsOpen": false
      },
      {
        "parentPluginId": "@kbn/inference-prompt-utils",
        "id": "def-server.ReasoningPromptResponseOf",
        "type": "Type",
        "tags": [],
        "label": "ReasoningPromptResponseOf",
        "description": [],
        "signature": [
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.PromptResponse",
            "text": "PromptResponse"
          },
          "<TPromptOptions> & { input: ",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.MessageOf",
            "text": "MessageOf"
          },
          "<",
          {
            "pluginId": "@kbn/inference-common",
            "scope": "common",
            "docId": "kibKbnInferenceCommonPluginApi",
            "section": "def-common.ToolOptionsOfPrompt",
            "text": "ToolOptionsOfPrompt"
          },
          "<TPrompt>, { [key in keyof TToolCallbacks]: Awaited<ReturnType<TToolCallbacks[key]>>[\"response\"]; }>[]; }"
        ],
        "path": "x-pack/platform/packages/shared/kbn-inference-prompt-utils/src/flows/reasoning/types.ts",
        "lineNumber": 28,
        "columnNumber": 1,
        "deprecated": false,
        "trackAdoption": false,
        "initialIsOpen": false
      }
    ],
    "objects": []
  },
  "common": {
    "classes": [],
    "functions": [],
    "interfaces": [],
    "enums": [],
    "misc": [],
    "objects": []
  }
}