steps:
  - command: .buildkite/scripts/lifecycle/pre_build.sh
    label: Pre-Build
    timeout_in_minutes: 10
    agents:
      queue: kibana-default

  - wait

  - command: PARALLEL_LINT=8 .buildkite/scripts/steps/lint.sh
    label: 'Linting'
    agents:
      queue: n2-8-spot
    timeout_in_minutes: 90

  - command: PARALLEL_LINT=10 .buildkite/scripts/steps/lint.sh
    label: 'Linting'
    agents:
      queue: n2-8-spot
    timeout_in_minutes: 90

  - command: PARALLEL_LINT=12 .buildkite/scripts/steps/lint.sh
    label: 'Linting'
    agents:
      queue: n2-8-spot
    timeout_in_minutes: 90

  - command: PARALLEL_LINT=6 .buildkite/scripts/steps/lint.sh
    label: 'Linting'
    agents:
      queue: n2-8-spot
    timeout_in_minutes: 90
