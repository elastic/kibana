/*
 * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
 * or more contributor license agreements. Licensed under the Elastic License
 * 2.0.
 */

import React from 'react';

/**
 * Inline SVG (kept for DOM/a11y sizing). We still render it,
 * but the gradient color actually comes from CSS masking on the wrapper.
 */
export const SparklesAnim: React.FC<
  React.SVGProps<SVGSVGElement> & { title?: string; titleId?: string }
> = ({ title, titleId, className, ...props }) => {
  const P1 =
    'M5.01564 4.38296C5.03525 4.33067 5.04506 4.30452 5.05141 4.29036C5.22517 3.90321 5.77483 3.90321 5.94859 4.29036C5.95494 4.30452 5.96475 4.33067 5.98436 4.38296C6.03238 4.51102 6.05639 4.57505 6.08076 4.63588C6.68046 6.13309 7.86691 7.31954 9.36412 7.91924C9.42495 7.94361 9.48898 7.96762 9.61704 8.01564C9.66933 8.03525 9.69548 8.04506 9.70964 8.05141C10.0968 8.22517 10.0968 8.77483 9.70964 8.94859C9.69548 8.95494 9.66933 8.96475 9.61704 8.98436C9.48898 9.03238 9.42495 9.05639 9.36412 9.08076C7.86691 9.68046 6.68046 10.8669 6.08076 12.3641C6.05639 12.4249 6.03238 12.489 5.98436 12.617C5.96475 12.6693 5.95494 12.6955 5.94859 12.7096C5.77483 13.0968 5.22517 13.0968 5.05141 12.7096C5.04506 12.6955 5.03525 12.6693 5.01564 12.617C4.96762 12.489 4.94361 12.4249 4.91924 12.3641C4.31954 10.8669 3.13309 9.68046 1.63588 9.08076C1.57505 9.05639 1.51102 9.03238 1.38296 8.98436C1.33067 8.96475 1.30452 8.95494 1.29036 8.94859C0.903212 8.77483 0.903212 8.22517 1.29036 8.05141C1.30452 8.04506 1.33067 8.03525 1.38296 8.01564C1.51102 7.96762 1.57505 7.94361 1.63588 7.91924C3.13309 7.31954 4.31954 6.13309 4.91924 4.63588C4.94361 4.57505 4.96762 4.51102 5.01564 4.38296Z';
  const P2 =
    'M11.7847 2.17021C11.7934 2.14696 11.7978 2.13534 11.8006 2.12905C11.8779 1.95698 12.1221 1.95698 12.1994 2.12905C12.2022 2.13534 12.2066 2.14696 12.2153 2.17021C12.2366 2.22712 12.2473 2.25558 12.2581 2.28261C12.5246 2.94804 13.052 3.47535 13.7174 3.74189C13.7444 3.75272 13.7729 3.76339 13.8298 3.78473C13.853 3.79345 13.8647 3.7978 13.8709 3.80063C14.043 3.87785 14.043 4.12215 13.8709 4.19937C13.8647 4.2022 13.853 4.20655 13.8298 4.21527C13.7729 4.23661 13.7444 4.24728 13.7174 4.25811C13.052 4.52465 12.5246 5.05196 12.2581 5.71739C12.2473 5.74442 12.2366 5.77288 12.2153 5.82979C12.2066 5.85304 12.2022 5.86466 12.1994 5.87095C12.1221 6.04302 11.8779 6.04302 11.8006 5.87095C11.7978 5.86466 11.7934 5.85304 11.7847 5.82979C11.7634 5.77288 11.7527 5.74442 11.7419 5.71739C11.4754 5.05196 10.948 4.52465 10.2826 4.25811C10.2556 4.24728 10.2271 4.23661 10.1702 4.21527C10.147 4.20655 10.1353 4.2022 10.1291 4.19937C9.95698 4.12215 9.95698 3.87785 10.1291 3.80063C10.1353 3.7978 10.147 3.79345 10.1702 3.78473C10.2271 3.76339 10.2556 3.75272 10.2826 3.74189C10.948 3.47535 11.4754 2.94804 11.7419 2.28261C11.7527 2.25558 11.7634 2.22712 11.7847 2.17021Z';
  const P3 =
    'M11.2309 10.2128C11.2418 10.1837 11.2473 10.1692 11.2508 10.1613C11.3473 9.94623 11.6527 9.94623 11.7492 10.1613C11.7527 10.1692 11.7582 10.1837 11.7691 10.2128C11.7958 10.2839 11.8091 10.3195 11.8226 10.3533C12.1558 11.185 12.815 11.8442 13.6467 12.1774C13.6805 12.1909 13.7161 12.2042 13.7872 12.2309C13.8163 12.2418 13.8308 12.2473 13.8387 12.2508C14.0538 12.3473 14.0538 12.6527 13.8387 12.7492C13.8308 12.7527 13.8163 12.7582 13.7872 12.7691C13.7161 12.7958 13.6805 12.8091 13.6467 12.8226C12.815 13.1558 12.1558 13.815 11.8226 14.6467C11.8091 14.6805 11.7958 14.7161 11.7691 14.7872C11.7582 14.8163 11.7527 14.8308 11.7492 14.8387C11.6527 15.0538 11.3473 15.0538 11.2508 14.8387C11.2473 14.8308 11.2418 14.8163 11.2309 14.7872C11.2042 14.7161 11.1909 14.6805 11.1774 14.6467C10.8442 13.815 10.185 13.1558 9.35327 12.8226C9.31947 12.8091 9.2839 12.7958 9.21276 12.7691C9.1837 12.7582 9.16918 12.7527 9.16131 12.7492C8.94623 12.6527 8.94623 12.3473 9.16131 12.2508C9.16918 12.2473 9.1837 12.2418 9.21276 12.2309C9.2839 12.2042 9.31947 12.1909 9.35327 12.1774C10.185 11.8442 10.8442 11.185 11.1774 10.3533C11.1909 10.3195 11.2042 10.2839 11.2309 10.2128Z';

  return (
    <svg
      viewBox="0 0 16 16"
      role="img"
      aria-labelledby={title ? titleId : undefined}
      className={`gIcon ${className ?? ''}`}
      {...props}
    >
      {title ? <title id={titleId}>{title}</title> : null}
      <defs>
        <linearGradient
          id="sparklesGradient"
          x1="0"
          y1="0"
          x2="1"
          y2="0"
          gradientTransform="rotate(-20)"
        >
          <stop offset="0%" stopColor="#0B64DD" />
          <stop offset="60%" stopColor="#1C9BEF" />
          <stop offset="100%" stopColor="#48EFCF" />
        </linearGradient>
      </defs>
      {/* Apply gradient directly to SVG paths */}
      <g className="layerA" fill="url(#sparklesGradient)">
        <path className="spark big" d={P1} />
        <path d={P2} />
        <path d={P3} />
      </g>
      <g className="layerB" fill="url(#sparklesGradient)">
        <path className="spark big" d={P1} />
        <path d={P2} />
        <path d={P3} />
      </g>
    </svg>
  );
};

/**
 * Data-URI mask of the same shape (white fill â†’ alpha) so any element can
 * paint the shared gradient through the icon silhouette.
 */
export const sparklesMaskDataUri = (() => {
  const P1 =
    'M5.01564 4.38296C5.03525 4.33067 5.04506 4.30452 5.05141 4.29036C5.22517 3.90321 5.77483 3.90321 5.94859 4.29036C5.95494 4.30452 5.96475 4.33067 5.98436 4.38296C6.03238 4.51102 6.05639 4.57505 6.08076 4.63588C6.68046 6.13309 7.86691 7.31954 9.36412 7.91924C9.42495 7.94361 9.48898 7.96762 9.61704 8.01564C9.66933 8.03525 9.69548 8.04506 9.70964 8.05141C10.0968 8.22517 10.0968 8.77483 9.70964 8.94859C9.69548 8.95494 9.66933 8.96475 9.61704 8.98436C9.48898 9.03238 9.42495 9.05639 9.36412 9.08076C7.86691 9.68046 6.68046 10.8669 6.08076 12.3641C6.05639 12.4249 6.03238 12.489 5.98436 12.617C5.96475 12.6693 5.95494 12.6955 5.94859 12.7096C5.77483 13.0968 5.22517 13.0968 5.05141 12.7096C5.04506 12.6955 5.03525 12.6693 5.01564 12.617C4.96762 12.489 4.94361 12.4249 4.91924 12.3641C4.31954 10.8669 3.13309 9.68046 1.63588 9.08076C1.57505 9.05639 1.51102 9.03238 1.38296 8.98436C1.33067 8.96475 1.30452 8.95494 1.29036 8.94859C0.903212 8.77483 0.903212 8.22517 1.29036 8.05141C1.30452 8.04506 1.33067 8.03525 1.38296 8.01564C1.51102 7.96762 1.57505 7.94361 1.63588 7.91924C3.13309 7.31954 4.31954 6.13309 4.91924 4.63588C4.94361 4.57505 4.96762 4.51102 5.01564 4.38296Z';
  const P2 =
    'M11.7847 2.17021C11.7934 2.14696 11.7978 2.13534 11.8006 2.12905C11.8779 1.95698 12.1221 1.95698 12.1994 2.12905C12.2022 2.13534 12.2066 2.14696 12.2153 2.17021C12.2366 2.22712 12.2473 2.25558 12.2581 2.28261C12.5246 2.94804 13.052 3.47535 13.7174 3.74189C13.7444 3.75272 13.7729 3.76339 13.8298 3.78473C13.853 3.79345 13.8647 3.7978 13.8709 3.80063C14.043 3.87785 14.043 4.12215 13.8709 4.19937C13.8647 4.2022 13.853 4.20655 13.8298 4.21527C13.7729 4.23661 13.7444 4.24728 13.7174 4.25811C13.052 4.52465 12.5246 5.05196 12.2581 5.71739C12.2473 5.74442 12.2366 5.77288 12.2153 5.82979C12.2066 5.85304 12.2022 5.86466 12.1994 5.87095C12.1221 6.04302 11.8779 6.04302 11.8006 5.87095C11.7978 5.86466 11.7934 5.85304 11.7847 5.82979C11.7634 5.77288 11.7527 5.74442 11.7419 5.71739C11.4754 5.05196 10.948 4.52465 10.2826 4.25811C10.2556 4.24728 10.2271 4.23661 10.1702 4.21527C10.147 4.20655 10.1353 4.2022 10.1291 4.19937C9.95698 4.12215 9.95698 3.87785 10.1291 3.80063C10.1353 3.7978 10.147 3.79345 10.1702 3.78473C10.2271 3.76339 10.2556 3.75272 10.2826 3.74189C10.948 3.47535 11.4754 2.94804 11.7419 2.28261Z';
  const P3 =
    'M11.2309 10.2128C11.2418 10.1837 11.2473 10.1692 11.2508 10.1613C11.3473 9.94623 11.6527 9.94623 11.7492 10.1613C11.7527 10.1692 11.7582 10.1837 11.7691 10.2128C11.7958 10.2839 11.8091 10.3195 11.8226 10.3533C12.1558 11.185 12.815 11.8442 13.6467 12.1774C13.6805 12.1909 13.7161 12.2042 13.7872 12.2309C13.8163 12.2418 13.8308 12.2473 13.8387 12.2508C14.0538 12.3473 14.0538 12.6527 13.8387 12.7492C13.8308 12.7527 13.8163 12.7582 13.7872 12.7691C13.7161 12.7958 13.6805 12.8091 13.6467 12.8226C12.815 13.1558 12.1558 13.815 11.8226 14.6467C11.8091 14.6805 11.7958 14.7161 11.7691 14.7872C11.7582 14.8163 11.7527 14.8308 11.7492 14.8387C11.6527 15.0538 11.3473 15.0538 11.2508 14.8387C11.2473 14.8308 11.2418 14.8163 11.2309 14.7872C11.2042 14.7161 11.1909 14.6805 11.1774 14.6467C10.8442 13.815 10.185 13.1558 9.35327 12.8226C9.31947 12.8091 9.2839 12.7958 9.21276 12.7691C9.1837 12.7582 9.16918 12.7527 9.16131 12.7492C8.94623 12.6527 8.94623 12.3473 9.16131 12.2508C9.16918 12.2473 9.1837 12.2418 9.21276 12.2309C9.2839 12.2042 9.31947 12.1909 9.35327 12.1774C10.185 11.8442 10.8442 11.185 11.1774 10.3533C11.1909 10.3195 11.2042 10.2839 11.2309 10.2128Z';

  const svg = `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='#fff'><path d='${P1}'/><path d='${P2}'/><path d='${P3}'/></svg>`;
  // Encode for CSS data URL (escape # as %23)
  return `url("data:image/svg+xml;utf8,${encodeURIComponent(svg)}")`;
})();
