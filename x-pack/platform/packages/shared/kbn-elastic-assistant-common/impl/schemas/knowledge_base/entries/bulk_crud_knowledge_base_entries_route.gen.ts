/*
 * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
 * or more contributor license agreements. Licensed under the Elastic License
 * 2.0; you may not use this file except in compliance with the Elastic License
 * 2.0.
 */

/*
 * NOTICE: Do not edit this file manually.
 * This file is automatically generated by the OpenAPI Generator, @kbn/openapi-generator.
 *
 * info:
 *   title: Bulk Knowledge Base Actions API endpoint
 *   version: 2023-10-31
 */

import { z } from '@kbn/zod';

import {
  KnowledgeBaseEntryCreateProps,
  KnowledgeBaseEntryUpdateProps,
  KnowledgeBaseEntryResponse,
} from './common_attributes.gen';

/**
 * Reason why a Knowledge Base Entry was skipped during the bulk action.
 */
export type KnowledgeBaseEntryBulkActionSkipReason = z.infer<
  typeof KnowledgeBaseEntryBulkActionSkipReason
>;
export const KnowledgeBaseEntryBulkActionSkipReason = z.literal(
  'KNOWLEDGE_BASE_ENTRY_NOT_MODIFIED'
);

export type KnowledgeBaseEntryBulkActionSkipResult = z.infer<
  typeof KnowledgeBaseEntryBulkActionSkipResult
>;
export const KnowledgeBaseEntryBulkActionSkipResult = z.object({
  /**
   * ID of the skipped Knowledge Base Entry.
   */
  id: z.string(),
  /**
   * Name of the skipped Knowledge Base Entry.
   */
  name: z.string().optional(),
  skip_reason: KnowledgeBaseEntryBulkActionSkipReason,
});

export type KnowledgeBaseEntryDetailsInError = z.infer<typeof KnowledgeBaseEntryDetailsInError>;
export const KnowledgeBaseEntryDetailsInError = z.object({
  /**
   * ID of the Knowledge Base Entry that encountered an error.
   */
  id: z.string(),
  /**
   * Name of the Knowledge Base Entry that encountered an error.
   */
  name: z.string().optional(),
});

export type NormalizedKnowledgeBaseEntryError = z.infer<typeof NormalizedKnowledgeBaseEntryError>;
export const NormalizedKnowledgeBaseEntryError = z.object({
  /**
   * Error message describing the issue.
   */
  message: z.string(),
  /**
   * HTTP status code associated with the error.
   */
  statusCode: z.number().int(),
  /**
   * Specific error code for the issue.
   */
  err_code: z.string().optional(),
  /**
   * List of Knowledge Base Entries that encountered the error.
   */
  knowledgeBaseEntries: z.array(KnowledgeBaseEntryDetailsInError),
});

export type KnowledgeBaseEntryBulkCrudActionResults = z.infer<
  typeof KnowledgeBaseEntryBulkCrudActionResults
>;
export const KnowledgeBaseEntryBulkCrudActionResults = z.object({
  /**
   * List of Knowledge Base Entries that were successfully updated.
   */
  updated: z.array(KnowledgeBaseEntryResponse),
  /**
   * List of Knowledge Base Entries that were successfully created.
   */
  created: z.array(KnowledgeBaseEntryResponse),
  /**
   * List of IDs of Knowledge Base Entries that were successfully deleted.
   */
  deleted: z.array(z.string()),
  /**
   * List of Knowledge Base Entries that were skipped during the bulk action.
   */
  skipped: z.array(KnowledgeBaseEntryBulkActionSkipResult),
});

export type KnowledgeBaseEntryBulkCrudActionSummary = z.infer<
  typeof KnowledgeBaseEntryBulkCrudActionSummary
>;
export const KnowledgeBaseEntryBulkCrudActionSummary = z.object({
  /**
   * Number of Knowledge Base Entries that failed during the bulk action.
   */
  failed: z.number().int(),
  /**
   * Number of Knowledge Base Entries that were skipped during the bulk action.
   */
  skipped: z.number().int(),
  /**
   * Number of Knowledge Base Entries that were successfully processed during the bulk action.
   */
  succeeded: z.number().int(),
  /**
   * Total number of Knowledge Base Entries involved in the bulk action.
   */
  total: z.number().int(),
});

export type KnowledgeBaseEntryBulkCrudActionResponse = z.infer<
  typeof KnowledgeBaseEntryBulkCrudActionResponse
>;
export const KnowledgeBaseEntryBulkCrudActionResponse = z.object({
  /**
   * Indicates whether the bulk action was successful.
   */
  success: z.boolean().optional(),
  /**
   * HTTP status code of the response.
   */
  statusCode: z.number().int().optional(),
  /**
   * Message describing the result of the bulk action.
   */
  message: z.string().optional(),
  /**
   * Total number of Knowledge Base Entries processed.
   */
  knowledgeBaseEntriesCount: z.number().int().optional(),
  attributes: z.object({
    results: KnowledgeBaseEntryBulkCrudActionResults,
    summary: KnowledgeBaseEntryBulkCrudActionSummary,
    /**
     * List of errors encountered during the bulk action.
     */
    errors: z.array(NormalizedKnowledgeBaseEntryError).optional(),
  }),
});

export type KnowledgeBaseEntryBulkActionBase = z.infer<typeof KnowledgeBaseEntryBulkActionBase>;
export const KnowledgeBaseEntryBulkActionBase = z.object({
  /**
   * Query to filter Knowledge Base Entries.
   */
  query: z.string().optional(),
  /**
   * Array of Knowledge Base Entry IDs.
   */
  ids: z.array(z.string()).min(1).optional(),
});

export type PerformKnowledgeBaseEntryBulkActionRequestBody = z.infer<
  typeof PerformKnowledgeBaseEntryBulkActionRequestBody
>;
export const PerformKnowledgeBaseEntryBulkActionRequestBody = z.object({
  delete: KnowledgeBaseEntryBulkActionBase.optional(),
  /**
   * List of Knowledge Base Entries to create.
   */
  create: z.array(KnowledgeBaseEntryCreateProps).optional(),
  /**
   * List of Knowledge Base Entries to update.
   */
  update: z.array(KnowledgeBaseEntryUpdateProps).optional(),
});
export type PerformKnowledgeBaseEntryBulkActionRequestBodyInput = z.input<
  typeof PerformKnowledgeBaseEntryBulkActionRequestBody
>;

export type PerformKnowledgeBaseEntryBulkActionResponse = z.infer<
  typeof PerformKnowledgeBaseEntryBulkActionResponse
>;
export const PerformKnowledgeBaseEntryBulkActionResponse = KnowledgeBaseEntryBulkCrudActionResponse;
