openapi: 3.0.0
info:
  title: Dismiss attack discovery generations API endpoint
  version: '2023-10-31'
paths:
  /api/attack_discovery/generations/{execution_uuid}/_dismiss:
    post:
      x-codegen-enabled: true
      x-code-samples:
        - lang: curl
          label: Example request
          source: |
            curl \
             --request POST 'http://localhost:5601/api/attack_discovery/generations/46b218d5-535d-4329-be56-d0f6af6986b7/_dismiss' \
             --header "Authorization: $API_KEY" \
             --header "Content-Type: application/json"
      x-labels: [ess, serverless]
      operationId: PostAttackDiscoveryGenerationsDismiss
      description: Dismisses an attack discovery generation for the current user, indicating that it's status should not be reported in the UI. This sets the generation's
        status to "dismissed" and affects how the generation appears in subsequent queries.
      summary: Dismiss an attack discovery generation
      tags:
        - Attack discovery API
      parameters:
        - name: execution_uuid
          in: path
          required: true
          description: The unique identifier for the Attack discovery generation execution. This UUID is returned when an attack discovery generation is created and can be found in generation responses.
          schema:
            $ref: '../../../../common_attributes.schema.yaml#/components/schemas/NonEmptyString'
          example: "46b218d5-535d-4329-be56-d0f6af6986b7"
      responses:
        200:
          description: Successful response - The attack discovery generation has been dismissed
          content:
            application/json:
              schema:
                type: object
                required:
                  - connector_id
                  - discoveries
                  - execution_uuid
                  - loading_message
                  - start
                  - status
                properties:
                  alerts_context_count:
                    type: number
                    description: The number of alerts that were sent as context to the LLM for this generation.
                    example: 75
                  connector_id:
                    type: string
                    description: The unique identifier of the connector used to generate the attack discoveries.
                    example: "chatGpt5_0ChatAzure"
                  connector_stats:
                    type: object
                    description: Statistical information about the connector's performance for this user, providing insights into usage patterns and success rates.
                    properties:
                      average_successful_duration_nanoseconds:
                        type: number
                        description: The average duration in nanoseconds for successful generations using this connector by the current user.
                        example: 47958500000
                      successful_generations:
                        type: number
                        description: The total number of Attack discoveries successfully created for this generation
                        example: 2
                  discoveries:
                      type: number
                      description: The number of attack discoveries that were generated during this execution.
                      example: 3
                  end:
                    type: string
                    description: The timestamp when the generation process completed, in ISO 8601 format. This field may be absent for generations that haven't finished.
                    example: "2025-09-29T06:42:44.810Z"
                  execution_uuid:
                    type: string
                    description: The unique identifier for this attack discovery generation execution. This UUID can be used to reference this specific generation in other API calls.
                    example: "46b218d5-535d-4329-be56-d0f6af6986b7"
                  loading_message:
                    type: string
                    description: A human-readable message describing the current state or progress of the generation process. Provides context about what the AI is analyzing.
                    example: "AI is analyzing up to 100 alerts in the last 24 hours to generate discoveries."
                  reason:
                    type: string
                    description: Additional context or reasoning provided when a generation fails or encounters issues. This field helps diagnose problems with the generation process.
                    example: "Connection timeout to AI service"
                  start:
                    type: string
                    description: The timestamp when the generation process began, in ISO 8601 format. This marks the beginning of the AI analysis.
                    example: "2025-09-29T06:42:08.962Z"
                  status:
                    type: string
                    description: The current status of the attack discovery generation. After dismissing, this will be set to "dismissed".
                    example: "dismissed"
                    enum:
                      - canceled
                      - dismissed
                      - failed
                      - started
                      - succeeded

        400:
          description: Generic Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  status_code:
                    type: number
                    description: HTTP status code indicating the type of client error
                    example: 400
                  error:
                    type: string
                    description: Error type or category
                    example: "Bad Request"
                  message:
                    type: string
                    description: Human-readable error message describing what went wrong with the request.
                    example: "Invalid request parameters"
                required:
                  - status_code
                  - error
                  - message
