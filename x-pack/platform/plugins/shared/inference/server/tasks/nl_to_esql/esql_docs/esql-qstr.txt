# QSTR

The QSTR function performs a query string query and returns true if the provided query string matches the row.

## Syntax

`QSTR(query, options, max_determinized_states, fuzziness, auto_generate_synonyms_phrase_query, phrase_slop, default_field, allow_leading_wildcard, minimum_should_match, fuzzy_transpositions, fuzzy_prefix_length, time_zone, lenient, rewrite, default_operator, analyzer, fuzzy_max_expansions, quote_analyzer, allow_wildcard, boost, quote_field_suffix, enable_position_increments, fields)`

### Parameters

#### query

Query string in Lucene query string format.

#### options

Optional. Additional options for Query String as function named parameters.

#### max_determinized_states

Maximum number of automaton states required for the query. Default is 10000.

#### fuzziness

Maximum edit distance allowed for matching.

#### auto_generate_synonyms_phrase_query

If true, match phrase queries are automatically created for multi-term synonyms. Defaults to true.

#### phrase_slop

Maximum number of positions allowed between matching tokens for phrases. Defaults to 0 (exact matches required).

#### default_field

Default field to search if no field is provided in the query string. Supports wildcards (*).

#### allow_leading_wildcard

If true, the wildcard characters * and ? are allowed as the first character of the query string. Defaults to true.

#### minimum_should_match

Minimum number of clauses that must match for a document to be returned.

#### fuzzy_transpositions

If true, edits for fuzzy matching include transpositions of two adjacent characters (ab â†’ ba). Defaults to true.

#### fuzzy_prefix_length

Number of beginning characters left unchanged for fuzzy matching. Defaults to 0.

#### time_zone

Coordinated Universal Time (UTC) offset or IANA time zone used to convert date values in the query string to UTC.

#### lenient

If false, format-based errors, such as providing a text query value for a numeric field, are returned. Defaults to false.

#### rewrite

Method used to rewrite the query.

#### default_operator

Default boolean logic used to interpret text in the query string if no operators are specified.

#### analyzer

Analyzer used to convert the text in the query value into tokens. Defaults to the index-time analyzer mapped for the default_field.

#### fuzzy_max_expansions

Maximum number of terms to which the query expands for fuzzy matching. Defaults to 50.

#### quote_analyzer

Analyzer used to convert quoted text in the query string into tokens. Defaults to the search_quote_analyzer mapped for the default_field.

#### allow_wildcard

If true, the query attempts to analyze wildcard terms in the query string. Defaults to false.

#### boost

Floating point number used to decrease or increase the relevance scores of the query.

#### quote_field_suffix

Suffix appended to quoted text in the query string.

#### enable_position_increments

If true, enable position increments in queries constructed from a query_string search. Defaults to true.

#### fields

Array of fields to search. Supports wildcards (*).

## Examples

Filters the books dataset to only include rows where the author is "Faulkner".
```esql
FROM books
| WHERE QSTR("author: Faulkner")
```

Filters the books dataset to include rows where the title is similar to "Hobbjt", allowing up to 2 character changes for fuzzy matching.
```esql
FROM books
| WHERE QSTR("title: Hobbjt~", {"fuzziness": 2})
```