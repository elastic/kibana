## COUNT_DISTINCT

The `COUNT_DISTINCT` function returns the approximate number of distinct values in a column or expression.

## Syntax

`COUNT_DISTINCT(field, precision)`

### Parameters

#### `field`

The column or literal for which to count the number of distinct values.

#### `precision`

(Optional) Precision threshold. The maximum supported value is 40,000. Thresholds above this number will behave as if set to 40,000. The default value is 3,000. Higher precision thresholds may increase memory usage and processing time.

## Examples

### Example 1: Counting distinct values in columns

Count the number of distinct values in the `ip0` and `ip1` columns.

```esql
FROM hosts
| STATS COUNT_DISTINCT(ip0), COUNT_DISTINCT(ip1)
```

### Example 2: Configuring the precision threshold

Specify a custom precision threshold for distinct value counting. In this example, the precision for `ip0` is set to 80,000 (capped at 40,000), and for `ip1`, it is set to 5.

```esql
FROM hosts
| STATS COUNT_DISTINCT(ip0, 80000), COUNT_DISTINCT(ip1, 5)
```

### Example 3: Counting distinct values from a split string

Use the `SPLIT` function to break a string into multiple values and count the unique values.

```esql
ROW words="foo;bar;baz;qux;quux;foo"
| STATS distinct_word_count = COUNT_DISTINCT(SPLIT(words, ";"))
```

## Limitations

- The `COUNT_DISTINCT` function provides approximate results, especially when using lower precision thresholds.
- The maximum precision threshold is 40,000, and values above this limit will not increase accuracy further.