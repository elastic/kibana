# WHERE

The WHERE command filters rows from the input table, returning only those for which the specified condition evaluates to true. When excluding values, fields with null values are also excluded from the results. Here, null means either an explicit null value or the absence of a value. For example, `WHERE field != "value"` is interpreted as `WHERE field != "value" AND field IS NOT NULL`.

## Syntax

`WHERE expression`

### Parameters

#### expression

A boolean expression that determines which rows are included in the output.

## Examples

Filters the employees table to show only those who are still hired, displaying their first and last names.

```esql
FROM employees
| KEEP first_name, last_name, still_hired
| WHERE still_hired == true
```

Filters the employees table to show only rows where the still_hired field is true, displaying first and last names.

```esql
FROM employees
| KEEP first_name, last_name, still_hired
| WHERE still_hired
```

Retrieves log entries from the sample_data table where the timestamp is within the last hour.

```esql
FROM sample_data
| WHERE @timestamp > NOW() - 1 hour
```

Displays employees whose first name is shorter than 4 characters, along with their last name and height.

```esql
FROM employees
| KEEP first_name, last_name, height
| WHERE LENGTH(first_name) < 4
```

Returns employees whose birth_date field is null.

```esql
FROM employees
| WHERE birth_date IS NULL
```

Counts the number of employees where the is_rehired field is not null.

```esql
FROM employees
| WHERE is_rehired IS NOT NULL
| STATS COUNT(emp_no)
```

Finds books where the author field contains the word "Faulkner".

```esql
FROM books
| WHERE MATCH(author, "Faulkner")
```

Finds books whose title contains all the words "Hobbit Back Again" and displays their titles.

```esql
FROM books
| WHERE MATCH(title, "Hobbit Back Again", {"operator": "AND"})
| KEEP title;
```

Displays employees whose first name matches the pattern "?b*", showing their first and last names.

```esql
FROM employees
| WHERE first_name LIKE """?b*"""
| KEEP first_name, last_name
```

Filters a single row to match messages containing the exact characters "foo * bar" using LIKE with escaping.

```esql
ROW message = "foo * bar"
| WHERE message LIKE "foo \\* bar"
```

Filters a single row to match messages containing "foo * bar" using triple quotes to simplify escaping.

```esql
ROW message = "foo * bar"
| WHERE message LIKE """foo \* bar"""
```

Filters a single row to match messages that fit either the "foo*" or "bar?" pattern.

```esql
ROW message = "foobar"
| WHERE message like ("foo*", "bar?")
```

Filters employees whose first name matches a pattern provided as a REST query placeholder, displaying first and last names.

```esql
FROM employees
| WHERE first_name LIKE ?pattern
| KEEP first_name, last_name
```

Displays employees whose first name matches the regular expression ".leja.*", showing their first and last names.

```esql
FROM employees
| WHERE first_name RLIKE """.leja.*"""
| KEEP first_name, last_name
```

Filters a single row to match messages containing the exact characters "foo ( bar" using RLIKE with escaping.

```esql
ROW message = "foo ( bar"
| WHERE message RLIKE "foo \\( bar"
```

Filters a single row to match messages containing "foo ( bar" using triple quotes to simplify escaping in RLIKE.

```esql
ROW message = "foo ( bar"
| WHERE message RLIKE """foo \( bar"""
```

Filters a single row to match messages that fit either the "foo.*" or "bar." regular expression.

```esql
ROW message = "foobar"
| WHERE message RLIKE ("foo.*", "bar.")
```

Filters employees whose first name matches a regular expression provided as a REST query placeholder, displaying first and last names.

```esql
FROM employees
| WHERE first_name RLIKE ?pattern
| KEEP first_name, last_name
```

Filters a single row to include only those where the value of c-a is in the list (3, b / 2, a).

```esql
ROW a = 1, b = 4, c = 3
| WHERE c-a IN (3, b / 2, a)
```