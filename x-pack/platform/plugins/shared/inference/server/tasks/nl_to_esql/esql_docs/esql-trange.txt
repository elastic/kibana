# TRANGE

The TRANGE function filters data based on a specified time range using the `@timestamp` attribute. It allows you to select records within a given start and end time, or within a relative offset from the current time.

## Syntax

`TRANGE(start_time_or_offset, end_time)`

### Parameters

#### start_time_or_offset

Offset from NOW when used in single parameter mode. In two parameter mode, this is the start time, which can be provided as a date string, date, date_nanos, or epoch milliseconds.

#### end_time

(Optional) The explicit end time for the range, which can be a date string, date, date_nanos, or epoch milliseconds.

## Examples

Filter records from the last hour using a relative offset:

Selects records from the last hour based on the `@timestamp` field.

```esql
FROM k8s
| WHERE TRANGE(1h)
| KEEP @timestamp
```

Filter records between two specific timestamps using date strings:

Selects records between the specified start and end times.

```esql
FROM k8s
| WHERE TRANGE("2024-05-10T00:17:14.000Z", "2024-05-10T00:18:33.000Z")
| SORT @timestamp
| KEEP @timestamp
| LIMIT 10
```

Filter records between two specific timestamps using `to_datetime` conversion:

Selects records between two datetimes converted from string format.

```esql
FROM k8s
| WHERE TRANGE(to_datetime("2024-05-10T00:17:14Z"), to_datetime("2024-05-10T00:18:33Z"))
| SORT @timestamp
| KEEP @timestamp
| LIMIT 10
```

Filter records between two specific timestamps using `to_datetime` with milliseconds precision:

Selects records between two datetimes with millisecond precision.

```esql
FROM k8s
| WHERE TRANGE(to_datetime("2024-05-10T00:17:14.000Z"), to_datetime("2024-05-10T00:18:33.000Z"))
| SORT @timestamp
| KEEP @timestamp
| LIMIT 10
```

Filter records between two specific timestamps using epoch milliseconds:

Selects records between two epoch millisecond values.

```esql
FROM k8s
| WHERE TRANGE(1715300236000, 1715300282000)
| SORT @timestamp
| KEEP @timestamp
| LIMIT 10
```