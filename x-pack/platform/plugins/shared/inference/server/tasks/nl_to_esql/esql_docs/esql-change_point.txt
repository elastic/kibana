# CHANGE_POINT

CHANGE_POINT detects spikes, dips, and change points in a metric.

## Syntax

`CHANGE_POINT value [ON key] [AS type_name, pvalue_name]`

### Parameters

#### value

The column with the metric in which you want to detect a change point.

#### key

The column with the key to order the values by. If not specified, `@timestamp` is used.

#### type_name

Optional. The name of the output column with the change point type. If not specified, `type` is used.

#### pvalue_name

Optional. The name of the output column with the p-value that indicates how extreme the change point is. If not specified, `pvalue` is used.

## Examples

Detect change points in a metric column, using a synthetic dataset with a clear change:

```esql
ROW key=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]
| MV_EXPAND key
| EVAL value = CASE(key<13, 0, 42)
| CHANGE_POINT value ON key
| WHERE type IS NOT NULL
```
This example expands a list of keys, assigns a value of 0 for keys less than 13 and 42 for others, then detects change points in the `value` column ordered by `key`.

## Limitations

- Requires a platinum license.
- At least 22 values are needed for change point detection; fewer than 1,000 is preferred.
- This functionality is in technical preview and may be changed or removed in a future release.
