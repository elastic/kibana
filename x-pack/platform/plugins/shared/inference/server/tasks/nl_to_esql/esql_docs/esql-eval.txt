# EVAL

The EVAL command is used to append new columns with calculated values. It supports various functions, literals, and expressions for calculating values, and allows you to define one or more new columns in your result set.

## Syntax

`EVAL [column1 =] value1[, ..., [columnN =] valueN]`

### Parameters

#### columnX

The name of the column to create. If a column with the same name already exists, the existing column is dropped. If a column name is used more than once, only the rightmost duplicate creates a column.

#### valueX

The value to assign to the column. This can be a literal, an expression, or a function. You can reference columns defined to the left of this one.

## Examples

This query retrieves employee data, sorts it by employee number, keeps only the first name, last name, and height columns, and then adds two new columns: `height_feet` (height converted to feet) and `height_cm` (height converted to centimeters).

```esql
FROM employees
| SORT emp_no
| KEEP first_name, last_name, height
| EVAL height_feet = height * 3.281, height_cm = height * 100
```

This query retrieves employee data, sorts it by employee number, keeps only the first name, last name, and height columns, and then replaces the existing `height` column with a new value calculated as `height * 3.281` (converting height to feet).

```esql
FROM employees
| SORT emp_no
| KEEP first_name, last_name, height
| EVAL height = height * 3.281
```

This query retrieves employee data, sorts it by employee number, keeps only the first name, last name, and height columns, and then adds a new column named after the expression itself (`height*3.281`), which contains the height converted to feet.

```esql
FROM employees
| SORT emp_no
| KEEP first_name, last_name, height
| EVAL height * 3.281
```

This query retrieves employee data, adds a new column named after the expression (`height * 3.281`) with the height converted to feet, and then calculates the average of this new column, naming the result `avg_height_feet`. The column with special characters is referenced using backticks.

```esql
FROM employees
| EVAL height * 3.281
| STATS avg_height_feet = AVG(`height * 3.281`)
```