# COUNT_DISTINCT_OVER_TIME

Calculates the count of distinct values for a field over time, using a specified precision threshold.

## Syntax

`COUNT_DISTINCT_OVER_TIME(field, precision)`

### Parameters

#### field

The metric field for which to calculate the distinct count over time.

#### precision

Optional. Sets the precision threshold for the calculation. The maximum supported value is 40000; values above this will be treated as 40000. The default is 3000.

## Examples

Calculate the distinct count of `network.cost` over time, using both the default and a custom precision threshold:

This query retrieves data from the `k8s` time series, then calculates two metrics for each cluster and each one-minute time bucket:  
- `distincts`: the distinct count of `network.cost` using the default precision threshold  
- `distincts_imprecise`: the distinct count of `network.cost` using a lower precision threshold of 100  
Both metrics are grouped by `cluster` and by minute.

```esql
TS k8s
| STATS distincts=COUNT_DISTINCT(COUNT_DISTINCT_OVER_TIME(network.cost)),
        distincts_imprecise=COUNT_DISTINCT(COUNT_DISTINCT_OVER_TIME(network.cost, 100))
  BY cluster, time_bucket = TBUCKET(1minute)
```

## Limitations

The maximum supported precision value is 40000. Thresholds above this number will have the same effect as a threshold of 40000.