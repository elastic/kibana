# WEIGHTED_AVG

The WEIGHTED_AVG function calculates the weighted average of a numeric expression using the specified weights.

## Syntax

`WEIGHTED_AVG(number, weight)`

### Parameters

#### number

A numeric value to be averaged.

#### weight

A numeric value representing the weight for each corresponding number.

## Examples

The following query calculates the weighted average salary for each language group, using the employees' height as the weight. The result is rounded, and only the weighted average and language columns are kept in the output, which is then sorted by language.

```esql
FROM employees
| STATS w_avg = WEIGHTED_AVG(salary, height) BY languages
| EVAL w_avg = ROUND(w_avg)
| KEEP w_avg, languages
| SORT languages
```