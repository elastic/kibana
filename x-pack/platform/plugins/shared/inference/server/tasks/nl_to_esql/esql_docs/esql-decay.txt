# DECAY

Calculates a relevance score that decreases (decays) based on how far a numeric, spatial, or date value is from a specified origin. The score ranges from 0 to 1, with configurable decay functions and parameters. The distance can be numeric, spatial, or temporal, depending on the data type. Additional options can be set using function named parameters. For spatial queries, scale and offset for geo points use distance units (e.g., "10km", "5mi"), while cartesian points use numeric values. For date queries, scale and offset use time duration values. For numeric queries, numeric values are used.

## Syntax

`DECAY(value, origin, scale, options, offset, type, decay)`

### Parameters

#### value

The input value to apply decay scoring to.

#### origin

Central point from which the distances are calculated.

#### scale

Distance from the origin where the function returns the decay value.

#### options

Additional options for the decay function, specified as function named parameters.

#### offset

Distance from the origin where no decay occurs. Can be a double, integer, long, time_duration, keyword, or text.

#### type

Decay function to use. Accepts: linear, exponential, or gaussian.

#### decay

Multiplier value returned at the scale distance from the origin.

## Examples

The following query calculates a decay score for each employee's salary. It uses 0 as the origin, a scale of 100,000, an offset of 5, a decay value of 0.5, and applies the linear decay function. The results are then sorted in descending order by the decay score.

```esql
FROM employees
| EVAL decay_result = decay(salary, 0, 100000, {"offset": 5, "decay": 0.5, "type": "linear"})
| SORT decay_result DESC
```
This example calculates a decay score for each employee's salary, using 0 as the origin, a scale of 100,000, an offset of 5, a decay value of 0.5, and the linear decay function, then sorts the results in descending order.
