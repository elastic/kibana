# TO_IP

The TO_IP function converts an input string to an IP value. If the input cannot be converted, the result is a `null` value and a warning header is added to the response with details about the failure.

## Syntax

`TO_IP(field, options, leading_zeros)`

### Parameters

#### field

The input value to convert. This can be a single- or multi-valued column or an expression.

#### options

Optional. Additional options for the conversion.

#### leading_zeros

Optional. Specifies how to handle leading zeros in IPv4 addresses. Supported values include `"octal"` and `"decimal"`.

## Examples

The following query converts two string values to IP addresses and then filters the results to include only those IPs that fall within the `1.0.0.0/8` CIDR range. If a string cannot be converted to an IP (such as `"foo"`), the result is `null` and a warning is generated.

```esql
ROW str1 = "1.1.1.1", str2 = "foo"
| EVAL ip1 = TO_IP(str1), ip2 = TO_IP(str2)
| WHERE CIDR_MATCH(ip1, "1.0.0.0/8")
```
This example converts `str1` and `str2` to IP addresses and filters for addresses in the `1.0.0.0/8` range. If conversion fails (as with `str2`), the result is `null` and a warning is generated.

The following query demonstrates how to parse an IPv4 address with leading zeros, interpreting those zeros as octal values.

```esql
ROW s = "1.1.010.1" | EVAL ip = TO_IP(s, {"leading_zeros":"octal"})
```
This example parses the address `1.1.010.1` treating leading zeros as octal values.

The following query demonstrates how to parse an IPv4 address with leading zeros, interpreting those zeros as decimal values.

```esql
ROW s = "1.1.010.1" | EVAL ip = TO_IP(s, {"leading_zeros":"decimal"})
```
This example parses the address `1.1.010.1` treating leading zeros as decimal values.
