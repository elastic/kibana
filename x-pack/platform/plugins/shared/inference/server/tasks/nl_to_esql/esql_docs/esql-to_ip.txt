# TO_IP

Converts an input string to an IP value. If the conversion fails, the result is a `null` value and a warning header is added to the response with details about the failure.

## Syntax

`TO_IP(field, options, leading_zeros)`

### Parameters

#### field

Input value. The input can be a single- or multi-valued column or an expression.

#### options

(Optional) Additional options.

#### leading_zeros

(keyword) Specifies how to handle leading zeros in IPv4 addresses.

## Examples

The following query converts two string values to IP addresses and then filters the results to only include IPs that match the specified CIDR range (`1.0.0.0/8`). If the conversion fails (as with the string "foo"), the result is `null` and a warning header is added to the response.

```esql
ROW str1 = "1.1.1.1", str2 = "foo"
| EVAL ip1 = TO_IP(str1), ip2 = TO_IP(str2)
| WHERE CIDR_MATCH(ip1, "1.0.0.0/8")
```

If the conversion fails (as with "foo"), the result is `null` and a warning header is added to the response.

This query parses the IPv4 address string `"1.1.010.1"` and interprets the octet with leading zeros (`010`) as an octal value, using the `leading_zeros` option set to `"octal"`.

```esql
ROW s = "1.1.010.1" | EVAL ip = TO_IP(s, {"leading_zeros":"octal"})
```

This query parses the IPv4 address string `"1.1.010.1"` and interprets the octet with leading zeros (`010`) as a decimal value, using the `leading_zeros` option set to `"decimal"`.

```esql
ROW s = "1.1.010.1" | EVAL ip = TO_IP(s, {"leading_zeros":"decimal"})
```
