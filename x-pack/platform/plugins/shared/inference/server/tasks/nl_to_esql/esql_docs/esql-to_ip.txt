# TO_IP

Converts an input string to an IP value.

## Syntax

`TO_IP(field)`

### Parameters

#### `field`

The input value to be converted. This can be a single- or multi-valued column or an expression.

## Examples

### Example 1: Converting strings to IP values

```esql
ROW str1 = "1.1.1.1", str2 = "foo"
| EVAL ip1 = TO_IP(str1), ip2 = TO_IP(str2)
| WHERE CIDR_MATCH(ip1, "1.0.0.0/8")
```

In this example:
- The string `"1.1.1.1"` is successfully converted to an IP value and stored in `ip1`.
- The string `"foo"` cannot be converted to an IP value, resulting in a `null` value for `ip2`.

### Warnings for Conversion Failures

When a conversion fails, the result is treated as `null`, and a warning is added to the response. For instance:
- A warning header provides information about the failure source:
  ```
  "Line 1:68: evaluation of [TO_IP(str2)] failed, treating result as null. Only first 20 failures recorded."
  ```
- Another header specifies the failure reason and the offending value:
  ```
  "java.lang.IllegalArgumentException: 'foo' is not an IP string literal."
  ```