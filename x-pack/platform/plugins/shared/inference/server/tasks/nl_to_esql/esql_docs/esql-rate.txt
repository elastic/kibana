# RATE

Calculates the per-second average rate of increase of a counter. This function accounts for breaks in monotonicity, such as counter resets when a service restarts, and extrapolates values within each bucketed time interval. RATE is best used as an aggregate function for counters and must be used within a STATS command under a `TS` source command to ensure correct application per time series.

## Syntax

`RATE(field, window)`

### Parameters

#### field

The counter field whose per-second average rate of increase is computed.

#### window

The time window over which the rate is computed.

## Examples

The following query calculates the maximum per-second rate of increase for the `network.total_bytes_in` counter, grouping the results into 5-minute time buckets. This helps you understand the highest rate at which bytes are received over the network in each 5-minute interval.

```esql
TS k8s
| STATS max_rate=MAX(RATE(network.total_bytes_in)) BY time_bucket = TBUCKET(5minute)
```

## Limitations

- The RATE function is only allowed in a STATS command under a `TS` source command.