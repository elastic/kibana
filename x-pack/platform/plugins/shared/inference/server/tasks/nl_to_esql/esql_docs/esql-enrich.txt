# ENRICH

The ENRICH command allows you to add data from existing indices as new columns using an enrich policy. This is useful for augmenting your results with additional information from other datasets. Before using ENRICH, you must create and execute an enrich policy.

## Syntax

`ENRICH policy [ON match_field] [WITH [new_name1 = ]field1, [new_name2 = ]field2, ...]`

### Parameters

#### policy

The name of the enrich policy. You need to create and execute the enrich policy first.

#### mode

(Optional) The mode of the enrich command in cross cluster usage.

#### match_field

(Optional) The column used to match records in the enrich index. If not specified, the match is performed on the column with the same name as the match_field defined in the enrich policy.

#### fieldX

(Optional) The enrich fields from the enrich index to add as new columns. If a column with the same name as the enrich field already exists, it will be replaced. If not specified, all enrich fields defined in the policy are added.

#### new_nameX

(Optional) Allows you to rename the column added for each enrich field. Defaults to the enrich field name. If a column has the same name as the new name, it will be discarded. If a name (new or original) occurs more than once, only the rightmost duplicate creates a new column.

## Examples

Add enrich fields defined in the policy as new columns, matching on the field defined in the policy:

```esql
ROW language_code = "1"
| ENRICH languages_policy
```
This query creates a single row with a `language_code` value of "1", then enriches it by adding columns from the `languages_policy` enrich policy. The match is performed on the `language_code` field, as defined in the policy.

Use a different column as the match field:

```esql
ROW a = "1"
| ENRICH languages_policy ON a
```
This query creates a row with a column `a` set to "1", and then enriches it using the `languages_policy` policy, matching on the `a` column instead of the default match field.

Explicitly select which enrich fields to add:

```esql
ROW a = "1"
| ENRICH languages_policy ON a WITH language_name
```
This query creates a row with a column `a` set to "1", enriches it using the `languages_policy` policy, matches on the `a` column, and only adds the `language_name` field from the enrich index as a new column.

Rename the added column:

```esql
ROW a = "1"
| ENRICH languages_policy ON a WITH name = language_name
```
This query creates a row with a column `a` set to "1", enriches it using the `languages_policy` policy, matches on the `a` column, and adds the `language_name` field from the enrich index as a new column named `name`.

In case of name collisions, the newly created columns will override existing columns.
