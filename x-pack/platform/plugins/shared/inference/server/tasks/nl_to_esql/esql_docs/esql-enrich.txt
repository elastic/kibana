## ENRICH

The `ENRICH` command allows you to add data from existing indices as new columns using an enrich policy.

## Syntax

`ENRICH policy [ON match_field] [WITH [new_name1 = ]field1, [new_name2 = ]field2, ...]`

### Parameters

#### `policy`

The name of the enrich policy. You must create and execute the enrich policy before using it.

#### `mode`

(Optional) The mode of the enrich command in cross-cluster queries. Refer to enrich across clusters for more details.

#### `match_field`

(Optional) The field used to match records in the enrich index. If not specified, the match is performed on the column with the same name as the `match_field` defined in the enrich policy.

#### `fieldX`

(Optional) The enrich fields from the enrich index to be added as new columns. If a column with the same name as the enrich field already exists, it will be replaced. If not specified, all enrich fields defined in the policy are added. Columns with the same name as the enrich fields will be dropped unless renamed.

#### `new_nameX`

(Optional) Allows you to rename the columns added for each enrich field. Defaults to the enrich field name. If a column with the same name as the new name already exists, it will be discarded. If multiple columns are renamed to the same name, only the rightmost column is retained.

## Examples

### Example 1: Basic usage

Add a new column for each enrich field defined in the `languages_policy` enrich policy. The match is performed using the `match_field` defined in the policy, requiring the input table to have a column with the same name (`language_code` in this case).

```esql
ROW language_code = "1"
| ENRICH languages_policy
```

### Example 2: Using a different match field

Use a column with a different name than the `match_field` defined in the policy as the match field.

```esql
ROW a = "1"
| ENRICH languages_policy ON a
```

### Example 3: Selecting specific enrich fields

Explicitly select specific enrich fields to add as columns.

```esql
ROW a = "1"
| ENRICH languages_policy ON a WITH language_name
```

### Example 4: Renaming added columns

Rename the columns added for the enrich fields.

```esql
ROW a = "1"
| ENRICH languages_policy ON a WITH name = language_name
```

**Note:** In case of name collisions, the newly created columns will override existing columns.