.lnsLayerPanel {
  margin-bottom: $euiSize;

  // disable focus ring for mouse clicks, leave it for keyboard users
  &:focus:not(:focus-visible) {
    animation: none !important; // sass-lint:disable-line no-important
  }
}

.lnsLayerPanel__row {
  padding: $euiSize;

  &:last-child {
    border-radius: 0 0 $euiBorderRadius $euiBorderRadius;
  }

  // Add border to the top of the next same panel
  &+& {
    border-top: $euiBorderThin;
    margin-top: 0;
  }

  &>* {
    margin-bottom: 0;
  }

  // Targeting EUI class as we are unable to apply a class to this element in component
  &,
  .euiFormRow__fieldWrapper {
    &>*+* {
      margin-top: $euiSizeS;
    }
  }
}


// Removes EUI focus ring
@mixin removeEuiFocusRing {
  outline: none;

  &:focus-visible {
    outline-style: none;
  }
}

// Passes focus ring styles down to a child of a focused element
@mixin passDownFocusRing($target) {
  @include removeEuiFocusRing;

  #{$target} {
    @include euiFocusBackground;
    outline: $euiFocusRingSize solid currentColor; // Safari & Firefox
  }

  &:focus-visible #{$target} {
    outline-style: auto; // Chrome
  }

  &:not(:focus-visible) #{$target} {
    outline: none;
  }
}

// Added .lnsLayerPanel__dimension specificity required for animation style override
.lnsLayerPanel__dimension .lnsLayerPanel__dimensionLink {
  &:focus {
    background-color: transparent;
    text-decoration-thickness: $euiBorderWidthThin !important;
    @include passDownFocusRing('.dimensionTrigger__textLabel');
  }
}