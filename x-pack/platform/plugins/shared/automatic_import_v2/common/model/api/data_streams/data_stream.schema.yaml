openapi: 3.0.3
info:
  title: Automatic Import Integrations API endpoint
  version: "1"
paths:
  /internal/automatic_import/integrations/{integration_id}/data_streams/{data_stream_id}:
    delete:
      summary: Deletes a data stream by its id.
      operationId: DeleteDataStream
      x-codegen-enabled: true
      x-internal: true
      description: >-
        Deletes a data stream by its id.
      tags:
        - Automatic Import Integrations
      parameters:
        - name: integration_id
          in: path
          required: true
          description: The integration identifier
          schema:
            $ref: "../../../model/primitive.schema.yaml#/components/schemas/NonEmptyString"
        - name: data_stream_id
          in: path
          required: true
          description: The data stream identifier
          schema:
            $ref: "../../../model/primitive.schema.yaml#/components/schemas/NonEmptyString"
      responses:
        200:
          description: The data stream is deleted successfully.
        404:
          description: The data stream is not found.
        500:
          description: An internal server error occurred.
  /internal/automatic_import/integrations/{integration_id}/data_streams/{data_stream_id}/upload:
    post:
      summary: Uploads samples to a data stream.
      operationId: UploadSamplesToDataStream
      x-codegen-enabled: true
      x-internal: true
      description: >-
        Uploads samples to a data stream.
      tags:
        - Automatic Import Integrations
      parameters:
        - name: integration_id
          in: path
          required: true
          description: The integration identifier
          schema:
            $ref: "../../../model/primitive.schema.yaml#/components/schemas/NonEmptyString"
        - name: data_stream_id
          in: path
          required: true
          description: The data stream identifier
          schema:
            $ref: "../../../model/primitive.schema.yaml#/components/schemas/NonEmptyString"
      requestBody:
        required: true
        additionalProperties: false
        content:
          application/json:
            schema:
              type: object
              required:
                - samples
                - originalSource
              properties:
                samples:
                  type: array
                  items:
                    minItems: 1
                    type: string
                  description: The samples to upload
                originalSource:
                  description: The original source of the samples
                  $ref: "../../../model/common_attributes.schema.yaml#/components/schemas/OriginalSource"
      responses:
        200:
          description: The samples are uploaded successfully.
          content:
            application/json:
              schema:
                type: object
                additionalProperties: false
                properties:
                  success:
                    type: boolean
                    description: Indicates if the samples are uploaded successfully.
        400:
          description: The request is invalid.
        500:
          description: An internal server error occurred.
  /internal/automatic_import/integrations/{integration_id}/data_streams/{data_stream_id}/stop:
    post:
      summary: Stops a data stream by its id.
      operationId: StopAutoImportDataStream
      x-codegen-enabled: true
      x-internal: true
      description: >-
        Stops a data stream by its id.
      tags:
        - Automatic Import Integrations
      parameters:
        - name: integration_id
          in: path
          required: true
          description: The integration identifier
          schema:
            $ref: "../../../model/primitive.schema.yaml#/components/schemas/NonEmptyString"
        - name: data_stream_id
          in: path
          required: true
          description: The data stream identifier
          schema:
            $ref: "../../../model/primitive.schema.yaml#/components/schemas/NonEmptyString"
      responses:
        200:
          description: The data stream is stopped.
        404:
          description: The data stream is not found.
