## KQL Query Syntax Guide

### Core Syntax Rule
**`field:value`** - Search for `value` within the specified `field`

### Key Principles

#### 1. Exact Phrase Matching
- **Quotes preserve exact phrases**: `message:"dark cat"` finds documents where the `message` field contains the exact phrase "dark cat"
- **Without quotes**: `message:dark cat` searches for "dark" in the `message` field AND "cat" anywhere in the document. You should never use this.

#### 2. Wildcards
- **`*` matches zero or more characters**: `body.text:"another * thing"` matches "another thing", "another wild thing", "another small furry thing", etc.
- Wildcards work within quoted phrases to maintain phrase structure while allowing flexibility

#### 3. Boolean Operators
- **`or`**: Combines multiple conditions where at least one must match
  - `message:"dark cat" or message:"dark dog"` returns documents with either phrase
- **`and`**: Requires all conditions to match
  - `body.text:"another * thing" and message:"dark"` returns documents that have both conditions
- **Operators are case-insensitive**: `OR`, `or`, `And`, `AND` all work

#### 4. Nested Field Access
- **Use dot notation for nested fields**: `body.text:"value"` searches within the `text` field inside the `body` object
- Can chain multiple levels: `body.metadata.author:"John"`

### Query Construction Rules

1. **Always specify the field explicitly** when you want to search within a specific field
2. **Use quotes for phrases** containing spaces or special characters
3. **Parentheses group conditions**: `(message:"cat" or message:"dog") and status:active`
4. **Default behavior without field**: Searching just `"dark cat"` searches across all searchable fields

### Examples Explained

- `message:"dark cat" or message:"dark dog"` → Documents where message field contains either exact phrase
- `message:"dark"` → Documents where message field contains the word "dark"
- `body.text:"another * thing"` → Documents where body.text field contains "another" followed by any text and then "thing"
- `body.text:"another * thing" and message:"dark"` → Documents matching both conditions simultaneously