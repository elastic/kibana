version: '1'
name: 'sources.tavily.map'
description: "Map a website's structure by returning a list of URLs found starting from a base URL"
tags: ['agent-builder-tool']
enabled: true
triggers:
  - type: 'manual'
inputs:
  - name: url
    type: string
    required: true
    description: 'The root URL to begin the mapping'
  - name: max_depth
    type: number
    required: false
    default: 1
    description: 'Max depth of the mapping. Defines how far from the base URL the crawler can explore.'
  - name: max_breadth
    type: number
    required: false
    default: 20
    description: 'Max number of links to follow per level of the tree (i.e., per page)'
  - name: limit
    type: number
    required: false
    default: 50
    description: 'Total number of links the crawler will process before stopping'
  - name: instructions
    type: string
    required: false
    description: 'Natural language instructions for the crawler'
steps:
  - name: tavily-map
    type: mcp.callTool
    connector-id: <%= stackConnectorId %>
    with:
      name: "tavily_map"
      arguments:
        url: "${{inputs.url}}"
        max_depth: ${{inputs.max_depth}}
        max_breadth: ${{inputs.max_breadth}}
        limit: ${{inputs.limit}}
        instructions: "${{inputs.instructions}}"
