{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-elasticsearch.stack_monitoring.cluster_stats-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "elasticsearch"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-elasticsearch.stack_monitoring.cluster_stats-*"
      ],
      "name": "metrics-elasticsearch.stack_monitoring.cluster_stats",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "elasticsearch"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_state": {
              "properties": {
                "master_node": {
                  "path": "elasticsearch.cluster.stats.state.master_node",
                  "type": "alias"
                },
                "nodes_hash": {
                  "path": "elasticsearch.cluster.stats.state.nodes_hash",
                  "type": "alias"
                },
                "state_uuid": {
                  "path": "elasticsearch.cluster.stats.state.state_uuid",
                  "type": "alias"
                },
                "status": {
                  "path": "elasticsearch.cluster.stats.status",
                  "type": "alias"
                },
                "version": {
                  "path": "elasticsearch.cluster.stats.state.version",
                  "type": "alias"
                }
              }
            },
            "cluster_stats": {
              "properties": {
                "indices": {
                  "properties": {
                    "count": {
                      "path": "elasticsearch.cluster.stats.indices.total",
                      "type": "alias"
                    },
                    "shards": {
                      "properties": {
                        "total": {
                          "path": "elasticsearch.cluster.stats.indices.shards.count",
                          "type": "alias"
                        }
                      }
                    }
                  }
                },
                "nodes": {
                  "properties": {
                    "count": {
                      "properties": {
                        "total": {
                          "path": "elasticsearch.cluster.stats.nodes.count",
                          "type": "alias"
                        }
                      }
                    },
                    "jvm": {
                      "properties": {
                        "max_uptime_in_millis": {
                          "path": "elasticsearch.cluster.stats.nodes.jvm.max_uptime.ms",
                          "type": "alias"
                        },
                        "mem": {
                          "properties": {
                            "heap_max_in_bytes": {
                              "path": "elasticsearch.cluster.stats.nodes.jvm.memory.heap.max.bytes",
                              "type": "alias"
                            },
                            "heap_used_in_bytes": {
                              "path": "elasticsearch.cluster.stats.nodes.jvm.memory.heap.used.bytes",
                              "type": "alias"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "cluster_uuid": {
              "path": "elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "elasticsearch": {
              "properties": {
                "cluster": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "state": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    },
                    "stats": {
                      "properties": {
                        "indices": {
                          "properties": {
                            "docs": {
                              "properties": {
                                "total": {
                                  "type": "long"
                                }
                              }
                            },
                            "fielddata": {
                              "properties": {
                                "memory": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "shards": {
                              "properties": {
                                "count": {
                                  "type": "long"
                                },
                                "primaries": {
                                  "type": "long"
                                }
                              }
                            },
                            "store": {
                              "properties": {
                                "size": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "total": {
                              "type": "long"
                            }
                          }
                        },
                        "license": {
                          "properties": {
                            "cluster_needs_tls": {
                              "type": "boolean"
                            },
                            "expiry_date": {
                              "type": "date"
                            },
                            "expiry_date_in_millis": {
                              "type": "long"
                            },
                            "issue_date": {
                              "type": "date"
                            },
                            "issue_date_in_millis": {
                              "type": "long"
                            },
                            "issued_to": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "issuer": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "max_nodes": {
                              "type": "long"
                            },
                            "start_date_in_millis": {
                              "type": "long"
                            },
                            "status": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "type": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "uid": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            }
                          }
                        },
                        "nodes": {
                          "properties": {
                            "count": {
                              "type": "long"
                            },
                            "data": {
                              "type": "long"
                            },
                            "fs": {
                              "properties": {
                                "available": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "total": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "jvm": {
                              "properties": {
                                "max_uptime": {
                                  "properties": {
                                    "ms": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "memory": {
                                  "properties": {
                                    "heap": {
                                      "properties": {
                                        "max": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "used": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "master": {
                              "type": "long"
                            },
                            "stats": {
                              "properties": {
                                "data": {
                                  "type": "long"
                                }
                              }
                            },
                            "versions": {
                              "type": "text"
                            }
                          }
                        },
                        "stack": {
                          "properties": {
                            "apm": {
                              "properties": {
                                "found": {
                                  "type": "boolean"
                                }
                              }
                            },
                            "xpack": {
                              "properties": {
                                "ccr": {
                                  "properties": {
                                    "available": {
                                      "type": "boolean"
                                    },
                                    "enabled": {
                                      "type": "boolean"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "state": {
                          "properties": {
                            "master_node": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "nodes": {
                              "type": "flattened"
                            },
                            "nodes_hash": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "state_uuid": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "version": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            }
                          }
                        },
                        "status": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        },
                        "version": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "node": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "master": {
                      "type": "boolean"
                    },
                    "mlockall": {
                      "type": "boolean"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                },
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "license": {
              "properties": {
                "status": {
                  "path": "elasticsearch.cluster.stats.license.status",
                  "type": "alias"
                },
                "type": {
                  "path": "elasticsearch.cluster.stats.license.type",
                  "type": "alias"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "source_node": {
              "properties": {
                "name": {
                  "path": "elasticsearch.node.name",
                  "type": "alias"
                },
                "uuid": {
                  "path": "elasticsearch.node.id",
                  "type": "alias"
                }
              }
            },
            "stack_stats": {
              "properties": {
                "apm": {
                  "properties": {
                    "found": {
                      "path": "elasticsearch.cluster.stats.stack.apm.found",
                      "type": "alias"
                    }
                  }
                },
                "xpack": {
                  "properties": {
                    "ccr": {
                      "properties": {
                        "available": {
                          "path": "elasticsearch.cluster.stats.stack.xpack.ccr.available",
                          "type": "alias"
                        },
                        "enabled": {
                          "path": "elasticsearch.cluster.stats.stack.xpack.ccr.enabled",
                          "type": "alias"
                        }
                      }
                    }
                  }
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "service.address",
                "service.type",
                "service.name",
                "error.message",
                "elasticsearch.cluster.stats.version",
                "elasticsearch.cluster.stats.state.nodes_hash",
                "elasticsearch.cluster.stats.state.master_node",
                "elasticsearch.cluster.stats.state.version",
                "elasticsearch.cluster.stats.state.state_uuid",
                "elasticsearch.cluster.stats.status",
                "elasticsearch.cluster.stats.nodes.versions",
                "elasticsearch.cluster.stats.license.issued_to",
                "elasticsearch.cluster.stats.license.issuer",
                "elasticsearch.cluster.stats.license.status",
                "elasticsearch.cluster.stats.license.type",
                "elasticsearch.cluster.stats.license.uid",
                "elasticsearch.cluster.name",
                "elasticsearch.cluster.id",
                "elasticsearch.cluster.state.id",
                "elasticsearch.version",
                "elasticsearch.node.id",
                "elasticsearch.node.name"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-elasticsearch.stack_monitoring.enrich-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "elasticsearch"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-elasticsearch.stack_monitoring.enrich-*"
      ],
      "name": "metrics-elasticsearch.stack_monitoring.enrich",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "elasticsearch"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "elasticsearch": {
              "properties": {
                "cluster": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "state": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "enrich": {
                  "properties": {
                    "executed_searches": {
                      "properties": {
                        "total": {
                          "type": "long"
                        }
                      }
                    },
                    "executing_policy": {
                      "properties": {
                        "name": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        },
                        "task": {
                          "properties": {
                            "action": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "cancellable": {
                              "type": "boolean"
                            },
                            "id": {
                              "type": "long"
                            },
                            "parent_task_id": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "task": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "time": {
                              "properties": {
                                "running": {
                                  "properties": {
                                    "nano": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "start": {
                                  "properties": {
                                    "ms": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "queue": {
                      "properties": {
                        "size": {
                          "type": "long"
                        }
                      }
                    },
                    "remote_requests": {
                      "properties": {
                        "current": {
                          "type": "long"
                        },
                        "total": {
                          "type": "long"
                        }
                      }
                    }
                  }
                },
                "node": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "master": {
                      "type": "boolean"
                    },
                    "mlockall": {
                      "type": "boolean"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "source_node": {
              "properties": {
                "name": {
                  "path": "elasticsearch.node.name",
                  "type": "alias"
                },
                "uuid": {
                  "path": "elasticsearch.node.id",
                  "type": "alias"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "service.address",
                "service.type",
                "service.name",
                "error.message",
                "elasticsearch.enrich.executing_policy.name",
                "elasticsearch.enrich.executing_policy.task.task",
                "elasticsearch.enrich.executing_policy.task.action",
                "elasticsearch.enrich.executing_policy.task.parent_task_id",
                "elasticsearch.cluster.name",
                "elasticsearch.cluster.id",
                "elasticsearch.cluster.state.id",
                "elasticsearch.node.id",
                "elasticsearch.node.name"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-elasticsearch.stack_monitoring.index-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "elasticsearch"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-elasticsearch.stack_monitoring.index-*"
      ],
      "name": "metrics-elasticsearch.stack_monitoring.index",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "elasticsearch"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "elasticsearch": {
              "properties": {
                "cluster": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "state": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "index": {
                  "properties": {
                    "created": {
                      "type": "long"
                    },
                    "hidden": {
                      "type": "boolean"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "primaries": {
                      "properties": {
                        "docs": {
                          "properties": {
                            "count": {
                              "type": "long"
                            },
                            "deleted": {
                              "type": "long"
                            }
                          }
                        },
                        "indexing": {
                          "properties": {
                            "index_time_in_millis": {
                              "type": "long"
                            },
                            "index_total": {
                              "type": "long"
                            },
                            "throttle_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "merges": {
                          "properties": {
                            "total_size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "query_cache": {
                          "properties": {
                            "hit_count": {
                              "type": "long"
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            },
                            "miss_count": {
                              "type": "long"
                            }
                          }
                        },
                        "refresh": {
                          "properties": {
                            "external_total_time_in_millis": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "request_cache": {
                          "properties": {
                            "evictions": {
                              "type": "long"
                            },
                            "hit_count": {
                              "type": "long"
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            },
                            "miss_count": {
                              "type": "long"
                            }
                          }
                        },
                        "search": {
                          "properties": {
                            "query_time_in_millis": {
                              "type": "long"
                            },
                            "query_total": {
                              "type": "long"
                            }
                          }
                        },
                        "segments": {
                          "properties": {
                            "count": {
                              "type": "long"
                            },
                            "doc_values_memory_in_bytes": {
                              "type": "long"
                            },
                            "fixed_bit_set_memory_in_bytes": {
                              "type": "long"
                            },
                            "index_writer_memory_in_bytes": {
                              "type": "long"
                            },
                            "memory_in_bytes": {
                              "type": "long"
                            },
                            "norms_memory_in_bytes": {
                              "type": "long"
                            },
                            "points_memory_in_bytes": {
                              "type": "long"
                            },
                            "stored_fields_memory_in_bytes": {
                              "type": "long"
                            },
                            "term_vectors_memory_in_bytes": {
                              "type": "long"
                            },
                            "terms_memory_in_bytes": {
                              "type": "long"
                            },
                            "version_map_memory_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "store": {
                          "properties": {
                            "size_in_bytes": {
                              "type": "long"
                            }
                          }
                        }
                      }
                    },
                    "shards": {
                      "properties": {
                        "primaries": {
                          "type": "long"
                        },
                        "total": {
                          "type": "long"
                        }
                      }
                    },
                    "status": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "total": {
                      "properties": {
                        "bulk": {
                          "properties": {
                            "avg_size_in_bytes": {
                              "type": "long"
                            },
                            "avg_time_in_millis": {
                              "type": "long"
                            },
                            "total_operations": {
                              "type": "long"
                            },
                            "total_size_in_bytes": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "docs": {
                          "properties": {
                            "count": {
                              "type": "long"
                            },
                            "deleted": {
                              "type": "long"
                            }
                          }
                        },
                        "fielddata": {
                          "properties": {
                            "evictions": {
                              "type": "long"
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "indexing": {
                          "properties": {
                            "index_time_in_millis": {
                              "type": "long"
                            },
                            "index_total": {
                              "type": "long"
                            },
                            "throttle_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "merges": {
                          "properties": {
                            "total_size_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "query_cache": {
                          "properties": {
                            "evictions": {
                              "type": "long"
                            },
                            "hit_count": {
                              "type": "long"
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            },
                            "miss_count": {
                              "type": "long"
                            }
                          }
                        },
                        "refresh": {
                          "properties": {
                            "external_total_time_in_millis": {
                              "type": "long"
                            },
                            "total_time_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "request_cache": {
                          "properties": {
                            "evictions": {
                              "type": "long"
                            },
                            "hit_count": {
                              "type": "long"
                            },
                            "memory_size_in_bytes": {
                              "type": "long"
                            },
                            "miss_count": {
                              "type": "long"
                            }
                          }
                        },
                        "search": {
                          "properties": {
                            "query_time_in_millis": {
                              "type": "long"
                            },
                            "query_total": {
                              "type": "long"
                            }
                          }
                        },
                        "segments": {
                          "properties": {
                            "count": {
                              "type": "long"
                            },
                            "doc_values_memory_in_bytes": {
                              "type": "long"
                            },
                            "fixed_bit_set_memory_in_bytes": {
                              "type": "long"
                            },
                            "index_writer_memory_in_bytes": {
                              "type": "long"
                            },
                            "memory": {
                              "properties": {
                                "bytes": {
                                  "type": "long"
                                }
                              }
                            },
                            "memory_in_bytes": {
                              "type": "long"
                            },
                            "norms_memory_in_bytes": {
                              "type": "long"
                            },
                            "points_memory_in_bytes": {
                              "type": "long"
                            },
                            "stored_fields_memory_in_bytes": {
                              "type": "long"
                            },
                            "term_vectors_memory_in_bytes": {
                              "type": "long"
                            },
                            "terms_memory_in_bytes": {
                              "type": "long"
                            },
                            "version_map_memory_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "store": {
                          "properties": {
                            "size": {
                              "properties": {
                                "bytes": {
                                  "type": "long"
                                }
                              }
                            },
                            "size_in_bytes": {
                              "type": "long"
                            }
                          }
                        }
                      }
                    },
                    "uuid": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                },
                "node": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "master": {
                      "type": "boolean"
                    },
                    "mlockall": {
                      "type": "boolean"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "index_stats": {
              "properties": {
                "index": {
                  "path": "elasticsearch.index.name",
                  "type": "alias"
                },
                "primaries": {
                  "properties": {
                    "docs": {
                      "properties": {
                        "count": {
                          "path": "elasticsearch.index.primaries.docs.count",
                          "type": "alias"
                        }
                      }
                    },
                    "indexing": {
                      "properties": {
                        "index_time_in_millis": {
                          "path": "elasticsearch.index.primaries.indexing.index_time_in_millis",
                          "type": "alias"
                        },
                        "index_total": {
                          "path": "elasticsearch.index.primaries.indexing.index_total",
                          "type": "alias"
                        },
                        "throttle_time_in_millis": {
                          "path": "elasticsearch.index.primaries.indexing.throttle_time_in_millis",
                          "type": "alias"
                        }
                      }
                    },
                    "merges": {
                      "properties": {
                        "total_size_in_bytes": {
                          "path": "elasticsearch.index.primaries.merges.total_size_in_bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "refresh": {
                      "properties": {
                        "total_time_in_millis": {
                          "path": "elasticsearch.index.primaries.refresh.total_time_in_millis",
                          "type": "alias"
                        }
                      }
                    },
                    "segments": {
                      "properties": {
                        "count": {
                          "path": "elasticsearch.index.primaries.segments.count",
                          "type": "alias"
                        }
                      }
                    },
                    "store": {
                      "properties": {
                        "size_in_bytes": {
                          "path": "elasticsearch.index.primaries.store.size_in_bytes",
                          "type": "alias"
                        }
                      }
                    }
                  }
                },
                "total": {
                  "properties": {
                    "fielddata": {
                      "properties": {
                        "memory_size_in_bytes": {
                          "path": "elasticsearch.index.total.fielddata.memory_size_in_bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "indexing": {
                      "properties": {
                        "index_time_in_millis": {
                          "path": "elasticsearch.index.total.indexing.index_time_in_millis",
                          "type": "alias"
                        },
                        "index_total": {
                          "path": "elasticsearch.index.total.indexing.index_total",
                          "type": "alias"
                        },
                        "throttle_time_in_millis": {
                          "path": "elasticsearch.index.total.indexing.throttle_time_in_millis",
                          "type": "alias"
                        }
                      }
                    },
                    "merges": {
                      "properties": {
                        "total_size_in_bytes": {
                          "path": "elasticsearch.index.total.merges.total_size_in_bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "query_cache": {
                      "properties": {
                        "memory_size_in_bytes": {
                          "path": "elasticsearch.index.total.query_cache.memory_size_in_bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "refresh": {
                      "properties": {
                        "total_time_in_millis": {
                          "path": "elasticsearch.index.total.refresh.total_time_in_millis",
                          "type": "alias"
                        }
                      }
                    },
                    "request_cache": {
                      "properties": {
                        "memory_size_in_bytes": {
                          "path": "elasticsearch.index.total.request_cache.memory_size_in_bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "search": {
                      "properties": {
                        "query_time_in_millis": {
                          "path": "elasticsearch.index.total.search.query_time_in_millis",
                          "type": "alias"
                        },
                        "query_total": {
                          "path": "elasticsearch.index.total.search.query_total",
                          "type": "alias"
                        }
                      }
                    },
                    "segments": {
                      "properties": {
                        "count": {
                          "path": "elasticsearch.index.total.segments.count",
                          "type": "alias"
                        },
                        "doc_values_memory_in_bytes": {
                          "path": "elasticsearch.index.total.segments.doc_values_memory_in_bytes",
                          "type": "alias"
                        },
                        "fixed_bit_set_memory_in_bytes": {
                          "path": "elasticsearch.index.total.segments.fixed_bit_set_memory_in_bytes",
                          "type": "alias"
                        },
                        "index_writer_memory_in_bytes": {
                          "path": "elasticsearch.index.total.segments.index_writer_memory_in_bytes",
                          "type": "alias"
                        },
                        "memory_in_bytes": {
                          "path": "elasticsearch.index.total.segments.memory_in_bytes",
                          "type": "alias"
                        },
                        "norms_memory_in_bytes": {
                          "path": "elasticsearch.index.total.segments.norms_memory_in_bytes",
                          "type": "alias"
                        },
                        "points_memory_in_bytes": {
                          "path": "elasticsearch.index.total.segments.points_memory_in_bytes",
                          "type": "alias"
                        },
                        "stored_fields_memory_in_bytes": {
                          "path": "elasticsearch.index.total.segments.stored_fields_memory_in_bytes",
                          "type": "alias"
                        },
                        "term_vectors_memory_in_bytes": {
                          "path": "elasticsearch.index.total.segments.term_vectors_memory_in_bytes",
                          "type": "alias"
                        },
                        "terms_memory_in_bytes": {
                          "path": "elasticsearch.index.total.segments.terms_memory_in_bytes",
                          "type": "alias"
                        },
                        "version_map_memory_in_bytes": {
                          "path": "elasticsearch.index.total.segments.version_map_memory_in_bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "store": {
                      "properties": {
                        "size_in_bytes": {
                          "path": "elasticsearch.index.total.store.size_in_bytes",
                          "type": "alias"
                        }
                      }
                    }
                  }
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "source_node": {
              "properties": {
                "name": {
                  "path": "elasticsearch.node.name",
                  "type": "alias"
                },
                "uuid": {
                  "path": "elasticsearch.node.id",
                  "type": "alias"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "service.address",
                "service.type",
                "service.name",
                "error.message",
                "elasticsearch.index.uuid",
                "elasticsearch.index.status",
                "elasticsearch.index.name",
                "elasticsearch.cluster.name",
                "elasticsearch.cluster.id",
                "elasticsearch.cluster.state.id",
                "elasticsearch.node.id",
                "elasticsearch.node.name"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-elasticsearch.stack_monitoring.index_recovery-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "elasticsearch"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-elasticsearch.stack_monitoring.index_recovery-*"
      ],
      "name": "metrics-elasticsearch.stack_monitoring.index_recovery",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "elasticsearch"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "elasticsearch": {
              "properties": {
                "cluster": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "state": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "index": {
                  "properties": {
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "recovery": {
                      "properties": {
                        "id": {
                          "type": "long"
                        },
                        "index": {
                          "properties": {
                            "files": {
                              "properties": {
                                "percent": {
                                  "ignore_above": 1024,
                                  "type": "keyword"
                                },
                                "recovered": {
                                  "type": "long"
                                },
                                "reused": {
                                  "type": "long"
                                },
                                "total": {
                                  "type": "long"
                                }
                              }
                            },
                            "size": {
                              "properties": {
                                "recovered_in_bytes": {
                                  "type": "long"
                                },
                                "reused_in_bytes": {
                                  "type": "long"
                                },
                                "total_in_bytes": {
                                  "type": "long"
                                }
                              }
                            }
                          }
                        },
                        "name": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        },
                        "primary": {
                          "type": "boolean"
                        },
                        "source": {
                          "properties": {
                            "host": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "id": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "name": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "transport_address": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            }
                          }
                        },
                        "stage": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        },
                        "start_time": {
                          "properties": {
                            "ms": {
                              "type": "long"
                            }
                          }
                        },
                        "stop_time": {
                          "properties": {
                            "ms": {
                              "type": "long"
                            }
                          }
                        },
                        "target": {
                          "properties": {
                            "host": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "id": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "name": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "transport_address": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            }
                          }
                        },
                        "total_time": {
                          "properties": {
                            "ms": {
                              "type": "long"
                            }
                          }
                        },
                        "translog": {
                          "properties": {
                            "percent": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "total": {
                              "type": "long"
                            },
                            "total_on_start": {
                              "type": "long"
                            }
                          }
                        },
                        "type": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        },
                        "verify_index": {
                          "properties": {
                            "check_index_time": {
                              "properties": {
                                "ms": {
                                  "type": "long"
                                }
                              }
                            },
                            "total_time": {
                              "properties": {
                                "ms": {
                                  "type": "long"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "node": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "master": {
                      "type": "boolean"
                    },
                    "mlockall": {
                      "type": "boolean"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "index_recovery": {
              "properties": {
                "shards": {
                  "properties": {
                    "start_time_in_millis": {
                      "path": "elasticsearch.index.recovery.start_time.ms",
                      "type": "alias"
                    },
                    "stop_time_in_millis": {
                      "path": "elasticsearch.index.recovery.stop_time.ms",
                      "type": "alias"
                    }
                  }
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "source_node": {
              "properties": {
                "name": {
                  "path": "elasticsearch.node.name",
                  "type": "alias"
                },
                "uuid": {
                  "path": "elasticsearch.node.id",
                  "type": "alias"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "service.address",
                "service.type",
                "service.name",
                "error.message",
                "elasticsearch.index.name",
                "elasticsearch.index.recovery.index.files.percent",
                "elasticsearch.index.recovery.name",
                "elasticsearch.index.recovery.type",
                "elasticsearch.index.recovery.stage",
                "elasticsearch.index.recovery.translog.percent",
                "elasticsearch.index.recovery.target.transport_address",
                "elasticsearch.index.recovery.target.id",
                "elasticsearch.index.recovery.target.host",
                "elasticsearch.index.recovery.target.name",
                "elasticsearch.index.recovery.source.transport_address",
                "elasticsearch.index.recovery.source.id",
                "elasticsearch.index.recovery.source.host",
                "elasticsearch.index.recovery.source.name",
                "elasticsearch.cluster.name",
                "elasticsearch.cluster.id",
                "elasticsearch.cluster.state.id",
                "elasticsearch.node.id",
                "elasticsearch.node.name"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-elasticsearch.stack_monitoring.index_summary-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "elasticsearch"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-elasticsearch.stack_monitoring.index_summary-*"
      ],
      "name": "metrics-elasticsearch.stack_monitoring.index_summary",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "elasticsearch"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "elasticsearch": {
              "properties": {
                "cluster": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "state": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "index": {
                  "properties": {
                    "summary": {
                      "properties": {
                        "primaries": {
                          "properties": {
                            "bulk": {
                              "properties": {
                                "operations": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "size": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "time": {
                                  "properties": {
                                    "avg": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        },
                                        "ms": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "count": {
                                      "properties": {
                                        "ms": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "docs": {
                              "properties": {
                                "count": {
                                  "type": "long"
                                },
                                "deleted": {
                                  "type": "long"
                                }
                              }
                            },
                            "indexing": {
                              "properties": {
                                "index": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    },
                                    "time": {
                                      "properties": {
                                        "ms": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "search": {
                              "properties": {
                                "query": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    },
                                    "time": {
                                      "properties": {
                                        "ms": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "segments": {
                              "properties": {
                                "count": {
                                  "type": "long"
                                },
                                "memory": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "store": {
                              "properties": {
                                "size": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "total": {
                          "properties": {
                            "bulk": {
                              "properties": {
                                "operations": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "size": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "time": {
                                  "properties": {
                                    "avg": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        },
                                        "ms": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "docs": {
                              "properties": {
                                "count": {
                                  "type": "long"
                                },
                                "deleted": {
                                  "type": "long"
                                }
                              }
                            },
                            "indexing": {
                              "properties": {
                                "index": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    },
                                    "time": {
                                      "properties": {
                                        "ms": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "is_throttled": {
                                  "type": "boolean"
                                },
                                "throttle_time": {
                                  "properties": {
                                    "ms": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "search": {
                              "properties": {
                                "query": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    },
                                    "time": {
                                      "properties": {
                                        "ms": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "segments": {
                              "properties": {
                                "count": {
                                  "type": "long"
                                },
                                "memory": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "store": {
                              "properties": {
                                "size": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "node": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "master": {
                      "type": "boolean"
                    },
                    "mlockall": {
                      "type": "boolean"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "indices_stats": {
              "properties": {
                "_all": {
                  "properties": {
                    "primaries": {
                      "properties": {
                        "indexing": {
                          "properties": {
                            "index_time_in_millis": {
                              "path": "elasticsearch.index.summary.primaries.indexing.index.time.ms",
                              "type": "alias"
                            },
                            "index_total": {
                              "path": "elasticsearch.index.summary.primaries.indexing.index.count",
                              "type": "alias"
                            }
                          }
                        }
                      }
                    },
                    "total": {
                      "properties": {
                        "indexing": {
                          "properties": {
                            "index_total": {
                              "path": "elasticsearch.index.summary.total.indexing.index.count",
                              "type": "alias"
                            }
                          }
                        },
                        "search": {
                          "properties": {
                            "query_time_in_millis": {
                              "path": "elasticsearch.index.summary.total.search.query.time.ms",
                              "type": "alias"
                            },
                            "query_total": {
                              "path": "elasticsearch.index.summary.total.search.query.count",
                              "type": "alias"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "source_node": {
              "properties": {
                "name": {
                  "path": "elasticsearch.node.name",
                  "type": "alias"
                },
                "uuid": {
                  "path": "elasticsearch.node.id",
                  "type": "alias"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "service.address",
                "service.type",
                "service.name",
                "error.message",
                "elasticsearch.cluster.name",
                "elasticsearch.cluster.id",
                "elasticsearch.cluster.state.id",
                "elasticsearch.node.id",
                "elasticsearch.node.name"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-elasticsearch.stack_monitoring.node-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "elasticsearch"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-elasticsearch.stack_monitoring.node-*"
      ],
      "name": "metrics-elasticsearch.stack_monitoring.node",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "elasticsearch"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "elasticsearch": {
              "properties": {
                "cluster": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "state": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "node": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "jvm": {
                      "properties": {
                        "memory": {
                          "properties": {
                            "heap": {
                              "properties": {
                                "init": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "max": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "nonheap": {
                              "properties": {
                                "init": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "max": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "version": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    },
                    "master": {
                      "type": "boolean"
                    },
                    "mlockall": {
                      "type": "boolean"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "process": {
                      "properties": {
                        "mlockall": {
                          "type": "boolean"
                        }
                      }
                    },
                    "version": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "source_node": {
              "properties": {
                "name": {
                  "path": "elasticsearch.node.name",
                  "type": "alias"
                },
                "uuid": {
                  "path": "elasticsearch.node.id",
                  "type": "alias"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "service.address",
                "service.type",
                "service.name",
                "error.message",
                "elasticsearch.node.version",
                "elasticsearch.node.jvm.version",
                "elasticsearch.node.id",
                "elasticsearch.node.name",
                "elasticsearch.cluster.name",
                "elasticsearch.cluster.id",
                "elasticsearch.cluster.state.id"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-elasticsearch.stack_monitoring.node_stats-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "elasticsearch"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-elasticsearch.stack_monitoring.node_stats-*"
      ],
      "name": "metrics-elasticsearch.stack_monitoring.node_stats",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "elasticsearch"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "elasticsearch": {
              "properties": {
                "cluster": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "state": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "node": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "master": {
                      "type": "boolean"
                    },
                    "mlockall": {
                      "type": "boolean"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "stats": {
                      "properties": {
                        "fs": {
                          "properties": {
                            "io_stats": {
                              "properties": {
                                "total": {
                                  "properties": {
                                    "operations": {
                                      "properties": {
                                        "count": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "read": {
                                      "properties": {
                                        "operations": {
                                          "properties": {
                                            "count": {
                                              "type": "long"
                                            }
                                          }
                                        }
                                      }
                                    },
                                    "write": {
                                      "properties": {
                                        "operations": {
                                          "properties": {
                                            "count": {
                                              "type": "long"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "summary": {
                              "properties": {
                                "available": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "free": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "total": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "total": {
                              "properties": {
                                "available_in_bytes": {
                                  "type": "long"
                                },
                                "total_in_bytes": {
                                  "type": "long"
                                }
                              }
                            }
                          }
                        },
                        "indexing_pressure": {
                          "properties": {
                            "memory": {
                              "properties": {
                                "current": {
                                  "properties": {
                                    "all": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "combined_coordinating_and_primary": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "coordinating": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "primary": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "replica": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "limit_in_bytes": {
                                  "type": "long"
                                },
                                "total": {
                                  "properties": {
                                    "all": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "combined_coordinating_and_primary": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "coordinating": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        },
                                        "rejections": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "primary": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        },
                                        "rejections": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "replica": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        },
                                        "rejections": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "indices": {
                          "properties": {
                            "bulk": {
                              "properties": {
                                "avg_size": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "avg_time": {
                                  "properties": {
                                    "ms": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "operations": {
                                  "properties": {
                                    "total": {
                                      "properties": {
                                        "count": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "total_size": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "total_time": {
                                  "properties": {
                                    "ms": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "docs": {
                              "properties": {
                                "count": {
                                  "type": "long"
                                },
                                "deleted": {
                                  "type": "long"
                                }
                              }
                            },
                            "fielddata": {
                              "properties": {
                                "memory": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "indexing": {
                              "properties": {
                                "index_time": {
                                  "properties": {
                                    "ms": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "index_total": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "throttle_time": {
                                  "properties": {
                                    "ms": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "query_cache": {
                              "properties": {
                                "memory": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "request_cache": {
                              "properties": {
                                "memory": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "search": {
                              "properties": {
                                "query_time": {
                                  "properties": {
                                    "ms": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "query_total": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "segments": {
                              "properties": {
                                "count": {
                                  "type": "long"
                                },
                                "doc_values": {
                                  "properties": {
                                    "memory": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "fixed_bit_set": {
                                  "properties": {
                                    "memory": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "index_writer": {
                                  "properties": {
                                    "memory": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "memory": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "norms": {
                                  "properties": {
                                    "memory": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "points": {
                                  "properties": {
                                    "memory": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "stored_fields": {
                                  "properties": {
                                    "memory": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "term_vectors": {
                                  "properties": {
                                    "memory": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "terms": {
                                  "properties": {
                                    "memory": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "version_map": {
                                  "properties": {
                                    "memory": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "store": {
                              "properties": {
                                "size": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "ingest": {
                          "properties": {
                            "total": {
                              "properties": {
                                "count": {
                                  "type": "long"
                                },
                                "current": {
                                  "type": "long"
                                },
                                "failed": {
                                  "type": "long"
                                },
                                "time_in_millis": {
                                  "type": "long"
                                }
                              }
                            }
                          }
                        },
                        "jvm": {
                          "properties": {
                            "gc": {
                              "properties": {
                                "collectors": {
                                  "properties": {
                                    "old": {
                                      "properties": {
                                        "collection": {
                                          "properties": {
                                            "count": {
                                              "type": "long"
                                            },
                                            "ms": {
                                              "type": "long"
                                            }
                                          }
                                        }
                                      }
                                    },
                                    "young": {
                                      "properties": {
                                        "collection": {
                                          "properties": {
                                            "count": {
                                              "type": "long"
                                            },
                                            "ms": {
                                              "type": "long"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "mem": {
                              "properties": {
                                "heap": {
                                  "properties": {
                                    "max": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "used": {
                                      "properties": {
                                        "bytes": {
                                          "type": "long"
                                        },
                                        "pct": {
                                          "type": "double"
                                        }
                                      }
                                    }
                                  }
                                },
                                "pools": {
                                  "properties": {
                                    "old": {
                                      "properties": {
                                        "max": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "peak": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "peak_max": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "used": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        }
                                      }
                                    },
                                    "survivor": {
                                      "properties": {
                                        "max": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "peak": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "peak_max": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "used": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        }
                                      }
                                    },
                                    "young": {
                                      "properties": {
                                        "max": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "peak": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "peak_max": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "used": {
                                          "properties": {
                                            "bytes": {
                                              "type": "long"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "os": {
                          "properties": {
                            "cgroup": {
                              "properties": {
                                "cpu": {
                                  "properties": {
                                    "cfs": {
                                      "properties": {
                                        "quota": {
                                          "properties": {
                                            "us": {
                                              "type": "long"
                                            }
                                          }
                                        }
                                      }
                                    },
                                    "stat": {
                                      "properties": {
                                        "elapsed_periods": {
                                          "properties": {
                                            "count": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "time_throttled": {
                                          "properties": {
                                            "ns": {
                                              "type": "long"
                                            }
                                          }
                                        },
                                        "times_throttled": {
                                          "properties": {
                                            "count": {
                                              "type": "long"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "cpuacct": {
                                  "properties": {
                                    "usage": {
                                      "properties": {
                                        "ns": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                },
                                "memory": {
                                  "properties": {
                                    "control_group": {
                                      "ignore_above": 1024,
                                      "type": "keyword"
                                    },
                                    "limit": {
                                      "properties": {
                                        "bytes": {
                                          "ignore_above": 1024,
                                          "type": "keyword"
                                        }
                                      }
                                    },
                                    "usage": {
                                      "properties": {
                                        "bytes": {
                                          "ignore_above": 1024,
                                          "type": "keyword"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "cpu": {
                              "properties": {
                                "load_avg": {
                                  "properties": {
                                    "1m": {
                                      "type": "half_float"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "process": {
                          "properties": {
                            "cpu": {
                              "properties": {
                                "pct": {
                                  "type": "double"
                                }
                              }
                            }
                          }
                        },
                        "thread_pool": {
                          "properties": {
                            "bulk": {
                              "properties": {
                                "queue": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "rejected": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "get": {
                              "properties": {
                                "queue": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "rejected": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "index": {
                              "properties": {
                                "queue": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "rejected": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "search": {
                              "properties": {
                                "queue": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "rejected": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "write": {
                              "properties": {
                                "queue": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "rejected": {
                                  "properties": {
                                    "count": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "node_stats": {
              "properties": {
                "fs": {
                  "properties": {
                    "io_stats": {
                      "properties": {
                        "total": {
                          "properties": {
                            "operations": {
                              "path": "elasticsearch.node.stats.fs.io_stats.total.operations.count",
                              "type": "alias"
                            },
                            "read_operations": {
                              "path": "elasticsearch.node.stats.fs.io_stats.total.read.operations.count",
                              "type": "alias"
                            },
                            "write_operations": {
                              "path": "elasticsearch.node.stats.fs.io_stats.total.write.operations.count",
                              "type": "alias"
                            }
                          }
                        }
                      }
                    },
                    "summary": {
                      "properties": {
                        "available": {
                          "properties": {
                            "bytes": {
                              "path": "elasticsearch.node.stats.fs.summary.available.bytes",
                              "type": "alias"
                            }
                          }
                        },
                        "total": {
                          "properties": {
                            "bytes": {
                              "path": "elasticsearch.node.stats.fs.summary.total.bytes",
                              "type": "alias"
                            }
                          }
                        }
                      }
                    },
                    "total": {
                      "properties": {
                        "available_in_bytes": {
                          "path": "elasticsearch.node.stats.fs.summary.available.bytes",
                          "type": "alias"
                        },
                        "total_in_bytes": {
                          "path": "elasticsearch.node.stats.fs.summary.total.bytes",
                          "type": "alias"
                        }
                      }
                    }
                  }
                },
                "indices": {
                  "properties": {
                    "docs": {
                      "properties": {
                        "count": {
                          "path": "elasticsearch.node.stats.indices.docs.count",
                          "type": "alias"
                        }
                      }
                    },
                    "fielddata": {
                      "properties": {
                        "memory_size_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.fielddata.memory.bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "indexing": {
                      "properties": {
                        "index_time_in_millis": {
                          "path": "elasticsearch.node.stats.indices.indexing.index_time.ms",
                          "type": "alias"
                        },
                        "index_total": {
                          "path": "elasticsearch.node.stats.indices.indexing.index_total.count",
                          "type": "alias"
                        },
                        "throttle_time_in_millis": {
                          "path": "elasticsearch.node.stats.indices.indexing.throttle_time.ms",
                          "type": "alias"
                        }
                      }
                    },
                    "query_cache": {
                      "properties": {
                        "memory_size_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.query_cache.memory.bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "request_cache": {
                      "properties": {
                        "memory_size_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.request_cache.memory.bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "search": {
                      "properties": {
                        "query_time_in_millis": {
                          "path": "elasticsearch.node.stats.indices.search.query_time.ms",
                          "type": "alias"
                        },
                        "query_total": {
                          "path": "elasticsearch.node.stats.indices.search.query_total.count",
                          "type": "alias"
                        }
                      }
                    },
                    "segments": {
                      "properties": {
                        "count": {
                          "path": "elasticsearch.node.stats.indices.segments.count",
                          "type": "alias"
                        },
                        "doc_values_memory_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.segments.doc_values.memory.bytes",
                          "type": "alias"
                        },
                        "fixed_bit_set_memory_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.segments.fixed_bit_set.memory.bytes",
                          "type": "alias"
                        },
                        "index_writer_memory_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.segments.index_writer.memory.bytes",
                          "type": "alias"
                        },
                        "memory_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.segments.memory.bytes",
                          "type": "alias"
                        },
                        "norms_memory_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.segments.norms.memory.bytes",
                          "type": "alias"
                        },
                        "points_memory_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.segments.points.memory.bytes",
                          "type": "alias"
                        },
                        "stored_fields_memory_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.segments.stored_fields.memory.bytes",
                          "type": "alias"
                        },
                        "term_vectors_memory_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.segments.term_vectors.memory.bytes",
                          "type": "alias"
                        },
                        "terms_memory_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.segments.terms.memory.bytes",
                          "type": "alias"
                        },
                        "version_map_memory_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.segments.version_map.memory.bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "store": {
                      "properties": {
                        "size": {
                          "properties": {
                            "bytes": {
                              "path": "elasticsearch.node.stats.indices.store.size.bytes",
                              "type": "alias"
                            }
                          }
                        },
                        "size_in_bytes": {
                          "path": "elasticsearch.node.stats.indices.store.size.bytes",
                          "type": "alias"
                        }
                      }
                    }
                  }
                },
                "jvm": {
                  "properties": {
                    "gc": {
                      "properties": {
                        "collectors": {
                          "properties": {
                            "old": {
                              "properties": {
                                "collection_count": {
                                  "path": "elasticsearch.node.stats.jvm.gc.collectors.old.collection.count",
                                  "type": "alias"
                                },
                                "collection_time_in_millis": {
                                  "path": "elasticsearch.node.stats.jvm.gc.collectors.old.collection.ms",
                                  "type": "alias"
                                }
                              }
                            },
                            "young": {
                              "properties": {
                                "collection_count": {
                                  "path": "elasticsearch.node.stats.jvm.gc.collectors.young.collection.count",
                                  "type": "alias"
                                },
                                "collection_time_in_millis": {
                                  "path": "elasticsearch.node.stats.jvm.gc.collectors.young.collection.ms",
                                  "type": "alias"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "mem": {
                      "properties": {
                        "heap_max_in_bytes": {
                          "path": "elasticsearch.node.stats.jvm.mem.heap.max.bytes",
                          "type": "alias"
                        },
                        "heap_used_in_bytes": {
                          "path": "elasticsearch.node.stats.jvm.mem.heap.used.bytes",
                          "type": "alias"
                        },
                        "heap_used_percent": {
                          "path": "elasticsearch.node.stats.jvm.mem.heap.used.pct",
                          "type": "alias"
                        }
                      }
                    }
                  }
                },
                "node_id": {
                  "path": "elasticsearch.node.id",
                  "type": "alias"
                },
                "os": {
                  "properties": {
                    "cgroup": {
                      "properties": {
                        "cpu": {
                          "properties": {
                            "cfs_quota_micros": {
                              "path": "elasticsearch.node.stats.os.cgroup.cpu.cfs.quota.us",
                              "type": "alias"
                            },
                            "stat": {
                              "properties": {
                                "number_of_elapsed_periods": {
                                  "path": "elasticsearch.node.stats.os.cgroup.cpu.stat.elapsed_periods.count",
                                  "type": "alias"
                                },
                                "number_of_times_throttled": {
                                  "path": "elasticsearch.node.stats.os.cgroup.cpu.stat.times_throttled.count",
                                  "type": "alias"
                                },
                                "time_throttled_nanos": {
                                  "path": "elasticsearch.node.stats.os.cgroup.cpu.stat.time_throttled.ns",
                                  "type": "alias"
                                }
                              }
                            }
                          }
                        },
                        "cpuacct": {
                          "properties": {
                            "usage_nanos": {
                              "path": "elasticsearch.node.stats.os.cgroup.cpuacct.usage.ns",
                              "type": "alias"
                            }
                          }
                        },
                        "memory": {
                          "properties": {
                            "control_group": {
                              "path": "elasticsearch.node.stats.os.cgroup.memory.control_group",
                              "type": "alias"
                            },
                            "limit_in_bytes": {
                              "path": "elasticsearch.node.stats.os.cgroup.memory.limit.bytes",
                              "type": "alias"
                            },
                            "usage_in_bytes": {
                              "path": "elasticsearch.node.stats.os.cgroup.memory.usage.bytes",
                              "type": "alias"
                            }
                          }
                        }
                      }
                    },
                    "cpu": {
                      "properties": {
                        "load_average": {
                          "properties": {
                            "1m": {
                              "path": "elasticsearch.node.stats.os.cpu.load_avg.1m",
                              "type": "alias"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "process": {
                  "properties": {
                    "cpu": {
                      "properties": {
                        "percent": {
                          "path": "elasticsearch.node.stats.process.cpu.pct",
                          "type": "alias"
                        }
                      }
                    }
                  }
                },
                "thread_pool": {
                  "properties": {
                    "bulk": {
                      "properties": {
                        "queue": {
                          "path": "elasticsearch.node.stats.thread_pool.bulk.queue.count",
                          "type": "alias"
                        },
                        "rejected": {
                          "path": "elasticsearch.node.stats.thread_pool.bulk.rejected.count",
                          "type": "alias"
                        }
                      }
                    },
                    "get": {
                      "properties": {
                        "queue": {
                          "path": "elasticsearch.node.stats.thread_pool.get.queue.count",
                          "type": "alias"
                        },
                        "rejected": {
                          "path": "elasticsearch.node.stats.thread_pool.get.rejected.count",
                          "type": "alias"
                        }
                      }
                    },
                    "index": {
                      "properties": {
                        "queue": {
                          "path": "elasticsearch.node.stats.thread_pool.index.queue.count",
                          "type": "alias"
                        },
                        "rejected": {
                          "path": "elasticsearch.node.stats.thread_pool.index.rejected.count",
                          "type": "alias"
                        }
                      }
                    },
                    "search": {
                      "properties": {
                        "queue": {
                          "path": "elasticsearch.node.stats.thread_pool.search.queue.count",
                          "type": "alias"
                        },
                        "rejected": {
                          "path": "elasticsearch.node.stats.thread_pool.search.rejected.count",
                          "type": "alias"
                        }
                      }
                    },
                    "write": {
                      "properties": {
                        "queue": {
                          "path": "elasticsearch.node.stats.thread_pool.write.queue.count",
                          "type": "alias"
                        },
                        "rejected": {
                          "path": "elasticsearch.node.stats.thread_pool.write.rejected.count",
                          "type": "alias"
                        }
                      }
                    }
                  }
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "source_node": {
              "properties": {
                "name": {
                  "path": "elasticsearch.node.name",
                  "type": "alias"
                },
                "uuid": {
                  "path": "elasticsearch.node.id",
                  "type": "alias"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "service.address",
                "service.type",
                "service.name",
                "error.message",
                "elasticsearch.node.stats.os.cgroup.memory.control_group",
                "elasticsearch.node.stats.os.cgroup.memory.limit.bytes",
                "elasticsearch.node.stats.os.cgroup.memory.usage.bytes",
                "elasticsearch.node.id",
                "elasticsearch.node.name",
                "elasticsearch.cluster.name",
                "elasticsearch.cluster.id",
                "elasticsearch.cluster.state.id"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-elasticsearch.stack_monitoring.shard-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "elasticsearch"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-elasticsearch.stack_monitoring.shard-*"
      ],
      "name": "metrics-elasticsearch.stack_monitoring.shard",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "elasticsearch"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "elasticsearch": {
              "properties": {
                "cluster": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "state": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    },
                    "stats": {
                      "properties": {
                        "state": {
                          "properties": {
                            "state_uuid": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "index": {
                  "properties": {
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                },
                "node": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "master": {
                      "type": "boolean"
                    },
                    "mlockall": {
                      "type": "boolean"
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                },
                "shard": {
                  "properties": {
                    "number": {
                      "type": "long"
                    },
                    "primary": {
                      "type": "boolean"
                    },
                    "relocating_node": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        },
                        "name": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    },
                    "source_node": {
                      "properties": {
                        "name": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        },
                        "uuid": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    },
                    "state": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "shard": {
              "properties": {
                "index": {
                  "path": "elasticsearch.index.name",
                  "type": "alias"
                },
                "node": {
                  "path": "elasticsearch.node.id",
                  "type": "alias"
                },
                "primary": {
                  "path": "elasticsearch.shard.primary",
                  "type": "alias"
                },
                "shard": {
                  "path": "elasticsearch.shard.number",
                  "type": "alias"
                },
                "state": {
                  "path": "elasticsearch.shard.state",
                  "type": "alias"
                }
              }
            },
            "source_node": {
              "properties": {
                "name": {
                  "path": "elasticsearch.node.name",
                  "type": "alias"
                },
                "uuid": {
                  "path": "elasticsearch.node.id",
                  "type": "alias"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "service.address",
                "service.type",
                "service.name",
                "error.message",
                "elasticsearch.shard.state",
                "elasticsearch.shard.relocating_node.name",
                "elasticsearch.shard.relocating_node.id",
                "elasticsearch.shard.source_node.name",
                "elasticsearch.shard.source_node.uuid",
                "elasticsearch.index.name",
                "elasticsearch.cluster.name",
                "elasticsearch.cluster.id",
                "elasticsearch.cluster.state.id",
                "elasticsearch.cluster.stats.state.state_uuid",
                "elasticsearch.node.id",
                "elasticsearch.node.name"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-kibana.stack_monitoring.cluster_actions-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "kibana"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-kibana.stack_monitoring.cluster_actions-*"
      ],
      "name": "metrics-kibana.stack_monitoring.cluster_actions",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "kibana"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "kibana.elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "kibana": {
              "properties": {
                "cluster_actions": {
                  "properties": {
                    "overdue": {
                      "properties": {
                        "count": {
                          "type": "long"
                        },
                        "delay": {
                          "properties": {
                            "p50": {
                              "type": "float"
                            },
                            "p99": {
                              "type": "float"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "elasticsearch": {
                  "properties": {
                    "cluster": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                }
              }
            },
            "kibana_stats": {
              "properties": {
                "kibana": {
                  "properties": {
                    "uuid": {
                      "path": "service.id",
                      "type": "alias"
                    },
                    "version": {
                      "path": "service.version",
                      "type": "alias"
                    }
                  }
                },
                "timestamp": {
                  "path": "@timestamp",
                  "type": "alias"
                }
              }
            },
            "process": {
              "properties": {
                "pid": {
                  "type": "long"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "id": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "service.id",
                "service.address",
                "service.version",
                "service.type",
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "error.message",
                "kibana.elasticsearch.cluster.id"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-kibana.stack_monitoring.cluster_rules-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "kibana"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-kibana.stack_monitoring.cluster_rules-*"
      ],
      "name": "metrics-kibana.stack_monitoring.cluster_rules",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "kibana"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "kibana.elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "kibana": {
              "properties": {
                "cluster_rules": {
                  "properties": {
                    "overdue": {
                      "properties": {
                        "count": {
                          "type": "long"
                        },
                        "delay": {
                          "properties": {
                            "p50": {
                              "type": "float"
                            },
                            "p99": {
                              "type": "float"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "elasticsearch": {
                  "properties": {
                    "cluster": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                }
              }
            },
            "kibana_stats": {
              "properties": {
                "kibana": {
                  "properties": {
                    "uuid": {
                      "path": "service.id",
                      "type": "alias"
                    },
                    "version": {
                      "path": "service.version",
                      "type": "alias"
                    }
                  }
                },
                "timestamp": {
                  "path": "@timestamp",
                  "type": "alias"
                }
              }
            },
            "process": {
              "properties": {
                "pid": {
                  "type": "long"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "id": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "service.id",
                "service.address",
                "service.version",
                "service.type",
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "error.message",
                "kibana.elasticsearch.cluster.id"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-kibana.stack_monitoring.node_actions-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "kibana"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-kibana.stack_monitoring.node_actions-*"
      ],
      "name": "metrics-kibana.stack_monitoring.node_actions",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "kibana"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "kibana.elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "kibana": {
              "properties": {
                "elasticsearch": {
                  "properties": {
                    "cluster": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "node_actions": {
                  "properties": {
                    "executions": {
                      "type": "long"
                    },
                    "failures": {
                      "type": "long"
                    },
                    "timeouts": {
                      "type": "long"
                    }
                  }
                }
              }
            },
            "kibana_stats": {
              "properties": {
                "kibana": {
                  "properties": {
                    "uuid": {
                      "path": "service.id",
                      "type": "alias"
                    },
                    "version": {
                      "path": "service.version",
                      "type": "alias"
                    }
                  }
                },
                "timestamp": {
                  "path": "@timestamp",
                  "type": "alias"
                }
              }
            },
            "process": {
              "properties": {
                "pid": {
                  "type": "long"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "id": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "service.id",
                "service.address",
                "service.version",
                "service.type",
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "error.message",
                "kibana.elasticsearch.cluster.id"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-kibana.stack_monitoring.node_rules-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "kibana"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-kibana.stack_monitoring.node_rules-*"
      ],
      "name": "metrics-kibana.stack_monitoring.node_rules",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "kibana"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "kibana.elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "kibana": {
              "properties": {
                "elasticsearch": {
                  "properties": {
                    "cluster": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "node_rules": {
                  "properties": {
                    "executions": {
                      "type": "long"
                    },
                    "failures": {
                      "type": "long"
                    },
                    "timeouts": {
                      "type": "long"
                    }
                  }
                }
              }
            },
            "kibana_stats": {
              "properties": {
                "kibana": {
                  "properties": {
                    "uuid": {
                      "path": "service.id",
                      "type": "alias"
                    },
                    "version": {
                      "path": "service.version",
                      "type": "alias"
                    }
                  }
                },
                "timestamp": {
                  "path": "@timestamp",
                  "type": "alias"
                }
              }
            },
            "process": {
              "properties": {
                "pid": {
                  "type": "long"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "id": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "service.id",
                "service.address",
                "service.version",
                "service.type",
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "error.message",
                "kibana.elasticsearch.cluster.id"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-kibana.stack_monitoring.stats-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "kibana"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-kibana.stack_monitoring.stats-*"
      ],
      "name": "metrics-kibana.stack_monitoring.stats",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "kibana"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "kibana.elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "kibana": {
              "properties": {
                "elasticsearch": {
                  "properties": {
                    "cluster": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "stats": {
                  "properties": {
                    "concurrent_connections": {
                      "type": "long"
                    },
                    "host": {
                      "properties": {
                        "name": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    },
                    "index": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "kibana": {
                      "properties": {
                        "status": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "os": {
                      "properties": {
                        "distro": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        },
                        "distroRelease": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        },
                        "load": {
                          "properties": {
                            "15m": {
                              "type": "half_float"
                            },
                            "1m": {
                              "type": "half_float"
                            },
                            "5m": {
                              "type": "half_float"
                            }
                          }
                        },
                        "memory": {
                          "properties": {
                            "free_in_bytes": {
                              "type": "long"
                            },
                            "total_in_bytes": {
                              "type": "long"
                            },
                            "used_in_bytes": {
                              "type": "long"
                            }
                          }
                        },
                        "platform": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        },
                        "platformRelease": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    },
                    "process": {
                      "properties": {
                        "event_loop_delay": {
                          "properties": {
                            "ms": {
                              "scaling_factor": 1000,
                              "type": "scaled_float"
                            }
                          }
                        },
                        "memory": {
                          "properties": {
                            "heap": {
                              "properties": {
                                "size_limit": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "total": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "uptime": {
                                  "properties": {
                                    "ms": {
                                      "type": "long"
                                    }
                                  }
                                },
                                "used": {
                                  "properties": {
                                    "bytes": {
                                      "type": "long"
                                    }
                                  }
                                }
                              }
                            },
                            "resident_set_size": {
                              "properties": {
                                "bytes": {
                                  "type": "long"
                                }
                              }
                            }
                          }
                        },
                        "uptime": {
                          "properties": {
                            "ms": {
                              "type": "long"
                            }
                          }
                        }
                      }
                    },
                    "request": {
                      "properties": {
                        "disconnects": {
                          "type": "long"
                        },
                        "total": {
                          "type": "long"
                        }
                      }
                    },
                    "response_time": {
                      "properties": {
                        "avg": {
                          "properties": {
                            "ms": {
                              "type": "long"
                            }
                          }
                        },
                        "max": {
                          "properties": {
                            "ms": {
                              "type": "long"
                            }
                          }
                        }
                      }
                    },
                    "snapshot": {
                      "type": "boolean"
                    },
                    "status": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "transport_address": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "usage": {
                      "properties": {
                        "index": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                }
              }
            },
            "kibana_stats": {
              "properties": {
                "concurrent_connections": {
                  "path": "kibana.stats.concurrent_connections",
                  "type": "alias"
                },
                "kibana": {
                  "properties": {
                    "response_time": {
                      "properties": {
                        "max": {
                          "path": "kibana.stats.response_time.max.ms",
                          "type": "alias"
                        }
                      }
                    },
                    "status": {
                      "path": "kibana.stats.status",
                      "type": "alias"
                    },
                    "uuid": {
                      "path": "service.id",
                      "type": "alias"
                    },
                    "version": {
                      "path": "service.version",
                      "type": "alias"
                    }
                  }
                },
                "os": {
                  "properties": {
                    "load": {
                      "properties": {
                        "15m": {
                          "path": "kibana.stats.os.load.15m",
                          "type": "alias"
                        },
                        "1m": {
                          "path": "kibana.stats.os.load.1m",
                          "type": "alias"
                        },
                        "5m": {
                          "path": "kibana.stats.os.load.5m",
                          "type": "alias"
                        }
                      }
                    },
                    "memory": {
                      "properties": {
                        "free_in_bytes": {
                          "path": "kibana.stats.os.memory.free_in_bytes",
                          "type": "alias"
                        }
                      }
                    }
                  }
                },
                "process": {
                  "properties": {
                    "event_loop_delay": {
                      "path": "kibana.stats.process.event_loop_delay.ms",
                      "type": "alias"
                    },
                    "memory": {
                      "properties": {
                        "heap": {
                          "properties": {
                            "size_limit": {
                              "path": "kibana.stats.process.memory.heap.size_limit.bytes",
                              "type": "alias"
                            }
                          }
                        },
                        "resident_set_size_in_bytes": {
                          "path": "kibana.stats.process.memory.resident_set_size.bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "uptime_in_millis": {
                      "path": "kibana.stats.process.uptime.ms",
                      "type": "alias"
                    }
                  }
                },
                "requests": {
                  "properties": {
                    "disconnects": {
                      "path": "kibana.stats.request.disconnects",
                      "type": "alias"
                    },
                    "total": {
                      "path": "kibana.stats.request.total",
                      "type": "alias"
                    }
                  }
                },
                "response_times": {
                  "properties": {
                    "average": {
                      "path": "kibana.stats.response_time.avg.ms",
                      "type": "alias"
                    },
                    "max": {
                      "path": "kibana.stats.response_time.max.ms",
                      "type": "alias"
                    }
                  }
                },
                "timestamp": {
                  "path": "@timestamp",
                  "type": "alias"
                }
              }
            },
            "process": {
              "properties": {
                "pid": {
                  "type": "long"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "id": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "service.id",
                "service.address",
                "service.version",
                "service.type",
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "error.message",
                "kibana.elasticsearch.cluster.id",
                "kibana.stats.kibana.status",
                "kibana.stats.usage.index",
                "kibana.stats.name",
                "kibana.stats.index",
                "kibana.stats.host.name",
                "kibana.stats.status",
                "kibana.stats.transport_address",
                "kibana.stats.os.distro",
                "kibana.stats.os.distroRelease",
                "kibana.stats.os.platform",
                "kibana.stats.os.platformRelease"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-kibana.stack_monitoring.status-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "kibana"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-kibana.stack_monitoring.status-*"
      ],
      "name": "metrics-kibana.stack_monitoring.status",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "kibana"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                }
              }
            },
            "kibana": {
              "properties": {
                "status": {
                  "properties": {
                    "metrics": {
                      "properties": {
                        "concurrent_connections": {
                          "type": "long"
                        },
                        "requests": {
                          "properties": {
                            "disconnects": {
                              "type": "long"
                            },
                            "total": {
                              "type": "long"
                            }
                          }
                        }
                      }
                    },
                    "name": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "status": {
                      "properties": {
                        "overall": {
                          "properties": {
                            "state": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "id": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "service.id",
                "service.name",
                "service.version",
                "service.type",
                "service.address",
                "ecs.version",
                "error.message",
                "kibana.status.name",
                "kibana.status.status.overall.state"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-logstash.stack_monitoring.node-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "logstash"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-logstash.stack_monitoring.node-*"
      ],
      "name": "metrics-logstash.stack_monitoring.node",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "logstash"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "logstash.elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "logstash": {
              "properties": {
                "cluster": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                },
                "elasticsearch": {
                  "properties": {
                    "cluster": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "node": {
                  "properties": {
                    "host": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    },
                    "jvm": {
                      "properties": {
                        "version": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    },
                    "state": {
                      "properties": {
                        "pipeline": {
                          "properties": {
                            "batch_size": {
                              "type": "long"
                            },
                            "ephemeral_id": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "hash": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "id": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "representation": {
                              "properties": {
                                "graph": {
                                  "properties": {
                                    "edges": {
                                      "type": "object"
                                    },
                                    "vertices": {
                                      "type": "object"
                                    }
                                  }
                                },
                                "hash": {
                                  "ignore_above": 1024,
                                  "type": "keyword"
                                },
                                "type": {
                                  "ignore_above": 1024,
                                  "type": "keyword"
                                },
                                "version": {
                                  "ignore_above": 1024,
                                  "type": "keyword"
                                }
                              }
                            },
                            "workers": {
                              "type": "long"
                            }
                          }
                        }
                      }
                    },
                    "version": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                }
              }
            },
            "logstash_state": {
              "properties": {
                "pipeline": {
                  "properties": {
                    "hash": {
                      "path": "logstash.node.state.pipeline.hash",
                      "type": "alias"
                    },
                    "id": {
                      "path": "logstash.node.state.pipeline.id",
                      "type": "alias"
                    }
                  }
                }
              }
            },
            "process": {
              "properties": {
                "pid": {
                  "type": "long"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "hostname": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "id": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "service.hostname",
                "service.id",
                "service.type",
                "service.version",
                "service.address",
                "service.name",
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "error.message",
                "logstash.cluster.id",
                "logstash.elasticsearch.cluster.id",
                "logstash.node.jvm.version",
                "logstash.node.host",
                "logstash.node.version",
                "logstash.node.id",
                "logstash.node.state.pipeline.id",
                "logstash.node.state.pipeline.hash",
                "logstash.node.state.pipeline.ephemeral_id",
                "logstash.node.state.pipeline.representation.hash",
                "logstash.node.state.pipeline.representation.type",
                "logstash.node.state.pipeline.representation.version"
              ]
            }
          }
        }
      }
    }
  }
}

{
  "type": "data_stream",
  "value": {
    "data_stream": "metrics-logstash.stack_monitoring.node_stats-default",
    "template": {
      "_meta": {
        "managed": true,
        "managed_by": "fleet",
        "package": {
          "name": "logstash"
        }
      },
      "data_stream": {
        "allow_custom_routing": false,
        "hidden": false
      },
      "index_patterns": [
        "metrics-logstash.stack_monitoring.node_stats-*"
      ],
      "name": "metrics-logstash.stack_monitoring.node_stats",
      "priority": 200,
      "template": {
        "mappings": {
          "_meta": {
            "managed": true,
            "managed_by": "fleet",
            "package": {
              "name": "logstash"
            }
          },
          "date_detection": false,
          "dynamic": false,
          "dynamic_templates": [
            {
              "strings_as_keyword": {
                "mapping": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "match_mapping_type": "string"
              }
            }
          ],
          "properties": {
            "@timestamp": {
              "type": "date"
            },
            "cluster_uuid": {
              "path": "logstash.elasticsearch.cluster.id",
              "type": "alias"
            },
            "data_stream": {
              "properties": {
                "dataset": {
                  "type": "constant_keyword"
                },
                "namespace": {
                  "type": "constant_keyword"
                },
                "type": {
                  "type": "constant_keyword"
                }
              }
            },
            "ecs": {
              "properties": {
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "error": {
              "properties": {
                "message": {
                  "type": "match_only_text"
                }
              }
            },
            "event": {
              "properties": {
                "agent_id_status": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "dataset": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "duration": {
                  "type": "long"
                },
                "ingested": {
                  "format": "strict_date_time_no_millis||strict_date_optional_time||epoch_millis",
                  "type": "date"
                },
                "module": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "host": {
              "properties": {
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "logstash": {
              "properties": {
                "cluster": {
                  "properties": {
                    "id": {
                      "ignore_above": 1024,
                      "type": "keyword"
                    }
                  }
                },
                "elasticsearch": {
                  "properties": {
                    "cluster": {
                      "properties": {
                        "id": {
                          "ignore_above": 1024,
                          "type": "keyword"
                        }
                      }
                    }
                  }
                },
                "node": {
                  "properties": {
                    "state": {
                      "properties": {
                        "pipeline": {
                          "properties": {
                            "hash": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "id": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            }
                          }
                        }
                      }
                    },
                    "stats": {
                      "properties": {
                        "events": {
                          "properties": {
                            "duration_in_millis": {
                              "type": "long"
                            },
                            "filtered": {
                              "type": "long"
                            },
                            "in": {
                              "type": "long"
                            },
                            "out": {
                              "type": "long"
                            }
                          }
                        },
                        "jvm": {
                          "properties": {
                            "gc": {
                              "properties": {
                                "collectors": {
                                  "properties": {
                                    "old": {
                                      "properties": {
                                        "collection_count": {
                                          "type": "long"
                                        },
                                        "collection_time_in_millis": {
                                          "type": "long"
                                        }
                                      }
                                    },
                                    "young": {
                                      "properties": {
                                        "collection_count": {
                                          "type": "long"
                                        },
                                        "collection_time_in_millis": {
                                          "type": "long"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "mem": {
                              "properties": {
                                "heap_max_in_bytes": {
                                  "type": "long"
                                },
                                "heap_used_in_bytes": {
                                  "type": "long"
                                },
                                "heap_used_percent": {
                                  "type": "long"
                                }
                              }
                            },
                            "uptime_in_millis": {
                              "type": "long"
                            }
                          }
                        },
                        "logstash": {
                          "properties": {
                            "ephemeral_id": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "host": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "http_address": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "name": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "pipeline": {
                              "properties": {
                                "batch_size": {
                                  "type": "long"
                                },
                                "workers": {
                                  "type": "long"
                                }
                              }
                            },
                            "snapshot": {
                              "type": "boolean"
                            },
                            "status": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "uuid": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "version": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            }
                          }
                        },
                        "os": {
                          "properties": {
                            "cgroup": {
                              "properties": {
                                "cpu": {
                                  "properties": {
                                    "cfs_quota_micros": {
                                      "type": "long"
                                    },
                                    "control_group": {
                                      "type": "text"
                                    },
                                    "stat": {
                                      "type": "object"
                                    }
                                  }
                                },
                                "cpuacct": {
                                  "type": "object"
                                }
                              }
                            },
                            "cpu": {
                              "properties": {
                                "load_average": {
                                  "properties": {
                                    "15m": {
                                      "type": "half_float"
                                    },
                                    "1m": {
                                      "type": "half_float"
                                    },
                                    "5m": {
                                      "type": "half_float"
                                    }
                                  }
                                },
                                "percent": {
                                  "type": "double"
                                }
                              }
                            }
                          }
                        },
                        "pipelines": {
                          "properties": {
                            "ephemeral_id": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "events": {
                              "properties": {
                                "duration_in_millis": {
                                  "type": "long"
                                },
                                "filtered": {
                                  "type": "long"
                                },
                                "in": {
                                  "type": "long"
                                },
                                "out": {
                                  "type": "long"
                                },
                                "queue_push_duration_in_millis": {
                                  "type": "long"
                                }
                              }
                            },
                            "hash": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "id": {
                              "ignore_above": 1024,
                              "type": "keyword"
                            },
                            "queue": {
                              "properties": {
                                "events_count": {
                                  "type": "long"
                                },
                                "max_queue_size_in_bytes": {
                                  "type": "long"
                                },
                                "queue_size_in_bytes": {
                                  "type": "long"
                                },
                                "type": {
                                  "ignore_above": 1024,
                                  "type": "keyword"
                                }
                              }
                            },
                            "reloads": {
                              "properties": {
                                "failures": {
                                  "type": "long"
                                },
                                "successes": {
                                  "type": "long"
                                }
                              }
                            },
                            "vertices": {
                              "properties": {
                                "duration_in_millis": {
                                  "type": "long"
                                },
                                "events_in": {
                                  "type": "long"
                                },
                                "events_out": {
                                  "type": "long"
                                },
                                "id": {
                                  "ignore_above": 1024,
                                  "type": "keyword"
                                },
                                "long_counters": {
                                  "properties": {
                                    "name": {
                                      "ignore_above": 1024,
                                      "type": "keyword"
                                    },
                                    "value": {
                                      "type": "long"
                                    }
                                  },
                                  "type": "nested"
                                },
                                "pipeline_ephemeral_id": {
                                  "ignore_above": 1024,
                                  "type": "keyword"
                                },
                                "queue_push_duration_in_millis": {
                                  "type": "long"
                                }
                              },
                              "type": "nested"
                            }
                          },
                          "type": "nested"
                        },
                        "process": {
                          "properties": {
                            "cpu": {
                              "properties": {
                                "percent": {
                                  "type": "double"
                                }
                              }
                            },
                            "max_file_descriptors": {
                              "type": "long"
                            },
                            "open_file_descriptors": {
                              "type": "long"
                            }
                          }
                        },
                        "queue": {
                          "properties": {
                            "events_count": {
                              "type": "long"
                            }
                          }
                        },
                        "reloads": {
                          "properties": {
                            "failures": {
                              "type": "long"
                            },
                            "successes": {
                              "type": "long"
                            }
                          }
                        },
                        "timestamp": {
                          "type": "date"
                        }
                      }
                    }
                  }
                }
              }
            },
            "logstash_stats": {
              "properties": {
                "events": {
                  "properties": {
                    "duration_in_millis": {
                      "path": "logstash.node.stats.events.duration_in_millis",
                      "type": "alias"
                    },
                    "in": {
                      "path": "logstash.node.stats.events.in",
                      "type": "alias"
                    },
                    "out": {
                      "path": "logstash.node.stats.events.out",
                      "type": "alias"
                    }
                  }
                },
                "jvm": {
                  "properties": {
                    "mem": {
                      "properties": {
                        "heap_max_in_bytes": {
                          "path": "logstash.node.stats.jvm.mem.heap_max_in_bytes",
                          "type": "alias"
                        },
                        "heap_used_in_bytes": {
                          "path": "logstash.node.stats.jvm.mem.heap_used_in_bytes",
                          "type": "alias"
                        }
                      }
                    },
                    "uptime_in_millis": {
                      "path": "logstash.node.stats.jvm.uptime_in_millis",
                      "type": "alias"
                    }
                  }
                },
                "logstash": {
                  "properties": {
                    "uuid": {
                      "path": "logstash.node.stats.logstash.uuid",
                      "type": "alias"
                    },
                    "version": {
                      "path": "logstash.node.stats.logstash.version",
                      "type": "alias"
                    }
                  }
                },
                "os": {
                  "properties": {
                    "cgroup": {
                      "properties": {
                        "cpuacct": {
                          "type": "object"
                        }
                      }
                    },
                    "cpu": {
                      "properties": {
                        "load_average": {
                          "properties": {
                            "15m": {
                              "path": "logstash.node.stats.os.cpu.load_average.15m",
                              "type": "alias"
                            },
                            "1m": {
                              "path": "logstash.node.stats.os.cpu.load_average.1m",
                              "type": "alias"
                            },
                            "5m": {
                              "path": "logstash.node.stats.os.cpu.load_average.5m",
                              "type": "alias"
                            }
                          }
                        },
                        "stat": {
                          "type": "object"
                        }
                      }
                    }
                  }
                },
                "pipelines": {
                  "type": "nested"
                },
                "process": {
                  "properties": {
                    "cpu": {
                      "properties": {
                        "percent": {
                          "path": "logstash.node.stats.process.cpu.percent",
                          "type": "alias"
                        }
                      }
                    }
                  }
                },
                "queue": {
                  "properties": {
                    "events_count": {
                      "path": "logstash.node.stats.queue.events_count",
                      "type": "alias"
                    }
                  }
                },
                "timestamp": {
                  "path": "@timestamp",
                  "type": "alias"
                }
              }
            },
            "process": {
              "properties": {
                "pid": {
                  "type": "long"
                }
              }
            },
            "service": {
              "properties": {
                "address": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "hostname": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "id": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "name": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "type": {
                  "ignore_above": 1024,
                  "type": "keyword"
                },
                "version": {
                  "ignore_above": 1024,
                  "type": "keyword"
                }
              }
            },
            "timestamp": {
              "path": "@timestamp",
              "type": "alias"
            }
          }
        },
        "settings": {
          "index": {
            "codec": "best_compression",
            "lifecycle": {
              "name": "metrics"
            },
            "mapping": {
              "total_fields": {
                "limit": "10000"
              }
            },
            "query": {
              "default_field": [
                "service.hostname",
                "service.id",
                "service.type",
                "service.version",
                "service.address",
                "service.name",
                "ecs.version",
                "event.dataset",
                "event.module",
                "host.name",
                "error.message",
                "logstash.elasticsearch.cluster.id",
                "logstash.node.state.pipeline.id",
                "logstash.node.state.pipeline.hash",
                "logstash.node.stats.logstash.uuid",
                "logstash.node.stats.logstash.version",
                "logstash.node.stats.logstash.ephemeral_id",
                "logstash.node.stats.logstash.host",
                "logstash.node.stats.logstash.http_address",
                "logstash.node.stats.logstash.name",
                "logstash.node.stats.logstash.status",
                "logstash.node.stats.os.cgroup.cpuacct.control_group",
                "logstash.node.stats.os.cgroup.cpu.control_group",
                "logstash.node.stats.pipelines.id",
                "logstash.node.stats.pipelines.hash",
                "logstash.node.stats.pipelines.ephemeral_id",
                "logstash.node.stats.pipelines.queue.type",
                "logstash.node.stats.pipelines.vertices.id",
                "logstash.node.stats.pipelines.vertices.long_counters.name",
                "logstash.node.stats.pipelines.vertices.pipeline_ephemeral_id",
                "logstash.cluster.id"
              ]
            }
          }
        }
      }
    }
  }
}
