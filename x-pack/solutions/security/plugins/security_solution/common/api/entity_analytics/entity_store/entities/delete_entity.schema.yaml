openapi: 3.0.0
info:
  version: '2023-10-31'
  title: Entity Store - Delete Single Entity
paths:
  /api/entity_store/entities/{entityType}:
    delete:
      x-labels: [ess, serverless]
      x-codegen-enabled: true
      operationId: DeleteSingleEntity
      summary: Delete an entity in Entity Store
      description: >
        Delete a single entity in Entity Store.

        The entity will be immediately deleted from the latest index. 
        It will remain available in historical snapshots if it has been snapshotted. 
        The delete operation does not prevent the entity from being recreated if it is observed again in the future. 
      parameters:
        - name: entityType
          in: path
          required: true
          schema:
            $ref: '../common.schema.yaml#/components/schemas/EntityType'
      requestBody:
        description: Schema for the deleting entity
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: string
                  description: Identifier of the entity to be deleted, commonly entity.id value.
              required: ["id"]
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: boolean
          description: Successful response. Entity deleted.
        '404':
          description: Entity Not Found. No entity with this ID and Type exists.
        '503':
          description: Operation on an uninitialized Engine or in a cluster without CRUD API Enabled