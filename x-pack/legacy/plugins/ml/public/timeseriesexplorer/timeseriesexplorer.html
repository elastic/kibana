<ml-nav-menu name="timeseriesexplorer" />
<ml-chart-tooltip></ml-chart-tooltip>
<div class="ml-time-series-explorer" ng-controller="MlTimeSeriesExplorerController" data-test-subj="mlPageSingleMetricViewer"  >

  <ml-job-selector-react-wrapper timeseriesonly="true" singleselection="true" />

  <ml-timeseriesexplorer-react-wrapper />

  <div ng-show="jobs.length > 0 && loading === false && hasResults === true">
    <div class="results-container">

      <div ng-show="showAnnotations && focusAnnotationData.length > 0">
        <span
          class="panel-title euiText"
          i18n-id="xpack.ml.timeSeriesExplorer.annotationsTitle"
          i18n-default-message="Annotations"
        ></span>

        <ml-annotation-table
          annotations="focusAnnotationData"
          drill-down="false"
          number-badge="true"
        />

        <div class="euiSpacer euiSpacer--l"></div>
      </div>

      <ml-annotation-flyout />

      <span
        class="panel-title euiText"
        i18n-id="xpack.ml.timeSeriesExplorer.anomaliesTitle"
        i18n-default-message="Anomalies"
      ></span>

      <div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--directionRow euiFlexGroup--responsive ml-anomalies-controls">
        <div class="euiFlexItem euiFlexItem--flexGrowZero" style="width:170px">
          <div class="euiFormRow" id="select_severity_control">
            <label
              class="euiFormLabel"
              for="select_severity"
              i18n-id="xpack.ml.timeSeriesExplorer.severityThresholdLabel"
              i18n-default-message="Severity threshold"
            ></label>
            <div class="euiFormControlLayout">
              <ml-select-severity id="select_severity" />
            </div>
          </div>
        </div>
        <div class="euiFlexItem euiFlexItem--flexGrowZero" style="width:170px">
          <div class="euiFormRow" id="select_interval_control">
            <label
              class="euiFormLabel"
              for="select_interval"
              i18n-id="xpack.ml.timeSeriesExplorer.intervalLabel"
              i18n-default-message="Interval"
            ></label>
            <div class="euiFormControlLayout">
              <ml-select-interval id="select_interval" />
            </div>
          </div>
        </div>
      </div>

      <ml-anomalies-table
        table-data="tableData"
        filter="filter"
      />

    </div>
  </div>

</div>
