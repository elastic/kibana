<expression-item
  item-id="{{ thresholdWatchAggField.itemId }}"
  description="thresholdWatchAggField.itemDescription"
  value="thresholdWatchAggField.itemValue"
  is-open="thresholdWatchAggField.isOpen"
  is-visible="thresholdWatchAggField.isVisible"
  on-open="thresholdWatchAggField.onOpen"
  on-close="thresholdWatchAggField.onClose"
  is-valid="thresholdWatchAggField.isValid"
  is-dirty="thresholdWatchAggField.isDirty"
  form="thresholdWatchAggField.form"
>
  <form name="thresholdWatchAggField.form" novalidate>
    <div
      id="{{thresholdWatchAggField.makeId(['aggField', 'required'])}}'"
      xpack-aria-describes="{{thresholdWatchAggField.makeId('aggField')}}"
      class="kuiInputNote kuiInputNote--danger"
      ng-if="thresholdWatchAggField.isValidationMessageVisible('aggField', 'required')"
      i18n-id="xpack.watcher.thresholdWatchExpression.aggType.fieldIsRequiredValidationMessage"
      i18n-default-message="Please select a field."
    ></div>
    <select
      id="{{thresholdWatchAggField.makeId('aggField')}}"
      class="kuiSelect"
      name="aggField"
      required
      ng-model="thresholdWatchAggField.aggField"
      ng-options="aggField as aggField.name group by aggField.normalizedType for aggField in thresholdWatchAggField.aggFields"
    >
      <option
        value=""
        i18n-id="xpack.watcher.thresholdWatchExpression.aggType.selectFieldDropdownPlaceholder"
        i18n-default-message="Select a fieldâ€¦"
      ></option>
    </select>
  </form>
</expression-item>
