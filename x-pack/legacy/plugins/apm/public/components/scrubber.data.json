{
  "items": [
    {
      "docType": "transaction",
      "doc": {
        "container": {
          "id": "aa7211b5935326c5ba54921c0b5b953303b0b94b11b81f35a5028701910de464"
        },
        "parent": {
          "id": "19c859546457e456"
        },
        "process": {
          "pid": 6,
          "title": "/usr/lib/jvm/java-10-openjdk-amd64/bin/java",
          "ppid": 1
        },
        "agent": {
          "name": "java",
          "ephemeral_id": "a125a292-a846-442e-81ca-ea8fd12356b5",
          "version": "1.12.1-SNAPSHOT"
        },
        "source": {
          "ip": "172.19.0.9"
        },
        "processor": {
          "name": "transaction",
          "event": "transaction"
        },
        "url": {
          "path": "//api/products",
          "scheme": "http",
          "port": 3000,
          "domain": "opbeans-java",
          "full": "http://opbeans-java:3000//api/products"
        },
        "observer": {
          "hostname": "b69807bbc393",
          "id": "75679076-f182-49ae-8bea-29beef5c391d",
          "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
          "type": "apm-server",
          "version": "8.0.0",
          "version_major": 8
        },
        "trace": {
          "id": "b599641a9663c734ba5c59024ee3e150"
        },
        "@timestamp": "2020-01-24T23:52:28.630Z",
        "ecs": {
          "version": "1.4.0"
        },
        "service": {
          "node": {
            "name": "aa7211b5935326c5ba54921c0b5b953303b0b94b11b81f35a5028701910de464"
          },
          "environment": "production",
          "name": "opbeans-java",
          "runtime": {
            "name": "Java",
            "version": "10.0.2"
          },
          "language": {
            "name": "Java",
            "version": "10.0.2"
          }
        },
        "host": {
          "hostname": "aa7211b59353",
          "os": {
            "platform": "Linux"
          },
          "ip": "172.19.0.10",
          "name": "aa7211b59353",
          "architecture": "amd64"
        },
        "client": {
          "ip": "172.19.0.9"
        },
        "http": {
          "request": {
            "headers": {
              "User-Agent": ["http.rb/4.1.1"],
              "Connection": ["close"],
              "Host": ["opbeans-java:3000"],
              "Elastic-Apm-Traceparent": [
                "00-b599641a9663c734ba5c59024ee3e150-19c859546457e456-01"
              ],
              "Content-Length": ["0"]
            },
            "method": "get",
            "socket": {
              "encrypted": false,
              "remote_address": "172.19.0.9"
            },
            "body": {
              "original": "[REDACTED]"
            }
          },
          "response": {
            "status_code": 200,
            "finished": true,
            "headers_sent": false
          },
          "version": "1.1"
        },
        "transaction": {
          "result": "HTTP 2xx",
          "duration": {
            "us": 10647
          },
          "name": "DispatcherServlet#doGet",
          "span_count": {
            "dropped": 0,
            "started": 1
          },
          "id": "81b2ee5642ead045",
          "type": "request",
          "sampled": true
        },
        "user_agent": {
          "original": "http.rb/4.1.1",
          "name": "Other",
          "device": {
            "name": "Generic Feature Phone"
          }
        },
        "timestamp": {
          "us": 1579909948630000
        }
      },
      "id": "81b2ee5642ead045",
      "parentId": "19c859546457e456",
      "duration": 10647,
      "offset": 0,
      "skew": 0
    },
    {
      "docType": "span",
      "doc": {
        "parent": {
          "id": "81b2ee5642ead045"
        },
        "agent": {
          "name": "java",
          "ephemeral_id": "a125a292-a846-442e-81ca-ea8fd12356b5",
          "version": "1.12.1-SNAPSHOT"
        },
        "destination": {
          "address": ["opbeans-node", "opbeans-node"],
          "port": 3000
        },
        "processor": {
          "name": "transaction",
          "event": "span"
        },
        "observer": {
          "hostname": "b69807bbc393",
          "id": "75679076-f182-49ae-8bea-29beef5c391d",
          "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
          "type": "apm-server",
          "version": "8.0.0",
          "version_major": 8
        },
        "trace": {
          "id": "b599641a9663c734ba5c59024ee3e150"
        },
        "@timestamp": "2020-01-24T23:52:28.630Z",
        "ecs": {
          "version": "1.4.0"
        },
        "service": {
          "environment": "production",
          "name": "opbeans-java"
        },
        "connection": {
          "hash": "{service.environment:'production'}/{service.name:'opbeans-java'}/{span.subtype:'http'}/{destination.address:'[opbeans-node, opbeans-node]'}/{span.type:'external'}"
        },
        "transaction": {
          "id": "81b2ee5642ead045"
        },
        "timestamp": {
          "us": 1579909948630267
        },
        "span": {
          "duration": {
            "us": 10165
          },
          "stacktrace": [
            {
              "exclude_from_grouping": false,
              "library_frame": true,
              "filename": "AbstractClientHttpRequest.java",
              "classname": "org.springframework.http.client.AbstractClientHttpRequest",
              "line": {
                "number": 55
              },
              "module": "org.springframework.http.client",
              "function": "execute"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "RestTemplate.java",
              "classname": "org.springframework.web.client.RestTemplate",
              "line": {
                "number": 723
              },
              "function": "doExecute",
              "module": "org.springframework.web.client"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "RestTemplate.java",
              "classname": "org.springframework.web.client.RestTemplate",
              "line": {
                "number": 680
              },
              "module": "org.springframework.web.client",
              "function": "execute"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "RestTemplate.java",
              "classname": "org.springframework.web.client.RestTemplate",
              "line": {
                "number": 332
              },
              "module": "org.springframework.web.client",
              "function": "getForObject"
            },
            {
              "library_frame": false,
              "exclude_from_grouping": false,
              "filename": "DTInterceptor.java",
              "classname": "co.elastic.apm.opbeans.controllers.DTInterceptor",
              "line": {
                "number": 73
              },
              "module": "co.elastic.apm.opbeans.controllers",
              "function": "preHandle"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "HandlerExecutionChain.java",
              "classname": "org.springframework.web.servlet.HandlerExecutionChain",
              "line": {
                "number": 136
              },
              "module": "org.springframework.web.servlet",
              "function": "applyPreHandle"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "DispatcherServlet.java",
              "classname": "org.springframework.web.servlet.DispatcherServlet",
              "line": {
                "number": 986
              },
              "module": "org.springframework.web.servlet",
              "function": "doDispatch"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "DispatcherServlet.java",
              "classname": "org.springframework.web.servlet.DispatcherServlet",
              "line": {
                "number": 925
              },
              "module": "org.springframework.web.servlet",
              "function": "doService"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "FrameworkServlet.java",
              "classname": "org.springframework.web.servlet.FrameworkServlet",
              "line": {
                "number": 974
              },
              "module": "org.springframework.web.servlet",
              "function": "processRequest"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "FrameworkServlet.java",
              "classname": "org.springframework.web.servlet.FrameworkServlet",
              "line": {
                "number": 866
              },
              "module": "org.springframework.web.servlet",
              "function": "doGet"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "HttpServlet.java",
              "classname": "javax.servlet.http.HttpServlet",
              "line": {
                "number": 635
              },
              "module": "javax.servlet.http",
              "function": "service"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "FrameworkServlet.java",
              "classname": "org.springframework.web.servlet.FrameworkServlet",
              "line": {
                "number": 851
              },
              "module": "org.springframework.web.servlet",
              "function": "service"
            },
            {
              "exclude_from_grouping": false,
              "library_frame": true,
              "filename": "HttpServlet.java",
              "classname": "javax.servlet.http.HttpServlet",
              "line": {
                "number": 742
              },
              "module": "javax.servlet.http",
              "function": "service"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 231
              },
              "module": "org.apache.catalina.core",
              "function": "internalDoFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 166
              },
              "module": "org.apache.catalina.core",
              "function": "doFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "WsFilter.java",
              "classname": "org.apache.tomcat.websocket.server.WsFilter",
              "line": {
                "number": 52
              },
              "module": "org.apache.tomcat.websocket.server",
              "function": "doFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 193
              },
              "module": "org.apache.catalina.core",
              "function": "internalDoFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 166
              },
              "module": "org.apache.catalina.core",
              "function": "doFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "RequestContextFilter.java",
              "classname": "org.springframework.web.filter.RequestContextFilter",
              "line": {
                "number": 99
              },
              "module": "org.springframework.web.filter",
              "function": "doFilterInternal"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "OncePerRequestFilter.java",
              "classname": "org.springframework.web.filter.OncePerRequestFilter",
              "line": {
                "number": 107
              },
              "function": "doFilter",
              "module": "org.springframework.web.filter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 193
              },
              "function": "internalDoFilter",
              "module": "org.apache.catalina.core"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 166
              },
              "module": "org.apache.catalina.core",
              "function": "doFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "HttpPutFormContentFilter.java",
              "classname": "org.springframework.web.filter.HttpPutFormContentFilter",
              "line": {
                "number": 109
              },
              "module": "org.springframework.web.filter",
              "function": "doFilterInternal"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "OncePerRequestFilter.java",
              "classname": "org.springframework.web.filter.OncePerRequestFilter",
              "line": {
                "number": 107
              },
              "module": "org.springframework.web.filter",
              "function": "doFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 193
              },
              "module": "org.apache.catalina.core",
              "function": "internalDoFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 166
              },
              "function": "doFilter",
              "module": "org.apache.catalina.core"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "HiddenHttpMethodFilter.java",
              "classname": "org.springframework.web.filter.HiddenHttpMethodFilter",
              "line": {
                "number": 81
              },
              "function": "doFilterInternal",
              "module": "org.springframework.web.filter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "OncePerRequestFilter.java",
              "classname": "org.springframework.web.filter.OncePerRequestFilter",
              "line": {
                "number": 107
              },
              "module": "org.springframework.web.filter",
              "function": "doFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 193
              },
              "module": "org.apache.catalina.core",
              "function": "internalDoFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 166
              },
              "function": "doFilter",
              "module": "org.apache.catalina.core"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "CharacterEncodingFilter.java",
              "classname": "org.springframework.web.filter.CharacterEncodingFilter",
              "line": {
                "number": 200
              },
              "module": "org.springframework.web.filter",
              "function": "doFilterInternal"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "OncePerRequestFilter.java",
              "classname": "org.springframework.web.filter.OncePerRequestFilter",
              "line": {
                "number": 107
              },
              "module": "org.springframework.web.filter",
              "function": "doFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 193
              },
              "module": "org.apache.catalina.core",
              "function": "internalDoFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ApplicationFilterChain.java",
              "classname": "org.apache.catalina.core.ApplicationFilterChain",
              "line": {
                "number": 166
              },
              "module": "org.apache.catalina.core",
              "function": "doFilter"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "StandardWrapperValve.java",
              "classname": "org.apache.catalina.core.StandardWrapperValve",
              "line": {
                "number": 198
              },
              "module": "org.apache.catalina.core",
              "function": "invoke"
            },
            {
              "exclude_from_grouping": false,
              "library_frame": true,
              "filename": "StandardContextValve.java",
              "classname": "org.apache.catalina.core.StandardContextValve",
              "line": {
                "number": 96
              },
              "module": "org.apache.catalina.core",
              "function": "invoke"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "AuthenticatorBase.java",
              "classname": "org.apache.catalina.authenticator.AuthenticatorBase",
              "line": {
                "number": 496
              },
              "module": "org.apache.catalina.authenticator",
              "function": "invoke"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "StandardHostValve.java",
              "classname": "org.apache.catalina.core.StandardHostValve",
              "line": {
                "number": 140
              },
              "module": "org.apache.catalina.core",
              "function": "invoke"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ErrorReportValve.java",
              "classname": "org.apache.catalina.valves.ErrorReportValve",
              "line": {
                "number": 81
              },
              "module": "org.apache.catalina.valves",
              "function": "invoke"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "StandardEngineValve.java",
              "classname": "org.apache.catalina.core.StandardEngineValve",
              "line": {
                "number": 87
              },
              "module": "org.apache.catalina.core",
              "function": "invoke"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "CoyoteAdapter.java",
              "classname": "org.apache.catalina.connector.CoyoteAdapter",
              "line": {
                "number": 342
              },
              "module": "org.apache.catalina.connector",
              "function": "service"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "Http11Processor.java",
              "classname": "org.apache.coyote.http11.Http11Processor",
              "line": {
                "number": 803
              },
              "module": "org.apache.coyote.http11",
              "function": "service"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "AbstractProcessorLight.java",
              "classname": "org.apache.coyote.AbstractProcessorLight",
              "line": {
                "number": 66
              },
              "module": "org.apache.coyote",
              "function": "process"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "AbstractProtocol.java",
              "classname": "org.apache.coyote.AbstractProtocol$ConnectionHandler",
              "line": {
                "number": 790
              },
              "module": "org.apache.coyote",
              "function": "process"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "NioEndpoint.java",
              "classname": "org.apache.tomcat.util.net.NioEndpoint$SocketProcessor",
              "line": {
                "number": 1468
              },
              "module": "org.apache.tomcat.util.net",
              "function": "doRun"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "SocketProcessorBase.java",
              "classname": "org.apache.tomcat.util.net.SocketProcessorBase",
              "line": {
                "number": 49
              },
              "module": "org.apache.tomcat.util.net",
              "function": "run"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ThreadPoolExecutor.java",
              "classname": "java.util.concurrent.ThreadPoolExecutor",
              "line": {
                "number": 1135
              },
              "module": "java.util.concurrent",
              "function": "runWorker"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "ThreadPoolExecutor.java",
              "classname": "java.util.concurrent.ThreadPoolExecutor$Worker",
              "line": {
                "number": 635
              },
              "module": "java.util.concurrent",
              "function": "run"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "TaskThread.java",
              "classname": "org.apache.tomcat.util.threads.TaskThread$WrappingRunnable",
              "line": {
                "number": 61
              },
              "module": "org.apache.tomcat.util.threads",
              "function": "run"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "Thread.java",
              "classname": "java.lang.Thread",
              "line": {
                "number": 844
              },
              "module": "java.lang",
              "function": "run"
            }
          ],
          "subtype": "http",
          "destination": {
            "service": {
              "resource": "opbeans-node:3000",
              "name": "http://opbeans-node:3000",
              "type": "external"
            }
          },
          "name": "GET opbeans-node",
          "http": {
            "response": {
              "status_code": 200
            },
            "url": {
              "original": "http://opbeans-node:3000/api/products"
            }
          },
          "id": "a5c7b0381d509026",
          "type": "external"
        }
      },
      "id": "a5c7b0381d509026",
      "parentId": "81b2ee5642ead045",
      "duration": 10165,
      "offset": 267,
      "skew": 0,
      "parent": {
        "docType": "transaction",
        "doc": {
          "container": {
            "id": "aa7211b5935326c5ba54921c0b5b953303b0b94b11b81f35a5028701910de464"
          },
          "parent": {
            "id": "19c859546457e456"
          },
          "process": {
            "pid": 6,
            "title": "/usr/lib/jvm/java-10-openjdk-amd64/bin/java",
            "ppid": 1
          },
          "agent": {
            "name": "java",
            "ephemeral_id": "a125a292-a846-442e-81ca-ea8fd12356b5",
            "version": "1.12.1-SNAPSHOT"
          },
          "source": {
            "ip": "172.19.0.9"
          },
          "processor": {
            "name": "transaction",
            "event": "transaction"
          },
          "url": {
            "path": "//api/products",
            "scheme": "http",
            "port": 3000,
            "domain": "opbeans-java",
            "full": "http://opbeans-java:3000//api/products"
          },
          "observer": {
            "hostname": "b69807bbc393",
            "id": "75679076-f182-49ae-8bea-29beef5c391d",
            "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
            "type": "apm-server",
            "version": "8.0.0",
            "version_major": 8
          },
          "trace": {
            "id": "b599641a9663c734ba5c59024ee3e150"
          },
          "@timestamp": "2020-01-24T23:52:28.630Z",
          "ecs": {
            "version": "1.4.0"
          },
          "service": {
            "node": {
              "name": "aa7211b5935326c5ba54921c0b5b953303b0b94b11b81f35a5028701910de464"
            },
            "environment": "production",
            "name": "opbeans-java",
            "runtime": {
              "name": "Java",
              "version": "10.0.2"
            },
            "language": {
              "name": "Java",
              "version": "10.0.2"
            }
          },
          "host": {
            "hostname": "aa7211b59353",
            "os": {
              "platform": "Linux"
            },
            "ip": "172.19.0.10",
            "name": "aa7211b59353",
            "architecture": "amd64"
          },
          "client": {
            "ip": "172.19.0.9"
          },
          "http": {
            "request": {
              "headers": {
                "User-Agent": ["http.rb/4.1.1"],
                "Connection": ["close"],
                "Host": ["opbeans-java:3000"],
                "Elastic-Apm-Traceparent": [
                  "00-b599641a9663c734ba5c59024ee3e150-19c859546457e456-01"
                ],
                "Content-Length": ["0"]
              },
              "method": "get",
              "socket": {
                "encrypted": false,
                "remote_address": "172.19.0.9"
              },
              "body": {
                "original": "[REDACTED]"
              }
            },
            "response": {
              "status_code": 200,
              "finished": true,
              "headers_sent": false
            },
            "version": "1.1"
          },
          "transaction": {
            "result": "HTTP 2xx",
            "duration": {
              "us": 10647
            },
            "name": "DispatcherServlet#doGet",
            "span_count": {
              "dropped": 0,
              "started": 1
            },
            "id": "81b2ee5642ead045",
            "type": "request",
            "sampled": true
          },
          "user_agent": {
            "original": "http.rb/4.1.1",
            "name": "Other",
            "device": {
              "name": "Generic Feature Phone"
            }
          },
          "timestamp": {
            "us": 1579909948630000
          }
        },
        "id": "81b2ee5642ead045",
        "parentId": "19c859546457e456",
        "duration": 10647,
        "offset": 0,
        "skew": 0
      }
    },
    {
      "docType": "transaction",
      "doc": {
        "container": {
          "id": "9d01ce52fbed7d390fa6b911c1fe1aff515fba807e1654a8dbd219c71dc82daa"
        },
        "parent": {
          "id": "a5c7b0381d509026"
        },
        "agent": {
          "name": "nodejs",
          "version": "3.3.0"
        },
        "process": {
          "args": [
            "/usr/local/bin/node",
            "/usr/local/lib/node_modules/pm2/lib/ProcessContainer.js",
            "ecosystem-workload.config.js"
          ],
          "pid": 29978,
          "title": "node /app/server.js",
          "ppid": 1
        },
        "source": {
          "ip": "172.19.0.10"
        },
        "processor": {
          "name": "transaction",
          "event": "transaction"
        },
        "url": {
          "path": "/api/products",
          "original": "/api/products",
          "scheme": "http",
          "port": 3000,
          "domain": "opbeans-node",
          "full": "http://opbeans-node:3000/api/products"
        },
        "labels": {
          "lorem": "ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.",
          "this-is-a-very-long-tag-name-without-any-spaces": "test",
          "foo": "bar",
          "multi-line": "foo\nbar\nbaz"
        },
        "observer": {
          "hostname": "b69807bbc393",
          "id": "75679076-f182-49ae-8bea-29beef5c391d",
          "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
          "type": "apm-server",
          "version": "8.0.0",
          "version_major": 8
        },
        "trace": {
          "id": "b599641a9663c734ba5c59024ee3e150"
        },
        "@timestamp": "2020-01-24T23:52:28.632Z",
        "ecs": {
          "version": "1.4.0"
        },
        "service": {
          "node": {
            "name": "9d01ce52fbed7d390fa6b911c1fe1aff515fba807e1654a8dbd219c71dc82daa"
          },
          "environment": "production",
          "framework": {
            "name": "express",
            "version": "4.17.1"
          },
          "name": "opbeans-node",
          "runtime": {
            "name": "node",
            "version": "12.13.1"
          },
          "language": {
            "name": "javascript"
          },
          "version": "1.0.0"
        },
        "host": {
          "hostname": "9d01ce52fbed",
          "os": {
            "platform": "linux"
          },
          "ip": "172.19.0.12",
          "name": "9d01ce52fbed",
          "architecture": "x64"
        },
        "http": {
          "request": {
            "headers": {
              "Accept": [
                "text/plain, application/json, application/x-jackson-smile, application/cbor, application/*+json, */*"
              ],
              "Connection": ["keep-alive"],
              "User-Agent": ["Java/10.0.2"],
              "Host": ["opbeans-node:3000"],
              "Elastic-Apm-Traceparent": [
                "00-b599641a9663c734ba5c59024ee3e150-a5c7b0381d509026-01"
              ]
            },
            "method": "get",
            "socket": {
              "encrypted": false,
              "remote_address": "::ffff:172.19.0.10"
            }
          },
          "response": {
            "headers": {
              "Etag": ["W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\""],
              "Connection": ["keep-alive"],
              "Content-Length": ["1023"],
              "Date": ["Fri, 24 Jan 2020 23:52:28 GMT"],
              "X-Powered-By": ["Express"],
              "Content-Type": ["application/json; charset=utf-8"]
            },
            "status_code": 200
          },
          "version": "1.1"
        },
        "client": {
          "ip": "172.19.0.10"
        },
        "user": {
          "name": "kimchy",
          "id": "42",
          "email": "kimchy@elastic.co"
        },
        "user_agent": {
          "original": "Java/10.0.2",
          "name": "Java",
          "device": {
            "name": "Spider"
          },
          "version": "0.2."
        },
        "transaction": {
          "result": "HTTP 2xx",
          "duration": {
            "us": 9049
          },
          "custom": {
            "shoppingBasketCount": 42
          },
          "name": "GET /api/products",
          "span_count": {
            "started": 2
          },
          "id": "f04c397693cf909f",
          "type": "request",
          "sampled": true
        },
        "timestamp": {
          "us": 1579909948632008
        }
      },
      "id": "f04c397693cf909f",
      "parentId": "a5c7b0381d509026",
      "duration": 9049,
      "offset": 2008,
      "skew": 0,
      "parent": {
        "docType": "span",
        "doc": {
          "parent": {
            "id": "81b2ee5642ead045"
          },
          "agent": {
            "name": "java",
            "ephemeral_id": "a125a292-a846-442e-81ca-ea8fd12356b5",
            "version": "1.12.1-SNAPSHOT"
          },
          "destination": {
            "address": ["opbeans-node", "opbeans-node"],
            "port": 3000
          },
          "processor": {
            "name": "transaction",
            "event": "span"
          },
          "observer": {
            "hostname": "b69807bbc393",
            "id": "75679076-f182-49ae-8bea-29beef5c391d",
            "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
            "type": "apm-server",
            "version": "8.0.0",
            "version_major": 8
          },
          "trace": {
            "id": "b599641a9663c734ba5c59024ee3e150"
          },
          "@timestamp": "2020-01-24T23:52:28.630Z",
          "ecs": {
            "version": "1.4.0"
          },
          "service": {
            "environment": "production",
            "name": "opbeans-java"
          },
          "connection": {
            "hash": "{service.environment:'production'}/{service.name:'opbeans-java'}/{span.subtype:'http'}/{destination.address:'[opbeans-node, opbeans-node]'}/{span.type:'external'}"
          },
          "transaction": {
            "id": "81b2ee5642ead045"
          },
          "timestamp": {
            "us": 1579909948630267
          },
          "span": {
            "duration": {
              "us": 10165
            },
            "stacktrace": [
              {
                "exclude_from_grouping": false,
                "library_frame": true,
                "filename": "AbstractClientHttpRequest.java",
                "classname": "org.springframework.http.client.AbstractClientHttpRequest",
                "line": {
                  "number": 55
                },
                "module": "org.springframework.http.client",
                "function": "execute"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "RestTemplate.java",
                "classname": "org.springframework.web.client.RestTemplate",
                "line": {
                  "number": 723
                },
                "function": "doExecute",
                "module": "org.springframework.web.client"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "RestTemplate.java",
                "classname": "org.springframework.web.client.RestTemplate",
                "line": {
                  "number": 680
                },
                "module": "org.springframework.web.client",
                "function": "execute"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "RestTemplate.java",
                "classname": "org.springframework.web.client.RestTemplate",
                "line": {
                  "number": 332
                },
                "module": "org.springframework.web.client",
                "function": "getForObject"
              },
              {
                "library_frame": false,
                "exclude_from_grouping": false,
                "filename": "DTInterceptor.java",
                "classname": "co.elastic.apm.opbeans.controllers.DTInterceptor",
                "line": {
                  "number": 73
                },
                "module": "co.elastic.apm.opbeans.controllers",
                "function": "preHandle"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "HandlerExecutionChain.java",
                "classname": "org.springframework.web.servlet.HandlerExecutionChain",
                "line": {
                  "number": 136
                },
                "module": "org.springframework.web.servlet",
                "function": "applyPreHandle"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "DispatcherServlet.java",
                "classname": "org.springframework.web.servlet.DispatcherServlet",
                "line": {
                  "number": 986
                },
                "module": "org.springframework.web.servlet",
                "function": "doDispatch"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "DispatcherServlet.java",
                "classname": "org.springframework.web.servlet.DispatcherServlet",
                "line": {
                  "number": 925
                },
                "module": "org.springframework.web.servlet",
                "function": "doService"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "FrameworkServlet.java",
                "classname": "org.springframework.web.servlet.FrameworkServlet",
                "line": {
                  "number": 974
                },
                "module": "org.springframework.web.servlet",
                "function": "processRequest"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "FrameworkServlet.java",
                "classname": "org.springframework.web.servlet.FrameworkServlet",
                "line": {
                  "number": 866
                },
                "module": "org.springframework.web.servlet",
                "function": "doGet"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "HttpServlet.java",
                "classname": "javax.servlet.http.HttpServlet",
                "line": {
                  "number": 635
                },
                "module": "javax.servlet.http",
                "function": "service"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "FrameworkServlet.java",
                "classname": "org.springframework.web.servlet.FrameworkServlet",
                "line": {
                  "number": 851
                },
                "module": "org.springframework.web.servlet",
                "function": "service"
              },
              {
                "exclude_from_grouping": false,
                "library_frame": true,
                "filename": "HttpServlet.java",
                "classname": "javax.servlet.http.HttpServlet",
                "line": {
                  "number": 742
                },
                "module": "javax.servlet.http",
                "function": "service"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 231
                },
                "module": "org.apache.catalina.core",
                "function": "internalDoFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 166
                },
                "module": "org.apache.catalina.core",
                "function": "doFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "WsFilter.java",
                "classname": "org.apache.tomcat.websocket.server.WsFilter",
                "line": {
                  "number": 52
                },
                "module": "org.apache.tomcat.websocket.server",
                "function": "doFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 193
                },
                "module": "org.apache.catalina.core",
                "function": "internalDoFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 166
                },
                "module": "org.apache.catalina.core",
                "function": "doFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "RequestContextFilter.java",
                "classname": "org.springframework.web.filter.RequestContextFilter",
                "line": {
                  "number": 99
                },
                "module": "org.springframework.web.filter",
                "function": "doFilterInternal"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "OncePerRequestFilter.java",
                "classname": "org.springframework.web.filter.OncePerRequestFilter",
                "line": {
                  "number": 107
                },
                "function": "doFilter",
                "module": "org.springframework.web.filter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 193
                },
                "function": "internalDoFilter",
                "module": "org.apache.catalina.core"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 166
                },
                "module": "org.apache.catalina.core",
                "function": "doFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "HttpPutFormContentFilter.java",
                "classname": "org.springframework.web.filter.HttpPutFormContentFilter",
                "line": {
                  "number": 109
                },
                "module": "org.springframework.web.filter",
                "function": "doFilterInternal"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "OncePerRequestFilter.java",
                "classname": "org.springframework.web.filter.OncePerRequestFilter",
                "line": {
                  "number": 107
                },
                "module": "org.springframework.web.filter",
                "function": "doFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 193
                },
                "module": "org.apache.catalina.core",
                "function": "internalDoFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 166
                },
                "function": "doFilter",
                "module": "org.apache.catalina.core"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "HiddenHttpMethodFilter.java",
                "classname": "org.springframework.web.filter.HiddenHttpMethodFilter",
                "line": {
                  "number": 81
                },
                "function": "doFilterInternal",
                "module": "org.springframework.web.filter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "OncePerRequestFilter.java",
                "classname": "org.springframework.web.filter.OncePerRequestFilter",
                "line": {
                  "number": 107
                },
                "module": "org.springframework.web.filter",
                "function": "doFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 193
                },
                "module": "org.apache.catalina.core",
                "function": "internalDoFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 166
                },
                "function": "doFilter",
                "module": "org.apache.catalina.core"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "CharacterEncodingFilter.java",
                "classname": "org.springframework.web.filter.CharacterEncodingFilter",
                "line": {
                  "number": 200
                },
                "module": "org.springframework.web.filter",
                "function": "doFilterInternal"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "OncePerRequestFilter.java",
                "classname": "org.springframework.web.filter.OncePerRequestFilter",
                "line": {
                  "number": 107
                },
                "module": "org.springframework.web.filter",
                "function": "doFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 193
                },
                "module": "org.apache.catalina.core",
                "function": "internalDoFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ApplicationFilterChain.java",
                "classname": "org.apache.catalina.core.ApplicationFilterChain",
                "line": {
                  "number": 166
                },
                "module": "org.apache.catalina.core",
                "function": "doFilter"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "StandardWrapperValve.java",
                "classname": "org.apache.catalina.core.StandardWrapperValve",
                "line": {
                  "number": 198
                },
                "module": "org.apache.catalina.core",
                "function": "invoke"
              },
              {
                "exclude_from_grouping": false,
                "library_frame": true,
                "filename": "StandardContextValve.java",
                "classname": "org.apache.catalina.core.StandardContextValve",
                "line": {
                  "number": 96
                },
                "module": "org.apache.catalina.core",
                "function": "invoke"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "AuthenticatorBase.java",
                "classname": "org.apache.catalina.authenticator.AuthenticatorBase",
                "line": {
                  "number": 496
                },
                "module": "org.apache.catalina.authenticator",
                "function": "invoke"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "StandardHostValve.java",
                "classname": "org.apache.catalina.core.StandardHostValve",
                "line": {
                  "number": 140
                },
                "module": "org.apache.catalina.core",
                "function": "invoke"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ErrorReportValve.java",
                "classname": "org.apache.catalina.valves.ErrorReportValve",
                "line": {
                  "number": 81
                },
                "module": "org.apache.catalina.valves",
                "function": "invoke"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "StandardEngineValve.java",
                "classname": "org.apache.catalina.core.StandardEngineValve",
                "line": {
                  "number": 87
                },
                "module": "org.apache.catalina.core",
                "function": "invoke"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "CoyoteAdapter.java",
                "classname": "org.apache.catalina.connector.CoyoteAdapter",
                "line": {
                  "number": 342
                },
                "module": "org.apache.catalina.connector",
                "function": "service"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "Http11Processor.java",
                "classname": "org.apache.coyote.http11.Http11Processor",
                "line": {
                  "number": 803
                },
                "module": "org.apache.coyote.http11",
                "function": "service"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "AbstractProcessorLight.java",
                "classname": "org.apache.coyote.AbstractProcessorLight",
                "line": {
                  "number": 66
                },
                "module": "org.apache.coyote",
                "function": "process"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "AbstractProtocol.java",
                "classname": "org.apache.coyote.AbstractProtocol$ConnectionHandler",
                "line": {
                  "number": 790
                },
                "module": "org.apache.coyote",
                "function": "process"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "NioEndpoint.java",
                "classname": "org.apache.tomcat.util.net.NioEndpoint$SocketProcessor",
                "line": {
                  "number": 1468
                },
                "module": "org.apache.tomcat.util.net",
                "function": "doRun"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "SocketProcessorBase.java",
                "classname": "org.apache.tomcat.util.net.SocketProcessorBase",
                "line": {
                  "number": 49
                },
                "module": "org.apache.tomcat.util.net",
                "function": "run"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ThreadPoolExecutor.java",
                "classname": "java.util.concurrent.ThreadPoolExecutor",
                "line": {
                  "number": 1135
                },
                "module": "java.util.concurrent",
                "function": "runWorker"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "ThreadPoolExecutor.java",
                "classname": "java.util.concurrent.ThreadPoolExecutor$Worker",
                "line": {
                  "number": 635
                },
                "module": "java.util.concurrent",
                "function": "run"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "TaskThread.java",
                "classname": "org.apache.tomcat.util.threads.TaskThread$WrappingRunnable",
                "line": {
                  "number": 61
                },
                "module": "org.apache.tomcat.util.threads",
                "function": "run"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "Thread.java",
                "classname": "java.lang.Thread",
                "line": {
                  "number": 844
                },
                "module": "java.lang",
                "function": "run"
              }
            ],
            "subtype": "http",
            "destination": {
              "service": {
                "resource": "opbeans-node:3000",
                "name": "http://opbeans-node:3000",
                "type": "external"
              }
            },
            "name": "GET opbeans-node",
            "http": {
              "response": {
                "status_code": 200
              },
              "url": {
                "original": "http://opbeans-node:3000/api/products"
              }
            },
            "id": "a5c7b0381d509026",
            "type": "external"
          }
        },
        "id": "a5c7b0381d509026",
        "parentId": "81b2ee5642ead045",
        "duration": 10165,
        "offset": 267,
        "skew": 0,
        "parent": {
          "docType": "transaction",
          "doc": {
            "container": {
              "id": "aa7211b5935326c5ba54921c0b5b953303b0b94b11b81f35a5028701910de464"
            },
            "parent": {
              "id": "19c859546457e456"
            },
            "process": {
              "pid": 6,
              "title": "/usr/lib/jvm/java-10-openjdk-amd64/bin/java",
              "ppid": 1
            },
            "agent": {
              "name": "java",
              "ephemeral_id": "a125a292-a846-442e-81ca-ea8fd12356b5",
              "version": "1.12.1-SNAPSHOT"
            },
            "source": {
              "ip": "172.19.0.9"
            },
            "processor": {
              "name": "transaction",
              "event": "transaction"
            },
            "url": {
              "path": "//api/products",
              "scheme": "http",
              "port": 3000,
              "domain": "opbeans-java",
              "full": "http://opbeans-java:3000//api/products"
            },
            "observer": {
              "hostname": "b69807bbc393",
              "id": "75679076-f182-49ae-8bea-29beef5c391d",
              "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
              "type": "apm-server",
              "version": "8.0.0",
              "version_major": 8
            },
            "trace": {
              "id": "b599641a9663c734ba5c59024ee3e150"
            },
            "@timestamp": "2020-01-24T23:52:28.630Z",
            "ecs": {
              "version": "1.4.0"
            },
            "service": {
              "node": {
                "name": "aa7211b5935326c5ba54921c0b5b953303b0b94b11b81f35a5028701910de464"
              },
              "environment": "production",
              "name": "opbeans-java",
              "runtime": {
                "name": "Java",
                "version": "10.0.2"
              },
              "language": {
                "name": "Java",
                "version": "10.0.2"
              }
            },
            "host": {
              "hostname": "aa7211b59353",
              "os": {
                "platform": "Linux"
              },
              "ip": "172.19.0.10",
              "name": "aa7211b59353",
              "architecture": "amd64"
            },
            "client": {
              "ip": "172.19.0.9"
            },
            "http": {
              "request": {
                "headers": {
                  "User-Agent": ["http.rb/4.1.1"],
                  "Connection": ["close"],
                  "Host": ["opbeans-java:3000"],
                  "Elastic-Apm-Traceparent": [
                    "00-b599641a9663c734ba5c59024ee3e150-19c859546457e456-01"
                  ],
                  "Content-Length": ["0"]
                },
                "method": "get",
                "socket": {
                  "encrypted": false,
                  "remote_address": "172.19.0.9"
                },
                "body": {
                  "original": "[REDACTED]"
                }
              },
              "response": {
                "status_code": 200,
                "finished": true,
                "headers_sent": false
              },
              "version": "1.1"
            },
            "transaction": {
              "result": "HTTP 2xx",
              "duration": {
                "us": 10647
              },
              "name": "DispatcherServlet#doGet",
              "span_count": {
                "dropped": 0,
                "started": 1
              },
              "id": "81b2ee5642ead045",
              "type": "request",
              "sampled": true
            },
            "user_agent": {
              "original": "http.rb/4.1.1",
              "name": "Other",
              "device": {
                "name": "Generic Feature Phone"
              }
            },
            "timestamp": {
              "us": 1579909948630000
            }
          },
          "id": "81b2ee5642ead045",
          "parentId": "19c859546457e456",
          "duration": 10647,
          "offset": 0,
          "skew": 0
        }
      }
    },
    {
      "docType": "span",
      "doc": {
        "parent": {
          "id": "f04c397693cf909f"
        },
        "agent": {
          "name": "nodejs",
          "version": "3.3.0"
        },
        "destination": {
          "address": "redis"
        },
        "processor": {
          "name": "transaction",
          "event": "span"
        },
        "observer": {
          "hostname": "b69807bbc393",
          "id": "75679076-f182-49ae-8bea-29beef5c391d",
          "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
          "type": "apm-server",
          "version": "8.0.0",
          "version_major": 8
        },
        "trace": {
          "id": "b599641a9663c734ba5c59024ee3e150"
        },
        "@timestamp": "2020-01-24T23:52:28.632Z",
        "ecs": {
          "version": "1.4.0"
        },
        "service": {
          "environment": "production",
          "name": "opbeans-node"
        },
        "connection": {
          "hash": "{service.environment:'production'}/{service.name:'opbeans-node'}/{span.subtype:'redis'}/{destination.address:'redis'}/{span.type:'cache'}"
        },
        "transaction": {
          "id": "f04c397693cf909f"
        },
        "timestamp": {
          "us": 1579909948632999
        },
        "span": {
          "duration": {
            "us": 1517
          },
          "stacktrace": [
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/redis/lib/commands.js",
              "abs_path": "/app/node_modules/redis/lib/commands.js",
              "line": {
                "number": 58
              },
              "function": "get"
            },
            {
              "library_frame": false,
              "exclude_from_grouping": false,
              "filename": "server/routes.js",
              "abs_path": "/app/server/routes.js",
              "line": {
                "number": 59,
                "context": "  redis.get('products', function (err, obj) {"
              },
              "function": "<anonymous>",
              "context": {
                "pre": ["", "app.get('/products', function (req, res) {"],
                "post": [
                  "    if (err) apm.captureError(err)",
                  "    else if (obj) return res.json(obj)"
                ]
              }
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/layer.js",
              "abs_path": "/app/node_modules/express/lib/router/layer.js",
              "line": {
                "number": 95
              },
              "function": "handle"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/route.js",
              "abs_path": "/app/node_modules/express/lib/router/route.js",
              "line": {
                "number": 137
              },
              "function": "next"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/route.js",
              "abs_path": "/app/node_modules/express/lib/router/route.js",
              "line": {
                "number": 112
              },
              "function": "dispatch"
            },
            {
              "exclude_from_grouping": false,
              "library_frame": true,
              "filename": "node_modules/express/lib/router/layer.js",
              "abs_path": "/app/node_modules/express/lib/router/layer.js",
              "line": {
                "number": 95
              },
              "function": "handle"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 281
              },
              "function": "<anonymous>"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 335
              },
              "function": "process_params"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 275
              },
              "function": "next"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 174
              },
              "function": "handle"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 47
              },
              "function": "router"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/layer.js",
              "abs_path": "/app/node_modules/express/lib/router/layer.js",
              "line": {
                "number": 95
              },
              "function": "handle"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "filename": "node_modules/express/lib/router/index.js",
              "line": {
                "number": 317
              },
              "function": "trim_prefix"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 284
              },
              "function": "<anonymous>"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 335
              },
              "function": "process_params"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 275
              },
              "function": "next"
            },
            {
              "library_frame": false,
              "exclude_from_grouping": false,
              "filename": "server.js",
              "abs_path": "/app/server.js",
              "line": {
                "number": 88,
                "context": "    return next()"
              },
              "function": "<anonymous>",
              "context": {
                "pre": [
                  "app.use('/api', function (req, res, next) {",
                  "  if (Math.random() > opbeansRedirectProbability) {"
                ],
                "post": ["  }", ""]
              }
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/layer.js",
              "abs_path": "/app/node_modules/express/lib/router/layer.js",
              "line": {
                "number": 95
              },
              "function": "handle"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 317
              },
              "function": "trim_prefix"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "filename": "node_modules/express/lib/router/index.js",
              "line": {
                "number": 284
              },
              "function": "<anonymous>"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 335
              },
              "function": "process_params"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 275
              },
              "function": "next"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 635
              },
              "function": "<anonymous>"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 260
              },
              "function": "next"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "filename": "node_modules/express/lib/router/index.js",
              "line": {
                "number": 174
              },
              "function": "handle"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 47
              },
              "function": "router"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/layer.js",
              "abs_path": "/app/node_modules/express/lib/router/layer.js",
              "line": {
                "number": 95
              },
              "function": "handle"
            },
            {
              "exclude_from_grouping": false,
              "library_frame": true,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 317
              },
              "function": "trim_prefix"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 284
              },
              "function": "<anonymous>"
            },
            {
              "exclude_from_grouping": false,
              "library_frame": true,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 335
              },
              "function": "process_params"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 275
              },
              "function": "next"
            },
            {
              "library_frame": false,
              "exclude_from_grouping": false,
              "filename": "server.js",
              "abs_path": "/app/server.js",
              "line": {
                "number": 80,
                "context": "  next()"
              },
              "function": "<anonymous>",
              "context": {
                "pre": ["  })", ""],
                "post": ["})", ""]
              }
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/layer.js",
              "abs_path": "/app/node_modules/express/lib/router/layer.js",
              "line": {
                "number": 95
              },
              "function": "handle"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 317
              },
              "function": "trim_prefix"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 284
              },
              "function": "<anonymous>"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/express/lib/router/index.js",
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "line": {
                "number": 335
              },
              "function": "process_params"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "abs_path": "/app/node_modules/express/lib/router/index.js",
              "filename": "node_modules/express/lib/router/index.js",
              "line": {
                "number": 275
              },
              "function": "next"
            }
          ],
          "subtype": "redis",
          "name": "GET",
          "id": "af20fb3f1fb0e82e",
          "type": "cache",
          "sync": false
        }
      },
      "id": "af20fb3f1fb0e82e",
      "parentId": "f04c397693cf909f",
      "duration": 1517,
      "offset": 2999,
      "skew": 0,
      "parent": {
        "docType": "transaction",
        "doc": {
          "container": {
            "id": "9d01ce52fbed7d390fa6b911c1fe1aff515fba807e1654a8dbd219c71dc82daa"
          },
          "parent": {
            "id": "a5c7b0381d509026"
          },
          "agent": {
            "name": "nodejs",
            "version": "3.3.0"
          },
          "process": {
            "args": [
              "/usr/local/bin/node",
              "/usr/local/lib/node_modules/pm2/lib/ProcessContainer.js",
              "ecosystem-workload.config.js"
            ],
            "pid": 29978,
            "title": "node /app/server.js",
            "ppid": 1
          },
          "source": {
            "ip": "172.19.0.10"
          },
          "processor": {
            "name": "transaction",
            "event": "transaction"
          },
          "url": {
            "path": "/api/products",
            "original": "/api/products",
            "scheme": "http",
            "port": 3000,
            "domain": "opbeans-node",
            "full": "http://opbeans-node:3000/api/products"
          },
          "labels": {
            "lorem": "ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.",
            "this-is-a-very-long-tag-name-without-any-spaces": "test",
            "foo": "bar",
            "multi-line": "foo\nbar\nbaz"
          },
          "observer": {
            "hostname": "b69807bbc393",
            "id": "75679076-f182-49ae-8bea-29beef5c391d",
            "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
            "type": "apm-server",
            "version": "8.0.0",
            "version_major": 8
          },
          "trace": {
            "id": "b599641a9663c734ba5c59024ee3e150"
          },
          "@timestamp": "2020-01-24T23:52:28.632Z",
          "ecs": {
            "version": "1.4.0"
          },
          "service": {
            "node": {
              "name": "9d01ce52fbed7d390fa6b911c1fe1aff515fba807e1654a8dbd219c71dc82daa"
            },
            "environment": "production",
            "framework": {
              "name": "express",
              "version": "4.17.1"
            },
            "name": "opbeans-node",
            "runtime": {
              "name": "node",
              "version": "12.13.1"
            },
            "language": {
              "name": "javascript"
            },
            "version": "1.0.0"
          },
          "host": {
            "hostname": "9d01ce52fbed",
            "os": {
              "platform": "linux"
            },
            "ip": "172.19.0.12",
            "name": "9d01ce52fbed",
            "architecture": "x64"
          },
          "http": {
            "request": {
              "headers": {
                "Accept": [
                  "text/plain, application/json, application/x-jackson-smile, application/cbor, application/*+json, */*"
                ],
                "Connection": ["keep-alive"],
                "User-Agent": ["Java/10.0.2"],
                "Host": ["opbeans-node:3000"],
                "Elastic-Apm-Traceparent": [
                  "00-b599641a9663c734ba5c59024ee3e150-a5c7b0381d509026-01"
                ]
              },
              "method": "get",
              "socket": {
                "encrypted": false,
                "remote_address": "::ffff:172.19.0.10"
              }
            },
            "response": {
              "headers": {
                "Etag": ["W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\""],
                "Connection": ["keep-alive"],
                "Content-Length": ["1023"],
                "Date": ["Fri, 24 Jan 2020 23:52:28 GMT"],
                "X-Powered-By": ["Express"],
                "Content-Type": ["application/json; charset=utf-8"]
              },
              "status_code": 200
            },
            "version": "1.1"
          },
          "client": {
            "ip": "172.19.0.10"
          },
          "user": {
            "name": "kimchy",
            "id": "42",
            "email": "kimchy@elastic.co"
          },
          "user_agent": {
            "original": "Java/10.0.2",
            "name": "Java",
            "device": {
              "name": "Spider"
            },
            "version": "0.2."
          },
          "transaction": {
            "result": "HTTP 2xx",
            "duration": {
              "us": 9049
            },
            "custom": {
              "shoppingBasketCount": 42
            },
            "name": "GET /api/products",
            "span_count": {
              "started": 2
            },
            "id": "f04c397693cf909f",
            "type": "request",
            "sampled": true
          },
          "timestamp": {
            "us": 1579909948632008
          }
        },
        "id": "f04c397693cf909f",
        "parentId": "a5c7b0381d509026",
        "duration": 9049,
        "offset": 2008,
        "skew": 0,
        "parent": {
          "docType": "span",
          "doc": {
            "parent": {
              "id": "81b2ee5642ead045"
            },
            "agent": {
              "name": "java",
              "ephemeral_id": "a125a292-a846-442e-81ca-ea8fd12356b5",
              "version": "1.12.1-SNAPSHOT"
            },
            "destination": {
              "address": ["opbeans-node", "opbeans-node"],
              "port": 3000
            },
            "processor": {
              "name": "transaction",
              "event": "span"
            },
            "observer": {
              "hostname": "b69807bbc393",
              "id": "75679076-f182-49ae-8bea-29beef5c391d",
              "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
              "type": "apm-server",
              "version": "8.0.0",
              "version_major": 8
            },
            "trace": {
              "id": "b599641a9663c734ba5c59024ee3e150"
            },
            "@timestamp": "2020-01-24T23:52:28.630Z",
            "ecs": {
              "version": "1.4.0"
            },
            "service": {
              "environment": "production",
              "name": "opbeans-java"
            },
            "connection": {
              "hash": "{service.environment:'production'}/{service.name:'opbeans-java'}/{span.subtype:'http'}/{destination.address:'[opbeans-node, opbeans-node]'}/{span.type:'external'}"
            },
            "transaction": {
              "id": "81b2ee5642ead045"
            },
            "timestamp": {
              "us": 1579909948630267
            },
            "span": {
              "duration": {
                "us": 10165
              },
              "stacktrace": [
                {
                  "exclude_from_grouping": false,
                  "library_frame": true,
                  "filename": "AbstractClientHttpRequest.java",
                  "classname": "org.springframework.http.client.AbstractClientHttpRequest",
                  "line": {
                    "number": 55
                  },
                  "module": "org.springframework.http.client",
                  "function": "execute"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "RestTemplate.java",
                  "classname": "org.springframework.web.client.RestTemplate",
                  "line": {
                    "number": 723
                  },
                  "function": "doExecute",
                  "module": "org.springframework.web.client"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "RestTemplate.java",
                  "classname": "org.springframework.web.client.RestTemplate",
                  "line": {
                    "number": 680
                  },
                  "module": "org.springframework.web.client",
                  "function": "execute"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "RestTemplate.java",
                  "classname": "org.springframework.web.client.RestTemplate",
                  "line": {
                    "number": 332
                  },
                  "module": "org.springframework.web.client",
                  "function": "getForObject"
                },
                {
                  "library_frame": false,
                  "exclude_from_grouping": false,
                  "filename": "DTInterceptor.java",
                  "classname": "co.elastic.apm.opbeans.controllers.DTInterceptor",
                  "line": {
                    "number": 73
                  },
                  "module": "co.elastic.apm.opbeans.controllers",
                  "function": "preHandle"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "HandlerExecutionChain.java",
                  "classname": "org.springframework.web.servlet.HandlerExecutionChain",
                  "line": {
                    "number": 136
                  },
                  "module": "org.springframework.web.servlet",
                  "function": "applyPreHandle"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "DispatcherServlet.java",
                  "classname": "org.springframework.web.servlet.DispatcherServlet",
                  "line": {
                    "number": 986
                  },
                  "module": "org.springframework.web.servlet",
                  "function": "doDispatch"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "DispatcherServlet.java",
                  "classname": "org.springframework.web.servlet.DispatcherServlet",
                  "line": {
                    "number": 925
                  },
                  "module": "org.springframework.web.servlet",
                  "function": "doService"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "FrameworkServlet.java",
                  "classname": "org.springframework.web.servlet.FrameworkServlet",
                  "line": {
                    "number": 974
                  },
                  "module": "org.springframework.web.servlet",
                  "function": "processRequest"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "FrameworkServlet.java",
                  "classname": "org.springframework.web.servlet.FrameworkServlet",
                  "line": {
                    "number": 866
                  },
                  "module": "org.springframework.web.servlet",
                  "function": "doGet"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "HttpServlet.java",
                  "classname": "javax.servlet.http.HttpServlet",
                  "line": {
                    "number": 635
                  },
                  "module": "javax.servlet.http",
                  "function": "service"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "FrameworkServlet.java",
                  "classname": "org.springframework.web.servlet.FrameworkServlet",
                  "line": {
                    "number": 851
                  },
                  "module": "org.springframework.web.servlet",
                  "function": "service"
                },
                {
                  "exclude_from_grouping": false,
                  "library_frame": true,
                  "filename": "HttpServlet.java",
                  "classname": "javax.servlet.http.HttpServlet",
                  "line": {
                    "number": 742
                  },
                  "module": "javax.servlet.http",
                  "function": "service"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 231
                  },
                  "module": "org.apache.catalina.core",
                  "function": "internalDoFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 166
                  },
                  "module": "org.apache.catalina.core",
                  "function": "doFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "WsFilter.java",
                  "classname": "org.apache.tomcat.websocket.server.WsFilter",
                  "line": {
                    "number": 52
                  },
                  "module": "org.apache.tomcat.websocket.server",
                  "function": "doFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 193
                  },
                  "module": "org.apache.catalina.core",
                  "function": "internalDoFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 166
                  },
                  "module": "org.apache.catalina.core",
                  "function": "doFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "RequestContextFilter.java",
                  "classname": "org.springframework.web.filter.RequestContextFilter",
                  "line": {
                    "number": 99
                  },
                  "module": "org.springframework.web.filter",
                  "function": "doFilterInternal"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "OncePerRequestFilter.java",
                  "classname": "org.springframework.web.filter.OncePerRequestFilter",
                  "line": {
                    "number": 107
                  },
                  "function": "doFilter",
                  "module": "org.springframework.web.filter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 193
                  },
                  "function": "internalDoFilter",
                  "module": "org.apache.catalina.core"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 166
                  },
                  "module": "org.apache.catalina.core",
                  "function": "doFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "HttpPutFormContentFilter.java",
                  "classname": "org.springframework.web.filter.HttpPutFormContentFilter",
                  "line": {
                    "number": 109
                  },
                  "module": "org.springframework.web.filter",
                  "function": "doFilterInternal"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "OncePerRequestFilter.java",
                  "classname": "org.springframework.web.filter.OncePerRequestFilter",
                  "line": {
                    "number": 107
                  },
                  "module": "org.springframework.web.filter",
                  "function": "doFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 193
                  },
                  "module": "org.apache.catalina.core",
                  "function": "internalDoFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 166
                  },
                  "function": "doFilter",
                  "module": "org.apache.catalina.core"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "HiddenHttpMethodFilter.java",
                  "classname": "org.springframework.web.filter.HiddenHttpMethodFilter",
                  "line": {
                    "number": 81
                  },
                  "function": "doFilterInternal",
                  "module": "org.springframework.web.filter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "OncePerRequestFilter.java",
                  "classname": "org.springframework.web.filter.OncePerRequestFilter",
                  "line": {
                    "number": 107
                  },
                  "module": "org.springframework.web.filter",
                  "function": "doFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 193
                  },
                  "module": "org.apache.catalina.core",
                  "function": "internalDoFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 166
                  },
                  "function": "doFilter",
                  "module": "org.apache.catalina.core"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "CharacterEncodingFilter.java",
                  "classname": "org.springframework.web.filter.CharacterEncodingFilter",
                  "line": {
                    "number": 200
                  },
                  "module": "org.springframework.web.filter",
                  "function": "doFilterInternal"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "OncePerRequestFilter.java",
                  "classname": "org.springframework.web.filter.OncePerRequestFilter",
                  "line": {
                    "number": 107
                  },
                  "module": "org.springframework.web.filter",
                  "function": "doFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 193
                  },
                  "module": "org.apache.catalina.core",
                  "function": "internalDoFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ApplicationFilterChain.java",
                  "classname": "org.apache.catalina.core.ApplicationFilterChain",
                  "line": {
                    "number": 166
                  },
                  "module": "org.apache.catalina.core",
                  "function": "doFilter"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "StandardWrapperValve.java",
                  "classname": "org.apache.catalina.core.StandardWrapperValve",
                  "line": {
                    "number": 198
                  },
                  "module": "org.apache.catalina.core",
                  "function": "invoke"
                },
                {
                  "exclude_from_grouping": false,
                  "library_frame": true,
                  "filename": "StandardContextValve.java",
                  "classname": "org.apache.catalina.core.StandardContextValve",
                  "line": {
                    "number": 96
                  },
                  "module": "org.apache.catalina.core",
                  "function": "invoke"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "AuthenticatorBase.java",
                  "classname": "org.apache.catalina.authenticator.AuthenticatorBase",
                  "line": {
                    "number": 496
                  },
                  "module": "org.apache.catalina.authenticator",
                  "function": "invoke"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "StandardHostValve.java",
                  "classname": "org.apache.catalina.core.StandardHostValve",
                  "line": {
                    "number": 140
                  },
                  "module": "org.apache.catalina.core",
                  "function": "invoke"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ErrorReportValve.java",
                  "classname": "org.apache.catalina.valves.ErrorReportValve",
                  "line": {
                    "number": 81
                  },
                  "module": "org.apache.catalina.valves",
                  "function": "invoke"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "StandardEngineValve.java",
                  "classname": "org.apache.catalina.core.StandardEngineValve",
                  "line": {
                    "number": 87
                  },
                  "module": "org.apache.catalina.core",
                  "function": "invoke"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "CoyoteAdapter.java",
                  "classname": "org.apache.catalina.connector.CoyoteAdapter",
                  "line": {
                    "number": 342
                  },
                  "module": "org.apache.catalina.connector",
                  "function": "service"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "Http11Processor.java",
                  "classname": "org.apache.coyote.http11.Http11Processor",
                  "line": {
                    "number": 803
                  },
                  "module": "org.apache.coyote.http11",
                  "function": "service"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "AbstractProcessorLight.java",
                  "classname": "org.apache.coyote.AbstractProcessorLight",
                  "line": {
                    "number": 66
                  },
                  "module": "org.apache.coyote",
                  "function": "process"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "AbstractProtocol.java",
                  "classname": "org.apache.coyote.AbstractProtocol$ConnectionHandler",
                  "line": {
                    "number": 790
                  },
                  "module": "org.apache.coyote",
                  "function": "process"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "NioEndpoint.java",
                  "classname": "org.apache.tomcat.util.net.NioEndpoint$SocketProcessor",
                  "line": {
                    "number": 1468
                  },
                  "module": "org.apache.tomcat.util.net",
                  "function": "doRun"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "SocketProcessorBase.java",
                  "classname": "org.apache.tomcat.util.net.SocketProcessorBase",
                  "line": {
                    "number": 49
                  },
                  "module": "org.apache.tomcat.util.net",
                  "function": "run"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ThreadPoolExecutor.java",
                  "classname": "java.util.concurrent.ThreadPoolExecutor",
                  "line": {
                    "number": 1135
                  },
                  "module": "java.util.concurrent",
                  "function": "runWorker"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "ThreadPoolExecutor.java",
                  "classname": "java.util.concurrent.ThreadPoolExecutor$Worker",
                  "line": {
                    "number": 635
                  },
                  "module": "java.util.concurrent",
                  "function": "run"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "TaskThread.java",
                  "classname": "org.apache.tomcat.util.threads.TaskThread$WrappingRunnable",
                  "line": {
                    "number": 61
                  },
                  "module": "org.apache.tomcat.util.threads",
                  "function": "run"
                },
                {
                  "library_frame": true,
                  "exclude_from_grouping": false,
                  "filename": "Thread.java",
                  "classname": "java.lang.Thread",
                  "line": {
                    "number": 844
                  },
                  "module": "java.lang",
                  "function": "run"
                }
              ],
              "subtype": "http",
              "destination": {
                "service": {
                  "resource": "opbeans-node:3000",
                  "name": "http://opbeans-node:3000",
                  "type": "external"
                }
              },
              "name": "GET opbeans-node",
              "http": {
                "response": {
                  "status_code": 200
                },
                "url": {
                  "original": "http://opbeans-node:3000/api/products"
                }
              },
              "id": "a5c7b0381d509026",
              "type": "external"
            }
          },
          "id": "a5c7b0381d509026",
          "parentId": "81b2ee5642ead045",
          "duration": 10165,
          "offset": 267,
          "skew": 0,
          "parent": {
            "docType": "transaction",
            "doc": {
              "container": {
                "id": "aa7211b5935326c5ba54921c0b5b953303b0b94b11b81f35a5028701910de464"
              },
              "parent": {
                "id": "19c859546457e456"
              },
              "process": {
                "pid": 6,
                "title": "/usr/lib/jvm/java-10-openjdk-amd64/bin/java",
                "ppid": 1
              },
              "agent": {
                "name": "java",
                "ephemeral_id": "a125a292-a846-442e-81ca-ea8fd12356b5",
                "version": "1.12.1-SNAPSHOT"
              },
              "source": {
                "ip": "172.19.0.9"
              },
              "processor": {
                "name": "transaction",
                "event": "transaction"
              },
              "url": {
                "path": "//api/products",
                "scheme": "http",
                "port": 3000,
                "domain": "opbeans-java",
                "full": "http://opbeans-java:3000//api/products"
              },
              "observer": {
                "hostname": "b69807bbc393",
                "id": "75679076-f182-49ae-8bea-29beef5c391d",
                "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
                "type": "apm-server",
                "version": "8.0.0",
                "version_major": 8
              },
              "trace": {
                "id": "b599641a9663c734ba5c59024ee3e150"
              },
              "@timestamp": "2020-01-24T23:52:28.630Z",
              "ecs": {
                "version": "1.4.0"
              },
              "service": {
                "node": {
                  "name": "aa7211b5935326c5ba54921c0b5b953303b0b94b11b81f35a5028701910de464"
                },
                "environment": "production",
                "name": "opbeans-java",
                "runtime": {
                  "name": "Java",
                  "version": "10.0.2"
                },
                "language": {
                  "name": "Java",
                  "version": "10.0.2"
                }
              },
              "host": {
                "hostname": "aa7211b59353",
                "os": {
                  "platform": "Linux"
                },
                "ip": "172.19.0.10",
                "name": "aa7211b59353",
                "architecture": "amd64"
              },
              "client": {
                "ip": "172.19.0.9"
              },
              "http": {
                "request": {
                  "headers": {
                    "User-Agent": ["http.rb/4.1.1"],
                    "Connection": ["close"],
                    "Host": ["opbeans-java:3000"],
                    "Elastic-Apm-Traceparent": [
                      "00-b599641a9663c734ba5c59024ee3e150-19c859546457e456-01"
                    ],
                    "Content-Length": ["0"]
                  },
                  "method": "get",
                  "socket": {
                    "encrypted": false,
                    "remote_address": "172.19.0.9"
                  },
                  "body": {
                    "original": "[REDACTED]"
                  }
                },
                "response": {
                  "status_code": 200,
                  "finished": true,
                  "headers_sent": false
                },
                "version": "1.1"
              },
              "transaction": {
                "result": "HTTP 2xx",
                "duration": {
                  "us": 10647
                },
                "name": "DispatcherServlet#doGet",
                "span_count": {
                  "dropped": 0,
                  "started": 1
                },
                "id": "81b2ee5642ead045",
                "type": "request",
                "sampled": true
              },
              "user_agent": {
                "original": "http.rb/4.1.1",
                "name": "Other",
                "device": {
                  "name": "Generic Feature Phone"
                }
              },
              "timestamp": {
                "us": 1579909948630000
              }
            },
            "id": "81b2ee5642ead045",
            "parentId": "19c859546457e456",
            "duration": 10647,
            "offset": 0,
            "skew": 0
          }
        }
      }
    },
    {
      "docType": "span",
      "doc": {
        "parent": {
          "id": "af20fb3f1fb0e82e"
        },
        "agent": {
          "name": "nodejs",
          "version": "3.3.0"
        },
        "destination": {
          "address": "postgresql"
        },
        "processor": {
          "name": "transaction",
          "event": "span"
        },
        "observer": {
          "hostname": "b69807bbc393",
          "id": "75679076-f182-49ae-8bea-29beef5c391d",
          "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
          "type": "apm-server",
          "version": "8.0.0",
          "version_major": 8
        },
        "trace": {
          "id": "b599641a9663c734ba5c59024ee3e150"
        },
        "@timestamp": "2020-01-24T23:52:28.634Z",
        "ecs": {
          "version": "1.4.0"
        },
        "service": {
          "environment": "production",
          "name": "opbeans-node"
        },
        "connection": {
          "hash": "{service.environment:'production'}/{service.name:'opbeans-node'}/{span.subtype:'postgresql'}/{destination.address:'postgresql'}/{span.type:'db'}"
        },
        "transaction": {
          "id": "f04c397693cf909f"
        },
        "span": {
          "duration": {
            "us": 5756
          },
          "stacktrace": [
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/pg-pool/index.js",
              "abs_path": "/app/node_modules/pg-pool/index.js",
              "line": {
                "number": 328
              },
              "function": "PendingItem.callback"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "node_modules/pg-pool/index.js",
              "abs_path": "/app/node_modules/pg-pool/index.js",
              "line": {
                "number": 271
              },
              "function": "_acquireClient"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "abs_path": "/app/node_modules/pg-pool/index.js",
              "filename": "node_modules/pg-pool/index.js",
              "line": {
                "number": 123
              },
              "function": "_pulseQueue"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "abs_path": "/app/node_modules/pg-pool/index.js",
              "filename": "node_modules/pg-pool/index.js",
              "line": {
                "number": 159
              },
              "function": "<anonymous>"
            },
            {
              "library_frame": true,
              "exclude_from_grouping": false,
              "filename": "internal/process/task_queues.js",
              "abs_path": "internal/process/task_queues.js",
              "line": {
                "number": 75
              },
              "function": "processTicksAndRejections"
            }
          ],
          "subtype": "postgresql",
          "name": "SELECT FROM products",
          "action": "query",
          "id": "4e5226ddd82e193d",
          "type": "db",
          "sync": false,
          "db": {
            "statement": "SELECT p.id, p.sku, p.name, p.stock, t.name AS type_name FROM products p LEFT JOIN product_types t ON p.type_id=t.id",
            "type": "sql"
          }
        },
        "timestamp": {
          "us": 1579909948634707
        }
      },
      "id": "4e5226ddd82e193d",
      "parentId": "af20fb3f1fb0e82e",
      "duration": 5756,
      "offset": 4707,
      "skew": 0,
      "parent": {
        "docType": "span",
        "doc": {
          "parent": {
            "id": "f04c397693cf909f"
          },
          "agent": {
            "name": "nodejs",
            "version": "3.3.0"
          },
          "destination": {
            "address": "redis"
          },
          "processor": {
            "name": "transaction",
            "event": "span"
          },
          "observer": {
            "hostname": "b69807bbc393",
            "id": "75679076-f182-49ae-8bea-29beef5c391d",
            "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
            "type": "apm-server",
            "version": "8.0.0",
            "version_major": 8
          },
          "trace": {
            "id": "b599641a9663c734ba5c59024ee3e150"
          },
          "@timestamp": "2020-01-24T23:52:28.632Z",
          "ecs": {
            "version": "1.4.0"
          },
          "service": {
            "environment": "production",
            "name": "opbeans-node"
          },
          "connection": {
            "hash": "{service.environment:'production'}/{service.name:'opbeans-node'}/{span.subtype:'redis'}/{destination.address:'redis'}/{span.type:'cache'}"
          },
          "transaction": {
            "id": "f04c397693cf909f"
          },
          "timestamp": {
            "us": 1579909948632999
          },
          "span": {
            "duration": {
              "us": 1517
            },
            "stacktrace": [
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/redis/lib/commands.js",
                "abs_path": "/app/node_modules/redis/lib/commands.js",
                "line": {
                  "number": 58
                },
                "function": "get"
              },
              {
                "library_frame": false,
                "exclude_from_grouping": false,
                "filename": "server/routes.js",
                "abs_path": "/app/server/routes.js",
                "line": {
                  "number": 59,
                  "context": "  redis.get('products', function (err, obj) {"
                },
                "function": "<anonymous>",
                "context": {
                  "pre": ["", "app.get('/products', function (req, res) {"],
                  "post": [
                    "    if (err) apm.captureError(err)",
                    "    else if (obj) return res.json(obj)"
                  ]
                }
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/layer.js",
                "abs_path": "/app/node_modules/express/lib/router/layer.js",
                "line": {
                  "number": 95
                },
                "function": "handle"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/route.js",
                "abs_path": "/app/node_modules/express/lib/router/route.js",
                "line": {
                  "number": 137
                },
                "function": "next"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/route.js",
                "abs_path": "/app/node_modules/express/lib/router/route.js",
                "line": {
                  "number": 112
                },
                "function": "dispatch"
              },
              {
                "exclude_from_grouping": false,
                "library_frame": true,
                "filename": "node_modules/express/lib/router/layer.js",
                "abs_path": "/app/node_modules/express/lib/router/layer.js",
                "line": {
                  "number": 95
                },
                "function": "handle"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 281
                },
                "function": "<anonymous>"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 335
                },
                "function": "process_params"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 275
                },
                "function": "next"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 174
                },
                "function": "handle"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 47
                },
                "function": "router"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/layer.js",
                "abs_path": "/app/node_modules/express/lib/router/layer.js",
                "line": {
                  "number": 95
                },
                "function": "handle"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "filename": "node_modules/express/lib/router/index.js",
                "line": {
                  "number": 317
                },
                "function": "trim_prefix"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 284
                },
                "function": "<anonymous>"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 335
                },
                "function": "process_params"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 275
                },
                "function": "next"
              },
              {
                "library_frame": false,
                "exclude_from_grouping": false,
                "filename": "server.js",
                "abs_path": "/app/server.js",
                "line": {
                  "number": 88,
                  "context": "    return next()"
                },
                "function": "<anonymous>",
                "context": {
                  "pre": [
                    "app.use('/api', function (req, res, next) {",
                    "  if (Math.random() > opbeansRedirectProbability) {"
                  ],
                  "post": ["  }", ""]
                }
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/layer.js",
                "abs_path": "/app/node_modules/express/lib/router/layer.js",
                "line": {
                  "number": 95
                },
                "function": "handle"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 317
                },
                "function": "trim_prefix"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "filename": "node_modules/express/lib/router/index.js",
                "line": {
                  "number": 284
                },
                "function": "<anonymous>"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 335
                },
                "function": "process_params"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 275
                },
                "function": "next"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 635
                },
                "function": "<anonymous>"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 260
                },
                "function": "next"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "filename": "node_modules/express/lib/router/index.js",
                "line": {
                  "number": 174
                },
                "function": "handle"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 47
                },
                "function": "router"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/layer.js",
                "abs_path": "/app/node_modules/express/lib/router/layer.js",
                "line": {
                  "number": 95
                },
                "function": "handle"
              },
              {
                "exclude_from_grouping": false,
                "library_frame": true,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 317
                },
                "function": "trim_prefix"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 284
                },
                "function": "<anonymous>"
              },
              {
                "exclude_from_grouping": false,
                "library_frame": true,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 335
                },
                "function": "process_params"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 275
                },
                "function": "next"
              },
              {
                "library_frame": false,
                "exclude_from_grouping": false,
                "filename": "server.js",
                "abs_path": "/app/server.js",
                "line": {
                  "number": 80,
                  "context": "  next()"
                },
                "function": "<anonymous>",
                "context": {
                  "pre": ["  })", ""],
                  "post": ["})", ""]
                }
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/layer.js",
                "abs_path": "/app/node_modules/express/lib/router/layer.js",
                "line": {
                  "number": 95
                },
                "function": "handle"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 317
                },
                "function": "trim_prefix"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 284
                },
                "function": "<anonymous>"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "filename": "node_modules/express/lib/router/index.js",
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "line": {
                  "number": 335
                },
                "function": "process_params"
              },
              {
                "library_frame": true,
                "exclude_from_grouping": false,
                "abs_path": "/app/node_modules/express/lib/router/index.js",
                "filename": "node_modules/express/lib/router/index.js",
                "line": {
                  "number": 275
                },
                "function": "next"
              }
            ],
            "subtype": "redis",
            "name": "GET",
            "id": "af20fb3f1fb0e82e",
            "type": "cache",
            "sync": false
          }
        },
        "id": "af20fb3f1fb0e82e",
        "parentId": "f04c397693cf909f",
        "duration": 1517,
        "offset": 2999,
        "skew": 0,
        "parent": {
          "docType": "transaction",
          "doc": {
            "container": {
              "id": "9d01ce52fbed7d390fa6b911c1fe1aff515fba807e1654a8dbd219c71dc82daa"
            },
            "parent": {
              "id": "a5c7b0381d509026"
            },
            "agent": {
              "name": "nodejs",
              "version": "3.3.0"
            },
            "process": {
              "args": [
                "/usr/local/bin/node",
                "/usr/local/lib/node_modules/pm2/lib/ProcessContainer.js",
                "ecosystem-workload.config.js"
              ],
              "pid": 29978,
              "title": "node /app/server.js",
              "ppid": 1
            },
            "source": {
              "ip": "172.19.0.10"
            },
            "processor": {
              "name": "transaction",
              "event": "transaction"
            },
            "url": {
              "path": "/api/products",
              "original": "/api/products",
              "scheme": "http",
              "port": 3000,
              "domain": "opbeans-node",
              "full": "http://opbeans-node:3000/api/products"
            },
            "labels": {
              "lorem": "ipsum dolor sit amet, consectetur adipiscing elit. Nulla finibus, ipsum id scelerisque consequat, enim leo vulputate massa, vel ultricies ante neque ac risus. Curabitur tincidunt vitae sapien id pulvinar. Mauris eu vestibulum tortor. Integer sit amet lorem fringilla, egestas tellus vitae, vulputate purus. Nulla feugiat blandit nunc et semper. Morbi purus libero, mattis sed mauris non, euismod iaculis lacus. Curabitur eleifend ante eros, non faucibus velit lacinia id. Duis posuere libero augue, at dignissim urna consectetur eget. Praesent eu congue est, iaculis finibus augue.",
              "this-is-a-very-long-tag-name-without-any-spaces": "test",
              "foo": "bar",
              "multi-line": "foo\nbar\nbaz"
            },
            "observer": {
              "hostname": "b69807bbc393",
              "id": "75679076-f182-49ae-8bea-29beef5c391d",
              "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
              "type": "apm-server",
              "version": "8.0.0",
              "version_major": 8
            },
            "trace": {
              "id": "b599641a9663c734ba5c59024ee3e150"
            },
            "@timestamp": "2020-01-24T23:52:28.632Z",
            "ecs": {
              "version": "1.4.0"
            },
            "service": {
              "node": {
                "name": "9d01ce52fbed7d390fa6b911c1fe1aff515fba807e1654a8dbd219c71dc82daa"
              },
              "environment": "production",
              "framework": {
                "name": "express",
                "version": "4.17.1"
              },
              "name": "opbeans-node",
              "runtime": {
                "name": "node",
                "version": "12.13.1"
              },
              "language": {
                "name": "javascript"
              },
              "version": "1.0.0"
            },
            "host": {
              "hostname": "9d01ce52fbed",
              "os": {
                "platform": "linux"
              },
              "ip": "172.19.0.12",
              "name": "9d01ce52fbed",
              "architecture": "x64"
            },
            "http": {
              "request": {
                "headers": {
                  "Accept": [
                    "text/plain, application/json, application/x-jackson-smile, application/cbor, application/*+json, */*"
                  ],
                  "Connection": ["keep-alive"],
                  "User-Agent": ["Java/10.0.2"],
                  "Host": ["opbeans-node:3000"],
                  "Elastic-Apm-Traceparent": [
                    "00-b599641a9663c734ba5c59024ee3e150-a5c7b0381d509026-01"
                  ]
                },
                "method": "get",
                "socket": {
                  "encrypted": false,
                  "remote_address": "::ffff:172.19.0.10"
                }
              },
              "response": {
                "headers": {
                  "Etag": ["W/\"3ff-VyOxcDApb+a/lnjkm9FeTOGSDrs\""],
                  "Connection": ["keep-alive"],
                  "Content-Length": ["1023"],
                  "Date": ["Fri, 24 Jan 2020 23:52:28 GMT"],
                  "X-Powered-By": ["Express"],
                  "Content-Type": ["application/json; charset=utf-8"]
                },
                "status_code": 200
              },
              "version": "1.1"
            },
            "client": {
              "ip": "172.19.0.10"
            },
            "user": {
              "name": "kimchy",
              "id": "42",
              "email": "kimchy@elastic.co"
            },
            "user_agent": {
              "original": "Java/10.0.2",
              "name": "Java",
              "device": {
                "name": "Spider"
              },
              "version": "0.2."
            },
            "transaction": {
              "result": "HTTP 2xx",
              "duration": {
                "us": 9049
              },
              "custom": {
                "shoppingBasketCount": 42
              },
              "name": "GET /api/products",
              "span_count": {
                "started": 2
              },
              "id": "f04c397693cf909f",
              "type": "request",
              "sampled": true
            },
            "timestamp": {
              "us": 1579909948632008
            }
          },
          "id": "f04c397693cf909f",
          "parentId": "a5c7b0381d509026",
          "duration": 9049,
          "offset": 2008,
          "skew": 0,
          "parent": {
            "docType": "span",
            "doc": {
              "parent": {
                "id": "81b2ee5642ead045"
              },
              "agent": {
                "name": "java",
                "ephemeral_id": "a125a292-a846-442e-81ca-ea8fd12356b5",
                "version": "1.12.1-SNAPSHOT"
              },
              "destination": {
                "address": ["opbeans-node", "opbeans-node"],
                "port": 3000
              },
              "processor": {
                "name": "transaction",
                "event": "span"
              },
              "observer": {
                "hostname": "b69807bbc393",
                "id": "75679076-f182-49ae-8bea-29beef5c391d",
                "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
                "type": "apm-server",
                "version": "8.0.0",
                "version_major": 8
              },
              "trace": {
                "id": "b599641a9663c734ba5c59024ee3e150"
              },
              "@timestamp": "2020-01-24T23:52:28.630Z",
              "ecs": {
                "version": "1.4.0"
              },
              "service": {
                "environment": "production",
                "name": "opbeans-java"
              },
              "connection": {
                "hash": "{service.environment:'production'}/{service.name:'opbeans-java'}/{span.subtype:'http'}/{destination.address:'[opbeans-node, opbeans-node]'}/{span.type:'external'}"
              },
              "transaction": {
                "id": "81b2ee5642ead045"
              },
              "timestamp": {
                "us": 1579909948630267
              },
              "span": {
                "duration": {
                  "us": 10165
                },
                "stacktrace": [
                  {
                    "exclude_from_grouping": false,
                    "library_frame": true,
                    "filename": "AbstractClientHttpRequest.java",
                    "classname": "org.springframework.http.client.AbstractClientHttpRequest",
                    "line": {
                      "number": 55
                    },
                    "module": "org.springframework.http.client",
                    "function": "execute"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "RestTemplate.java",
                    "classname": "org.springframework.web.client.RestTemplate",
                    "line": {
                      "number": 723
                    },
                    "function": "doExecute",
                    "module": "org.springframework.web.client"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "RestTemplate.java",
                    "classname": "org.springframework.web.client.RestTemplate",
                    "line": {
                      "number": 680
                    },
                    "module": "org.springframework.web.client",
                    "function": "execute"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "RestTemplate.java",
                    "classname": "org.springframework.web.client.RestTemplate",
                    "line": {
                      "number": 332
                    },
                    "module": "org.springframework.web.client",
                    "function": "getForObject"
                  },
                  {
                    "library_frame": false,
                    "exclude_from_grouping": false,
                    "filename": "DTInterceptor.java",
                    "classname": "co.elastic.apm.opbeans.controllers.DTInterceptor",
                    "line": {
                      "number": 73
                    },
                    "module": "co.elastic.apm.opbeans.controllers",
                    "function": "preHandle"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "HandlerExecutionChain.java",
                    "classname": "org.springframework.web.servlet.HandlerExecutionChain",
                    "line": {
                      "number": 136
                    },
                    "module": "org.springframework.web.servlet",
                    "function": "applyPreHandle"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "DispatcherServlet.java",
                    "classname": "org.springframework.web.servlet.DispatcherServlet",
                    "line": {
                      "number": 986
                    },
                    "module": "org.springframework.web.servlet",
                    "function": "doDispatch"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "DispatcherServlet.java",
                    "classname": "org.springframework.web.servlet.DispatcherServlet",
                    "line": {
                      "number": 925
                    },
                    "module": "org.springframework.web.servlet",
                    "function": "doService"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "FrameworkServlet.java",
                    "classname": "org.springframework.web.servlet.FrameworkServlet",
                    "line": {
                      "number": 974
                    },
                    "module": "org.springframework.web.servlet",
                    "function": "processRequest"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "FrameworkServlet.java",
                    "classname": "org.springframework.web.servlet.FrameworkServlet",
                    "line": {
                      "number": 866
                    },
                    "module": "org.springframework.web.servlet",
                    "function": "doGet"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "HttpServlet.java",
                    "classname": "javax.servlet.http.HttpServlet",
                    "line": {
                      "number": 635
                    },
                    "module": "javax.servlet.http",
                    "function": "service"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "FrameworkServlet.java",
                    "classname": "org.springframework.web.servlet.FrameworkServlet",
                    "line": {
                      "number": 851
                    },
                    "module": "org.springframework.web.servlet",
                    "function": "service"
                  },
                  {
                    "exclude_from_grouping": false,
                    "library_frame": true,
                    "filename": "HttpServlet.java",
                    "classname": "javax.servlet.http.HttpServlet",
                    "line": {
                      "number": 742
                    },
                    "module": "javax.servlet.http",
                    "function": "service"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 231
                    },
                    "module": "org.apache.catalina.core",
                    "function": "internalDoFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 166
                    },
                    "module": "org.apache.catalina.core",
                    "function": "doFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "WsFilter.java",
                    "classname": "org.apache.tomcat.websocket.server.WsFilter",
                    "line": {
                      "number": 52
                    },
                    "module": "org.apache.tomcat.websocket.server",
                    "function": "doFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 193
                    },
                    "module": "org.apache.catalina.core",
                    "function": "internalDoFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 166
                    },
                    "module": "org.apache.catalina.core",
                    "function": "doFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "RequestContextFilter.java",
                    "classname": "org.springframework.web.filter.RequestContextFilter",
                    "line": {
                      "number": 99
                    },
                    "module": "org.springframework.web.filter",
                    "function": "doFilterInternal"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "OncePerRequestFilter.java",
                    "classname": "org.springframework.web.filter.OncePerRequestFilter",
                    "line": {
                      "number": 107
                    },
                    "function": "doFilter",
                    "module": "org.springframework.web.filter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 193
                    },
                    "function": "internalDoFilter",
                    "module": "org.apache.catalina.core"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 166
                    },
                    "module": "org.apache.catalina.core",
                    "function": "doFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "HttpPutFormContentFilter.java",
                    "classname": "org.springframework.web.filter.HttpPutFormContentFilter",
                    "line": {
                      "number": 109
                    },
                    "module": "org.springframework.web.filter",
                    "function": "doFilterInternal"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "OncePerRequestFilter.java",
                    "classname": "org.springframework.web.filter.OncePerRequestFilter",
                    "line": {
                      "number": 107
                    },
                    "module": "org.springframework.web.filter",
                    "function": "doFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 193
                    },
                    "module": "org.apache.catalina.core",
                    "function": "internalDoFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 166
                    },
                    "function": "doFilter",
                    "module": "org.apache.catalina.core"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "HiddenHttpMethodFilter.java",
                    "classname": "org.springframework.web.filter.HiddenHttpMethodFilter",
                    "line": {
                      "number": 81
                    },
                    "function": "doFilterInternal",
                    "module": "org.springframework.web.filter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "OncePerRequestFilter.java",
                    "classname": "org.springframework.web.filter.OncePerRequestFilter",
                    "line": {
                      "number": 107
                    },
                    "module": "org.springframework.web.filter",
                    "function": "doFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 193
                    },
                    "module": "org.apache.catalina.core",
                    "function": "internalDoFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 166
                    },
                    "function": "doFilter",
                    "module": "org.apache.catalina.core"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "CharacterEncodingFilter.java",
                    "classname": "org.springframework.web.filter.CharacterEncodingFilter",
                    "line": {
                      "number": 200
                    },
                    "module": "org.springframework.web.filter",
                    "function": "doFilterInternal"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "OncePerRequestFilter.java",
                    "classname": "org.springframework.web.filter.OncePerRequestFilter",
                    "line": {
                      "number": 107
                    },
                    "module": "org.springframework.web.filter",
                    "function": "doFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 193
                    },
                    "module": "org.apache.catalina.core",
                    "function": "internalDoFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ApplicationFilterChain.java",
                    "classname": "org.apache.catalina.core.ApplicationFilterChain",
                    "line": {
                      "number": 166
                    },
                    "module": "org.apache.catalina.core",
                    "function": "doFilter"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "StandardWrapperValve.java",
                    "classname": "org.apache.catalina.core.StandardWrapperValve",
                    "line": {
                      "number": 198
                    },
                    "module": "org.apache.catalina.core",
                    "function": "invoke"
                  },
                  {
                    "exclude_from_grouping": false,
                    "library_frame": true,
                    "filename": "StandardContextValve.java",
                    "classname": "org.apache.catalina.core.StandardContextValve",
                    "line": {
                      "number": 96
                    },
                    "module": "org.apache.catalina.core",
                    "function": "invoke"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "AuthenticatorBase.java",
                    "classname": "org.apache.catalina.authenticator.AuthenticatorBase",
                    "line": {
                      "number": 496
                    },
                    "module": "org.apache.catalina.authenticator",
                    "function": "invoke"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "StandardHostValve.java",
                    "classname": "org.apache.catalina.core.StandardHostValve",
                    "line": {
                      "number": 140
                    },
                    "module": "org.apache.catalina.core",
                    "function": "invoke"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ErrorReportValve.java",
                    "classname": "org.apache.catalina.valves.ErrorReportValve",
                    "line": {
                      "number": 81
                    },
                    "module": "org.apache.catalina.valves",
                    "function": "invoke"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "StandardEngineValve.java",
                    "classname": "org.apache.catalina.core.StandardEngineValve",
                    "line": {
                      "number": 87
                    },
                    "module": "org.apache.catalina.core",
                    "function": "invoke"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "CoyoteAdapter.java",
                    "classname": "org.apache.catalina.connector.CoyoteAdapter",
                    "line": {
                      "number": 342
                    },
                    "module": "org.apache.catalina.connector",
                    "function": "service"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "Http11Processor.java",
                    "classname": "org.apache.coyote.http11.Http11Processor",
                    "line": {
                      "number": 803
                    },
                    "module": "org.apache.coyote.http11",
                    "function": "service"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "AbstractProcessorLight.java",
                    "classname": "org.apache.coyote.AbstractProcessorLight",
                    "line": {
                      "number": 66
                    },
                    "module": "org.apache.coyote",
                    "function": "process"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "AbstractProtocol.java",
                    "classname": "org.apache.coyote.AbstractProtocol$ConnectionHandler",
                    "line": {
                      "number": 790
                    },
                    "module": "org.apache.coyote",
                    "function": "process"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "NioEndpoint.java",
                    "classname": "org.apache.tomcat.util.net.NioEndpoint$SocketProcessor",
                    "line": {
                      "number": 1468
                    },
                    "module": "org.apache.tomcat.util.net",
                    "function": "doRun"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "SocketProcessorBase.java",
                    "classname": "org.apache.tomcat.util.net.SocketProcessorBase",
                    "line": {
                      "number": 49
                    },
                    "module": "org.apache.tomcat.util.net",
                    "function": "run"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ThreadPoolExecutor.java",
                    "classname": "java.util.concurrent.ThreadPoolExecutor",
                    "line": {
                      "number": 1135
                    },
                    "module": "java.util.concurrent",
                    "function": "runWorker"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "ThreadPoolExecutor.java",
                    "classname": "java.util.concurrent.ThreadPoolExecutor$Worker",
                    "line": {
                      "number": 635
                    },
                    "module": "java.util.concurrent",
                    "function": "run"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "TaskThread.java",
                    "classname": "org.apache.tomcat.util.threads.TaskThread$WrappingRunnable",
                    "line": {
                      "number": 61
                    },
                    "module": "org.apache.tomcat.util.threads",
                    "function": "run"
                  },
                  {
                    "library_frame": true,
                    "exclude_from_grouping": false,
                    "filename": "Thread.java",
                    "classname": "java.lang.Thread",
                    "line": {
                      "number": 844
                    },
                    "module": "java.lang",
                    "function": "run"
                  }
                ],
                "subtype": "http",
                "destination": {
                  "service": {
                    "resource": "opbeans-node:3000",
                    "name": "http://opbeans-node:3000",
                    "type": "external"
                  }
                },
                "name": "GET opbeans-node",
                "http": {
                  "response": {
                    "status_code": 200
                  },
                  "url": {
                    "original": "http://opbeans-node:3000/api/products"
                  }
                },
                "id": "a5c7b0381d509026",
                "type": "external"
              }
            },
            "id": "a5c7b0381d509026",
            "parentId": "81b2ee5642ead045",
            "duration": 10165,
            "offset": 267,
            "skew": 0,
            "parent": {
              "docType": "transaction",
              "doc": {
                "container": {
                  "id": "aa7211b5935326c5ba54921c0b5b953303b0b94b11b81f35a5028701910de464"
                },
                "parent": {
                  "id": "19c859546457e456"
                },
                "process": {
                  "pid": 6,
                  "title": "/usr/lib/jvm/java-10-openjdk-amd64/bin/java",
                  "ppid": 1
                },
                "agent": {
                  "name": "java",
                  "ephemeral_id": "a125a292-a846-442e-81ca-ea8fd12356b5",
                  "version": "1.12.1-SNAPSHOT"
                },
                "source": {
                  "ip": "172.19.0.9"
                },
                "processor": {
                  "name": "transaction",
                  "event": "transaction"
                },
                "url": {
                  "path": "//api/products",
                  "scheme": "http",
                  "port": 3000,
                  "domain": "opbeans-java",
                  "full": "http://opbeans-java:3000//api/products"
                },
                "observer": {
                  "hostname": "b69807bbc393",
                  "id": "75679076-f182-49ae-8bea-29beef5c391d",
                  "ephemeral_id": "81650ad3-21f7-41aa-a3e9-f33e5bbe1f2b",
                  "type": "apm-server",
                  "version": "8.0.0",
                  "version_major": 8
                },
                "trace": {
                  "id": "b599641a9663c734ba5c59024ee3e150"
                },
                "@timestamp": "2020-01-24T23:52:28.630Z",
                "ecs": {
                  "version": "1.4.0"
                },
                "service": {
                  "node": {
                    "name": "aa7211b5935326c5ba54921c0b5b953303b0b94b11b81f35a5028701910de464"
                  },
                  "environment": "production",
                  "name": "opbeans-java",
                  "runtime": {
                    "name": "Java",
                    "version": "10.0.2"
                  },
                  "language": {
                    "name": "Java",
                    "version": "10.0.2"
                  }
                },
                "host": {
                  "hostname": "aa7211b59353",
                  "os": {
                    "platform": "Linux"
                  },
                  "ip": "172.19.0.10",
                  "name": "aa7211b59353",
                  "architecture": "amd64"
                },
                "client": {
                  "ip": "172.19.0.9"
                },
                "http": {
                  "request": {
                    "headers": {
                      "User-Agent": ["http.rb/4.1.1"],
                      "Connection": ["close"],
                      "Host": ["opbeans-java:3000"],
                      "Elastic-Apm-Traceparent": [
                        "00-b599641a9663c734ba5c59024ee3e150-19c859546457e456-01"
                      ],
                      "Content-Length": ["0"]
                    },
                    "method": "get",
                    "socket": {
                      "encrypted": false,
                      "remote_address": "172.19.0.9"
                    },
                    "body": {
                      "original": "[REDACTED]"
                    }
                  },
                  "response": {
                    "status_code": 200,
                    "finished": true,
                    "headers_sent": false
                  },
                  "version": "1.1"
                },
                "transaction": {
                  "result": "HTTP 2xx",
                  "duration": {
                    "us": 10647
                  },
                  "name": "DispatcherServlet#doGet",
                  "span_count": {
                    "dropped": 0,
                    "started": 1
                  },
                  "id": "81b2ee5642ead045",
                  "type": "request",
                  "sampled": true
                },
                "user_agent": {
                  "original": "http.rb/4.1.1",
                  "name": "Other",
                  "device": {
                    "name": "Generic Feature Phone"
                  }
                },
                "timestamp": {
                  "us": 1579909948630000
                }
              },
              "id": "81b2ee5642ead045",
              "parentId": "19c859546457e456",
              "duration": 10647,
              "offset": 0,
              "skew": 0
            }
          }
        }
      }
    }
  ]
}
