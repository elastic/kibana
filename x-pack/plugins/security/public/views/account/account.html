<kbn-top-nav class="navbar navbar-default navbar-static-top" name="account-nav" ng-if="!k7design">
  <!-- Transcluded elements. -->
  <div data-transclude-slots>
    <!-- Title. -->
    <div
      data-transclude-slot="topLeftCorner"
      class="kuiLocalTitle"
    >
      {{user.full_name || user.username}}
    </div>
  </div>
</kbn-top-nav>

<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">
  <!-- Subheader -->
  <div class="kuiBar kuiVerticalRhythm">
    <!-- Title -->
    <div class="kuiBarSection">
      <h1 
        class="kuiTitle"
        i18n-id="xpack.security.account.accountSettingsTitle"
        i18n-default-message="Account Settings"  
      ></h1>
    </div>

    <!-- Empty section to push content left -->
    <div class="kuiBarSection"></div>
  </div>

  <!-- Username -->
  <div class="kuiFormSection kuiVerticalRhythm">
    <label
      class="kuiFormLabel"
      i18n-id="xpack.security.account.usernameLabel"
      i18n-default-message="Username"
    ></label>
    <div class="euiText">
      <p ng-bind="::user.username" data-test-subj=usernameField></p>
    </div>
  </div>

  <!-- Email -->
  <div class="kuiFormSection">
    <label
      class="kuiFormLabel"
      i18n-id="xpack.security.account.emailLabel"
      i18n-default-message="Email"  
    ></label>
    <div class="euiText">
      <p ng-bind="::accountController.getEmail()" data-test-subj=emailIdField></p>
    </div>
  </div>

  <!-- Change password -->
  <kbn-change-password-form
    require-current-password="true"
    show-kibana-warning="user.metadata._reserved && user.username === 'kibana'"
    on-change-password="saveNewPassword(newPassword, currentPassword, onSuccess, onIncorrectPassword)"
  ></kbn-change-password-form>
</div>
