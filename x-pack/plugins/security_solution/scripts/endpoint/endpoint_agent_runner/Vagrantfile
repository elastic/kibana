hostname = ENV["VMNAME"] || 'ubuntu'
cachedAgentSource = ENV["CACHED_AGENT_SOURCE"] || ''
cachedAgentFilename = ENV["CACHED_AGENT_FILENAME"] || ''

Vagrant.configure("2") do |config|
  config.vm.hostname = hostname
  config.vm.box = 'ubuntu/jammy64'

  config.vm.provider :virtualbox do |vb|
    vb.memory = 4096
    vb.cpus = 2
  end
  config.vm.provision "file", source: cachedAgentSource, destination: "~/#{cachedAgentFilename}"
end

# Vagrant.configure("2") do |config|
#   config.vm.hostname = hostname

#   config.vm.provider :virtualbox do |vb|
#     vb.vm.box = 'ubuntu/jammy64'
#     vb.memory = 4096
#     vb.cpus = 2
#   end

#   config.vm.provider "vmware_desktop" do |v|
#     v.vm.box = "starboard/ubuntu-arm64-20.04.5"
#     v.vm.box_version = "20221120.20.40.0"
#     v.vm.box_download_insecure = true
#     v.ssh_info_public = true
#     v.gui = false
#     v.linked_clone = false
#     v.vmx["ethernet0.virtualdev"] = "vmxnet3"
#   end
# end

# Vagrant.configure("2") do |config|
#     config.vm.box = "starboard/ubuntu-arm64-20.04.5"
#     config.vm.box_version = "20221120.20.40.0"
#     config.vm.box_download_insecure = true
#     config.vm.hostname = hostname
#     config.vm.provider "vmware_desktop" do |v|
#         v.ssh_info_public = true
#         v.gui = true
#         v.linked_clone = false
#         v.vmx["ethernet0.virtualdev"] = "vmxnet3"
#     end
#     config.vm.provision "file", source: cachedAgentSource, destination: "~/#{cachedAgentFilename}"
# end
