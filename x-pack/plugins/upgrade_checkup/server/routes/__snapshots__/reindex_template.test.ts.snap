// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`reindex template API GET /api/upgrade_checkup/reindex/{indexName}.json returns a template 1`] = `
"
# create new index which we can re-index the data into

PUT /myIndex-updated
{
  \\"settings\\": {
    \\"index.number_of_replicas\\": \\"0\\",
    \\"index.number_of_shards\\": \\"1\\"
  },
  \\"mappings\\": {
    \\"properties\\": {
      \\"@message\\": {
        \\"type\\": \\"text\\",
        \\"fields\\": {
          \\"keyword\\": {
            \\"type\\": \\"keyword\\",
            \\"ignore_above\\": 256
          }
        }
      }
    }
  }
}

# WARNING: understand the possible issues with setting your
# index to read-only before performing this operation. You will
# want to ensure no data is actively being indexed. 

PUT myIndex/_settings
{
  \\"index.blocks.write\\": true
}

# Start the re-index process. For large indices might want to consider
# passing \`wait_for_completion: false\` and quering the tasks API to
# ensure it has completed before proceeding.

POST _reindex
{
  \\"source\\": { \\"index\\": \\"myIndex\\" },
  \\"dest\\": { \\"index\\": \\"myIndex-updated\\" }
}

# once the re-index has completed and you have ensured the data
# integrity, you can create an alias with the name or your previous
# index and point it to the recently re-index alias. 

POST /_aliases
{
  \\"actions\\" : [
    { \\"add\\":  { \\"index\\": \\"myIndex-updated\\", \\"alias\\": \\"myIndex\\" } },
    { \\"remove_index\\": { \\"index\\": \\"myIndex\\" } }  
  ]
}
      "
`;
