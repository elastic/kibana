/*
 * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
 * or more contributor license agreements. Licensed under the Elastic License;
 * you may not use this file except in compliance with the Elastic License.
 */

import {
  generateFilterDSL,
  hasFilters,
  statusCheckAlertFactory,
  getStatusMessage,
  getUniqueIdsByLoc,
} from '../status_check';
import { AlertType } from '../../../../../alerts/server';
import { IRouter } from 'kibana/server';
import { UMServerLibs } from '../../lib';
import { UptimeCorePlugins, UptimeCoreSetup } from '../../adapters';
import { DYNAMIC_SETTINGS_DEFAULTS } from '../../../../common/constants';
import { alertsMock, AlertServicesMock } from '../../../../../alerts/server/mocks';
import { GetMonitorStatusResult } from '../../requests/get_monitor_status';
import { makePing } from '../../../../common/runtime_types/ping';
import { GetMonitorAvailabilityResult } from '../../requests/get_monitor_availability';

/**
 * The alert takes some dependencies as parameters; these are things like
 * kibana core services and plugins. This function helps reduce the amount of
 * boilerplate required.
 * @param customRequests client tests can use this paramter to provide their own request mocks,
 * so we don't have to mock them all for each test.
 */
const bootstrapDependencies = (customRequests?: any) => {
  const router: IRouter = {} as IRouter;
  // these server/libs parameters don't have any functionality, which is fine
  // because we aren't testing them here
  const server: UptimeCoreSetup = { router };
  const plugins: UptimeCorePlugins = {} as any;
  const libs: UMServerLibs = { requests: {} } as UMServerLibs;
  libs.requests = { ...libs.requests, ...customRequests };
  return { server, libs, plugins };
};

/**
 * This function aims to provide an easy way to give mock props that will
 * reduce boilerplate for tests.
 * @param params the params received at alert creation time
 * @param services the core services provided by kibana/alerts platforms
 * @param state the state the alert maintains
 */
const mockOptions = (
  params: any = {
    numTimes: 5,
    locations: [],
    timerange: { from: 'now-15m', to: 'now' },
    shouldCheckStatus: true,
  },
  services = alertsMock.createAlertServices(),
  state = {}
): any => {
  services.savedObjectsClient.get.mockResolvedValue({
    id: '',
    type: '',
    references: [],
    attributes: DYNAMIC_SETTINGS_DEFAULTS,
  });
  return {
    params,
    services,
    state,
  };
};

describe('status check alert', () => {
  let toISOStringSpy: jest.SpyInstance<string, []>;
  beforeEach(() => {
    toISOStringSpy = jest.spyOn(Date.prototype, 'toISOString');
  });

  afterEach(() => {
    jest.clearAllMocks();
  });
  describe('executor', () => {
    it('does not trigger when there are no monitors down', async () => {
      expect.assertions(4);
      const mockGetter = jest.fn();
      mockGetter.mockReturnValue([]);
      const { server, libs, plugins } = bootstrapDependencies({ getMonitorStatus: mockGetter });
      const alert = statusCheckAlertFactory(server, libs, plugins);
      // @ts-ignore the executor can return `void`, but ours never does
      const state: Record<string, any> = await alert.executor(mockOptions());

      expect(state).not.toBeUndefined();
      expect(state?.isTriggered).toBe(false);
      expect(mockGetter).toHaveBeenCalledTimes(1);
      expect(mockGetter.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "callES": Client {
              "bulk": [MockFunction],
              "child": [MockFunction],
              "clearScroll": [MockFunction],
              "close": [MockFunction],
              "closePointInTime": [MockFunction],
              "connectionPool": ConnectionPool {
                "Connection": [Function],
                "_agent": null,
                "_proxy": null,
                "_sniffEnabled": false,
                "_ssl": null,
                "auth": null,
                "connections": Array [
                  Object {
                    "_openRequests": 0,
                    "deadCount": 0,
                    "headers": Object {},
                    "id": "http://localhost/",
                    "resurrectTimeout": 0,
                    "roles": Object {
                      "data": true,
                      "ingest": true,
                      "master": true,
                      "ml": false,
                    },
                    "status": "alive",
                    "url": "http://localhost/",
                  },
                ],
                "dead": Array [],
                "emit": [Function],
                "pingTimeout": 3000,
                "resurrectStrategy": 1,
                "resurrectTimeout": 60000,
                "resurrectTimeoutCutoff": 5,
                "size": 1,
              },
              "count": [MockFunction],
              "create": [MockFunction],
              "delete": [MockFunction],
              "deleteByQuery": [MockFunction],
              "deleteByQueryRethrottle": [MockFunction],
              "deleteScript": [MockFunction],
              "exists": [MockFunction],
              "existsSource": [MockFunction],
              "explain": [MockFunction],
              "extend": [MockFunction],
              "fieldCaps": [MockFunction],
              "get": [MockFunction],
              "getScript": [MockFunction],
              "getScriptContext": [MockFunction],
              "getScriptLanguages": [MockFunction],
              "getSource": [MockFunction],
              "helpers": Helpers {
                "maxRetries": 3,
                Symbol(elasticsearch-client): [Circular],
              },
              "index": [MockFunction],
              "info": [MockFunction],
              "mget": [MockFunction],
              "msearch": [MockFunction],
              "msearchTemplate": [MockFunction],
              "mtermvectors": [MockFunction],
              "name": "elasticsearch-js",
              "openPointInTime": [MockFunction],
              "ping": [MockFunction],
              "putScript": [MockFunction],
              "rankEval": [MockFunction],
              "reindex": [MockFunction],
              "reindexRethrottle": [MockFunction],
              "renderSearchTemplate": [MockFunction],
              "scriptsPainlessExecute": [MockFunction],
              "scroll": [MockFunction],
              "search": [MockFunction],
              "searchShards": [MockFunction],
              "searchTemplate": [MockFunction],
              "serializer": Serializer {},
              "termvectors": [MockFunction],
              "transport": Object {
                "request": [MockFunction],
              },
              "update": [MockFunction],
              "updateByQuery": [MockFunction],
              "updateByQueryRethrottle": [MockFunction],
              Symbol(configuration error): [Function],
              Symbol(Cat): CatApi {
                "aliases": [MockFunction],
                "allocation": [MockFunction],
                "count": [MockFunction],
                "fielddata": [MockFunction],
                "health": [MockFunction],
                "help": [MockFunction],
                "indices": [MockFunction],
                "master": [MockFunction],
                "mlDataFrameAnalytics": [MockFunction],
                "mlDatafeeds": [MockFunction],
                "mlJobs": [MockFunction],
                "mlTrainedModels": [MockFunction],
                "nodeattrs": [MockFunction],
                "nodes": [MockFunction],
                "pendingTasks": [MockFunction],
                "plugins": [MockFunction],
                "recovery": [MockFunction],
                "repositories": [MockFunction],
                "segments": [MockFunction],
                "shards": [MockFunction],
                "snapshots": [MockFunction],
                "tasks": [MockFunction],
                "templates": [MockFunction],
                "threadPool": [MockFunction],
                "transforms": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Cluster): ClusterApi {
                "allocationExplain": [MockFunction],
                "deleteComponentTemplate": [MockFunction],
                "deleteVotingConfigExclusions": [MockFunction],
                "existsComponentTemplate": [MockFunction],
                "getComponentTemplate": [MockFunction],
                "getSettings": [MockFunction],
                "health": [MockFunction],
                "pendingTasks": [MockFunction],
                "postVotingConfigExclusions": [MockFunction],
                "putComponentTemplate": [MockFunction],
                "putSettings": [MockFunction],
                "remoteInfo": [MockFunction],
                "reroute": [MockFunction],
                "state": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(DanglingIndices): DanglingIndicesApi {
                "deleteDanglingIndex": [MockFunction],
                "importDanglingIndex": [MockFunction],
                "listDanglingIndices": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Indices): IndicesApi {
                "addBlock": [MockFunction],
                "analyze": [MockFunction],
                "clearCache": [MockFunction],
                "clone": [MockFunction],
                "close": [MockFunction],
                "create": [MockFunction],
                "createDataStream": [MockFunction],
                "dataStreamsStats": [MockFunction],
                "delete": [MockFunction],
                "deleteAlias": [MockFunction],
                "deleteDataStream": [MockFunction],
                "deleteIndexTemplate": [MockFunction],
                "deleteTemplate": [MockFunction],
                "exists": [MockFunction],
                "existsAlias": [MockFunction],
                "existsIndexTemplate": [MockFunction],
                "existsTemplate": [MockFunction],
                "existsType": [MockFunction],
                "flush": [MockFunction],
                "flushSynced": [MockFunction],
                "forcemerge": [MockFunction],
                "freeze": [MockFunction],
                "get": [MockFunction],
                "getAlias": [MockFunction],
                "getDataStream": [MockFunction],
                "getFieldMapping": [MockFunction],
                "getIndexTemplate": [MockFunction],
                "getMapping": [MockFunction],
                "getSettings": [MockFunction],
                "getTemplate": [MockFunction],
                "getUpgrade": [MockFunction],
                "open": [MockFunction],
                "putAlias": [MockFunction],
                "putIndexTemplate": [MockFunction],
                "putMapping": [MockFunction],
                "putSettings": [MockFunction],
                "putTemplate": [MockFunction],
                "recovery": [MockFunction],
                "refresh": [MockFunction],
                "reloadSearchAnalyzers": [MockFunction],
                "resolveIndex": [MockFunction],
                "rollover": [MockFunction],
                "segments": [MockFunction],
                "shardStores": [MockFunction],
                "shrink": [MockFunction],
                "simulateIndexTemplate": [MockFunction],
                "simulateTemplate": [MockFunction],
                "split": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfreeze": [MockFunction],
                "updateAliases": [MockFunction],
                "upgrade": [MockFunction],
                "validateQuery": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Ingest): IngestApi {
                "deletePipeline": [MockFunction],
                "getPipeline": [MockFunction],
                "processorGrok": [MockFunction],
                "putPipeline": [MockFunction],
                "simulate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Nodes): NodesApi {
                "hotThreads": [MockFunction],
                "info": [MockFunction],
                "reloadSecureSettings": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Snapshot): SnapshotApi {
                "cleanupRepository": [MockFunction],
                "create": [MockFunction],
                "createRepository": [MockFunction],
                "delete": [MockFunction],
                "deleteRepository": [MockFunction],
                "get": [MockFunction],
                "getRepository": [MockFunction],
                "restore": [MockFunction],
                "status": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "verifyRepository": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Tasks): TasksApi {
                "cancel": [MockFunction],
                "get": [MockFunction],
                "list": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(AsyncSearch): AsyncSearchApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "submit": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Autoscaling): AutoscalingApi {
                "deleteAutoscalingPolicy": [MockFunction],
                "getAutoscalingDecision": [MockFunction],
                "getAutoscalingPolicy": [MockFunction],
                "putAutoscalingPolicy": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ccr): CcrApi {
                "deleteAutoFollowPattern": [MockFunction],
                "follow": [MockFunction],
                "followInfo": [MockFunction],
                "followStats": [MockFunction],
                "forgetFollower": [MockFunction],
                "getAutoFollowPattern": [MockFunction],
                "pauseAutoFollowPattern": [MockFunction],
                "pauseFollow": [MockFunction],
                "putAutoFollowPattern": [MockFunction],
                "resumeAutoFollowPattern": [MockFunction],
                "resumeFollow": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfollow": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Enrich): EnrichApi {
                "deletePolicy": [MockFunction],
                "executePolicy": [MockFunction],
                "getPolicy": [MockFunction],
                "putPolicy": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Eql): EqlApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "search": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Graph): GraphApi {
                "explore": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ilm): IlmApi {
                "deleteLifecycle": [MockFunction],
                "explainLifecycle": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStatus": [MockFunction],
                "moveToStep": [MockFunction],
                "putLifecycle": [MockFunction],
                "removePolicy": [MockFunction],
                "retry": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(License): LicenseApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "getBasicStatus": [MockFunction],
                "getTrialStatus": [MockFunction],
                "post": [MockFunction],
                "postStartBasic": [MockFunction],
                "postStartTrial": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Migration): MigrationApi {
                "deprecations": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ml): MlApi {
                "closeJob": [MockFunction],
                "deleteCalendar": [MockFunction],
                "deleteCalendarEvent": [MockFunction],
                "deleteCalendarJob": [MockFunction],
                "deleteDataFrameAnalytics": [MockFunction],
                "deleteDatafeed": [MockFunction],
                "deleteExpiredData": [MockFunction],
                "deleteFilter": [MockFunction],
                "deleteForecast": [MockFunction],
                "deleteJob": [MockFunction],
                "deleteModelSnapshot": [MockFunction],
                "deleteTrainedModel": [MockFunction],
                "estimateModelMemory": [MockFunction],
                "evaluateDataFrame": [MockFunction],
                "explainDataFrameAnalytics": [MockFunction],
                "findFileStructure": [MockFunction],
                "flushJob": [MockFunction],
                "forecast": [MockFunction],
                "getBuckets": [MockFunction],
                "getCalendarEvents": [MockFunction],
                "getCalendars": [MockFunction],
                "getCategories": [MockFunction],
                "getDataFrameAnalytics": [MockFunction],
                "getDataFrameAnalyticsStats": [MockFunction],
                "getDatafeedStats": [MockFunction],
                "getDatafeeds": [MockFunction],
                "getFilters": [MockFunction],
                "getInfluencers": [MockFunction],
                "getJobStats": [MockFunction],
                "getJobs": [MockFunction],
                "getModelSnapshots": [MockFunction],
                "getOverallBuckets": [MockFunction],
                "getRecords": [MockFunction],
                "getTrainedModels": [MockFunction],
                "getTrainedModelsStats": [MockFunction],
                "info": [MockFunction],
                "openJob": [MockFunction],
                "postCalendarEvents": [MockFunction],
                "postData": [MockFunction],
                "previewDatafeed": [MockFunction],
                "putCalendar": [MockFunction],
                "putCalendarJob": [MockFunction],
                "putDataFrameAnalytics": [MockFunction],
                "putDatafeed": [MockFunction],
                "putFilter": [MockFunction],
                "putJob": [MockFunction],
                "putTrainedModel": [MockFunction],
                "revertModelSnapshot": [MockFunction],
                "setUpgradeMode": [MockFunction],
                "startDataFrameAnalytics": [MockFunction],
                "startDatafeed": [MockFunction],
                "stopDataFrameAnalytics": [MockFunction],
                "stopDatafeed": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateDataFrameAnalytics": [MockFunction],
                "updateDatafeed": [MockFunction],
                "updateFilter": [MockFunction],
                "updateJob": [MockFunction],
                "updateModelSnapshot": [MockFunction],
                "validate": [MockFunction],
                "validateDetector": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Monitoring): MonitoringApi {
                "bulk": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Rollup): RollupApi {
                "deleteJob": [MockFunction],
                "getJobs": [MockFunction],
                "getRollupCaps": [MockFunction],
                "getRollupIndexCaps": [MockFunction],
                "putJob": [MockFunction],
                "rollupSearch": [MockFunction],
                "startJob": [MockFunction],
                "stopJob": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(SearchableSnapshots): SearchableSnapshotsApi {
                "clearCache": [MockFunction],
                "mount": [MockFunction],
                "repositoryStats": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Security): SecurityApi {
                "authenticate": [MockFunction],
                "changePassword": [MockFunction],
                "clearApiKeyCache": [MockFunction],
                "clearCachedPrivileges": [MockFunction],
                "clearCachedRealms": [MockFunction],
                "clearCachedRoles": [MockFunction],
                "createApiKey": [MockFunction],
                "deletePrivileges": [MockFunction],
                "deleteRole": [MockFunction],
                "deleteRoleMapping": [MockFunction],
                "deleteUser": [MockFunction],
                "disableUser": [MockFunction],
                "enableUser": [MockFunction],
                "getApiKey": [MockFunction],
                "getBuiltinPrivileges": [MockFunction],
                "getPrivileges": [MockFunction],
                "getRole": [MockFunction],
                "getRoleMapping": [MockFunction],
                "getToken": [MockFunction],
                "getUser": [MockFunction],
                "getUserPrivileges": [MockFunction],
                "hasPrivileges": [MockFunction],
                "invalidateApiKey": [MockFunction],
                "invalidateToken": [MockFunction],
                "putPrivileges": [MockFunction],
                "putRole": [MockFunction],
                "putRoleMapping": [MockFunction],
                "putUser": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Slm): SlmApi {
                "deleteLifecycle": [MockFunction],
                "executeLifecycle": [MockFunction],
                "executeRetention": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStats": [MockFunction],
                "getStatus": [MockFunction],
                "putLifecycle": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Sql): SqlApi {
                "clearCursor": [MockFunction],
                "query": [MockFunction],
                "translate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ssl): SslApi {
                "certificates": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Transform): TransformApi {
                "deleteTransform": [MockFunction],
                "getTransform": [MockFunction],
                "getTransformStats": [MockFunction],
                "previewTransform": [MockFunction],
                "putTransform": [MockFunction],
                "startTransform": [MockFunction],
                "stopTransform": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateTransform": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Watcher): WatcherApi {
                "ackWatch": [MockFunction],
                "activateWatch": [MockFunction],
                "deactivateWatch": [MockFunction],
                "deleteWatch": [MockFunction],
                "executeWatch": [MockFunction],
                "getWatch": [MockFunction],
                "putWatch": [MockFunction],
                "start": [MockFunction],
                "stats": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Xpack): XpackApi {
                "info": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(elasticsearchjs-initial-options): Object {
                "Connection": [Function],
                "ConnectionPool": [Function],
                "Serializer": [Function],
                "Transport": [Function],
                "agent": null,
                "auth": null,
                "compression": false,
                "context": null,
                "generateRequestId": null,
                "headers": Object {},
                "maxRetries": 3,
                "name": "elasticsearch-js",
                "node": "http://localhost",
                "nodeFilter": null,
                "nodeSelector": "round-robin",
                "opaqueIdPrefix": null,
                "pingTimeout": 3000,
                "proxy": null,
                "requestTimeout": 30000,
                "resurrectStrategy": "ping",
                "sniffEndpoint": "_nodes/_all/http",
                "sniffInterval": false,
                "sniffOnConnectionFault": false,
                "sniffOnStart": false,
                "ssl": null,
                "suggestCompression": false,
              },
              Symbol(elasticsearchjs-extensions): Array [],
              Symbol(elasticsearchjs-event-emitter): EventEmitter {
                "_events": Object {},
                "_eventsCount": 0,
                "_maxListeners": undefined,
              },
            },
            "dynamicSettings": Object {
              "certAgeThreshold": 730,
              "certExpirationThreshold": 30,
              "defaultConnectors": Array [],
              "heartbeatIndices": "heartbeat-8*",
            },
            "filters": undefined,
            "locations": Array [],
            "numTimes": 5,
            "timerange": Object {
              "from": "now-15m",
              "to": "now",
            },
          },
        ]
      `);
    });

    it('triggers when monitors are down and provides expected state', async () => {
      toISOStringSpy.mockImplementation(() => 'foo date string');
      const mockGetter: jest.Mock<GetMonitorStatusResult[]> = jest.fn();

      mockGetter.mockReturnValue([
        {
          monitorId: 'first',
          location: 'harrisburg',
          count: 234,
          status: 'down',
          monitorInfo: makePing({
            id: 'first',
            location: 'harrisburg',
          }),
        },
        {
          monitorId: 'first',
          location: 'fairbanks',
          count: 234,
          status: 'down',
          monitorInfo: makePing({
            id: 'first',
            location: 'fairbanks',
          }),
        },
      ]);
      const { server, libs, plugins } = bootstrapDependencies({ getMonitorStatus: mockGetter });
      const alert = statusCheckAlertFactory(server, libs, plugins);
      const options = mockOptions();
      const alertServices: AlertServicesMock = options.services;
      // @ts-ignore the executor can return `void`, but ours never does
      const state: Record<string, any> = await alert.executor(options);
      expect(mockGetter).toHaveBeenCalledTimes(1);
      expect(alertServices.alertInstanceFactory).toHaveBeenCalledTimes(2);
      expect(mockGetter.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "callES": Client {
              "bulk": [MockFunction],
              "child": [MockFunction],
              "clearScroll": [MockFunction],
              "close": [MockFunction],
              "closePointInTime": [MockFunction],
              "connectionPool": ConnectionPool {
                "Connection": [Function],
                "_agent": null,
                "_proxy": null,
                "_sniffEnabled": false,
                "_ssl": null,
                "auth": null,
                "connections": Array [
                  Object {
                    "_openRequests": 0,
                    "deadCount": 0,
                    "headers": Object {},
                    "id": "http://localhost/",
                    "resurrectTimeout": 0,
                    "roles": Object {
                      "data": true,
                      "ingest": true,
                      "master": true,
                      "ml": false,
                    },
                    "status": "alive",
                    "url": "http://localhost/",
                  },
                ],
                "dead": Array [],
                "emit": [Function],
                "pingTimeout": 3000,
                "resurrectStrategy": 1,
                "resurrectTimeout": 60000,
                "resurrectTimeoutCutoff": 5,
                "size": 1,
              },
              "count": [MockFunction],
              "create": [MockFunction],
              "delete": [MockFunction],
              "deleteByQuery": [MockFunction],
              "deleteByQueryRethrottle": [MockFunction],
              "deleteScript": [MockFunction],
              "exists": [MockFunction],
              "existsSource": [MockFunction],
              "explain": [MockFunction],
              "extend": [MockFunction],
              "fieldCaps": [MockFunction],
              "get": [MockFunction],
              "getScript": [MockFunction],
              "getScriptContext": [MockFunction],
              "getScriptLanguages": [MockFunction],
              "getSource": [MockFunction],
              "helpers": Helpers {
                "maxRetries": 3,
                Symbol(elasticsearch-client): [Circular],
              },
              "index": [MockFunction],
              "info": [MockFunction],
              "mget": [MockFunction],
              "msearch": [MockFunction],
              "msearchTemplate": [MockFunction],
              "mtermvectors": [MockFunction],
              "name": "elasticsearch-js",
              "openPointInTime": [MockFunction],
              "ping": [MockFunction],
              "putScript": [MockFunction],
              "rankEval": [MockFunction],
              "reindex": [MockFunction],
              "reindexRethrottle": [MockFunction],
              "renderSearchTemplate": [MockFunction],
              "scriptsPainlessExecute": [MockFunction],
              "scroll": [MockFunction],
              "search": [MockFunction],
              "searchShards": [MockFunction],
              "searchTemplate": [MockFunction],
              "serializer": Serializer {},
              "termvectors": [MockFunction],
              "transport": Object {
                "request": [MockFunction],
              },
              "update": [MockFunction],
              "updateByQuery": [MockFunction],
              "updateByQueryRethrottle": [MockFunction],
              Symbol(configuration error): [Function],
              Symbol(Cat): CatApi {
                "aliases": [MockFunction],
                "allocation": [MockFunction],
                "count": [MockFunction],
                "fielddata": [MockFunction],
                "health": [MockFunction],
                "help": [MockFunction],
                "indices": [MockFunction],
                "master": [MockFunction],
                "mlDataFrameAnalytics": [MockFunction],
                "mlDatafeeds": [MockFunction],
                "mlJobs": [MockFunction],
                "mlTrainedModels": [MockFunction],
                "nodeattrs": [MockFunction],
                "nodes": [MockFunction],
                "pendingTasks": [MockFunction],
                "plugins": [MockFunction],
                "recovery": [MockFunction],
                "repositories": [MockFunction],
                "segments": [MockFunction],
                "shards": [MockFunction],
                "snapshots": [MockFunction],
                "tasks": [MockFunction],
                "templates": [MockFunction],
                "threadPool": [MockFunction],
                "transforms": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Cluster): ClusterApi {
                "allocationExplain": [MockFunction],
                "deleteComponentTemplate": [MockFunction],
                "deleteVotingConfigExclusions": [MockFunction],
                "existsComponentTemplate": [MockFunction],
                "getComponentTemplate": [MockFunction],
                "getSettings": [MockFunction],
                "health": [MockFunction],
                "pendingTasks": [MockFunction],
                "postVotingConfigExclusions": [MockFunction],
                "putComponentTemplate": [MockFunction],
                "putSettings": [MockFunction],
                "remoteInfo": [MockFunction],
                "reroute": [MockFunction],
                "state": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(DanglingIndices): DanglingIndicesApi {
                "deleteDanglingIndex": [MockFunction],
                "importDanglingIndex": [MockFunction],
                "listDanglingIndices": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Indices): IndicesApi {
                "addBlock": [MockFunction],
                "analyze": [MockFunction],
                "clearCache": [MockFunction],
                "clone": [MockFunction],
                "close": [MockFunction],
                "create": [MockFunction],
                "createDataStream": [MockFunction],
                "dataStreamsStats": [MockFunction],
                "delete": [MockFunction],
                "deleteAlias": [MockFunction],
                "deleteDataStream": [MockFunction],
                "deleteIndexTemplate": [MockFunction],
                "deleteTemplate": [MockFunction],
                "exists": [MockFunction],
                "existsAlias": [MockFunction],
                "existsIndexTemplate": [MockFunction],
                "existsTemplate": [MockFunction],
                "existsType": [MockFunction],
                "flush": [MockFunction],
                "flushSynced": [MockFunction],
                "forcemerge": [MockFunction],
                "freeze": [MockFunction],
                "get": [MockFunction],
                "getAlias": [MockFunction],
                "getDataStream": [MockFunction],
                "getFieldMapping": [MockFunction],
                "getIndexTemplate": [MockFunction],
                "getMapping": [MockFunction],
                "getSettings": [MockFunction],
                "getTemplate": [MockFunction],
                "getUpgrade": [MockFunction],
                "open": [MockFunction],
                "putAlias": [MockFunction],
                "putIndexTemplate": [MockFunction],
                "putMapping": [MockFunction],
                "putSettings": [MockFunction],
                "putTemplate": [MockFunction],
                "recovery": [MockFunction],
                "refresh": [MockFunction],
                "reloadSearchAnalyzers": [MockFunction],
                "resolveIndex": [MockFunction],
                "rollover": [MockFunction],
                "segments": [MockFunction],
                "shardStores": [MockFunction],
                "shrink": [MockFunction],
                "simulateIndexTemplate": [MockFunction],
                "simulateTemplate": [MockFunction],
                "split": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfreeze": [MockFunction],
                "updateAliases": [MockFunction],
                "upgrade": [MockFunction],
                "validateQuery": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Ingest): IngestApi {
                "deletePipeline": [MockFunction],
                "getPipeline": [MockFunction],
                "processorGrok": [MockFunction],
                "putPipeline": [MockFunction],
                "simulate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Nodes): NodesApi {
                "hotThreads": [MockFunction],
                "info": [MockFunction],
                "reloadSecureSettings": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Snapshot): SnapshotApi {
                "cleanupRepository": [MockFunction],
                "create": [MockFunction],
                "createRepository": [MockFunction],
                "delete": [MockFunction],
                "deleteRepository": [MockFunction],
                "get": [MockFunction],
                "getRepository": [MockFunction],
                "restore": [MockFunction],
                "status": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "verifyRepository": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Tasks): TasksApi {
                "cancel": [MockFunction],
                "get": [MockFunction],
                "list": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(AsyncSearch): AsyncSearchApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "submit": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Autoscaling): AutoscalingApi {
                "deleteAutoscalingPolicy": [MockFunction],
                "getAutoscalingDecision": [MockFunction],
                "getAutoscalingPolicy": [MockFunction],
                "putAutoscalingPolicy": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ccr): CcrApi {
                "deleteAutoFollowPattern": [MockFunction],
                "follow": [MockFunction],
                "followInfo": [MockFunction],
                "followStats": [MockFunction],
                "forgetFollower": [MockFunction],
                "getAutoFollowPattern": [MockFunction],
                "pauseAutoFollowPattern": [MockFunction],
                "pauseFollow": [MockFunction],
                "putAutoFollowPattern": [MockFunction],
                "resumeAutoFollowPattern": [MockFunction],
                "resumeFollow": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfollow": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Enrich): EnrichApi {
                "deletePolicy": [MockFunction],
                "executePolicy": [MockFunction],
                "getPolicy": [MockFunction],
                "putPolicy": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Eql): EqlApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "search": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Graph): GraphApi {
                "explore": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ilm): IlmApi {
                "deleteLifecycle": [MockFunction],
                "explainLifecycle": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStatus": [MockFunction],
                "moveToStep": [MockFunction],
                "putLifecycle": [MockFunction],
                "removePolicy": [MockFunction],
                "retry": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(License): LicenseApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "getBasicStatus": [MockFunction],
                "getTrialStatus": [MockFunction],
                "post": [MockFunction],
                "postStartBasic": [MockFunction],
                "postStartTrial": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Migration): MigrationApi {
                "deprecations": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ml): MlApi {
                "closeJob": [MockFunction],
                "deleteCalendar": [MockFunction],
                "deleteCalendarEvent": [MockFunction],
                "deleteCalendarJob": [MockFunction],
                "deleteDataFrameAnalytics": [MockFunction],
                "deleteDatafeed": [MockFunction],
                "deleteExpiredData": [MockFunction],
                "deleteFilter": [MockFunction],
                "deleteForecast": [MockFunction],
                "deleteJob": [MockFunction],
                "deleteModelSnapshot": [MockFunction],
                "deleteTrainedModel": [MockFunction],
                "estimateModelMemory": [MockFunction],
                "evaluateDataFrame": [MockFunction],
                "explainDataFrameAnalytics": [MockFunction],
                "findFileStructure": [MockFunction],
                "flushJob": [MockFunction],
                "forecast": [MockFunction],
                "getBuckets": [MockFunction],
                "getCalendarEvents": [MockFunction],
                "getCalendars": [MockFunction],
                "getCategories": [MockFunction],
                "getDataFrameAnalytics": [MockFunction],
                "getDataFrameAnalyticsStats": [MockFunction],
                "getDatafeedStats": [MockFunction],
                "getDatafeeds": [MockFunction],
                "getFilters": [MockFunction],
                "getInfluencers": [MockFunction],
                "getJobStats": [MockFunction],
                "getJobs": [MockFunction],
                "getModelSnapshots": [MockFunction],
                "getOverallBuckets": [MockFunction],
                "getRecords": [MockFunction],
                "getTrainedModels": [MockFunction],
                "getTrainedModelsStats": [MockFunction],
                "info": [MockFunction],
                "openJob": [MockFunction],
                "postCalendarEvents": [MockFunction],
                "postData": [MockFunction],
                "previewDatafeed": [MockFunction],
                "putCalendar": [MockFunction],
                "putCalendarJob": [MockFunction],
                "putDataFrameAnalytics": [MockFunction],
                "putDatafeed": [MockFunction],
                "putFilter": [MockFunction],
                "putJob": [MockFunction],
                "putTrainedModel": [MockFunction],
                "revertModelSnapshot": [MockFunction],
                "setUpgradeMode": [MockFunction],
                "startDataFrameAnalytics": [MockFunction],
                "startDatafeed": [MockFunction],
                "stopDataFrameAnalytics": [MockFunction],
                "stopDatafeed": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateDataFrameAnalytics": [MockFunction],
                "updateDatafeed": [MockFunction],
                "updateFilter": [MockFunction],
                "updateJob": [MockFunction],
                "updateModelSnapshot": [MockFunction],
                "validate": [MockFunction],
                "validateDetector": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Monitoring): MonitoringApi {
                "bulk": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Rollup): RollupApi {
                "deleteJob": [MockFunction],
                "getJobs": [MockFunction],
                "getRollupCaps": [MockFunction],
                "getRollupIndexCaps": [MockFunction],
                "putJob": [MockFunction],
                "rollupSearch": [MockFunction],
                "startJob": [MockFunction],
                "stopJob": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(SearchableSnapshots): SearchableSnapshotsApi {
                "clearCache": [MockFunction],
                "mount": [MockFunction],
                "repositoryStats": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Security): SecurityApi {
                "authenticate": [MockFunction],
                "changePassword": [MockFunction],
                "clearApiKeyCache": [MockFunction],
                "clearCachedPrivileges": [MockFunction],
                "clearCachedRealms": [MockFunction],
                "clearCachedRoles": [MockFunction],
                "createApiKey": [MockFunction],
                "deletePrivileges": [MockFunction],
                "deleteRole": [MockFunction],
                "deleteRoleMapping": [MockFunction],
                "deleteUser": [MockFunction],
                "disableUser": [MockFunction],
                "enableUser": [MockFunction],
                "getApiKey": [MockFunction],
                "getBuiltinPrivileges": [MockFunction],
                "getPrivileges": [MockFunction],
                "getRole": [MockFunction],
                "getRoleMapping": [MockFunction],
                "getToken": [MockFunction],
                "getUser": [MockFunction],
                "getUserPrivileges": [MockFunction],
                "hasPrivileges": [MockFunction],
                "invalidateApiKey": [MockFunction],
                "invalidateToken": [MockFunction],
                "putPrivileges": [MockFunction],
                "putRole": [MockFunction],
                "putRoleMapping": [MockFunction],
                "putUser": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Slm): SlmApi {
                "deleteLifecycle": [MockFunction],
                "executeLifecycle": [MockFunction],
                "executeRetention": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStats": [MockFunction],
                "getStatus": [MockFunction],
                "putLifecycle": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Sql): SqlApi {
                "clearCursor": [MockFunction],
                "query": [MockFunction],
                "translate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ssl): SslApi {
                "certificates": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Transform): TransformApi {
                "deleteTransform": [MockFunction],
                "getTransform": [MockFunction],
                "getTransformStats": [MockFunction],
                "previewTransform": [MockFunction],
                "putTransform": [MockFunction],
                "startTransform": [MockFunction],
                "stopTransform": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateTransform": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Watcher): WatcherApi {
                "ackWatch": [MockFunction],
                "activateWatch": [MockFunction],
                "deactivateWatch": [MockFunction],
                "deleteWatch": [MockFunction],
                "executeWatch": [MockFunction],
                "getWatch": [MockFunction],
                "putWatch": [MockFunction],
                "start": [MockFunction],
                "stats": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Xpack): XpackApi {
                "info": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(elasticsearchjs-initial-options): Object {
                "Connection": [Function],
                "ConnectionPool": [Function],
                "Serializer": [Function],
                "Transport": [Function],
                "agent": null,
                "auth": null,
                "compression": false,
                "context": null,
                "generateRequestId": null,
                "headers": Object {},
                "maxRetries": 3,
                "name": "elasticsearch-js",
                "node": "http://localhost",
                "nodeFilter": null,
                "nodeSelector": "round-robin",
                "opaqueIdPrefix": null,
                "pingTimeout": 3000,
                "proxy": null,
                "requestTimeout": 30000,
                "resurrectStrategy": "ping",
                "sniffEndpoint": "_nodes/_all/http",
                "sniffInterval": false,
                "sniffOnConnectionFault": false,
                "sniffOnStart": false,
                "ssl": null,
                "suggestCompression": false,
              },
              Symbol(elasticsearchjs-extensions): Array [],
              Symbol(elasticsearchjs-event-emitter): EventEmitter {
                "_events": Object {},
                "_eventsCount": 0,
                "_maxListeners": undefined,
              },
            },
            "dynamicSettings": Object {
              "certAgeThreshold": 730,
              "certExpirationThreshold": 30,
              "defaultConnectors": Array [],
              "heartbeatIndices": "heartbeat-8*",
            },
            "filters": undefined,
            "locations": Array [],
            "numTimes": 5,
            "timerange": Object {
              "from": "now-15m",
              "to": "now",
            },
          },
        ]
      `);
      const [{ value: alertInstanceMock }] = alertServices.alertInstanceFactory.mock.results;
      expect(alertInstanceMock.replaceState).toHaveBeenCalledTimes(2);
      expect(alertInstanceMock.replaceState.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "currentTriggerStarted": "foo date string",
            "firstCheckedAt": "foo date string",
            "firstTriggeredAt": "foo date string",
            "isTriggered": true,
            "lastCheckedAt": "foo date string",
            "lastResolvedAt": undefined,
            "lastTriggeredAt": "foo date string",
            "latestErrorMessage": undefined,
            "monitorId": "first",
            "monitorName": "first",
            "monitorType": "myType",
            "monitorUrl": undefined,
            "observerHostname": undefined,
            "observerLocation": "harrisburg",
            "statusMessage": "down",
          },
        ]
      `);
      expect(alertInstanceMock.scheduleActions).toHaveBeenCalledTimes(2);
      expect(alertInstanceMock.scheduleActions.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          "xpack.uptime.alerts.actionGroups.monitorStatus",
          Object {
            "message": "Monitor first with url  is down from harrisburg. The latest error message is ",
          },
        ]
      `);
    });

    it('supports 7.7 alert format', async () => {
      toISOStringSpy.mockImplementation(() => '7.7 date');
      const mockGetter: jest.Mock<GetMonitorStatusResult[]> = jest.fn();

      mockGetter.mockReturnValue([
        {
          monitorId: 'first',
          location: 'harrisburg',
          count: 234,
          status: 'down',
          monitorInfo: makePing({
            id: 'first',
            location: 'harrisburg',
          }),
        },
        {
          monitorId: 'first',
          location: 'fairbanks',
          count: 234,
          status: 'down',

          monitorInfo: makePing({
            id: 'first',
            location: 'fairbanks',
          }),
        },
      ]);
      const { server, libs, plugins } = bootstrapDependencies({
        getMonitorStatus: mockGetter,
        getIndexPattern: jest.fn(),
      });
      const alert = statusCheckAlertFactory(server, libs, plugins);
      const options = mockOptions({
        numTimes: 4,
        timerange: { from: 'now-14h', to: 'now' },
        locations: ['fairbanks'],
        filters: '',
      });
      const alertServices: AlertServicesMock = options.services;
      const state = await alert.executor(options);

      const [{ value: alertInstanceMock }] = alertServices.alertInstanceFactory.mock.results;
      expect(alertInstanceMock.replaceState).toHaveBeenCalledTimes(2);
      expect(alertInstanceMock.replaceState.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "currentTriggerStarted": "7.7 date",
            "firstCheckedAt": "7.7 date",
            "firstTriggeredAt": "7.7 date",
            "isTriggered": true,
            "lastCheckedAt": "7.7 date",
            "lastResolvedAt": undefined,
            "lastTriggeredAt": "7.7 date",
            "latestErrorMessage": undefined,
            "monitorId": "first",
            "monitorName": "first",
            "monitorType": "myType",
            "monitorUrl": undefined,
            "observerHostname": undefined,
            "observerLocation": "harrisburg",
            "statusMessage": "down",
          },
        ]
      `);
      expect(state).toMatchInlineSnapshot(`
        Object {
          "currentTriggerStarted": "7.7 date",
          "firstCheckedAt": "7.7 date",
          "firstTriggeredAt": "7.7 date",
          "isTriggered": true,
          "lastCheckedAt": "7.7 date",
          "lastResolvedAt": undefined,
          "lastTriggeredAt": "7.7 date",
        }
      `);
    });

    it('supports 7.8 alert format', async () => {
      expect.assertions(5);
      toISOStringSpy.mockImplementation(() => 'foo date string');
      const mockGetter: jest.Mock<GetMonitorStatusResult[]> = jest.fn();
      mockGetter.mockReturnValue([
        {
          monitorId: 'first',
          location: 'harrisburg',
          count: 234,
          status: 'down',
          monitorInfo: makePing({
            id: 'first',
            location: 'harrisburg',
          }),
        },
        {
          monitorId: 'first',
          location: 'fairbanks',
          count: 234,
          status: 'down',

          monitorInfo: makePing({
            id: 'first',
            location: 'fairbanks',
          }),
        },
      ]);
      const { server, libs, plugins } = bootstrapDependencies({
        getMonitorStatus: mockGetter,
        getIndexPattern: jest.fn(),
      });
      const alert = statusCheckAlertFactory(server, libs, plugins);
      const options = mockOptions({
        numTimes: 3,
        timerangeUnit: 'm',
        timerangeCount: 15,
        search: 'monitor.ip : * ',
        filters: {
          'url.port': ['12349', '5601', '443'],
          'observer.geo.name': ['harrisburg'],
          'monitor.type': ['http'],
          tags: ['unsecured', 'containers', 'org:google'],
        },
      });
      const alertServices: AlertServicesMock = options.services;
      const state = await alert.executor(options);
      const [{ value: alertInstanceMock }] = alertServices.alertInstanceFactory.mock.results;
      expect(mockGetter).toHaveBeenCalledTimes(1);
      expect(mockGetter.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "callES": Client {
              "bulk": [MockFunction],
              "child": [MockFunction],
              "clearScroll": [MockFunction],
              "close": [MockFunction],
              "closePointInTime": [MockFunction],
              "connectionPool": ConnectionPool {
                "Connection": [Function],
                "_agent": null,
                "_proxy": null,
                "_sniffEnabled": false,
                "_ssl": null,
                "auth": null,
                "connections": Array [
                  Object {
                    "_openRequests": 0,
                    "deadCount": 0,
                    "headers": Object {},
                    "id": "http://localhost/",
                    "resurrectTimeout": 0,
                    "roles": Object {
                      "data": true,
                      "ingest": true,
                      "master": true,
                      "ml": false,
                    },
                    "status": "alive",
                    "url": "http://localhost/",
                  },
                ],
                "dead": Array [],
                "emit": [Function],
                "pingTimeout": 3000,
                "resurrectStrategy": 1,
                "resurrectTimeout": 60000,
                "resurrectTimeoutCutoff": 5,
                "size": 1,
              },
              "count": [MockFunction],
              "create": [MockFunction],
              "delete": [MockFunction],
              "deleteByQuery": [MockFunction],
              "deleteByQueryRethrottle": [MockFunction],
              "deleteScript": [MockFunction],
              "exists": [MockFunction],
              "existsSource": [MockFunction],
              "explain": [MockFunction],
              "extend": [MockFunction],
              "fieldCaps": [MockFunction],
              "get": [MockFunction],
              "getScript": [MockFunction],
              "getScriptContext": [MockFunction],
              "getScriptLanguages": [MockFunction],
              "getSource": [MockFunction],
              "helpers": Helpers {
                "maxRetries": 3,
                Symbol(elasticsearch-client): [Circular],
              },
              "index": [MockFunction],
              "info": [MockFunction],
              "mget": [MockFunction],
              "msearch": [MockFunction],
              "msearchTemplate": [MockFunction],
              "mtermvectors": [MockFunction],
              "name": "elasticsearch-js",
              "openPointInTime": [MockFunction],
              "ping": [MockFunction],
              "putScript": [MockFunction],
              "rankEval": [MockFunction],
              "reindex": [MockFunction],
              "reindexRethrottle": [MockFunction],
              "renderSearchTemplate": [MockFunction],
              "scriptsPainlessExecute": [MockFunction],
              "scroll": [MockFunction],
              "search": [MockFunction],
              "searchShards": [MockFunction],
              "searchTemplate": [MockFunction],
              "serializer": Serializer {},
              "termvectors": [MockFunction],
              "transport": Object {
                "request": [MockFunction],
              },
              "update": [MockFunction],
              "updateByQuery": [MockFunction],
              "updateByQueryRethrottle": [MockFunction],
              Symbol(configuration error): [Function],
              Symbol(Cat): CatApi {
                "aliases": [MockFunction],
                "allocation": [MockFunction],
                "count": [MockFunction],
                "fielddata": [MockFunction],
                "health": [MockFunction],
                "help": [MockFunction],
                "indices": [MockFunction],
                "master": [MockFunction],
                "mlDataFrameAnalytics": [MockFunction],
                "mlDatafeeds": [MockFunction],
                "mlJobs": [MockFunction],
                "mlTrainedModels": [MockFunction],
                "nodeattrs": [MockFunction],
                "nodes": [MockFunction],
                "pendingTasks": [MockFunction],
                "plugins": [MockFunction],
                "recovery": [MockFunction],
                "repositories": [MockFunction],
                "segments": [MockFunction],
                "shards": [MockFunction],
                "snapshots": [MockFunction],
                "tasks": [MockFunction],
                "templates": [MockFunction],
                "threadPool": [MockFunction],
                "transforms": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Cluster): ClusterApi {
                "allocationExplain": [MockFunction],
                "deleteComponentTemplate": [MockFunction],
                "deleteVotingConfigExclusions": [MockFunction],
                "existsComponentTemplate": [MockFunction],
                "getComponentTemplate": [MockFunction],
                "getSettings": [MockFunction],
                "health": [MockFunction],
                "pendingTasks": [MockFunction],
                "postVotingConfigExclusions": [MockFunction],
                "putComponentTemplate": [MockFunction],
                "putSettings": [MockFunction],
                "remoteInfo": [MockFunction],
                "reroute": [MockFunction],
                "state": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(DanglingIndices): DanglingIndicesApi {
                "deleteDanglingIndex": [MockFunction],
                "importDanglingIndex": [MockFunction],
                "listDanglingIndices": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Indices): IndicesApi {
                "addBlock": [MockFunction],
                "analyze": [MockFunction],
                "clearCache": [MockFunction],
                "clone": [MockFunction],
                "close": [MockFunction],
                "create": [MockFunction],
                "createDataStream": [MockFunction],
                "dataStreamsStats": [MockFunction],
                "delete": [MockFunction],
                "deleteAlias": [MockFunction],
                "deleteDataStream": [MockFunction],
                "deleteIndexTemplate": [MockFunction],
                "deleteTemplate": [MockFunction],
                "exists": [MockFunction],
                "existsAlias": [MockFunction],
                "existsIndexTemplate": [MockFunction],
                "existsTemplate": [MockFunction],
                "existsType": [MockFunction],
                "flush": [MockFunction],
                "flushSynced": [MockFunction],
                "forcemerge": [MockFunction],
                "freeze": [MockFunction],
                "get": [MockFunction],
                "getAlias": [MockFunction],
                "getDataStream": [MockFunction],
                "getFieldMapping": [MockFunction],
                "getIndexTemplate": [MockFunction],
                "getMapping": [MockFunction],
                "getSettings": [MockFunction],
                "getTemplate": [MockFunction],
                "getUpgrade": [MockFunction],
                "open": [MockFunction],
                "putAlias": [MockFunction],
                "putIndexTemplate": [MockFunction],
                "putMapping": [MockFunction],
                "putSettings": [MockFunction],
                "putTemplate": [MockFunction],
                "recovery": [MockFunction],
                "refresh": [MockFunction],
                "reloadSearchAnalyzers": [MockFunction],
                "resolveIndex": [MockFunction],
                "rollover": [MockFunction],
                "segments": [MockFunction],
                "shardStores": [MockFunction],
                "shrink": [MockFunction],
                "simulateIndexTemplate": [MockFunction],
                "simulateTemplate": [MockFunction],
                "split": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfreeze": [MockFunction],
                "updateAliases": [MockFunction],
                "upgrade": [MockFunction],
                "validateQuery": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Ingest): IngestApi {
                "deletePipeline": [MockFunction],
                "getPipeline": [MockFunction],
                "processorGrok": [MockFunction],
                "putPipeline": [MockFunction],
                "simulate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Nodes): NodesApi {
                "hotThreads": [MockFunction],
                "info": [MockFunction],
                "reloadSecureSettings": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Snapshot): SnapshotApi {
                "cleanupRepository": [MockFunction],
                "create": [MockFunction],
                "createRepository": [MockFunction],
                "delete": [MockFunction],
                "deleteRepository": [MockFunction],
                "get": [MockFunction],
                "getRepository": [MockFunction],
                "restore": [MockFunction],
                "status": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "verifyRepository": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Tasks): TasksApi {
                "cancel": [MockFunction],
                "get": [MockFunction],
                "list": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(AsyncSearch): AsyncSearchApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "submit": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Autoscaling): AutoscalingApi {
                "deleteAutoscalingPolicy": [MockFunction],
                "getAutoscalingDecision": [MockFunction],
                "getAutoscalingPolicy": [MockFunction],
                "putAutoscalingPolicy": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ccr): CcrApi {
                "deleteAutoFollowPattern": [MockFunction],
                "follow": [MockFunction],
                "followInfo": [MockFunction],
                "followStats": [MockFunction],
                "forgetFollower": [MockFunction],
                "getAutoFollowPattern": [MockFunction],
                "pauseAutoFollowPattern": [MockFunction],
                "pauseFollow": [MockFunction],
                "putAutoFollowPattern": [MockFunction],
                "resumeAutoFollowPattern": [MockFunction],
                "resumeFollow": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfollow": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Enrich): EnrichApi {
                "deletePolicy": [MockFunction],
                "executePolicy": [MockFunction],
                "getPolicy": [MockFunction],
                "putPolicy": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Eql): EqlApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "search": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Graph): GraphApi {
                "explore": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ilm): IlmApi {
                "deleteLifecycle": [MockFunction],
                "explainLifecycle": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStatus": [MockFunction],
                "moveToStep": [MockFunction],
                "putLifecycle": [MockFunction],
                "removePolicy": [MockFunction],
                "retry": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(License): LicenseApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "getBasicStatus": [MockFunction],
                "getTrialStatus": [MockFunction],
                "post": [MockFunction],
                "postStartBasic": [MockFunction],
                "postStartTrial": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Migration): MigrationApi {
                "deprecations": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ml): MlApi {
                "closeJob": [MockFunction],
                "deleteCalendar": [MockFunction],
                "deleteCalendarEvent": [MockFunction],
                "deleteCalendarJob": [MockFunction],
                "deleteDataFrameAnalytics": [MockFunction],
                "deleteDatafeed": [MockFunction],
                "deleteExpiredData": [MockFunction],
                "deleteFilter": [MockFunction],
                "deleteForecast": [MockFunction],
                "deleteJob": [MockFunction],
                "deleteModelSnapshot": [MockFunction],
                "deleteTrainedModel": [MockFunction],
                "estimateModelMemory": [MockFunction],
                "evaluateDataFrame": [MockFunction],
                "explainDataFrameAnalytics": [MockFunction],
                "findFileStructure": [MockFunction],
                "flushJob": [MockFunction],
                "forecast": [MockFunction],
                "getBuckets": [MockFunction],
                "getCalendarEvents": [MockFunction],
                "getCalendars": [MockFunction],
                "getCategories": [MockFunction],
                "getDataFrameAnalytics": [MockFunction],
                "getDataFrameAnalyticsStats": [MockFunction],
                "getDatafeedStats": [MockFunction],
                "getDatafeeds": [MockFunction],
                "getFilters": [MockFunction],
                "getInfluencers": [MockFunction],
                "getJobStats": [MockFunction],
                "getJobs": [MockFunction],
                "getModelSnapshots": [MockFunction],
                "getOverallBuckets": [MockFunction],
                "getRecords": [MockFunction],
                "getTrainedModels": [MockFunction],
                "getTrainedModelsStats": [MockFunction],
                "info": [MockFunction],
                "openJob": [MockFunction],
                "postCalendarEvents": [MockFunction],
                "postData": [MockFunction],
                "previewDatafeed": [MockFunction],
                "putCalendar": [MockFunction],
                "putCalendarJob": [MockFunction],
                "putDataFrameAnalytics": [MockFunction],
                "putDatafeed": [MockFunction],
                "putFilter": [MockFunction],
                "putJob": [MockFunction],
                "putTrainedModel": [MockFunction],
                "revertModelSnapshot": [MockFunction],
                "setUpgradeMode": [MockFunction],
                "startDataFrameAnalytics": [MockFunction],
                "startDatafeed": [MockFunction],
                "stopDataFrameAnalytics": [MockFunction],
                "stopDatafeed": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateDataFrameAnalytics": [MockFunction],
                "updateDatafeed": [MockFunction],
                "updateFilter": [MockFunction],
                "updateJob": [MockFunction],
                "updateModelSnapshot": [MockFunction],
                "validate": [MockFunction],
                "validateDetector": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Monitoring): MonitoringApi {
                "bulk": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Rollup): RollupApi {
                "deleteJob": [MockFunction],
                "getJobs": [MockFunction],
                "getRollupCaps": [MockFunction],
                "getRollupIndexCaps": [MockFunction],
                "putJob": [MockFunction],
                "rollupSearch": [MockFunction],
                "startJob": [MockFunction],
                "stopJob": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(SearchableSnapshots): SearchableSnapshotsApi {
                "clearCache": [MockFunction],
                "mount": [MockFunction],
                "repositoryStats": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Security): SecurityApi {
                "authenticate": [MockFunction],
                "changePassword": [MockFunction],
                "clearApiKeyCache": [MockFunction],
                "clearCachedPrivileges": [MockFunction],
                "clearCachedRealms": [MockFunction],
                "clearCachedRoles": [MockFunction],
                "createApiKey": [MockFunction],
                "deletePrivileges": [MockFunction],
                "deleteRole": [MockFunction],
                "deleteRoleMapping": [MockFunction],
                "deleteUser": [MockFunction],
                "disableUser": [MockFunction],
                "enableUser": [MockFunction],
                "getApiKey": [MockFunction],
                "getBuiltinPrivileges": [MockFunction],
                "getPrivileges": [MockFunction],
                "getRole": [MockFunction],
                "getRoleMapping": [MockFunction],
                "getToken": [MockFunction],
                "getUser": [MockFunction],
                "getUserPrivileges": [MockFunction],
                "hasPrivileges": [MockFunction],
                "invalidateApiKey": [MockFunction],
                "invalidateToken": [MockFunction],
                "putPrivileges": [MockFunction],
                "putRole": [MockFunction],
                "putRoleMapping": [MockFunction],
                "putUser": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Slm): SlmApi {
                "deleteLifecycle": [MockFunction],
                "executeLifecycle": [MockFunction],
                "executeRetention": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStats": [MockFunction],
                "getStatus": [MockFunction],
                "putLifecycle": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Sql): SqlApi {
                "clearCursor": [MockFunction],
                "query": [MockFunction],
                "translate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ssl): SslApi {
                "certificates": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Transform): TransformApi {
                "deleteTransform": [MockFunction],
                "getTransform": [MockFunction],
                "getTransformStats": [MockFunction],
                "previewTransform": [MockFunction],
                "putTransform": [MockFunction],
                "startTransform": [MockFunction],
                "stopTransform": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateTransform": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Watcher): WatcherApi {
                "ackWatch": [MockFunction],
                "activateWatch": [MockFunction],
                "deactivateWatch": [MockFunction],
                "deleteWatch": [MockFunction],
                "executeWatch": [MockFunction],
                "getWatch": [MockFunction],
                "putWatch": [MockFunction],
                "start": [MockFunction],
                "stats": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Xpack): XpackApi {
                "info": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(elasticsearchjs-initial-options): Object {
                "Connection": [Function],
                "ConnectionPool": [Function],
                "Serializer": [Function],
                "Transport": [Function],
                "agent": null,
                "auth": null,
                "compression": false,
                "context": null,
                "generateRequestId": null,
                "headers": Object {},
                "maxRetries": 3,
                "name": "elasticsearch-js",
                "node": "http://localhost",
                "nodeFilter": null,
                "nodeSelector": "round-robin",
                "opaqueIdPrefix": null,
                "pingTimeout": 3000,
                "proxy": null,
                "requestTimeout": 30000,
                "resurrectStrategy": "ping",
                "sniffEndpoint": "_nodes/_all/http",
                "sniffInterval": false,
                "sniffOnConnectionFault": false,
                "sniffOnStart": false,
                "ssl": null,
                "suggestCompression": false,
              },
              Symbol(elasticsearchjs-extensions): Array [],
              Symbol(elasticsearchjs-event-emitter): EventEmitter {
                "_events": Object {},
                "_eventsCount": 0,
                "_maxListeners": undefined,
              },
            },
            "dynamicSettings": Object {
              "certAgeThreshold": 730,
              "certExpirationThreshold": 30,
              "defaultConnectors": Array [],
              "heartbeatIndices": "heartbeat-8*",
            },
            "filters": Object {
              "bool": Object {
                "filter": Array [
                  Object {
                    "bool": Object {
                      "filter": Array [
                        Object {
                          "bool": Object {
                            "minimum_should_match": 1,
                            "should": Array [
                              Object {
                                "bool": Object {
                                  "minimum_should_match": 1,
                                  "should": Array [
                                    Object {
                                      "match": Object {
                                        "url.port": 12349,
                                      },
                                    },
                                  ],
                                },
                              },
                              Object {
                                "bool": Object {
                                  "minimum_should_match": 1,
                                  "should": Array [
                                    Object {
                                      "bool": Object {
                                        "minimum_should_match": 1,
                                        "should": Array [
                                          Object {
                                            "match": Object {
                                              "url.port": 5601,
                                            },
                                          },
                                        ],
                                      },
                                    },
                                    Object {
                                      "bool": Object {
                                        "minimum_should_match": 1,
                                        "should": Array [
                                          Object {
                                            "match": Object {
                                              "url.port": 443,
                                            },
                                          },
                                        ],
                                      },
                                    },
                                  ],
                                },
                              },
                            ],
                          },
                        },
                        Object {
                          "bool": Object {
                            "filter": Array [
                              Object {
                                "bool": Object {
                                  "minimum_should_match": 1,
                                  "should": Array [
                                    Object {
                                      "match": Object {
                                        "observer.geo.name": "harrisburg",
                                      },
                                    },
                                  ],
                                },
                              },
                              Object {
                                "bool": Object {
                                  "filter": Array [
                                    Object {
                                      "bool": Object {
                                        "minimum_should_match": 1,
                                        "should": Array [
                                          Object {
                                            "match": Object {
                                              "monitor.type": "http",
                                            },
                                          },
                                        ],
                                      },
                                    },
                                    Object {
                                      "bool": Object {
                                        "minimum_should_match": 1,
                                        "should": Array [
                                          Object {
                                            "bool": Object {
                                              "minimum_should_match": 1,
                                              "should": Array [
                                                Object {
                                                  "match": Object {
                                                    "tags": "unsecured",
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                          Object {
                                            "bool": Object {
                                              "minimum_should_match": 1,
                                              "should": Array [
                                                Object {
                                                  "bool": Object {
                                                    "minimum_should_match": 1,
                                                    "should": Array [
                                                      Object {
                                                        "match": Object {
                                                          "tags": "containers",
                                                        },
                                                      },
                                                    ],
                                                  },
                                                },
                                                Object {
                                                  "bool": Object {
                                                    "minimum_should_match": 1,
                                                    "should": Array [
                                                      Object {
                                                        "match_phrase": Object {
                                                          "tags": "org:google",
                                                        },
                                                      },
                                                    ],
                                                  },
                                                },
                                              ],
                                            },
                                          },
                                        ],
                                      },
                                    },
                                  ],
                                },
                              },
                            ],
                          },
                        },
                      ],
                    },
                  },
                  Object {
                    "bool": Object {
                      "minimum_should_match": 1,
                      "should": Array [
                        Object {
                          "exists": Object {
                            "field": "monitor.ip",
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
            "locations": Array [],
            "numTimes": 3,
            "timerange": Object {
              "from": "now-15m",
              "to": "now",
            },
          },
        ]
      `);
      expect(alertInstanceMock.replaceState).toHaveBeenCalledTimes(2);
      expect(alertInstanceMock.replaceState.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "currentTriggerStarted": "foo date string",
            "firstCheckedAt": "foo date string",
            "firstTriggeredAt": "foo date string",
            "isTriggered": true,
            "lastCheckedAt": "foo date string",
            "lastResolvedAt": undefined,
            "lastTriggeredAt": "foo date string",
            "latestErrorMessage": undefined,
            "monitorId": "first",
            "monitorName": "first",
            "monitorType": "myType",
            "monitorUrl": undefined,
            "observerHostname": undefined,
            "observerLocation": "harrisburg",
            "statusMessage": "down",
          },
        ]
      `);
      expect(state).toMatchInlineSnapshot(`
        Object {
          "currentTriggerStarted": "foo date string",
          "firstCheckedAt": "foo date string",
          "firstTriggeredAt": "foo date string",
          "isTriggered": true,
          "lastCheckedAt": "foo date string",
          "lastResolvedAt": undefined,
          "lastTriggeredAt": "foo date string",
        }
      `);
    });

    it('supports searches', async () => {
      toISOStringSpy.mockImplementation(() => 'search test');
      const mockGetter = jest.fn();
      mockGetter.mockReturnValue([]);
      const { server, libs, plugins } = bootstrapDependencies({
        getIndexPattern: jest.fn(),
        getMonitorStatus: mockGetter,
      });
      const alert = statusCheckAlertFactory(server, libs, plugins);
      const options = mockOptions({
        numTimes: 20,
        timerangeCount: 30,
        timerangeUnit: 'h',
        filters: {
          'monitor.type': ['http'],
          'observer.geo.name': [],
          tags: [],
          'url.port': [],
        },
        search: 'url.full: *',
      });
      await alert.executor(options);

      expect(mockGetter).toHaveBeenCalledTimes(1);
      expect(mockGetter.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "callES": Client {
              "bulk": [MockFunction],
              "child": [MockFunction],
              "clearScroll": [MockFunction],
              "close": [MockFunction],
              "closePointInTime": [MockFunction],
              "connectionPool": ConnectionPool {
                "Connection": [Function],
                "_agent": null,
                "_proxy": null,
                "_sniffEnabled": false,
                "_ssl": null,
                "auth": null,
                "connections": Array [
                  Object {
                    "_openRequests": 0,
                    "deadCount": 0,
                    "headers": Object {},
                    "id": "http://localhost/",
                    "resurrectTimeout": 0,
                    "roles": Object {
                      "data": true,
                      "ingest": true,
                      "master": true,
                      "ml": false,
                    },
                    "status": "alive",
                    "url": "http://localhost/",
                  },
                ],
                "dead": Array [],
                "emit": [Function],
                "pingTimeout": 3000,
                "resurrectStrategy": 1,
                "resurrectTimeout": 60000,
                "resurrectTimeoutCutoff": 5,
                "size": 1,
              },
              "count": [MockFunction],
              "create": [MockFunction],
              "delete": [MockFunction],
              "deleteByQuery": [MockFunction],
              "deleteByQueryRethrottle": [MockFunction],
              "deleteScript": [MockFunction],
              "exists": [MockFunction],
              "existsSource": [MockFunction],
              "explain": [MockFunction],
              "extend": [MockFunction],
              "fieldCaps": [MockFunction],
              "get": [MockFunction],
              "getScript": [MockFunction],
              "getScriptContext": [MockFunction],
              "getScriptLanguages": [MockFunction],
              "getSource": [MockFunction],
              "helpers": Helpers {
                "maxRetries": 3,
                Symbol(elasticsearch-client): [Circular],
              },
              "index": [MockFunction],
              "info": [MockFunction],
              "mget": [MockFunction],
              "msearch": [MockFunction],
              "msearchTemplate": [MockFunction],
              "mtermvectors": [MockFunction],
              "name": "elasticsearch-js",
              "openPointInTime": [MockFunction],
              "ping": [MockFunction],
              "putScript": [MockFunction],
              "rankEval": [MockFunction],
              "reindex": [MockFunction],
              "reindexRethrottle": [MockFunction],
              "renderSearchTemplate": [MockFunction],
              "scriptsPainlessExecute": [MockFunction],
              "scroll": [MockFunction],
              "search": [MockFunction],
              "searchShards": [MockFunction],
              "searchTemplate": [MockFunction],
              "serializer": Serializer {},
              "termvectors": [MockFunction],
              "transport": Object {
                "request": [MockFunction],
              },
              "update": [MockFunction],
              "updateByQuery": [MockFunction],
              "updateByQueryRethrottle": [MockFunction],
              Symbol(configuration error): [Function],
              Symbol(Cat): CatApi {
                "aliases": [MockFunction],
                "allocation": [MockFunction],
                "count": [MockFunction],
                "fielddata": [MockFunction],
                "health": [MockFunction],
                "help": [MockFunction],
                "indices": [MockFunction],
                "master": [MockFunction],
                "mlDataFrameAnalytics": [MockFunction],
                "mlDatafeeds": [MockFunction],
                "mlJobs": [MockFunction],
                "mlTrainedModels": [MockFunction],
                "nodeattrs": [MockFunction],
                "nodes": [MockFunction],
                "pendingTasks": [MockFunction],
                "plugins": [MockFunction],
                "recovery": [MockFunction],
                "repositories": [MockFunction],
                "segments": [MockFunction],
                "shards": [MockFunction],
                "snapshots": [MockFunction],
                "tasks": [MockFunction],
                "templates": [MockFunction],
                "threadPool": [MockFunction],
                "transforms": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Cluster): ClusterApi {
                "allocationExplain": [MockFunction],
                "deleteComponentTemplate": [MockFunction],
                "deleteVotingConfigExclusions": [MockFunction],
                "existsComponentTemplate": [MockFunction],
                "getComponentTemplate": [MockFunction],
                "getSettings": [MockFunction],
                "health": [MockFunction],
                "pendingTasks": [MockFunction],
                "postVotingConfigExclusions": [MockFunction],
                "putComponentTemplate": [MockFunction],
                "putSettings": [MockFunction],
                "remoteInfo": [MockFunction],
                "reroute": [MockFunction],
                "state": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(DanglingIndices): DanglingIndicesApi {
                "deleteDanglingIndex": [MockFunction],
                "importDanglingIndex": [MockFunction],
                "listDanglingIndices": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Indices): IndicesApi {
                "addBlock": [MockFunction],
                "analyze": [MockFunction],
                "clearCache": [MockFunction],
                "clone": [MockFunction],
                "close": [MockFunction],
                "create": [MockFunction],
                "createDataStream": [MockFunction],
                "dataStreamsStats": [MockFunction],
                "delete": [MockFunction],
                "deleteAlias": [MockFunction],
                "deleteDataStream": [MockFunction],
                "deleteIndexTemplate": [MockFunction],
                "deleteTemplate": [MockFunction],
                "exists": [MockFunction],
                "existsAlias": [MockFunction],
                "existsIndexTemplate": [MockFunction],
                "existsTemplate": [MockFunction],
                "existsType": [MockFunction],
                "flush": [MockFunction],
                "flushSynced": [MockFunction],
                "forcemerge": [MockFunction],
                "freeze": [MockFunction],
                "get": [MockFunction],
                "getAlias": [MockFunction],
                "getDataStream": [MockFunction],
                "getFieldMapping": [MockFunction],
                "getIndexTemplate": [MockFunction],
                "getMapping": [MockFunction],
                "getSettings": [MockFunction],
                "getTemplate": [MockFunction],
                "getUpgrade": [MockFunction],
                "open": [MockFunction],
                "putAlias": [MockFunction],
                "putIndexTemplate": [MockFunction],
                "putMapping": [MockFunction],
                "putSettings": [MockFunction],
                "putTemplate": [MockFunction],
                "recovery": [MockFunction],
                "refresh": [MockFunction],
                "reloadSearchAnalyzers": [MockFunction],
                "resolveIndex": [MockFunction],
                "rollover": [MockFunction],
                "segments": [MockFunction],
                "shardStores": [MockFunction],
                "shrink": [MockFunction],
                "simulateIndexTemplate": [MockFunction],
                "simulateTemplate": [MockFunction],
                "split": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfreeze": [MockFunction],
                "updateAliases": [MockFunction],
                "upgrade": [MockFunction],
                "validateQuery": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Ingest): IngestApi {
                "deletePipeline": [MockFunction],
                "getPipeline": [MockFunction],
                "processorGrok": [MockFunction],
                "putPipeline": [MockFunction],
                "simulate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Nodes): NodesApi {
                "hotThreads": [MockFunction],
                "info": [MockFunction],
                "reloadSecureSettings": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Snapshot): SnapshotApi {
                "cleanupRepository": [MockFunction],
                "create": [MockFunction],
                "createRepository": [MockFunction],
                "delete": [MockFunction],
                "deleteRepository": [MockFunction],
                "get": [MockFunction],
                "getRepository": [MockFunction],
                "restore": [MockFunction],
                "status": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "verifyRepository": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Tasks): TasksApi {
                "cancel": [MockFunction],
                "get": [MockFunction],
                "list": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(AsyncSearch): AsyncSearchApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "submit": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Autoscaling): AutoscalingApi {
                "deleteAutoscalingPolicy": [MockFunction],
                "getAutoscalingDecision": [MockFunction],
                "getAutoscalingPolicy": [MockFunction],
                "putAutoscalingPolicy": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ccr): CcrApi {
                "deleteAutoFollowPattern": [MockFunction],
                "follow": [MockFunction],
                "followInfo": [MockFunction],
                "followStats": [MockFunction],
                "forgetFollower": [MockFunction],
                "getAutoFollowPattern": [MockFunction],
                "pauseAutoFollowPattern": [MockFunction],
                "pauseFollow": [MockFunction],
                "putAutoFollowPattern": [MockFunction],
                "resumeAutoFollowPattern": [MockFunction],
                "resumeFollow": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfollow": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Enrich): EnrichApi {
                "deletePolicy": [MockFunction],
                "executePolicy": [MockFunction],
                "getPolicy": [MockFunction],
                "putPolicy": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Eql): EqlApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "search": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Graph): GraphApi {
                "explore": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ilm): IlmApi {
                "deleteLifecycle": [MockFunction],
                "explainLifecycle": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStatus": [MockFunction],
                "moveToStep": [MockFunction],
                "putLifecycle": [MockFunction],
                "removePolicy": [MockFunction],
                "retry": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(License): LicenseApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "getBasicStatus": [MockFunction],
                "getTrialStatus": [MockFunction],
                "post": [MockFunction],
                "postStartBasic": [MockFunction],
                "postStartTrial": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Migration): MigrationApi {
                "deprecations": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ml): MlApi {
                "closeJob": [MockFunction],
                "deleteCalendar": [MockFunction],
                "deleteCalendarEvent": [MockFunction],
                "deleteCalendarJob": [MockFunction],
                "deleteDataFrameAnalytics": [MockFunction],
                "deleteDatafeed": [MockFunction],
                "deleteExpiredData": [MockFunction],
                "deleteFilter": [MockFunction],
                "deleteForecast": [MockFunction],
                "deleteJob": [MockFunction],
                "deleteModelSnapshot": [MockFunction],
                "deleteTrainedModel": [MockFunction],
                "estimateModelMemory": [MockFunction],
                "evaluateDataFrame": [MockFunction],
                "explainDataFrameAnalytics": [MockFunction],
                "findFileStructure": [MockFunction],
                "flushJob": [MockFunction],
                "forecast": [MockFunction],
                "getBuckets": [MockFunction],
                "getCalendarEvents": [MockFunction],
                "getCalendars": [MockFunction],
                "getCategories": [MockFunction],
                "getDataFrameAnalytics": [MockFunction],
                "getDataFrameAnalyticsStats": [MockFunction],
                "getDatafeedStats": [MockFunction],
                "getDatafeeds": [MockFunction],
                "getFilters": [MockFunction],
                "getInfluencers": [MockFunction],
                "getJobStats": [MockFunction],
                "getJobs": [MockFunction],
                "getModelSnapshots": [MockFunction],
                "getOverallBuckets": [MockFunction],
                "getRecords": [MockFunction],
                "getTrainedModels": [MockFunction],
                "getTrainedModelsStats": [MockFunction],
                "info": [MockFunction],
                "openJob": [MockFunction],
                "postCalendarEvents": [MockFunction],
                "postData": [MockFunction],
                "previewDatafeed": [MockFunction],
                "putCalendar": [MockFunction],
                "putCalendarJob": [MockFunction],
                "putDataFrameAnalytics": [MockFunction],
                "putDatafeed": [MockFunction],
                "putFilter": [MockFunction],
                "putJob": [MockFunction],
                "putTrainedModel": [MockFunction],
                "revertModelSnapshot": [MockFunction],
                "setUpgradeMode": [MockFunction],
                "startDataFrameAnalytics": [MockFunction],
                "startDatafeed": [MockFunction],
                "stopDataFrameAnalytics": [MockFunction],
                "stopDatafeed": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateDataFrameAnalytics": [MockFunction],
                "updateDatafeed": [MockFunction],
                "updateFilter": [MockFunction],
                "updateJob": [MockFunction],
                "updateModelSnapshot": [MockFunction],
                "validate": [MockFunction],
                "validateDetector": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Monitoring): MonitoringApi {
                "bulk": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Rollup): RollupApi {
                "deleteJob": [MockFunction],
                "getJobs": [MockFunction],
                "getRollupCaps": [MockFunction],
                "getRollupIndexCaps": [MockFunction],
                "putJob": [MockFunction],
                "rollupSearch": [MockFunction],
                "startJob": [MockFunction],
                "stopJob": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(SearchableSnapshots): SearchableSnapshotsApi {
                "clearCache": [MockFunction],
                "mount": [MockFunction],
                "repositoryStats": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Security): SecurityApi {
                "authenticate": [MockFunction],
                "changePassword": [MockFunction],
                "clearApiKeyCache": [MockFunction],
                "clearCachedPrivileges": [MockFunction],
                "clearCachedRealms": [MockFunction],
                "clearCachedRoles": [MockFunction],
                "createApiKey": [MockFunction],
                "deletePrivileges": [MockFunction],
                "deleteRole": [MockFunction],
                "deleteRoleMapping": [MockFunction],
                "deleteUser": [MockFunction],
                "disableUser": [MockFunction],
                "enableUser": [MockFunction],
                "getApiKey": [MockFunction],
                "getBuiltinPrivileges": [MockFunction],
                "getPrivileges": [MockFunction],
                "getRole": [MockFunction],
                "getRoleMapping": [MockFunction],
                "getToken": [MockFunction],
                "getUser": [MockFunction],
                "getUserPrivileges": [MockFunction],
                "hasPrivileges": [MockFunction],
                "invalidateApiKey": [MockFunction],
                "invalidateToken": [MockFunction],
                "putPrivileges": [MockFunction],
                "putRole": [MockFunction],
                "putRoleMapping": [MockFunction],
                "putUser": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Slm): SlmApi {
                "deleteLifecycle": [MockFunction],
                "executeLifecycle": [MockFunction],
                "executeRetention": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStats": [MockFunction],
                "getStatus": [MockFunction],
                "putLifecycle": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Sql): SqlApi {
                "clearCursor": [MockFunction],
                "query": [MockFunction],
                "translate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ssl): SslApi {
                "certificates": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Transform): TransformApi {
                "deleteTransform": [MockFunction],
                "getTransform": [MockFunction],
                "getTransformStats": [MockFunction],
                "previewTransform": [MockFunction],
                "putTransform": [MockFunction],
                "startTransform": [MockFunction],
                "stopTransform": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateTransform": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Watcher): WatcherApi {
                "ackWatch": [MockFunction],
                "activateWatch": [MockFunction],
                "deactivateWatch": [MockFunction],
                "deleteWatch": [MockFunction],
                "executeWatch": [MockFunction],
                "getWatch": [MockFunction],
                "putWatch": [MockFunction],
                "start": [MockFunction],
                "stats": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Xpack): XpackApi {
                "info": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(elasticsearchjs-initial-options): Object {
                "Connection": [Function],
                "ConnectionPool": [Function],
                "Serializer": [Function],
                "Transport": [Function],
                "agent": null,
                "auth": null,
                "compression": false,
                "context": null,
                "generateRequestId": null,
                "headers": Object {},
                "maxRetries": 3,
                "name": "elasticsearch-js",
                "node": "http://localhost",
                "nodeFilter": null,
                "nodeSelector": "round-robin",
                "opaqueIdPrefix": null,
                "pingTimeout": 3000,
                "proxy": null,
                "requestTimeout": 30000,
                "resurrectStrategy": "ping",
                "sniffEndpoint": "_nodes/_all/http",
                "sniffInterval": false,
                "sniffOnConnectionFault": false,
                "sniffOnStart": false,
                "ssl": null,
                "suggestCompression": false,
              },
              Symbol(elasticsearchjs-extensions): Array [],
              Symbol(elasticsearchjs-event-emitter): EventEmitter {
                "_events": Object {},
                "_eventsCount": 0,
                "_maxListeners": undefined,
              },
            },
            "dynamicSettings": Object {
              "certAgeThreshold": 730,
              "certExpirationThreshold": 30,
              "defaultConnectors": Array [],
              "heartbeatIndices": "heartbeat-8*",
            },
            "filters": Object {
              "bool": Object {
                "filter": Array [
                  Object {
                    "bool": Object {
                      "minimum_should_match": 1,
                      "should": Array [
                        Object {
                          "match": Object {
                            "monitor.type": "http",
                          },
                        },
                      ],
                    },
                  },
                  Object {
                    "bool": Object {
                      "minimum_should_match": 1,
                      "should": Array [
                        Object {
                          "exists": Object {
                            "field": "url.full",
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
            "locations": Array [],
            "numTimes": 20,
            "timerange": Object {
              "from": "now-30h",
              "to": "now",
            },
          },
        ]
      `);
    });

    it('supports availability checks', async () => {
      expect.assertions(8);
      toISOStringSpy.mockImplementation(() => 'availability test');
      const mockGetter: jest.Mock<GetMonitorStatusResult[]> = jest.fn();
      mockGetter.mockReturnValue([]);
      const mockAvailability: jest.Mock<GetMonitorAvailabilityResult[]> = jest.fn();
      mockAvailability.mockReturnValue([
        {
          monitorId: 'foo',
          location: 'harrisburg',
          up: 2341,
          down: 17,
          availabilityRatio: 0.992790500424088,
          monitorInfo: makePing({
            id: 'foo',
            location: 'harrisburg',
            name: 'Foo',
            url: 'https://foo.com',
          }),
        },
        {
          monitorId: 'foo',
          location: 'fairbanks',
          up: 2343,
          down: 47,
          availabilityRatio: 0.980334728033473,
          monitorInfo: makePing({
            id: 'foo',
            location: 'fairbanks',
            name: 'Foo',
            url: 'https://foo.com',
          }),
        },
        {
          monitorId: 'unreliable',
          location: 'fairbanks',
          up: 2134,
          down: 213,
          availabilityRatio: 0.909245845760545,
          monitorInfo: makePing({
            id: 'unreliable',
            location: 'fairbanks',
            name: 'Unreliable',
            url: 'https://unreliable.co',
          }),
        },
        {
          monitorId: 'no-name',
          location: 'fairbanks',
          up: 2134,
          down: 213,
          availabilityRatio: 0.909245845760545,
          monitorInfo: makePing({
            id: 'no-name',
            location: 'fairbanks',
            url: 'https://no-name.co',
          }),
        },
      ]);
      const { server, libs, plugins } = bootstrapDependencies({
        getMonitorAvailability: mockAvailability,
        getMonitorStatus: mockGetter,
        getIndexPattern: jest.fn(),
      });
      const alert = statusCheckAlertFactory(server, libs, plugins);
      const options = mockOptions({
        availability: {
          range: 35,
          rangeUnit: 'd',
          threshold: '99.34',
        },
        filters: {
          'url.port': ['12349', '5601', '443'],
          'observer.geo.name': ['harrisburg'],
          'monitor.type': ['http'],
          tags: ['unsecured', 'containers', 'org:google'],
        },
        shouldCheckAvailability: true,
        shouldCheckStatus: false,
      });
      const alertServices: AlertServicesMock = options.services;
      const state = await alert.executor(options);
      const [{ value: alertInstanceMock }] = alertServices.alertInstanceFactory.mock.results;
      expect(alertInstanceMock.replaceState).toHaveBeenCalledTimes(4);
      expect(alertInstanceMock.replaceState.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "currentTriggerStarted": "availability test",
            "firstCheckedAt": "availability test",
            "firstTriggeredAt": "availability test",
            "isTriggered": true,
            "lastCheckedAt": "availability test",
            "lastResolvedAt": undefined,
            "lastTriggeredAt": "availability test",
            "latestErrorMessage": undefined,
            "monitorId": "foo",
            "monitorName": "Foo",
            "monitorType": "myType",
            "monitorUrl": "https://foo.com",
            "observerHostname": undefined,
            "observerLocation": "harrisburg",
            "statusMessage": "below threshold with 99.28% availability expected is 99.34%",
          },
        ]
      `);
      expect(alertInstanceMock.scheduleActions).toHaveBeenCalledTimes(4);
      expect(alertInstanceMock.scheduleActions.mock.calls).toMatchInlineSnapshot(`
        Array [
          Array [
            "xpack.uptime.alerts.actionGroups.monitorStatus",
            Object {
              "message": "Monitor Foo with url https://foo.com is below threshold with 99.28% availability expected is 99.34% from harrisburg. The latest error message is ",
            },
          ],
          Array [
            "xpack.uptime.alerts.actionGroups.monitorStatus",
            Object {
              "message": "Monitor Foo with url https://foo.com is below threshold with 98.03% availability expected is 99.34% from fairbanks. The latest error message is ",
            },
          ],
          Array [
            "xpack.uptime.alerts.actionGroups.monitorStatus",
            Object {
              "message": "Monitor Unreliable with url https://unreliable.co is below threshold with 90.92% availability expected is 99.34% from fairbanks. The latest error message is ",
            },
          ],
          Array [
            "xpack.uptime.alerts.actionGroups.monitorStatus",
            Object {
              "message": "Monitor no-name with url https://no-name.co is below threshold with 90.92% availability expected is 99.34% from fairbanks. The latest error message is ",
            },
          ],
        ]
      `);
      expect(mockGetter).not.toHaveBeenCalled();
      expect(mockAvailability).toHaveBeenCalledTimes(1);
      expect(mockAvailability.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "callES": Client {
              "bulk": [MockFunction],
              "child": [MockFunction],
              "clearScroll": [MockFunction],
              "close": [MockFunction],
              "closePointInTime": [MockFunction],
              "connectionPool": ConnectionPool {
                "Connection": [Function],
                "_agent": null,
                "_proxy": null,
                "_sniffEnabled": false,
                "_ssl": null,
                "auth": null,
                "connections": Array [
                  Object {
                    "_openRequests": 0,
                    "deadCount": 0,
                    "headers": Object {},
                    "id": "http://localhost/",
                    "resurrectTimeout": 0,
                    "roles": Object {
                      "data": true,
                      "ingest": true,
                      "master": true,
                      "ml": false,
                    },
                    "status": "alive",
                    "url": "http://localhost/",
                  },
                ],
                "dead": Array [],
                "emit": [Function],
                "pingTimeout": 3000,
                "resurrectStrategy": 1,
                "resurrectTimeout": 60000,
                "resurrectTimeoutCutoff": 5,
                "size": 1,
              },
              "count": [MockFunction],
              "create": [MockFunction],
              "delete": [MockFunction],
              "deleteByQuery": [MockFunction],
              "deleteByQueryRethrottle": [MockFunction],
              "deleteScript": [MockFunction],
              "exists": [MockFunction],
              "existsSource": [MockFunction],
              "explain": [MockFunction],
              "extend": [MockFunction],
              "fieldCaps": [MockFunction],
              "get": [MockFunction],
              "getScript": [MockFunction],
              "getScriptContext": [MockFunction],
              "getScriptLanguages": [MockFunction],
              "getSource": [MockFunction],
              "helpers": Helpers {
                "maxRetries": 3,
                Symbol(elasticsearch-client): [Circular],
              },
              "index": [MockFunction],
              "info": [MockFunction],
              "mget": [MockFunction],
              "msearch": [MockFunction],
              "msearchTemplate": [MockFunction],
              "mtermvectors": [MockFunction],
              "name": "elasticsearch-js",
              "openPointInTime": [MockFunction],
              "ping": [MockFunction],
              "putScript": [MockFunction],
              "rankEval": [MockFunction],
              "reindex": [MockFunction],
              "reindexRethrottle": [MockFunction],
              "renderSearchTemplate": [MockFunction],
              "scriptsPainlessExecute": [MockFunction],
              "scroll": [MockFunction],
              "search": [MockFunction],
              "searchShards": [MockFunction],
              "searchTemplate": [MockFunction],
              "serializer": Serializer {},
              "termvectors": [MockFunction],
              "transport": Object {
                "request": [MockFunction],
              },
              "update": [MockFunction],
              "updateByQuery": [MockFunction],
              "updateByQueryRethrottle": [MockFunction],
              Symbol(configuration error): [Function],
              Symbol(Cat): CatApi {
                "aliases": [MockFunction],
                "allocation": [MockFunction],
                "count": [MockFunction],
                "fielddata": [MockFunction],
                "health": [MockFunction],
                "help": [MockFunction],
                "indices": [MockFunction],
                "master": [MockFunction],
                "mlDataFrameAnalytics": [MockFunction],
                "mlDatafeeds": [MockFunction],
                "mlJobs": [MockFunction],
                "mlTrainedModels": [MockFunction],
                "nodeattrs": [MockFunction],
                "nodes": [MockFunction],
                "pendingTasks": [MockFunction],
                "plugins": [MockFunction],
                "recovery": [MockFunction],
                "repositories": [MockFunction],
                "segments": [MockFunction],
                "shards": [MockFunction],
                "snapshots": [MockFunction],
                "tasks": [MockFunction],
                "templates": [MockFunction],
                "threadPool": [MockFunction],
                "transforms": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Cluster): ClusterApi {
                "allocationExplain": [MockFunction],
                "deleteComponentTemplate": [MockFunction],
                "deleteVotingConfigExclusions": [MockFunction],
                "existsComponentTemplate": [MockFunction],
                "getComponentTemplate": [MockFunction],
                "getSettings": [MockFunction],
                "health": [MockFunction],
                "pendingTasks": [MockFunction],
                "postVotingConfigExclusions": [MockFunction],
                "putComponentTemplate": [MockFunction],
                "putSettings": [MockFunction],
                "remoteInfo": [MockFunction],
                "reroute": [MockFunction],
                "state": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(DanglingIndices): DanglingIndicesApi {
                "deleteDanglingIndex": [MockFunction],
                "importDanglingIndex": [MockFunction],
                "listDanglingIndices": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Indices): IndicesApi {
                "addBlock": [MockFunction],
                "analyze": [MockFunction],
                "clearCache": [MockFunction],
                "clone": [MockFunction],
                "close": [MockFunction],
                "create": [MockFunction],
                "createDataStream": [MockFunction],
                "dataStreamsStats": [MockFunction],
                "delete": [MockFunction],
                "deleteAlias": [MockFunction],
                "deleteDataStream": [MockFunction],
                "deleteIndexTemplate": [MockFunction],
                "deleteTemplate": [MockFunction],
                "exists": [MockFunction],
                "existsAlias": [MockFunction],
                "existsIndexTemplate": [MockFunction],
                "existsTemplate": [MockFunction],
                "existsType": [MockFunction],
                "flush": [MockFunction],
                "flushSynced": [MockFunction],
                "forcemerge": [MockFunction],
                "freeze": [MockFunction],
                "get": [MockFunction],
                "getAlias": [MockFunction],
                "getDataStream": [MockFunction],
                "getFieldMapping": [MockFunction],
                "getIndexTemplate": [MockFunction],
                "getMapping": [MockFunction],
                "getSettings": [MockFunction],
                "getTemplate": [MockFunction],
                "getUpgrade": [MockFunction],
                "open": [MockFunction],
                "putAlias": [MockFunction],
                "putIndexTemplate": [MockFunction],
                "putMapping": [MockFunction],
                "putSettings": [MockFunction],
                "putTemplate": [MockFunction],
                "recovery": [MockFunction],
                "refresh": [MockFunction],
                "reloadSearchAnalyzers": [MockFunction],
                "resolveIndex": [MockFunction],
                "rollover": [MockFunction],
                "segments": [MockFunction],
                "shardStores": [MockFunction],
                "shrink": [MockFunction],
                "simulateIndexTemplate": [MockFunction],
                "simulateTemplate": [MockFunction],
                "split": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfreeze": [MockFunction],
                "updateAliases": [MockFunction],
                "upgrade": [MockFunction],
                "validateQuery": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Ingest): IngestApi {
                "deletePipeline": [MockFunction],
                "getPipeline": [MockFunction],
                "processorGrok": [MockFunction],
                "putPipeline": [MockFunction],
                "simulate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Nodes): NodesApi {
                "hotThreads": [MockFunction],
                "info": [MockFunction],
                "reloadSecureSettings": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Snapshot): SnapshotApi {
                "cleanupRepository": [MockFunction],
                "create": [MockFunction],
                "createRepository": [MockFunction],
                "delete": [MockFunction],
                "deleteRepository": [MockFunction],
                "get": [MockFunction],
                "getRepository": [MockFunction],
                "restore": [MockFunction],
                "status": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "verifyRepository": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Tasks): TasksApi {
                "cancel": [MockFunction],
                "get": [MockFunction],
                "list": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(AsyncSearch): AsyncSearchApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "submit": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Autoscaling): AutoscalingApi {
                "deleteAutoscalingPolicy": [MockFunction],
                "getAutoscalingDecision": [MockFunction],
                "getAutoscalingPolicy": [MockFunction],
                "putAutoscalingPolicy": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ccr): CcrApi {
                "deleteAutoFollowPattern": [MockFunction],
                "follow": [MockFunction],
                "followInfo": [MockFunction],
                "followStats": [MockFunction],
                "forgetFollower": [MockFunction],
                "getAutoFollowPattern": [MockFunction],
                "pauseAutoFollowPattern": [MockFunction],
                "pauseFollow": [MockFunction],
                "putAutoFollowPattern": [MockFunction],
                "resumeAutoFollowPattern": [MockFunction],
                "resumeFollow": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfollow": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Enrich): EnrichApi {
                "deletePolicy": [MockFunction],
                "executePolicy": [MockFunction],
                "getPolicy": [MockFunction],
                "putPolicy": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Eql): EqlApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "search": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Graph): GraphApi {
                "explore": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ilm): IlmApi {
                "deleteLifecycle": [MockFunction],
                "explainLifecycle": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStatus": [MockFunction],
                "moveToStep": [MockFunction],
                "putLifecycle": [MockFunction],
                "removePolicy": [MockFunction],
                "retry": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(License): LicenseApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "getBasicStatus": [MockFunction],
                "getTrialStatus": [MockFunction],
                "post": [MockFunction],
                "postStartBasic": [MockFunction],
                "postStartTrial": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Migration): MigrationApi {
                "deprecations": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ml): MlApi {
                "closeJob": [MockFunction],
                "deleteCalendar": [MockFunction],
                "deleteCalendarEvent": [MockFunction],
                "deleteCalendarJob": [MockFunction],
                "deleteDataFrameAnalytics": [MockFunction],
                "deleteDatafeed": [MockFunction],
                "deleteExpiredData": [MockFunction],
                "deleteFilter": [MockFunction],
                "deleteForecast": [MockFunction],
                "deleteJob": [MockFunction],
                "deleteModelSnapshot": [MockFunction],
                "deleteTrainedModel": [MockFunction],
                "estimateModelMemory": [MockFunction],
                "evaluateDataFrame": [MockFunction],
                "explainDataFrameAnalytics": [MockFunction],
                "findFileStructure": [MockFunction],
                "flushJob": [MockFunction],
                "forecast": [MockFunction],
                "getBuckets": [MockFunction],
                "getCalendarEvents": [MockFunction],
                "getCalendars": [MockFunction],
                "getCategories": [MockFunction],
                "getDataFrameAnalytics": [MockFunction],
                "getDataFrameAnalyticsStats": [MockFunction],
                "getDatafeedStats": [MockFunction],
                "getDatafeeds": [MockFunction],
                "getFilters": [MockFunction],
                "getInfluencers": [MockFunction],
                "getJobStats": [MockFunction],
                "getJobs": [MockFunction],
                "getModelSnapshots": [MockFunction],
                "getOverallBuckets": [MockFunction],
                "getRecords": [MockFunction],
                "getTrainedModels": [MockFunction],
                "getTrainedModelsStats": [MockFunction],
                "info": [MockFunction],
                "openJob": [MockFunction],
                "postCalendarEvents": [MockFunction],
                "postData": [MockFunction],
                "previewDatafeed": [MockFunction],
                "putCalendar": [MockFunction],
                "putCalendarJob": [MockFunction],
                "putDataFrameAnalytics": [MockFunction],
                "putDatafeed": [MockFunction],
                "putFilter": [MockFunction],
                "putJob": [MockFunction],
                "putTrainedModel": [MockFunction],
                "revertModelSnapshot": [MockFunction],
                "setUpgradeMode": [MockFunction],
                "startDataFrameAnalytics": [MockFunction],
                "startDatafeed": [MockFunction],
                "stopDataFrameAnalytics": [MockFunction],
                "stopDatafeed": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateDataFrameAnalytics": [MockFunction],
                "updateDatafeed": [MockFunction],
                "updateFilter": [MockFunction],
                "updateJob": [MockFunction],
                "updateModelSnapshot": [MockFunction],
                "validate": [MockFunction],
                "validateDetector": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Monitoring): MonitoringApi {
                "bulk": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Rollup): RollupApi {
                "deleteJob": [MockFunction],
                "getJobs": [MockFunction],
                "getRollupCaps": [MockFunction],
                "getRollupIndexCaps": [MockFunction],
                "putJob": [MockFunction],
                "rollupSearch": [MockFunction],
                "startJob": [MockFunction],
                "stopJob": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(SearchableSnapshots): SearchableSnapshotsApi {
                "clearCache": [MockFunction],
                "mount": [MockFunction],
                "repositoryStats": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Security): SecurityApi {
                "authenticate": [MockFunction],
                "changePassword": [MockFunction],
                "clearApiKeyCache": [MockFunction],
                "clearCachedPrivileges": [MockFunction],
                "clearCachedRealms": [MockFunction],
                "clearCachedRoles": [MockFunction],
                "createApiKey": [MockFunction],
                "deletePrivileges": [MockFunction],
                "deleteRole": [MockFunction],
                "deleteRoleMapping": [MockFunction],
                "deleteUser": [MockFunction],
                "disableUser": [MockFunction],
                "enableUser": [MockFunction],
                "getApiKey": [MockFunction],
                "getBuiltinPrivileges": [MockFunction],
                "getPrivileges": [MockFunction],
                "getRole": [MockFunction],
                "getRoleMapping": [MockFunction],
                "getToken": [MockFunction],
                "getUser": [MockFunction],
                "getUserPrivileges": [MockFunction],
                "hasPrivileges": [MockFunction],
                "invalidateApiKey": [MockFunction],
                "invalidateToken": [MockFunction],
                "putPrivileges": [MockFunction],
                "putRole": [MockFunction],
                "putRoleMapping": [MockFunction],
                "putUser": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Slm): SlmApi {
                "deleteLifecycle": [MockFunction],
                "executeLifecycle": [MockFunction],
                "executeRetention": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStats": [MockFunction],
                "getStatus": [MockFunction],
                "putLifecycle": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Sql): SqlApi {
                "clearCursor": [MockFunction],
                "query": [MockFunction],
                "translate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ssl): SslApi {
                "certificates": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Transform): TransformApi {
                "deleteTransform": [MockFunction],
                "getTransform": [MockFunction],
                "getTransformStats": [MockFunction],
                "previewTransform": [MockFunction],
                "putTransform": [MockFunction],
                "startTransform": [MockFunction],
                "stopTransform": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateTransform": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Watcher): WatcherApi {
                "ackWatch": [MockFunction],
                "activateWatch": [MockFunction],
                "deactivateWatch": [MockFunction],
                "deleteWatch": [MockFunction],
                "executeWatch": [MockFunction],
                "getWatch": [MockFunction],
                "putWatch": [MockFunction],
                "start": [MockFunction],
                "stats": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Xpack): XpackApi {
                "info": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(elasticsearchjs-initial-options): Object {
                "Connection": [Function],
                "ConnectionPool": [Function],
                "Serializer": [Function],
                "Transport": [Function],
                "agent": null,
                "auth": null,
                "compression": false,
                "context": null,
                "generateRequestId": null,
                "headers": Object {},
                "maxRetries": 3,
                "name": "elasticsearch-js",
                "node": "http://localhost",
                "nodeFilter": null,
                "nodeSelector": "round-robin",
                "opaqueIdPrefix": null,
                "pingTimeout": 3000,
                "proxy": null,
                "requestTimeout": 30000,
                "resurrectStrategy": "ping",
                "sniffEndpoint": "_nodes/_all/http",
                "sniffInterval": false,
                "sniffOnConnectionFault": false,
                "sniffOnStart": false,
                "ssl": null,
                "suggestCompression": false,
              },
              Symbol(elasticsearchjs-extensions): Array [],
              Symbol(elasticsearchjs-event-emitter): EventEmitter {
                "_events": Object {},
                "_eventsCount": 0,
                "_maxListeners": undefined,
              },
            },
            "dynamicSettings": Object {
              "certAgeThreshold": 730,
              "certExpirationThreshold": 30,
              "defaultConnectors": Array [],
              "heartbeatIndices": "heartbeat-8*",
            },
            "filters": "{\\"bool\\":{\\"filter\\":[{\\"bool\\":{\\"should\\":[{\\"bool\\":{\\"should\\":[{\\"match\\":{\\"url.port\\":12349}}],\\"minimum_should_match\\":1}},{\\"bool\\":{\\"should\\":[{\\"bool\\":{\\"should\\":[{\\"match\\":{\\"url.port\\":5601}}],\\"minimum_should_match\\":1}},{\\"bool\\":{\\"should\\":[{\\"match\\":{\\"url.port\\":443}}],\\"minimum_should_match\\":1}}],\\"minimum_should_match\\":1}}],\\"minimum_should_match\\":1}},{\\"bool\\":{\\"filter\\":[{\\"bool\\":{\\"should\\":[{\\"match\\":{\\"observer.geo.name\\":\\"harrisburg\\"}}],\\"minimum_should_match\\":1}},{\\"bool\\":{\\"filter\\":[{\\"bool\\":{\\"should\\":[{\\"match\\":{\\"monitor.type\\":\\"http\\"}}],\\"minimum_should_match\\":1}},{\\"bool\\":{\\"should\\":[{\\"bool\\":{\\"should\\":[{\\"match\\":{\\"tags\\":\\"unsecured\\"}}],\\"minimum_should_match\\":1}},{\\"bool\\":{\\"should\\":[{\\"bool\\":{\\"should\\":[{\\"match\\":{\\"tags\\":\\"containers\\"}}],\\"minimum_should_match\\":1}},{\\"bool\\":{\\"should\\":[{\\"match_phrase\\":{\\"tags\\":\\"org:google\\"}}],\\"minimum_should_match\\":1}}],\\"minimum_should_match\\":1}}],\\"minimum_should_match\\":1}}]}}]}}]}}",
            "range": 35,
            "rangeUnit": "d",
            "threshold": "99.34",
          },
        ]
      `);
      expect(state).toMatchInlineSnapshot(`
        Object {
          "currentTriggerStarted": undefined,
          "firstCheckedAt": "availability test",
          "firstTriggeredAt": undefined,
          "isTriggered": false,
          "lastCheckedAt": "availability test",
          "lastResolvedAt": undefined,
          "lastTriggeredAt": undefined,
        }
      `);
    });

    it('supports availability checks with search', async () => {
      expect.assertions(2);
      toISOStringSpy.mockImplementation(() => 'availability with search');
      const mockGetter = jest.fn();
      mockGetter.mockReturnValue([]);
      const mockAvailability = jest.fn();
      mockAvailability.mockReturnValue([]);
      const { server, libs, plugins } = bootstrapDependencies({
        getMonitorAvailability: mockAvailability,
        getIndexPattern: jest.fn(),
      });
      const alert = statusCheckAlertFactory(server, libs, plugins);
      const options = mockOptions({
        availability: {
          range: 23,
          rangeUnit: 'w',
          threshold: '90',
        },
        search: 'ur.port: *',
        shouldCheckAvailability: true,
        shouldCheckStatus: false,
      });

      await alert.executor(options);
      expect(mockAvailability).toHaveBeenCalledTimes(1);
      expect(mockAvailability.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "callES": Client {
              "bulk": [MockFunction],
              "child": [MockFunction],
              "clearScroll": [MockFunction],
              "close": [MockFunction],
              "closePointInTime": [MockFunction],
              "connectionPool": ConnectionPool {
                "Connection": [Function],
                "_agent": null,
                "_proxy": null,
                "_sniffEnabled": false,
                "_ssl": null,
                "auth": null,
                "connections": Array [
                  Object {
                    "_openRequests": 0,
                    "deadCount": 0,
                    "headers": Object {},
                    "id": "http://localhost/",
                    "resurrectTimeout": 0,
                    "roles": Object {
                      "data": true,
                      "ingest": true,
                      "master": true,
                      "ml": false,
                    },
                    "status": "alive",
                    "url": "http://localhost/",
                  },
                ],
                "dead": Array [],
                "emit": [Function],
                "pingTimeout": 3000,
                "resurrectStrategy": 1,
                "resurrectTimeout": 60000,
                "resurrectTimeoutCutoff": 5,
                "size": 1,
              },
              "count": [MockFunction],
              "create": [MockFunction],
              "delete": [MockFunction],
              "deleteByQuery": [MockFunction],
              "deleteByQueryRethrottle": [MockFunction],
              "deleteScript": [MockFunction],
              "exists": [MockFunction],
              "existsSource": [MockFunction],
              "explain": [MockFunction],
              "extend": [MockFunction],
              "fieldCaps": [MockFunction],
              "get": [MockFunction],
              "getScript": [MockFunction],
              "getScriptContext": [MockFunction],
              "getScriptLanguages": [MockFunction],
              "getSource": [MockFunction],
              "helpers": Helpers {
                "maxRetries": 3,
                Symbol(elasticsearch-client): [Circular],
              },
              "index": [MockFunction],
              "info": [MockFunction],
              "mget": [MockFunction],
              "msearch": [MockFunction],
              "msearchTemplate": [MockFunction],
              "mtermvectors": [MockFunction],
              "name": "elasticsearch-js",
              "openPointInTime": [MockFunction],
              "ping": [MockFunction],
              "putScript": [MockFunction],
              "rankEval": [MockFunction],
              "reindex": [MockFunction],
              "reindexRethrottle": [MockFunction],
              "renderSearchTemplate": [MockFunction],
              "scriptsPainlessExecute": [MockFunction],
              "scroll": [MockFunction],
              "search": [MockFunction],
              "searchShards": [MockFunction],
              "searchTemplate": [MockFunction],
              "serializer": Serializer {},
              "termvectors": [MockFunction],
              "transport": Object {
                "request": [MockFunction],
              },
              "update": [MockFunction],
              "updateByQuery": [MockFunction],
              "updateByQueryRethrottle": [MockFunction],
              Symbol(configuration error): [Function],
              Symbol(Cat): CatApi {
                "aliases": [MockFunction],
                "allocation": [MockFunction],
                "count": [MockFunction],
                "fielddata": [MockFunction],
                "health": [MockFunction],
                "help": [MockFunction],
                "indices": [MockFunction],
                "master": [MockFunction],
                "mlDataFrameAnalytics": [MockFunction],
                "mlDatafeeds": [MockFunction],
                "mlJobs": [MockFunction],
                "mlTrainedModels": [MockFunction],
                "nodeattrs": [MockFunction],
                "nodes": [MockFunction],
                "pendingTasks": [MockFunction],
                "plugins": [MockFunction],
                "recovery": [MockFunction],
                "repositories": [MockFunction],
                "segments": [MockFunction],
                "shards": [MockFunction],
                "snapshots": [MockFunction],
                "tasks": [MockFunction],
                "templates": [MockFunction],
                "threadPool": [MockFunction],
                "transforms": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Cluster): ClusterApi {
                "allocationExplain": [MockFunction],
                "deleteComponentTemplate": [MockFunction],
                "deleteVotingConfigExclusions": [MockFunction],
                "existsComponentTemplate": [MockFunction],
                "getComponentTemplate": [MockFunction],
                "getSettings": [MockFunction],
                "health": [MockFunction],
                "pendingTasks": [MockFunction],
                "postVotingConfigExclusions": [MockFunction],
                "putComponentTemplate": [MockFunction],
                "putSettings": [MockFunction],
                "remoteInfo": [MockFunction],
                "reroute": [MockFunction],
                "state": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(DanglingIndices): DanglingIndicesApi {
                "deleteDanglingIndex": [MockFunction],
                "importDanglingIndex": [MockFunction],
                "listDanglingIndices": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Indices): IndicesApi {
                "addBlock": [MockFunction],
                "analyze": [MockFunction],
                "clearCache": [MockFunction],
                "clone": [MockFunction],
                "close": [MockFunction],
                "create": [MockFunction],
                "createDataStream": [MockFunction],
                "dataStreamsStats": [MockFunction],
                "delete": [MockFunction],
                "deleteAlias": [MockFunction],
                "deleteDataStream": [MockFunction],
                "deleteIndexTemplate": [MockFunction],
                "deleteTemplate": [MockFunction],
                "exists": [MockFunction],
                "existsAlias": [MockFunction],
                "existsIndexTemplate": [MockFunction],
                "existsTemplate": [MockFunction],
                "existsType": [MockFunction],
                "flush": [MockFunction],
                "flushSynced": [MockFunction],
                "forcemerge": [MockFunction],
                "freeze": [MockFunction],
                "get": [MockFunction],
                "getAlias": [MockFunction],
                "getDataStream": [MockFunction],
                "getFieldMapping": [MockFunction],
                "getIndexTemplate": [MockFunction],
                "getMapping": [MockFunction],
                "getSettings": [MockFunction],
                "getTemplate": [MockFunction],
                "getUpgrade": [MockFunction],
                "open": [MockFunction],
                "putAlias": [MockFunction],
                "putIndexTemplate": [MockFunction],
                "putMapping": [MockFunction],
                "putSettings": [MockFunction],
                "putTemplate": [MockFunction],
                "recovery": [MockFunction],
                "refresh": [MockFunction],
                "reloadSearchAnalyzers": [MockFunction],
                "resolveIndex": [MockFunction],
                "rollover": [MockFunction],
                "segments": [MockFunction],
                "shardStores": [MockFunction],
                "shrink": [MockFunction],
                "simulateIndexTemplate": [MockFunction],
                "simulateTemplate": [MockFunction],
                "split": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfreeze": [MockFunction],
                "updateAliases": [MockFunction],
                "upgrade": [MockFunction],
                "validateQuery": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Ingest): IngestApi {
                "deletePipeline": [MockFunction],
                "getPipeline": [MockFunction],
                "processorGrok": [MockFunction],
                "putPipeline": [MockFunction],
                "simulate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Nodes): NodesApi {
                "hotThreads": [MockFunction],
                "info": [MockFunction],
                "reloadSecureSettings": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Snapshot): SnapshotApi {
                "cleanupRepository": [MockFunction],
                "create": [MockFunction],
                "createRepository": [MockFunction],
                "delete": [MockFunction],
                "deleteRepository": [MockFunction],
                "get": [MockFunction],
                "getRepository": [MockFunction],
                "restore": [MockFunction],
                "status": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "verifyRepository": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Tasks): TasksApi {
                "cancel": [MockFunction],
                "get": [MockFunction],
                "list": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(AsyncSearch): AsyncSearchApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "submit": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Autoscaling): AutoscalingApi {
                "deleteAutoscalingPolicy": [MockFunction],
                "getAutoscalingDecision": [MockFunction],
                "getAutoscalingPolicy": [MockFunction],
                "putAutoscalingPolicy": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ccr): CcrApi {
                "deleteAutoFollowPattern": [MockFunction],
                "follow": [MockFunction],
                "followInfo": [MockFunction],
                "followStats": [MockFunction],
                "forgetFollower": [MockFunction],
                "getAutoFollowPattern": [MockFunction],
                "pauseAutoFollowPattern": [MockFunction],
                "pauseFollow": [MockFunction],
                "putAutoFollowPattern": [MockFunction],
                "resumeAutoFollowPattern": [MockFunction],
                "resumeFollow": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfollow": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Enrich): EnrichApi {
                "deletePolicy": [MockFunction],
                "executePolicy": [MockFunction],
                "getPolicy": [MockFunction],
                "putPolicy": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Eql): EqlApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "search": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Graph): GraphApi {
                "explore": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ilm): IlmApi {
                "deleteLifecycle": [MockFunction],
                "explainLifecycle": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStatus": [MockFunction],
                "moveToStep": [MockFunction],
                "putLifecycle": [MockFunction],
                "removePolicy": [MockFunction],
                "retry": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(License): LicenseApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "getBasicStatus": [MockFunction],
                "getTrialStatus": [MockFunction],
                "post": [MockFunction],
                "postStartBasic": [MockFunction],
                "postStartTrial": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Migration): MigrationApi {
                "deprecations": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ml): MlApi {
                "closeJob": [MockFunction],
                "deleteCalendar": [MockFunction],
                "deleteCalendarEvent": [MockFunction],
                "deleteCalendarJob": [MockFunction],
                "deleteDataFrameAnalytics": [MockFunction],
                "deleteDatafeed": [MockFunction],
                "deleteExpiredData": [MockFunction],
                "deleteFilter": [MockFunction],
                "deleteForecast": [MockFunction],
                "deleteJob": [MockFunction],
                "deleteModelSnapshot": [MockFunction],
                "deleteTrainedModel": [MockFunction],
                "estimateModelMemory": [MockFunction],
                "evaluateDataFrame": [MockFunction],
                "explainDataFrameAnalytics": [MockFunction],
                "findFileStructure": [MockFunction],
                "flushJob": [MockFunction],
                "forecast": [MockFunction],
                "getBuckets": [MockFunction],
                "getCalendarEvents": [MockFunction],
                "getCalendars": [MockFunction],
                "getCategories": [MockFunction],
                "getDataFrameAnalytics": [MockFunction],
                "getDataFrameAnalyticsStats": [MockFunction],
                "getDatafeedStats": [MockFunction],
                "getDatafeeds": [MockFunction],
                "getFilters": [MockFunction],
                "getInfluencers": [MockFunction],
                "getJobStats": [MockFunction],
                "getJobs": [MockFunction],
                "getModelSnapshots": [MockFunction],
                "getOverallBuckets": [MockFunction],
                "getRecords": [MockFunction],
                "getTrainedModels": [MockFunction],
                "getTrainedModelsStats": [MockFunction],
                "info": [MockFunction],
                "openJob": [MockFunction],
                "postCalendarEvents": [MockFunction],
                "postData": [MockFunction],
                "previewDatafeed": [MockFunction],
                "putCalendar": [MockFunction],
                "putCalendarJob": [MockFunction],
                "putDataFrameAnalytics": [MockFunction],
                "putDatafeed": [MockFunction],
                "putFilter": [MockFunction],
                "putJob": [MockFunction],
                "putTrainedModel": [MockFunction],
                "revertModelSnapshot": [MockFunction],
                "setUpgradeMode": [MockFunction],
                "startDataFrameAnalytics": [MockFunction],
                "startDatafeed": [MockFunction],
                "stopDataFrameAnalytics": [MockFunction],
                "stopDatafeed": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateDataFrameAnalytics": [MockFunction],
                "updateDatafeed": [MockFunction],
                "updateFilter": [MockFunction],
                "updateJob": [MockFunction],
                "updateModelSnapshot": [MockFunction],
                "validate": [MockFunction],
                "validateDetector": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Monitoring): MonitoringApi {
                "bulk": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Rollup): RollupApi {
                "deleteJob": [MockFunction],
                "getJobs": [MockFunction],
                "getRollupCaps": [MockFunction],
                "getRollupIndexCaps": [MockFunction],
                "putJob": [MockFunction],
                "rollupSearch": [MockFunction],
                "startJob": [MockFunction],
                "stopJob": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(SearchableSnapshots): SearchableSnapshotsApi {
                "clearCache": [MockFunction],
                "mount": [MockFunction],
                "repositoryStats": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Security): SecurityApi {
                "authenticate": [MockFunction],
                "changePassword": [MockFunction],
                "clearApiKeyCache": [MockFunction],
                "clearCachedPrivileges": [MockFunction],
                "clearCachedRealms": [MockFunction],
                "clearCachedRoles": [MockFunction],
                "createApiKey": [MockFunction],
                "deletePrivileges": [MockFunction],
                "deleteRole": [MockFunction],
                "deleteRoleMapping": [MockFunction],
                "deleteUser": [MockFunction],
                "disableUser": [MockFunction],
                "enableUser": [MockFunction],
                "getApiKey": [MockFunction],
                "getBuiltinPrivileges": [MockFunction],
                "getPrivileges": [MockFunction],
                "getRole": [MockFunction],
                "getRoleMapping": [MockFunction],
                "getToken": [MockFunction],
                "getUser": [MockFunction],
                "getUserPrivileges": [MockFunction],
                "hasPrivileges": [MockFunction],
                "invalidateApiKey": [MockFunction],
                "invalidateToken": [MockFunction],
                "putPrivileges": [MockFunction],
                "putRole": [MockFunction],
                "putRoleMapping": [MockFunction],
                "putUser": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Slm): SlmApi {
                "deleteLifecycle": [MockFunction],
                "executeLifecycle": [MockFunction],
                "executeRetention": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStats": [MockFunction],
                "getStatus": [MockFunction],
                "putLifecycle": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Sql): SqlApi {
                "clearCursor": [MockFunction],
                "query": [MockFunction],
                "translate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ssl): SslApi {
                "certificates": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Transform): TransformApi {
                "deleteTransform": [MockFunction],
                "getTransform": [MockFunction],
                "getTransformStats": [MockFunction],
                "previewTransform": [MockFunction],
                "putTransform": [MockFunction],
                "startTransform": [MockFunction],
                "stopTransform": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateTransform": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Watcher): WatcherApi {
                "ackWatch": [MockFunction],
                "activateWatch": [MockFunction],
                "deactivateWatch": [MockFunction],
                "deleteWatch": [MockFunction],
                "executeWatch": [MockFunction],
                "getWatch": [MockFunction],
                "putWatch": [MockFunction],
                "start": [MockFunction],
                "stats": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Xpack): XpackApi {
                "info": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(elasticsearchjs-initial-options): Object {
                "Connection": [Function],
                "ConnectionPool": [Function],
                "Serializer": [Function],
                "Transport": [Function],
                "agent": null,
                "auth": null,
                "compression": false,
                "context": null,
                "generateRequestId": null,
                "headers": Object {},
                "maxRetries": 3,
                "name": "elasticsearch-js",
                "node": "http://localhost",
                "nodeFilter": null,
                "nodeSelector": "round-robin",
                "opaqueIdPrefix": null,
                "pingTimeout": 3000,
                "proxy": null,
                "requestTimeout": 30000,
                "resurrectStrategy": "ping",
                "sniffEndpoint": "_nodes/_all/http",
                "sniffInterval": false,
                "sniffOnConnectionFault": false,
                "sniffOnStart": false,
                "ssl": null,
                "suggestCompression": false,
              },
              Symbol(elasticsearchjs-extensions): Array [],
              Symbol(elasticsearchjs-event-emitter): EventEmitter {
                "_events": Object {},
                "_eventsCount": 0,
                "_maxListeners": undefined,
              },
            },
            "dynamicSettings": Object {
              "certAgeThreshold": 730,
              "certExpirationThreshold": 30,
              "defaultConnectors": Array [],
              "heartbeatIndices": "heartbeat-8*",
            },
            "filters": "{\\"bool\\":{\\"should\\":[{\\"exists\\":{\\"field\\":\\"ur.port\\"}}],\\"minimum_should_match\\":1}}",
            "range": 23,
            "rangeUnit": "w",
            "threshold": "90",
          },
        ]
      `);
    });

    it('supports availability checks with no filter or search', async () => {
      expect.assertions(2);
      toISOStringSpy.mockImplementation(() => 'availability with search');
      const mockGetter = jest.fn();
      mockGetter.mockReturnValue([]);
      const mockAvailability = jest.fn();
      mockAvailability.mockReturnValue([]);
      const { server, libs, plugins } = bootstrapDependencies({
        getMonitorAvailability: mockAvailability,
        getIndexPattern: jest.fn(),
      });
      const alert = statusCheckAlertFactory(server, libs, plugins);
      const options = mockOptions({
        availability: {
          range: 23,
          rangeUnit: 'w',
          threshold: '90',
        },
        shouldCheckAvailability: true,
        shouldCheckStatus: false,
      });

      await alert.executor(options);

      expect(mockAvailability).toHaveBeenCalledTimes(1);
      expect(mockAvailability.mock.calls[0]).toMatchInlineSnapshot(`
        Array [
          Object {
            "callES": Client {
              "bulk": [MockFunction],
              "child": [MockFunction],
              "clearScroll": [MockFunction],
              "close": [MockFunction],
              "closePointInTime": [MockFunction],
              "connectionPool": ConnectionPool {
                "Connection": [Function],
                "_agent": null,
                "_proxy": null,
                "_sniffEnabled": false,
                "_ssl": null,
                "auth": null,
                "connections": Array [
                  Object {
                    "_openRequests": 0,
                    "deadCount": 0,
                    "headers": Object {},
                    "id": "http://localhost/",
                    "resurrectTimeout": 0,
                    "roles": Object {
                      "data": true,
                      "ingest": true,
                      "master": true,
                      "ml": false,
                    },
                    "status": "alive",
                    "url": "http://localhost/",
                  },
                ],
                "dead": Array [],
                "emit": [Function],
                "pingTimeout": 3000,
                "resurrectStrategy": 1,
                "resurrectTimeout": 60000,
                "resurrectTimeoutCutoff": 5,
                "size": 1,
              },
              "count": [MockFunction],
              "create": [MockFunction],
              "delete": [MockFunction],
              "deleteByQuery": [MockFunction],
              "deleteByQueryRethrottle": [MockFunction],
              "deleteScript": [MockFunction],
              "exists": [MockFunction],
              "existsSource": [MockFunction],
              "explain": [MockFunction],
              "extend": [MockFunction],
              "fieldCaps": [MockFunction],
              "get": [MockFunction],
              "getScript": [MockFunction],
              "getScriptContext": [MockFunction],
              "getScriptLanguages": [MockFunction],
              "getSource": [MockFunction],
              "helpers": Helpers {
                "maxRetries": 3,
                Symbol(elasticsearch-client): [Circular],
              },
              "index": [MockFunction],
              "info": [MockFunction],
              "mget": [MockFunction],
              "msearch": [MockFunction],
              "msearchTemplate": [MockFunction],
              "mtermvectors": [MockFunction],
              "name": "elasticsearch-js",
              "openPointInTime": [MockFunction],
              "ping": [MockFunction],
              "putScript": [MockFunction],
              "rankEval": [MockFunction],
              "reindex": [MockFunction],
              "reindexRethrottle": [MockFunction],
              "renderSearchTemplate": [MockFunction],
              "scriptsPainlessExecute": [MockFunction],
              "scroll": [MockFunction],
              "search": [MockFunction],
              "searchShards": [MockFunction],
              "searchTemplate": [MockFunction],
              "serializer": Serializer {},
              "termvectors": [MockFunction],
              "transport": Object {
                "request": [MockFunction],
              },
              "update": [MockFunction],
              "updateByQuery": [MockFunction],
              "updateByQueryRethrottle": [MockFunction],
              Symbol(configuration error): [Function],
              Symbol(Cat): CatApi {
                "aliases": [MockFunction],
                "allocation": [MockFunction],
                "count": [MockFunction],
                "fielddata": [MockFunction],
                "health": [MockFunction],
                "help": [MockFunction],
                "indices": [MockFunction],
                "master": [MockFunction],
                "mlDataFrameAnalytics": [MockFunction],
                "mlDatafeeds": [MockFunction],
                "mlJobs": [MockFunction],
                "mlTrainedModels": [MockFunction],
                "nodeattrs": [MockFunction],
                "nodes": [MockFunction],
                "pendingTasks": [MockFunction],
                "plugins": [MockFunction],
                "recovery": [MockFunction],
                "repositories": [MockFunction],
                "segments": [MockFunction],
                "shards": [MockFunction],
                "snapshots": [MockFunction],
                "tasks": [MockFunction],
                "templates": [MockFunction],
                "threadPool": [MockFunction],
                "transforms": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Cluster): ClusterApi {
                "allocationExplain": [MockFunction],
                "deleteComponentTemplate": [MockFunction],
                "deleteVotingConfigExclusions": [MockFunction],
                "existsComponentTemplate": [MockFunction],
                "getComponentTemplate": [MockFunction],
                "getSettings": [MockFunction],
                "health": [MockFunction],
                "pendingTasks": [MockFunction],
                "postVotingConfigExclusions": [MockFunction],
                "putComponentTemplate": [MockFunction],
                "putSettings": [MockFunction],
                "remoteInfo": [MockFunction],
                "reroute": [MockFunction],
                "state": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(DanglingIndices): DanglingIndicesApi {
                "deleteDanglingIndex": [MockFunction],
                "importDanglingIndex": [MockFunction],
                "listDanglingIndices": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Indices): IndicesApi {
                "addBlock": [MockFunction],
                "analyze": [MockFunction],
                "clearCache": [MockFunction],
                "clone": [MockFunction],
                "close": [MockFunction],
                "create": [MockFunction],
                "createDataStream": [MockFunction],
                "dataStreamsStats": [MockFunction],
                "delete": [MockFunction],
                "deleteAlias": [MockFunction],
                "deleteDataStream": [MockFunction],
                "deleteIndexTemplate": [MockFunction],
                "deleteTemplate": [MockFunction],
                "exists": [MockFunction],
                "existsAlias": [MockFunction],
                "existsIndexTemplate": [MockFunction],
                "existsTemplate": [MockFunction],
                "existsType": [MockFunction],
                "flush": [MockFunction],
                "flushSynced": [MockFunction],
                "forcemerge": [MockFunction],
                "freeze": [MockFunction],
                "get": [MockFunction],
                "getAlias": [MockFunction],
                "getDataStream": [MockFunction],
                "getFieldMapping": [MockFunction],
                "getIndexTemplate": [MockFunction],
                "getMapping": [MockFunction],
                "getSettings": [MockFunction],
                "getTemplate": [MockFunction],
                "getUpgrade": [MockFunction],
                "open": [MockFunction],
                "putAlias": [MockFunction],
                "putIndexTemplate": [MockFunction],
                "putMapping": [MockFunction],
                "putSettings": [MockFunction],
                "putTemplate": [MockFunction],
                "recovery": [MockFunction],
                "refresh": [MockFunction],
                "reloadSearchAnalyzers": [MockFunction],
                "resolveIndex": [MockFunction],
                "rollover": [MockFunction],
                "segments": [MockFunction],
                "shardStores": [MockFunction],
                "shrink": [MockFunction],
                "simulateIndexTemplate": [MockFunction],
                "simulateTemplate": [MockFunction],
                "split": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfreeze": [MockFunction],
                "updateAliases": [MockFunction],
                "upgrade": [MockFunction],
                "validateQuery": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Ingest): IngestApi {
                "deletePipeline": [MockFunction],
                "getPipeline": [MockFunction],
                "processorGrok": [MockFunction],
                "putPipeline": [MockFunction],
                "simulate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Nodes): NodesApi {
                "hotThreads": [MockFunction],
                "info": [MockFunction],
                "reloadSecureSettings": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Snapshot): SnapshotApi {
                "cleanupRepository": [MockFunction],
                "create": [MockFunction],
                "createRepository": [MockFunction],
                "delete": [MockFunction],
                "deleteRepository": [MockFunction],
                "get": [MockFunction],
                "getRepository": [MockFunction],
                "restore": [MockFunction],
                "status": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "verifyRepository": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Tasks): TasksApi {
                "cancel": [MockFunction],
                "get": [MockFunction],
                "list": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(AsyncSearch): AsyncSearchApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "submit": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Autoscaling): AutoscalingApi {
                "deleteAutoscalingPolicy": [MockFunction],
                "getAutoscalingDecision": [MockFunction],
                "getAutoscalingPolicy": [MockFunction],
                "putAutoscalingPolicy": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ccr): CcrApi {
                "deleteAutoFollowPattern": [MockFunction],
                "follow": [MockFunction],
                "followInfo": [MockFunction],
                "followStats": [MockFunction],
                "forgetFollower": [MockFunction],
                "getAutoFollowPattern": [MockFunction],
                "pauseAutoFollowPattern": [MockFunction],
                "pauseFollow": [MockFunction],
                "putAutoFollowPattern": [MockFunction],
                "resumeAutoFollowPattern": [MockFunction],
                "resumeFollow": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "unfollow": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Enrich): EnrichApi {
                "deletePolicy": [MockFunction],
                "executePolicy": [MockFunction],
                "getPolicy": [MockFunction],
                "putPolicy": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Eql): EqlApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "search": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Graph): GraphApi {
                "explore": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ilm): IlmApi {
                "deleteLifecycle": [MockFunction],
                "explainLifecycle": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStatus": [MockFunction],
                "moveToStep": [MockFunction],
                "putLifecycle": [MockFunction],
                "removePolicy": [MockFunction],
                "retry": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(License): LicenseApi {
                "delete": [MockFunction],
                "get": [MockFunction],
                "getBasicStatus": [MockFunction],
                "getTrialStatus": [MockFunction],
                "post": [MockFunction],
                "postStartBasic": [MockFunction],
                "postStartTrial": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Migration): MigrationApi {
                "deprecations": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ml): MlApi {
                "closeJob": [MockFunction],
                "deleteCalendar": [MockFunction],
                "deleteCalendarEvent": [MockFunction],
                "deleteCalendarJob": [MockFunction],
                "deleteDataFrameAnalytics": [MockFunction],
                "deleteDatafeed": [MockFunction],
                "deleteExpiredData": [MockFunction],
                "deleteFilter": [MockFunction],
                "deleteForecast": [MockFunction],
                "deleteJob": [MockFunction],
                "deleteModelSnapshot": [MockFunction],
                "deleteTrainedModel": [MockFunction],
                "estimateModelMemory": [MockFunction],
                "evaluateDataFrame": [MockFunction],
                "explainDataFrameAnalytics": [MockFunction],
                "findFileStructure": [MockFunction],
                "flushJob": [MockFunction],
                "forecast": [MockFunction],
                "getBuckets": [MockFunction],
                "getCalendarEvents": [MockFunction],
                "getCalendars": [MockFunction],
                "getCategories": [MockFunction],
                "getDataFrameAnalytics": [MockFunction],
                "getDataFrameAnalyticsStats": [MockFunction],
                "getDatafeedStats": [MockFunction],
                "getDatafeeds": [MockFunction],
                "getFilters": [MockFunction],
                "getInfluencers": [MockFunction],
                "getJobStats": [MockFunction],
                "getJobs": [MockFunction],
                "getModelSnapshots": [MockFunction],
                "getOverallBuckets": [MockFunction],
                "getRecords": [MockFunction],
                "getTrainedModels": [MockFunction],
                "getTrainedModelsStats": [MockFunction],
                "info": [MockFunction],
                "openJob": [MockFunction],
                "postCalendarEvents": [MockFunction],
                "postData": [MockFunction],
                "previewDatafeed": [MockFunction],
                "putCalendar": [MockFunction],
                "putCalendarJob": [MockFunction],
                "putDataFrameAnalytics": [MockFunction],
                "putDatafeed": [MockFunction],
                "putFilter": [MockFunction],
                "putJob": [MockFunction],
                "putTrainedModel": [MockFunction],
                "revertModelSnapshot": [MockFunction],
                "setUpgradeMode": [MockFunction],
                "startDataFrameAnalytics": [MockFunction],
                "startDatafeed": [MockFunction],
                "stopDataFrameAnalytics": [MockFunction],
                "stopDatafeed": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateDataFrameAnalytics": [MockFunction],
                "updateDatafeed": [MockFunction],
                "updateFilter": [MockFunction],
                "updateJob": [MockFunction],
                "updateModelSnapshot": [MockFunction],
                "validate": [MockFunction],
                "validateDetector": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Monitoring): MonitoringApi {
                "bulk": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Rollup): RollupApi {
                "deleteJob": [MockFunction],
                "getJobs": [MockFunction],
                "getRollupCaps": [MockFunction],
                "getRollupIndexCaps": [MockFunction],
                "putJob": [MockFunction],
                "rollupSearch": [MockFunction],
                "startJob": [MockFunction],
                "stopJob": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(SearchableSnapshots): SearchableSnapshotsApi {
                "clearCache": [MockFunction],
                "mount": [MockFunction],
                "repositoryStats": [MockFunction],
                "stats": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Security): SecurityApi {
                "authenticate": [MockFunction],
                "changePassword": [MockFunction],
                "clearApiKeyCache": [MockFunction],
                "clearCachedPrivileges": [MockFunction],
                "clearCachedRealms": [MockFunction],
                "clearCachedRoles": [MockFunction],
                "createApiKey": [MockFunction],
                "deletePrivileges": [MockFunction],
                "deleteRole": [MockFunction],
                "deleteRoleMapping": [MockFunction],
                "deleteUser": [MockFunction],
                "disableUser": [MockFunction],
                "enableUser": [MockFunction],
                "getApiKey": [MockFunction],
                "getBuiltinPrivileges": [MockFunction],
                "getPrivileges": [MockFunction],
                "getRole": [MockFunction],
                "getRoleMapping": [MockFunction],
                "getToken": [MockFunction],
                "getUser": [MockFunction],
                "getUserPrivileges": [MockFunction],
                "hasPrivileges": [MockFunction],
                "invalidateApiKey": [MockFunction],
                "invalidateToken": [MockFunction],
                "putPrivileges": [MockFunction],
                "putRole": [MockFunction],
                "putRoleMapping": [MockFunction],
                "putUser": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Slm): SlmApi {
                "deleteLifecycle": [MockFunction],
                "executeLifecycle": [MockFunction],
                "executeRetention": [MockFunction],
                "getLifecycle": [MockFunction],
                "getStats": [MockFunction],
                "getStatus": [MockFunction],
                "putLifecycle": [MockFunction],
                "start": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Sql): SqlApi {
                "clearCursor": [MockFunction],
                "query": [MockFunction],
                "translate": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Ssl): SslApi {
                "certificates": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Transform): TransformApi {
                "deleteTransform": [MockFunction],
                "getTransform": [MockFunction],
                "getTransformStats": [MockFunction],
                "previewTransform": [MockFunction],
                "putTransform": [MockFunction],
                "startTransform": [MockFunction],
                "stopTransform": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "updateTransform": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(Watcher): WatcherApi {
                "ackWatch": [MockFunction],
                "activateWatch": [MockFunction],
                "deactivateWatch": [MockFunction],
                "deleteWatch": [MockFunction],
                "executeWatch": [MockFunction],
                "getWatch": [MockFunction],
                "putWatch": [MockFunction],
                "start": [MockFunction],
                "stats": [MockFunction],
                "stop": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                Symbol(configuration error): [Function],
              },
              Symbol(Xpack): XpackApi {
                "info": [MockFunction],
                "transport": Transport {
                  "_isSniffing": false,
                  "_nextSniff": 0,
                  "_sniffEnabled": false,
                  "compression": false,
                  "connectionPool": ConnectionPool {
                    "Connection": [Function],
                    "_agent": null,
                    "_proxy": null,
                    "_sniffEnabled": false,
                    "_ssl": null,
                    "auth": null,
                    "connections": Array [
                      Object {
                        "_openRequests": 0,
                        "deadCount": 0,
                        "headers": Object {},
                        "id": "http://localhost/",
                        "resurrectTimeout": 0,
                        "roles": Object {
                          "data": true,
                          "ingest": true,
                          "master": true,
                          "ml": false,
                        },
                        "status": "alive",
                        "url": "http://localhost/",
                      },
                    ],
                    "dead": Array [],
                    "emit": [Function],
                    "pingTimeout": 3000,
                    "resurrectStrategy": 1,
                    "resurrectTimeout": 60000,
                    "resurrectTimeoutCutoff": 5,
                    "size": 1,
                  },
                  "context": null,
                  "emit": [Function],
                  "generateRequestId": [Function],
                  "headers": Object {
                    "user-agent": "elasticsearch-js/7.10.0-rc.1 (darwin 18.7.0-x64; Node.js v10.22.1)",
                  },
                  "maxRetries": 3,
                  "name": "elasticsearch-js",
                  "nodeFilter": [Function],
                  "nodeSelector": [Function],
                  "opaqueIdPrefix": null,
                  "requestTimeout": 30000,
                  "serializer": Serializer {},
                  "sniffEndpoint": "_nodes/_all/http",
                  "sniffInterval": false,
                  "sniffOnConnectionFault": false,
                  "suggestCompression": false,
                },
                "usage": [MockFunction],
                Symbol(configuration error): [Function],
              },
              Symbol(elasticsearchjs-initial-options): Object {
                "Connection": [Function],
                "ConnectionPool": [Function],
                "Serializer": [Function],
                "Transport": [Function],
                "agent": null,
                "auth": null,
                "compression": false,
                "context": null,
                "generateRequestId": null,
                "headers": Object {},
                "maxRetries": 3,
                "name": "elasticsearch-js",
                "node": "http://localhost",
                "nodeFilter": null,
                "nodeSelector": "round-robin",
                "opaqueIdPrefix": null,
                "pingTimeout": 3000,
                "proxy": null,
                "requestTimeout": 30000,
                "resurrectStrategy": "ping",
                "sniffEndpoint": "_nodes/_all/http",
                "sniffInterval": false,
                "sniffOnConnectionFault": false,
                "sniffOnStart": false,
                "ssl": null,
                "suggestCompression": false,
              },
              Symbol(elasticsearchjs-extensions): Array [],
              Symbol(elasticsearchjs-event-emitter): EventEmitter {
                "_events": Object {},
                "_eventsCount": 0,
                "_maxListeners": undefined,
              },
            },
            "dynamicSettings": Object {
              "certAgeThreshold": 730,
              "certExpirationThreshold": 30,
              "defaultConnectors": Array [],
              "heartbeatIndices": "heartbeat-8*",
            },
            "filters": undefined,
            "range": 23,
            "rangeUnit": "w",
            "threshold": "90",
          },
        ]
      `);
    });
  });

  describe('alert factory', () => {
    let alert: AlertType;

    beforeEach(() => {
      const { server, libs, plugins } = bootstrapDependencies();
      alert = statusCheckAlertFactory(server, libs, plugins);
    });

    it('creates an alert with expected params', () => {
      // @ts-ignore the `props` key here isn't described
      expect(Object.keys(alert.validate?.params?.props ?? {})).toMatchInlineSnapshot(`
        Array [
          "availability",
          "filters",
          "locations",
          "numTimes",
          "search",
          "shouldCheckStatus",
          "shouldCheckAvailability",
          "timerangeCount",
          "timerangeUnit",
          "timerange",
          "version",
          "isAutoGenerated",
        ]
      `);
    });

    it('contains the expected static fields like id, name, etc.', () => {
      expect(alert.id).toBe('xpack.uptime.alerts.monitorStatus');
      expect(alert.name).toBe('Uptime monitor status');
      expect(alert.defaultActionGroupId).toBe('xpack.uptime.alerts.actionGroups.monitorStatus');
      expect(alert.actionGroups).toMatchInlineSnapshot(`
        Array [
          Object {
            "id": "xpack.uptime.alerts.actionGroups.monitorStatus",
            "name": "Uptime Down Monitor",
          },
        ]
      `);
    });
  });

  describe('hasFilters', () => {
    it('returns false for undefined filters', () => {
      expect(hasFilters()).toBe(false);
    });

    it('returns false for empty filters', () => {
      expect(
        hasFilters({
          'monitor.type': [],
          'observer.geo.name': [],
          tags: [],
          'url.port': [],
        })
      ).toBe(false);
    });

    it('returns true for an object with a filter', () => {
      expect(
        hasFilters({
          'monitor.type': [],
          'observer.geo.name': ['us-east', 'us-west'],
          tags: [],
          'url.port': [],
        })
      ).toBe(true);
    });
  });

  describe('genFilterString', () => {
    const mockGetIndexPattern = jest.fn();
    mockGetIndexPattern.mockReturnValue(undefined);

    it('returns `undefined` for no filters or search', async () => {
      expect(
        await generateFilterDSL(
          mockGetIndexPattern,
          { 'monitor.type': [], 'observer.geo.name': [], tags: [], 'url.port': [] },
          ''
        )
      ).toBeUndefined();
    });

    it('creates a filter string for filters only', async () => {
      const res = await generateFilterDSL(
        mockGetIndexPattern,
        {
          'monitor.type': [],
          'observer.geo.name': ['us-east', 'us-west'],
          tags: [],
          'url.port': [],
        },
        ''
      );
      expect(res).toMatchInlineSnapshot(`
        Object {
          "bool": Object {
            "minimum_should_match": 1,
            "should": Array [
              Object {
                "bool": Object {
                  "minimum_should_match": 1,
                  "should": Array [
                    Object {
                      "match": Object {
                        "observer.geo.name": "us-east",
                      },
                    },
                  ],
                },
              },
              Object {
                "bool": Object {
                  "minimum_should_match": 1,
                  "should": Array [
                    Object {
                      "match": Object {
                        "observer.geo.name": "us-west",
                      },
                    },
                  ],
                },
              },
            ],
          },
        }
      `);
    });

    it('creates a filter string for search only', async () => {
      expect(
        await generateFilterDSL(
          mockGetIndexPattern,
          { 'monitor.type': [], 'observer.geo.name': [], tags: [], 'url.port': [] },
          'monitor.id: "kibana-dev"'
        )
      ).toMatchInlineSnapshot(`
        Object {
          "bool": Object {
            "minimum_should_match": 1,
            "should": Array [
              Object {
                "match_phrase": Object {
                  "monitor.id": "kibana-dev",
                },
              },
            ],
          },
        }
      `);
    });

    it('creates a filter string for filters and string', async () => {
      const res = await generateFilterDSL(
        mockGetIndexPattern,
        {
          'monitor.type': [],
          'observer.geo.name': ['us-east', 'apj', 'sydney', 'us-west'],
          tags: [],
          'url.port': [],
        },
        'monitor.id: "kibana-dev"'
      );
      expect(res).toMatchInlineSnapshot(`
        Object {
          "bool": Object {
            "filter": Array [
              Object {
                "bool": Object {
                  "minimum_should_match": 1,
                  "should": Array [
                    Object {
                      "bool": Object {
                        "minimum_should_match": 1,
                        "should": Array [
                          Object {
                            "match": Object {
                              "observer.geo.name": "us-east",
                            },
                          },
                        ],
                      },
                    },
                    Object {
                      "bool": Object {
                        "minimum_should_match": 1,
                        "should": Array [
                          Object {
                            "bool": Object {
                              "minimum_should_match": 1,
                              "should": Array [
                                Object {
                                  "match": Object {
                                    "observer.geo.name": "apj",
                                  },
                                },
                              ],
                            },
                          },
                          Object {
                            "bool": Object {
                              "minimum_should_match": 1,
                              "should": Array [
                                Object {
                                  "bool": Object {
                                    "minimum_should_match": 1,
                                    "should": Array [
                                      Object {
                                        "match": Object {
                                          "observer.geo.name": "sydney",
                                        },
                                      },
                                    ],
                                  },
                                },
                                Object {
                                  "bool": Object {
                                    "minimum_should_match": 1,
                                    "should": Array [
                                      Object {
                                        "match": Object {
                                          "observer.geo.name": "us-west",
                                        },
                                      },
                                    ],
                                  },
                                },
                              ],
                            },
                          },
                        ],
                      },
                    },
                  ],
                },
              },
              Object {
                "bool": Object {
                  "minimum_should_match": 1,
                  "should": Array [
                    Object {
                      "match_phrase": Object {
                        "monitor.id": "kibana-dev",
                      },
                    },
                  ],
                },
              },
            ],
          },
        }
      `);
    });
  });

  describe('uniqueMonitorIds', () => {
    let downItems: GetMonitorStatusResult[];
    let availItems: GetMonitorAvailabilityResult[];
    beforeEach(() => {
      downItems = [
        {
          monitorId: 'first',
          location: 'harrisburg',
          count: 234,
          status: 'down',
          monitorInfo: makePing({}),
        },
        {
          monitorId: 'first',
          location: 'fairbanks',
          count: 312,
          status: 'down',
          monitorInfo: makePing({}),
        },
        {
          monitorId: 'second',
          location: 'harrisburg',
          count: 325,
          status: 'down',
          monitorInfo: makePing({}),
        },
        {
          monitorId: 'second',
          location: 'fairbanks',
          count: 331,
          status: 'down',
          monitorInfo: makePing({}),
        },
      ];

      availItems = [
        {
          monitorId: 'first',
          location: 'harrisburg',
          monitorInfo: makePing({}),
          up: 2134,
          down: 213,
          availabilityRatio: 0.909245845760545,
        },
        {
          monitorId: 'first',
          location: 'fairbanks',
          monitorInfo: makePing({}),
          up: 2134,
          down: 213,
          availabilityRatio: 0.909245845760545,
        },
        {
          monitorId: 'second',
          location: 'harrisburg',
          monitorInfo: makePing({}),
          up: 2134,
          down: 213,
          availabilityRatio: 0.909245845760545,
        },
        {
          monitorId: 'second',
          location: 'fairbanks',
          monitorInfo: makePing({}),
          up: 2134,
          down: 213,
          availabilityRatio: 0.909245845760545,
        },
      ];
    });

    it('creates a set of unique IDs from a list of composite unique objects', () => {
      expect(getUniqueIdsByLoc(downItems, availItems)).toEqual(
        new Set<string>([
          'firstharrisburg',
          'firstfairbanks',
          'secondharrisburg',
          'secondfairbanks',
        ])
      );
    });
  });

  describe('statusMessage', () => {
    it('creates message for down item', () => {
      expect(
        getStatusMessage(
          makePing({
            id: 'test-node-service',
            location: 'fairbanks',
            name: 'Test Node Service',
            url: 'http://localhost:12349',
          })
        )
      ).toMatchInlineSnapshot(`"down"`);
    });

    it('creates message for availability item', () => {
      expect(
        getStatusMessage(
          undefined,
          {
            monitorId: 'test-node-service',
            location: 'harrisburg',
            up: 3389.0,
            down: 2450.0,
            availabilityRatio: 0.5804076040417879,
            monitorInfo: makePing({
              name: 'Test Node Service',
              url: 'http://localhost:12349',
              id: 'test-node-service',
              location: 'harrisburg',
            }),
          },
          {
            threshold: '90',
            range: 5,
            rangeUnit: 'm',
          }
        )
      ).toMatchInlineSnapshot(`"below threshold with 58.04% availability expected is 90%"`);
    });

    it('creates message for down and availability item', () => {
      expect(
        getStatusMessage(
          makePing({
            id: 'test-node-service',
            location: 'fairbanks',
            name: 'Test Node Service',
            url: 'http://localhost:12349',
          }),
          {
            monitorId: 'test-node-service',
            location: 'harrisburg',
            up: 3389.0,
            down: 2450.0,
            availabilityRatio: 0.5804076040417879,
            monitorInfo: makePing({
              name: 'Test Node Service',
              url: 'http://localhost:12349',
              id: 'test-node-service',
              location: 'harrisburg',
            }),
          },
          {
            threshold: '90',
            range: 5,
            rangeUnit: 'm',
          }
        )
      ).toMatchInlineSnapshot(
        `"down and also below threshold with 58.04% availability expected is 90%"`
      );
    });
  });
});
