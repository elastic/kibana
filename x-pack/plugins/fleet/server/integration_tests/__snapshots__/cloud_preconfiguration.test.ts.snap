// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Fleet preconfiguration reset Preconfigured cloud policy With a full preconfigured cloud policy Create correct .fleet-policies 1`] = `
Object {
  "agent": Object {
    "download": Object {
      "source_uri": "https://artifacts.elastic.co/downloads/",
    },
    "monitoring": Object {
      "enabled": false,
      "logs": false,
      "metrics": false,
    },
  },
  "id": "policy-elastic-agent-on-cloud",
  "inputs": Array [
    Object {
      "data_stream": Object {
        "namespace": "default",
      },
      "id": "fleet-server-fleet_server-elastic-cloud-fleet-server",
      "meta": Object {
        "package": Object {
          "name": "fleet_server",
        },
      },
      "name": "Fleet Server",
      "package_policy_id": "elastic-cloud-fleet-server",
      "revision": 1,
      "server": Object {
        "host": "0.0.0.0",
        "port": 8220,
      },
      "server.runtime": Object {
        "gc_percent": 20,
      },
      "type": "fleet-server",
      "use_output": "es-containerhost",
    },
    Object {
      "apm-server": Object {
        "auth": Object {
          "anonymous": Object {
            "allow_agent": Array [
              "rum-js",
              "js-base",
              "iOS/swift",
            ],
            "allow_service": null,
            "enabled": true,
            "rate_limit": Object {
              "event_limit": 300,
              "ip_limit": 1000,
            },
          },
          "api_key": Object {
            "enabled": true,
            "limit": 100,
          },
          "secret_token": "CLOUD_SECRET_TOKEN",
        },
        "capture_personal_data": true,
        "default_service_environment": null,
        "expvar.enabled": false,
        "host": "0.0.0.0:8200",
        "idle_timeout": "45s",
        "java_attacher": Object {
          "discovery-rules": null,
          "download-agent-version": null,
          "enabled": false,
        },
        "max_connections": 0,
        "max_event_size": 307200,
        "max_header_size": 1048576,
        "pprof.enabled": false,
        "read_timeout": "3600s",
        "response_headers": null,
        "rum": Object {
          "allow_headers": null,
          "allow_origins": Array [
            "*",
          ],
          "enabled": true,
          "exclude_from_grouping": "^/webpack",
          "library_pattern": "node_modules|bower_components|~",
          "response_headers": null,
        },
        "sampling": Object {
          "tail": Object {
            "enabled": false,
            "interval": "1m",
            "policies": Array [
              Object {
                "sample_rate": 0.1,
              },
            ],
            "storage_limit": "3GB",
          },
        },
        "shutdown_timeout": "30s",
        "ssl": Object {
          "certificate": "/app/config/certs/node.crt",
          "cipher_suites": null,
          "curve_types": null,
          "enabled": true,
          "key": "/app/config/certs/node.key",
          "key_passphrase": null,
          "supported_protocols": Array [
            "TLSv1.1",
            "TLSv1.2",
            "TLSv1.3",
          ],
        },
        "write_timeout": "30s",
      },
      "data_stream": Object {
        "namespace": "default",
      },
      "id": "elastic-cloud-apm",
      "meta": Object {
        "package": Object {
          "name": "apm",
        },
      },
      "name": "Elastic APM",
      "package_policy_id": "elastic-cloud-apm",
      "revision": 1,
      "type": "apm",
      "use_output": "es-containerhost",
    },
  ],
  "output_permissions": Object {
    "es-containerhost": Object {
      "_elastic_agent_checks": Object {
        "cluster": Array [
          "monitor",
        ],
      },
      "_elastic_agent_monitoring": Object {
        "indices": Array [],
      },
      "elastic-cloud-apm": Object {
        "cluster": Array [
          "cluster:monitor/main",
        ],
        "indices": Array [
          Object {
            "names": Array [
              "logs-apm.app-default",
            ],
            "privileges": Array [
              "auto_configure",
              "create_doc",
            ],
          },
          Object {
            "names": Array [
              "metrics-apm.app.*-default",
            ],
            "privileges": Array [
              "auto_configure",
              "create_doc",
            ],
          },
          Object {
            "names": Array [
              "logs-apm.error-default",
            ],
            "privileges": Array [
              "auto_configure",
              "create_doc",
            ],
          },
          Object {
            "names": Array [
              "metrics-apm.internal-default",
            ],
            "privileges": Array [
              "auto_configure",
              "create_doc",
            ],
          },
          Object {
            "names": Array [
              "metrics-apm.profiling-default",
            ],
            "privileges": Array [
              "auto_configure",
              "create_doc",
            ],
          },
          Object {
            "names": Array [
              "traces-apm.rum-default",
            ],
            "privileges": Array [
              "auto_configure",
              "create_doc",
            ],
          },
          Object {
            "names": Array [
              "traces-apm.sampled-default",
            ],
            "privileges": Array [
              "auto_configure",
              "create_doc",
              "maintenance",
              "monitor",
              "read",
            ],
          },
          Object {
            "names": Array [
              "traces-apm-default",
            ],
            "privileges": Array [
              "auto_configure",
              "create_doc",
            ],
          },
        ],
      },
    },
  },
  "outputs": Object {
    "es-containerhost": Object {
      "hosts": Array [
        "https://cloudinternales:9200",
      ],
      "type": "elasticsearch",
    },
  },
  "revision": 4,
}
`;
