openapi: 3.0.0
tags: []
info:
  title: Fleet
  description: OpenAPI schema for Fleet API endpoints
  version: '2023-10-31'
paths:
  /settings:
    get:
      summary: Get settings
      tags:
        - Fleet internals
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FleetSettingsResponse'
        '400':
          $ref: ../components/responses/error.yaml#/components/schemas/GenericError
      operationId: GetSettings
      x-codegen-enabled: true
    put:
      summary: Update settings
      tags:
        - Fleet internals
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fleet_server_hosts:
                  type: array
                  description: Protocol and path must be the same for each URL
                  items:
                    type: string
                    format: uri
                has_seen_add_data_notice:
                  type: boolean
                additional_yaml_config:
                  type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FleetSettingsResponse'
        '400':
          $ref: ../components/responses/error.yaml#/components/schemas/GenericError
      operationId: PutSettings
      x-codegen-enabled: true

components:
  schemas:
    FleetSettingsResponse:
      title: Fleet settings response
      type: object
      properties:
        item:
          title: Settings
          type: object
          properties:
            id:
              type: string
            has_seen_add_data_notice:
              type: boolean
            fleet_server_hosts:
              deprecated: true
              type: array
              items:
                type: string
            prerelease_integrations_enabled:
              type: boolean
          required:
            - fleet_server_hosts
            - id
      required:
        - item