{
  "openapi": "3.0.0",
  "tags": [],
  "info": {
    "title": "Fleet",
    "description": "OpenAPI schema for Fleet API endpoints",
    "version": "0.2",
    "contact": {
      "name": "Fleet Team"
    },
    "license": {
      "name": "Elastic License 2.0",
      "url": "https://www.elastic.co/licensing/elastic-license"
    }
  },
  "servers": [
    {
      "url": "http://localhost:5601/api/fleet",
      "description": "local"
    }
  ],
  "paths": {
    "/setup": {
      "post": {
        "summary": "Setup",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/fleet_setup_response"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "setup",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/setup/preconfiguration": {
      "put": {
        "summary": "Preconfiguration",
        "operationId": "get-settings",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "agentPolicies": {
                      "type": "object",
                      "items": {}
                    },
                    "packages": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "version": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "body": {
                    "type": "object",
                    "properties": {
                      "agentPolicies": {
                        "$ref": "#/components/schemas/preconfigured_agent_policies"
                      },
                      "packages": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "version": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "name",
                          "version"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/settings": {
      "get": {
        "summary": "Settings",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/fleet_settings_response"
                }
              }
            }
          }
        },
        "operationId": "get-settings"
      },
      "post": {
        "summary": "Settings - Update",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/fleet_settings_response"
                }
              }
            }
          }
        },
        "operationId": "update-settings"
      }
    },
    "/service-tokens": {
      "post": {
        "summary": "Generate service tokens",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "generate-service-token",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "deprecated": true
      }
    },
    "/service_tokens": {
      "post": {
        "summary": "Generate service tokens",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "generate-service-token",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/epm/categories": {
      "get": {
        "summary": "Package categories",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/get_categories_response"
                }
              }
            }
          }
        },
        "operationId": "get-package-categories"
      }
    },
    "/epm/packages/limited": {
      "get": {
        "summary": "Packages - Get limited list",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "list-limited-packages"
      },
      "parameters": []
    },
    "/epm/packages": {
      "get": {
        "summary": "Packages - List",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/get_packages_response"
                }
              }
            }
          }
        },
        "operationId": "list-all-packages"
      },
      "parameters": [
        {
          "in": "query",
          "name": "excludeInstallStatus",
          "schema": {
            "type": "boolean",
            "default": false
          },
          "description": "Whether to exclude the install status of each package. Enabling this option will opt in to caching for the response via `cache-control` headers. If you don't need up-to-date installation info for a package, and are querying for a list of available packages, providing this flag can improve performance substantially."
        }
      ]
    },
    "/epm/packages/_bulk": {
      "post": {
        "summary": "Packages - Bulk install",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/bulk_install_packages_response"
                }
              }
            }
          }
        },
        "operationId": "bulk-install-packages"
      },
      "parameters": []
    },
    "/epm/packages/{pkgkey}": {
      "get": {
        "summary": "Packages - Info",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "properties": {
                        "response": {
                          "$ref": "#/components/schemas/package_info"
                        }
                      }
                    },
                    {
                      "properties": {
                        "status": {
                          "type": "string",
                          "enum": [
                            "installed",
                            "installing",
                            "install_failed",
                            "not_installed"
                          ]
                        },
                        "savedObject": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "status",
                        "savedObject"
                      ]
                    }
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-package",
        "security": [
          {
            "basicAuth": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "name": "pkgkey",
            "in": "path",
            "required": true
          }
        ],
        "deprecated": true
      },
      "post": {
        "summary": "Packages - Install",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "response": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "oneOf": [
                              {
                                "$ref": "#/components/schemas/kibana_saved_object_type"
                              },
                              {
                                "$ref": "#/components/schemas/elasticsearch_asset_type"
                              }
                            ]
                          }
                        },
                        "required": [
                          "id",
                          "type"
                        ]
                      }
                    }
                  },
                  "required": [
                    "response"
                  ]
                }
              }
            }
          }
        },
        "operationId": "install-package",
        "description": "",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "force": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "deprecated": true
      },
      "delete": {
        "summary": "Packages - Delete",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "response": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "oneOf": [
                              {
                                "$ref": "#/components/schemas/kibana_saved_object_type"
                              },
                              {
                                "$ref": "#/components/schemas/elasticsearch_asset_type"
                              }
                            ]
                          }
                        },
                        "required": [
                          "id",
                          "type"
                        ]
                      }
                    }
                  },
                  "required": [
                    "response"
                  ]
                }
              }
            }
          }
        },
        "operationId": "delete-package",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "force": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/epm/packages/{pkgName}/{pkgVersion}": {
      "get": {
        "summary": "Packages - Info",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "allOf": [
                    {
                      "properties": {
                        "item": {
                          "$ref": "#/components/schemas/package_info"
                        }
                      }
                    },
                    {
                      "properties": {
                        "status": {
                          "type": "string",
                          "enum": [
                            "installed",
                            "installing",
                            "install_failed",
                            "not_installed"
                          ]
                        },
                        "savedObject": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "status",
                        "savedObject"
                      ]
                    }
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-package",
        "security": [
          {
            "basicAuth": []
          }
        ]
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "pkgName",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "pkgVersion",
          "in": "path",
          "required": true
        }
      ],
      "post": {
        "summary": "Packages - Install",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "oneOf": [
                              {
                                "$ref": "#/components/schemas/kibana_saved_object_type"
                              },
                              {
                                "$ref": "#/components/schemas/elasticsearch_asset_type"
                              }
                            ]
                          }
                        },
                        "required": [
                          "id",
                          "type"
                        ]
                      }
                    },
                    "_meta": {
                      "type": "object",
                      "properties": {
                        "install_source": {
                          "type": "string",
                          "enum": [
                            "registry",
                            "upload",
                            "bundled"
                          ]
                        }
                      }
                    }
                  },
                  "required": [
                    "items"
                  ]
                }
              }
            }
          }
        },
        "operationId": "install-package",
        "description": "",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "force": {
                    "type": "boolean"
                  },
                  "ignore_constraints": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Packages - Update",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "oneOf": [
                              {
                                "$ref": "#/components/schemas/kibana_saved_object_type"
                              },
                              {
                                "$ref": "#/components/schemas/elasticsearch_asset_type"
                              }
                            ]
                          }
                        },
                        "required": [
                          "id",
                          "type"
                        ]
                      }
                    }
                  },
                  "required": [
                    "items"
                  ]
                }
              }
            }
          }
        },
        "operationId": "update-package",
        "description": "",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "name": "pkgName",
            "in": "path",
            "required": true
          },
          {
            "schema": {
              "type": "string"
            },
            "name": "pkgVersion",
            "in": "path",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "keepPoliciesUpToDate": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Packages - Delete",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "oneOf": [
                              {
                                "$ref": "#/components/schemas/kibana_saved_object_type"
                              },
                              {
                                "$ref": "#/components/schemas/elasticsearch_asset_type"
                              }
                            ]
                          }
                        },
                        "required": [
                          "id",
                          "type"
                        ]
                      }
                    }
                  },
                  "required": [
                    "items"
                  ]
                }
              }
            }
          }
        },
        "operationId": "delete-package",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "force": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/epm/packages/{pkgName}/{pkgVersion}/{filePath}": {
      "get": {
        "summary": "Packages - Get file from registry",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "body": {
                      "type": "object"
                    },
                    "statusCode": {
                      "type": "number"
                    },
                    "headers": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "packages-get-file"
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "pkgName",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "pkgVersion",
          "in": "path",
          "required": true
        },
        {
          "schema": {
            "type": "string"
          },
          "name": "filePath",
          "in": "path",
          "required": true
        }
      ]
    },
    "/epm/packages/{pkgName}/stats": {
      "get": {
        "summary": "Get stats for a package",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "response": {
                      "$ref": "#/components/schemas/package_usage_stats"
                    }
                  },
                  "required": [
                    "response"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-package-stats",
        "security": [
          {
            "basicAuth": []
          }
        ]
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "pkgName",
          "in": "path",
          "required": true
        }
      ]
    },
    "/agents/setup": {
      "get": {
        "summary": "Agents setup - Info",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/fleet_status_response"
                }
              }
            }
          }
        },
        "operationId": "get-agents-setup-status",
        "security": [
          {
            "basicAuth": []
          }
        ]
      },
      "post": {
        "summary": "Agents setup - Create",
        "operationId": "setup-agents",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/fleet_setup_response"
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "admin_username": {
                    "type": "string"
                  },
                  "admin_password": {
                    "type": "string"
                  }
                },
                "required": [
                  "admin_username",
                  "admin_password"
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/agent-status": {
      "get": {
        "summary": "Agents - Summary stats",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "integer"
                    },
                    "events": {
                      "type": "integer"
                    },
                    "inactive": {
                      "type": "integer"
                    },
                    "offline": {
                      "type": "integer"
                    },
                    "online": {
                      "type": "integer"
                    },
                    "other": {
                      "type": "integer"
                    },
                    "total": {
                      "type": "integer"
                    },
                    "updating": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "error",
                    "events",
                    "inactive",
                    "offline",
                    "online",
                    "other",
                    "total",
                    "updating"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-agent-status",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "name": "policyId",
            "in": "query",
            "required": false
          }
        ],
        "deprecated": true
      }
    },
    "/agent_status": {
      "get": {
        "summary": "Agents - Summary stats",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "integer"
                    },
                    "events": {
                      "type": "integer"
                    },
                    "inactive": {
                      "type": "integer"
                    },
                    "offline": {
                      "type": "integer"
                    },
                    "online": {
                      "type": "integer"
                    },
                    "other": {
                      "type": "integer"
                    },
                    "total": {
                      "type": "integer"
                    },
                    "updating": {
                      "type": "integer"
                    }
                  },
                  "required": [
                    "error",
                    "events",
                    "inactive",
                    "offline",
                    "online",
                    "other",
                    "total",
                    "updating"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-agent-status",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "name": "policyId",
            "in": "query",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "name": "kuery",
            "in": "query",
            "required": false
          }
        ]
      }
    },
    "/agent_status/data": {
      "get": {
        "summary": "Agents - Get incoming data",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "object",
                          "properties": {
                            "data": {
                              "type": "boolean"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "get-agent-data",
        "parameters": [
          {
            "schema": {
              "type": "array"
            },
            "name": "agentsId",
            "in": "query",
            "required": true
          }
        ]
      }
    },
    "/agents": {
      "get": {
        "summary": "Agents - List",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/get_agents_response"
                }
              }
            }
          }
        },
        "operationId": "get-agents",
        "security": [
          {
            "basicAuth": []
          }
        ]
      }
    },
    "/agents/bulk_upgrade": {
      "post": {
        "summary": "Agents - Bulk Upgrade",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "error": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "success"
                    ]
                  }
                }
              }
            }
          },
          "400": {
            "description": "BAD REQUEST",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/upgrade_agent"
                }
              }
            }
          }
        },
        "operationId": "bulk-upgrade-agents",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/bulk_upgrade_agents"
              }
            }
          }
        }
      }
    },
    "/agents/current_upgrades": {
      "get": {
        "summary": "Agents - Current Bulk Upgrades",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "actionId": {
                            "type": "string"
                          },
                          "complete": {
                            "type": "boolean"
                          },
                          "nbAgents": {
                            "type": "number"
                          },
                          "nbAgentsAck": {
                            "type": "number"
                          },
                          "version": {
                            "type": "string"
                          },
                          "startTime": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "actionId",
                          "complete",
                          "nbAgents",
                          "nbAgentsAck",
                          "version",
                          "startTime"
                        ]
                      }
                    }
                  },
                  "required": [
                    "items"
                  ]
                }
              }
            }
          }
        },
        "operationId": "agents-current-upgrades"
      }
    },
    "/agents/{agentId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "agentId",
          "in": "path",
          "required": true
        }
      ],
      "get": {
        "summary": "Agent - Info",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/agent"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-agent"
      },
      "put": {
        "summary": "Agent - Update",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/agent"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "operationId": "update-agent",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      },
      "delete": {
        "summary": "Agent - Delete",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "action": {
                      "type": "string",
                      "enum": [
                        "deleted"
                      ]
                    }
                  },
                  "required": [
                    "action"
                  ]
                }
              }
            }
          }
        },
        "operationId": "delete-agent",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/agents/{agentId}/actions": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "agentId",
          "in": "path",
          "required": true
        }
      ],
      "post": {
        "summary": "Agent - Actions",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "body": {
                      "type": "array",
                      "items": {
                        "type": "number"
                      }
                    },
                    "statusCode": {
                      "type": "number"
                    },
                    "headers": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "new-agent-action",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "action": {
                    "$ref": "#/components/schemas/agent_action"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/agents/{agentId}/reassign": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "agentId",
          "in": "path",
          "required": true
        }
      ],
      "put": {
        "summary": "Agent - Reassign",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        },
        "operationId": "reassign-agent",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "policy_id": {
                    "type": "string"
                  }
                },
                "required": [
                  "policy_id"
                ]
              }
            }
          }
        }
      }
    },
    "/agents/{agentId}/unenroll": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "agentId",
          "in": "path",
          "required": true
        }
      ],
      "post": {
        "summary": "Agent - Unenroll",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "400": {
            "description": "BAD REQUEST",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "statusCode": {
                      "type": "number",
                      "enum": [
                        400
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "unenroll-agent",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "revoke": {
                    "type": "boolean"
                  },
                  "force": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/agents/{agentId}/upgrade": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "agentId",
          "in": "path",
          "required": true
        }
      ],
      "post": {
        "summary": "Agent - Upgrade",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/upgrade_agent"
                }
              }
            }
          },
          "400": {
            "description": "BAD REQUEST",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/upgrade_agent"
                }
              }
            }
          }
        },
        "operationId": "upgrade-agent",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/upgrade_agent"
              }
            }
          }
        }
      }
    },
    "/agents/bulk_reassign": {
      "post": {
        "summary": "Agents - Bulk reassign",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "error": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "success"
                    ]
                  }
                }
              }
            }
          }
        },
        "operationId": "bulk-reassign-agents",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "policy_id": {
                    "type": "string"
                  },
                  "agents": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    ]
                  }
                },
                "required": [
                  "policy_id",
                  "agents"
                ]
              }
            }
          }
        }
      }
    },
    "/agents/bulk_unenroll": {
      "post": {
        "summary": "Agents - Bulk unenroll",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean"
                      },
                      "error": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "success"
                    ]
                  }
                }
              }
            }
          }
        },
        "operationId": "bulk-unenroll-agents",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "revoke": {
                    "type": "boolean"
                  },
                  "force": {
                    "type": "boolean"
                  },
                  "agents": {
                    "oneOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    ]
                  }
                },
                "required": [
                  "agents"
                ]
              }
            }
          }
        }
      }
    },
    "/agent_policies": {
      "get": {
        "summary": "Agent policies - List",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/agent_policy"
                      }
                    },
                    "total": {
                      "type": "number"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "total",
                    "page",
                    "perPage"
                  ]
                }
              }
            }
          }
        },
        "operationId": "agent-policy-list",
        "parameters": [
          {
            "$ref": "#/components/parameters/page_size"
          },
          {
            "$ref": "#/components/parameters/page_index"
          },
          {
            "$ref": "#/components/parameters/kuery"
          }
        ],
        "description": ""
      },
      "post": {
        "summary": "Agent policy - Create",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/agent_policy"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "create-agent-policy",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/new_agent_policy"
              }
            }
          }
        },
        "security": [],
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/agent_policies/{agentPolicyId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "agentPolicyId",
          "in": "path",
          "required": true
        }
      ],
      "get": {
        "summary": "Agent policy - Info",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/agent_policy"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "operationId": "agent-policy-info",
        "description": "Get one agent policy",
        "parameters": []
      },
      "put": {
        "summary": "Agent policy - Update",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/agent_policy"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "operationId": "update-agent-policy",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/new_agent_policy"
              }
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/agent_policies/{agentPolicyId}/copy": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "agentPolicyId",
          "in": "path",
          "required": true
        }
      ],
      "post": {
        "summary": "Agent policy - copy one policy",
        "operationId": "agent-policy-copy",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/agent_policy"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          },
          "description": ""
        }
      }
    },
    "/agent_policies/delete": {
      "post": {
        "summary": "Agent policy - Delete",
        "operationId": "delete-agent-policy",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "success": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "id",
                    "success"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "agentPolicyId": {
                    "type": "string"
                  }
                },
                "required": [
                  "agentPolicyId"
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      },
      "parameters": []
    },
    "/data_streams": {
      "get": {
        "summary": "Data streams - List",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data_streams": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/data_stream"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "data-streams-list"
      },
      "parameters": []
    },
    "/enrollment-api-keys": {
      "get": {
        "summary": "Enrollment API Keys - List",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "list": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/enrollment_api_key"
                      },
                      "deprecated": true
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/enrollment_api_key"
                      }
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "page",
                    "perPage",
                    "total"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-enrollment-api-keys",
        "parameters": [],
        "deprecated": true
      },
      "post": {
        "summary": "Enrollment API Key - Create",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/enrollment_api_key"
                    },
                    "action": {
                      "type": "string",
                      "enum": [
                        "created"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "create-enrollment-api-keys",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "deprecated": true
      }
    },
    "/enrollment-api-keys/{keyId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "keyId",
          "in": "path",
          "required": true
        }
      ],
      "get": {
        "summary": "Enrollment API Key - Info",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/enrollment_api_key"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-enrollment-api-key",
        "deprecated": true
      },
      "delete": {
        "summary": "Enrollment API Key - Delete",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "action": {
                      "type": "string",
                      "enum": [
                        "deleted"
                      ]
                    }
                  },
                  "required": [
                    "action"
                  ]
                }
              }
            }
          }
        },
        "operationId": "delete-enrollment-api-key",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ],
        "deprecated": true
      }
    },
    "/enrollment_api_keys": {
      "get": {
        "summary": "Enrollment API Keys - List",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "list": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/enrollment_api_key"
                      },
                      "deprecated": true
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/enrollment_api_key"
                      }
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    },
                    "total": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items",
                    "page",
                    "perPage",
                    "total"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-enrollment-api-keys",
        "parameters": []
      },
      "post": {
        "summary": "Enrollment API Key - Create",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/enrollment_api_key"
                    },
                    "action": {
                      "type": "string",
                      "enum": [
                        "created"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "create-enrollment-api-keys",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/enrollment_api_keys/{keyId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "keyId",
          "in": "path",
          "required": true
        }
      ],
      "get": {
        "summary": "Enrollment API Key - Info",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/enrollment_api_key"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-enrollment-api-key"
      },
      "delete": {
        "summary": "Enrollment API Key - Delete",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "action": {
                      "type": "string",
                      "enum": [
                        "deleted"
                      ]
                    }
                  },
                  "required": [
                    "action"
                  ]
                }
              }
            }
          }
        },
        "operationId": "delete-enrollment-api-key",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/package_policies": {
      "get": {
        "summary": "Package policies - List",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/package_policy"
                      }
                    },
                    "total": {
                      "type": "number"
                    },
                    "page": {
                      "type": "number"
                    },
                    "perPage": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "items"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-package-policies",
        "security": [],
        "parameters": []
      },
      "parameters": [],
      "post": {
        "summary": "Package policy - Create",
        "operationId": "create-package-policy",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/package_policy"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/new_package_policy"
                  },
                  {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      }
                    }
                  },
                  {
                    "type": "object",
                    "properties": {
                      "force": {
                        "type": "boolean"
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/package_policies/delete": {
      "post": {
        "summary": "Package policy - Delete",
        "operationId": "delete-package-policy",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "packagePolicyIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "force": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "packagePolicyIds"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "success": {
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "id",
                      "success"
                    ]
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/package_policies/upgrade": {
      "post": {
        "summary": "Package policy - Upgrade",
        "operationId": "upgrade-package-policy",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "packagePolicyIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "packagePolicyIds"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "success": {
                        "type": "boolean"
                      }
                    },
                    "required": [
                      "id",
                      "success"
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/package_policies/upgrade/dryrun": {
      "post": {
        "summary": "Package policy - Upgrade Dry run",
        "operationId": "upgrade-package-policy",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "packagePolicyIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "packageVersion": {
                    "type": "string"
                  }
                },
                "required": [
                  "packagePolicyIds"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "hasErrors": {
                        "type": "boolean"
                      },
                      "diff": {
                        "$ref": "#/components/schemas/upgrade_diff"
                      },
                      "agent_diff": {
                        "$ref": "#/components/schemas/upgrade_agent_diff"
                      }
                    },
                    "required": [
                      "hasErrors"
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "/package_policies/{packagePolicyId}": {
      "get": {
        "summary": "Package policy - Info",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/package_policy"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-package-policy"
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "packagePolicyId",
          "in": "path",
          "required": true
        }
      ],
      "put": {
        "summary": "Package policy - Update",
        "operationId": "update-package-policy",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/update_package_policy"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/package_policy"
                    },
                    "sucess": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "item",
                    "sucess"
                  ]
                }
              }
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/outputs": {
      "get": {
        "summary": "Outputs",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/output"
                      }
                    },
                    "total": {
                      "type": "integer"
                    },
                    "page": {
                      "type": "integer"
                    },
                    "perPage": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "get-outputs"
      },
      "post": {
        "summary": "Outputs",
        "description": "Create a new output",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/output"
                    }
                  }
                }
              }
            }
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "elasticsearch"
                    ]
                  },
                  "is_default": {
                    "type": "boolean"
                  },
                  "is_default_monitoring": {
                    "type": "boolean"
                  },
                  "hosts": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "ca_sha256": {
                    "type": "string"
                  },
                  "config_yaml": {
                    "type": "string"
                  }
                },
                "required": [
                  "name",
                  "type"
                ]
              }
            }
          }
        },
        "operationId": "post-outputs"
      }
    },
    "/outputs/{outputId}": {
      "get": {
        "summary": "Output - Info",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/output"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "operationId": "get-output"
      },
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "outputId",
          "in": "path",
          "required": true
        }
      ],
      "delete": {
        "summary": "Output - Delete",
        "operationId": "delete-output",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "id"
                  ]
                }
              }
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      },
      "put": {
        "summary": "Output - Update",
        "operationId": "update-output",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "elasticsearch"
                    ]
                  },
                  "is_default": {
                    "type": "boolean"
                  },
                  "is_default_monitoring": {
                    "type": "boolean"
                  },
                  "hosts": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "ca_sha256": {
                    "type": "string"
                  },
                  "ca_trusted_fingerprint": {
                    "type": "string"
                  },
                  "config_yaml": {
                    "type": "string"
                  }
                },
                "required": [
                  "name",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "item": {
                      "$ref": "#/components/schemas/output"
                    }
                  },
                  "required": [
                    "item"
                  ]
                }
              }
            }
          }
        },
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    },
    "/logstash_api_keys": {
      "post": {
        "summary": "Generate Logstash API key",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "api_key": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "generate-logstash-api-key",
        "parameters": [
          {
            "$ref": "#/components/parameters/kbn_xsrf"
          }
        ]
      }
    }
  },
  "components": {
    "securitySchemes": {
      "basicAuth": {
        "type": "http",
        "scheme": "basic"
      },
      "Enrollment_API_Key": {
        "name": "Authorization",
        "type": "apiKey",
        "in": "header",
        "description": "e.g. Authorization: ApiKey base64EnrollmentApiKey"
      },
      "Access_API_Key": {
        "name": "Authorization",
        "type": "apiKey",
        "in": "header",
        "description": "e.g. Authorization: ApiKey base64AccessApiKey"
      }
    },
    "parameters": {
      "kbn_xsrf": {
        "schema": {
          "type": "string"
        },
        "in": "header",
        "name": "kbn-xsrf",
        "required": true
      },
      "page_size": {
        "name": "perPage",
        "in": "query",
        "description": "The number of items to return",
        "required": false,
        "schema": {
          "type": "integer",
          "default": 50
        }
      },
      "page_index": {
        "name": "page",
        "in": "query",
        "required": false,
        "schema": {
          "type": "integer",
          "default": 1
        }
      },
      "kuery": {
        "name": "kuery",
        "in": "query",
        "required": false,
        "schema": {
          "type": "string"
        }
      }
    },
    "schemas": {
      "fleet_setup_response": {
        "title": "Fleet Setup response",
        "type": "object",
        "properties": {
          "isInitialized": {
            "type": "boolean"
          },
          "nonFatalErrors": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                }
              },
              "required": [
                "name",
                "message"
              ]
            }
          }
        },
        "required": [
          "isInitialized",
          "nonFatalErrors"
        ]
      },
      "preconfigured_agent_policies": {
        "title": "Preconfigured agent policies",
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "is_managed": {
            "type": "string"
          },
          "unenroll_timeout": {
            "type": "number"
          },
          "monitoring_enabled": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "logs",
                "metrics"
              ]
            }
          },
          "namespace": {
            "type": "string"
          },
          "id": {
            "oneOf": [
              {
                "type": "string"
              },
              {
                "type": "number"
              }
            ]
          },
          "is_default": {
            "type": "boolean",
            "deprecated": true
          },
          "is_default_fleet_server": {
            "type": "boolean",
            "deprecated": true
          },
          "has_fleet_server": {
            "type": "boolean"
          },
          "data_output_id": {
            "type": "string"
          },
          "monitoring_output_id": {
            "type": "string"
          },
          "package_policies": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "oneOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "number"
                    }
                  ]
                },
                "name": {
                  "type": "string"
                },
                "package": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string"
                    }
                  }
                },
                "description": {
                  "type": "string"
                },
                "namespace": {
                  "type": "string"
                },
                "inputs": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string"
                      },
                      "enabled": {
                        "type": "boolean"
                      },
                      "keep_enabled": {
                        "type": "boolean"
                      },
                      "vars": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "type": {
                            "type": "string"
                          },
                          "value": {
                            "type": "string"
                          },
                          "frozen": {
                            "type": "boolean"
                          }
                        }
                      }
                    },
                    "required": [
                      "type"
                    ]
                  }
                }
              }
            }
          }
        },
        "required": [
          "name",
          "namespace",
          "package_policies"
        ]
      },
      "settings": {
        "title": "Settings",
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "has_seen_add_data_notice": {
            "type": "boolean"
          },
          "has_seen_fleet_migration_notice": {
            "type": "boolean"
          },
          "fleet_server_hosts": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "fleet_server_hosts",
          "id"
        ]
      },
      "fleet_settings_response": {
        "title": "Fleet settings response",
        "type": "object",
        "properties": {
          "item": {
            "$ref": "#/components/schemas/settings"
          }
        },
        "required": [
          "item"
        ]
      },
      "get_categories_response": {
        "title": "Get categories response",
        "type": "object",
        "properties": {
          "response": {
            "type": "array",
            "items": {
              "type": "object",
              "deprecated": true,
              "properties": {
                "id": {
                  "type": "string"
                },
                "title": {
                  "type": "string"
                },
                "count": {
                  "type": "number"
                }
              },
              "required": [
                "id",
                "title",
                "count"
              ]
            }
          },
          "items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "title": {
                  "type": "string"
                },
                "count": {
                  "type": "number"
                }
              },
              "required": [
                "id",
                "title",
                "count"
              ]
            }
          }
        },
        "required": [
          "items"
        ]
      },
      "search_result": {
        "title": "Search result",
        "type": "object",
        "properties": {
          "description": {
            "type": "string"
          },
          "download": {
            "type": "string"
          },
          "icons": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "savedObject": {
            "type": "object"
          }
        },
        "required": [
          "description",
          "download",
          "icons",
          "name",
          "path",
          "title",
          "type",
          "version",
          "status"
        ]
      },
      "get_packages_response": {
        "title": "Get Packages response",
        "type": "object",
        "properties": {
          "response": {
            "type": "array",
            "deprecated": true,
            "items": {
              "$ref": "#/components/schemas/search_result"
            }
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/search_result"
            }
          }
        },
        "required": [
          "items"
        ]
      },
      "bulk_install_packages_response": {
        "title": "Bulk install packages response",
        "type": "object",
        "properties": {
          "response": {
            "type": "array",
            "deprecated": true,
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "version": {
                  "type": "string"
                }
              }
            }
          },
          "items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "version": {
                  "type": "string"
                }
              }
            }
          }
        },
        "required": [
          "items"
        ]
      },
      "package_info": {
        "title": "Package information",
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "readme": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "requirement": {
            "oneOf": [
              {
                "properties": {
                  "kibana": {
                    "type": "object",
                    "properties": {
                      "versions": {
                        "type": "string"
                      }
                    }
                  }
                }
              },
              {
                "properties": {
                  "elasticsearch": {
                    "type": "object",
                    "properties": {
                      "versions": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            ],
            "type": "object"
          },
          "screenshots": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "src": {
                  "type": "string"
                },
                "path": {
                  "type": "string"
                },
                "title": {
                  "type": "string"
                },
                "size": {
                  "type": "string"
                },
                "type": {
                  "type": "string"
                }
              },
              "required": [
                "src",
                "path"
              ]
            }
          },
          "icons": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "assets": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "internal": {
            "type": "boolean"
          },
          "format_version": {
            "type": "string"
          },
          "data_streams": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                },
                "release": {
                  "type": "string"
                },
                "ingeset_pipeline": {
                  "type": "string"
                },
                "vars": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "default": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "name",
                      "default"
                    ]
                  }
                },
                "type": {
                  "type": "string"
                },
                "package": {
                  "type": "string"
                }
              },
              "required": [
                "title",
                "name",
                "release",
                "ingeset_pipeline",
                "type",
                "package"
              ]
            }
          },
          "download": {
            "type": "string"
          },
          "path": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "title",
          "version",
          "description",
          "type",
          "categories",
          "requirement",
          "assets",
          "format_version",
          "download",
          "path"
        ]
      },
      "kibana_saved_object_type": {
        "title": "Kibana saved object asset type",
        "type": "string",
        "enum": [
          "dashboard",
          "visualization",
          "search",
          "index-pattern",
          "map",
          "lens",
          "ml-module",
          "security-rule",
          "csp_rule_template"
        ]
      },
      "elasticsearch_asset_type": {
        "title": "Elasticsearch asset type",
        "type": "string",
        "enum": [
          "component_template",
          "ingest_pipeline",
          "index_template",
          "ilm_policy",
          "transform",
          "data_stream_ilm_policy"
        ]
      },
      "package_usage_stats": {
        "title": "Package usage stats",
        "type": "object",
        "properties": {
          "agent_policy_count": {
            "type": "integer"
          }
        },
        "required": [
          "agent_policy_count"
        ]
      },
      "fleet_status_response": {
        "title": "Fleet status response",
        "type": "object",
        "properties": {
          "isReady": {
            "type": "boolean"
          },
          "missing_requirements": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "tls_required",
                "api_keys",
                "fleet_admin_user",
                "fleet_server"
              ]
            }
          },
          "missing_optional_features": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "encrypted_saved_object_encryption_key_required"
              ]
            }
          }
        },
        "required": [
          "isReady",
          "missing_requirements",
          "missing_optional_features"
        ]
      },
      "agent_type": {
        "type": "string",
        "title": "Agent type",
        "enum": [
          "PERMANENT",
          "EPHEMERAL",
          "TEMPORARY"
        ]
      },
      "agent_metadata": {
        "title": "Agent metadata",
        "type": "object"
      },
      "agent_status": {
        "type": "string",
        "title": "Agent status",
        "enum": [
          "offline",
          "error",
          "online",
          "inactive",
          "warning"
        ]
      },
      "agent": {
        "title": "Agent",
        "type": "object",
        "properties": {
          "type": {
            "$ref": "#/components/schemas/agent_type"
          },
          "active": {
            "type": "boolean"
          },
          "enrolled_at": {
            "type": "string"
          },
          "unenrolled_at": {
            "type": "string"
          },
          "unenrollment_started_at": {
            "type": "string"
          },
          "access_api_key_id": {
            "type": "string"
          },
          "default_api_key_id": {
            "type": "string"
          },
          "policy_id": {
            "type": "string"
          },
          "policy_revision": {
            "type": "number"
          },
          "last_checkin": {
            "type": "string"
          },
          "user_provided_metadata": {
            "$ref": "#/components/schemas/agent_metadata"
          },
          "local_metadata": {
            "$ref": "#/components/schemas/agent_metadata"
          },
          "id": {
            "type": "string"
          },
          "access_api_key": {
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/agent_status"
          },
          "default_api_key": {
            "type": "string"
          }
        },
        "required": [
          "type",
          "active",
          "enrolled_at",
          "id",
          "status"
        ]
      },
      "get_agents_response": {
        "title": "Get Agent response",
        "type": "object",
        "properties": {
          "list": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/agent"
            },
            "deprecated": true
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/agent"
            }
          },
          "total": {
            "type": "number"
          },
          "page": {
            "type": "number"
          },
          "perPage": {
            "type": "number"
          }
        },
        "required": [
          "items",
          "total",
          "page",
          "perPage"
        ]
      },
      "bulk_upgrade_agents": {
        "title": "Bulk upgrade agents",
        "type": "object",
        "properties": {
          "version": {
            "type": "string"
          },
          "source_uri": {
            "type": "string"
          },
          "rollout_duration_seconds": {
            "type": "number"
          },
          "start_time": {
            "type": "string"
          },
          "agents": {
            "oneOf": [
              {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              {
                "type": "string"
              }
            ]
          }
        },
        "required": [
          "agents",
          "version"
        ]
      },
      "upgrade_agent": {
        "title": "Upgrade agent",
        "oneOf": [
          {
            "type": "object",
            "properties": {
              "version": {
                "type": "string"
              }
            },
            "required": [
              "version"
            ]
          },
          {
            "type": "object",
            "properties": {
              "version": {
                "type": "string"
              },
              "source_uri": {
                "type": "string"
              }
            },
            "required": [
              "version"
            ]
          }
        ]
      },
      "agent_action": {
        "title": "Agent action",
        "oneOf": [
          {
            "properties": {
              "data": {
                "type": "string"
              },
              "ack_data": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "POLICY_CHANGE",
                  "UNENROLL",
                  "UPGRADE",
                  "POLICY_REASSIGN"
                ]
              }
            }
          },
          {
            "properties": {
              "type": {
                "type": "string"
              },
              "data": {
                "type": "object",
                "properties": {
                  "log_level": {
                    "type": "string",
                    "enum": [
                      "debug",
                      "info",
                      "warning",
                      "error"
                    ]
                  }
                }
              }
            }
          }
        ]
      },
      "new_agent_policy": {
        "title": "New agent policy",
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "namespace": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "monitoring_enabled": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "metrics",
                "logs"
              ]
            }
          },
          "data_output_id": {
            "type": "string",
            "nullable": true
          },
          "monitoring_output_id": {
            "type": "string",
            "nullable": true
          }
        },
        "required": [
          "name",
          "namespace"
        ]
      },
      "new_package_policy": {
        "title": "New package policy",
        "type": "object",
        "description": "",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "package": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "version": {
                "type": "string"
              },
              "title": {
                "type": "string"
              }
            },
            "required": [
              "name",
              "version"
            ]
          },
          "namespace": {
            "type": "string"
          },
          "output_id": {
            "type": "string"
          },
          "inputs": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string"
                },
                "enabled": {
                  "type": "boolean"
                },
                "processors": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "streams": {
                  "type": "array",
                  "items": {}
                },
                "config": {
                  "type": "object"
                },
                "vars": {
                  "type": "object"
                }
              },
              "required": [
                "type",
                "enabled"
              ]
            }
          },
          "policy_id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        },
        "required": [
          "inputs",
          "name"
        ]
      },
      "package_policy": {
        "title": "Package policy",
        "allOf": [
          {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "revision": {
                "type": "number"
              },
              "inputs": {
                "type": "array",
                "items": {}
              }
            },
            "required": [
              "id",
              "revision"
            ]
          },
          {
            "$ref": "#/components/schemas/new_package_policy"
          }
        ]
      },
      "agent_policy": {
        "allOf": [
          {
            "$ref": "#/components/schemas/new_agent_policy"
          },
          {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "status": {
                "type": "string",
                "enum": [
                  "active",
                  "inactive"
                ]
              },
              "packagePolicies": {
                "oneOf": [
                  {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/package_policy"
                    }
                  }
                ]
              },
              "updated_on": {
                "type": "string",
                "format": "date-time"
              },
              "updated_by": {
                "type": "string"
              },
              "data_output_id": {
                "type": "string"
              },
              "monitoring_output_id": {
                "type": "string"
              },
              "revision": {
                "type": "number"
              },
              "agents": {
                "type": "number"
              }
            },
            "required": [
              "id",
              "status"
            ]
          }
        ]
      },
      "data_stream": {
        "title": "Data stream",
        "type": "object",
        "properties": {
          "index": {
            "type": "string"
          },
          "dataset": {
            "type": "string"
          },
          "namespace": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "package": {
            "type": "string"
          },
          "package_version": {
            "type": "string"
          },
          "last_activity_ms": {
            "type": "number"
          },
          "size_in_bytes": {
            "type": "number"
          },
          "size_in_bytes_formatted": {
            "type": "string"
          },
          "dashboard": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "title": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "enrollment_api_key": {
        "title": "Enrollment API key",
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "api_key_id": {
            "type": "string"
          },
          "api_key": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "active": {
            "type": "boolean"
          },
          "policy_id": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "api_key_id",
          "api_key",
          "active",
          "created_at"
        ]
      },
      "upgrade_diff": {
        "title": "Package policy Upgrade dryrun",
        "type": "array",
        "items": {
          "allOf": [
            {
              "$ref": "#/components/schemas/package_policy"
            },
            {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/components/schemas/new_package_policy"
                },
                {
                  "type": "object",
                  "properties": {
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "key": {
                            "type": "string"
                          },
                          "message": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "missingVars": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              ]
            }
          ]
        }
      },
      "full_agent_policy_input_stream": {
        "title": "Full agent policy input stream",
        "allOf": [
          {
            "type": "object",
            "additionalProperties": true,
            "properties": {
              "id": {
                "type": "string"
              },
              "data_stream": {
                "type": "object",
                "properties": {
                  "dataset": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string"
                  }
                },
                "required": [
                  "dataset",
                  "type"
                ]
              }
            },
            "required": [
              "id",
              "data_stream"
            ]
          }
        ]
      },
      "full_agent_policy_input": {
        "title": "Full agent policy input",
        "allOf": [
          {
            "type": "object",
            "additionalProperties": true,
            "properties": {
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "revision": {
                "type": "number"
              },
              "type": {
                "type": "string"
              },
              "data_stream": {
                "type": "object",
                "properties": {
                  "namespace": {
                    "type": "string"
                  }
                },
                "required": [
                  "namespace"
                ]
              },
              "use_output": {
                "type": "string"
              },
              "meta": {
                "type": "object",
                "additionalProperties": true,
                "properties": {
                  "package": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "version": {
                        "type": "string"
                      }
                    },
                    "required": [
                      "name",
                      "version"
                    ]
                  }
                }
              },
              "streams": {
                "$ref": "#/components/schemas/full_agent_policy_input_stream"
              }
            },
            "required": [
              "id",
              "name",
              "revision",
              "type",
              "data_stream",
              "use_output"
            ]
          }
        ]
      },
      "upgrade_agent_diff": {
        "title": "Package policy Upgrade dryrun",
        "type": "array",
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/components/schemas/full_agent_policy_input"
          }
        }
      },
      "update_package_policy": {
        "title": "Update package policy",
        "type": "object",
        "description": "",
        "properties": {
          "version": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "package": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "version": {
                "type": "string"
              },
              "title": {
                "type": "string"
              }
            },
            "required": [
              "name",
              "title",
              "version"
            ]
          },
          "namespace": {
            "type": "string"
          },
          "output_id": {
            "type": "string"
          },
          "inputs": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string"
                },
                "enabled": {
                  "type": "boolean"
                },
                "processors": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "streams": {
                  "type": "array",
                  "items": {}
                },
                "config": {
                  "type": "object"
                },
                "vars": {
                  "type": "object"
                }
              },
              "required": [
                "type",
                "enabled",
                "streams"
              ]
            }
          },
          "policy_id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "force": {
            "type": "boolean"
          }
        },
        "required": [
          "name",
          "namespace",
          "policy_id",
          "enabled"
        ]
      },
      "output": {
        "title": "Output",
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "is_default": {
            "type": "boolean"
          },
          "is_default_monitoring": {
            "type": "boolean"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "enum": [
              "elasticsearch"
            ]
          },
          "hosts": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "ca_sha256": {
            "type": "string"
          },
          "ca_trusted_fingerprint": {
            "type": "string"
          },
          "config": {
            "type": "object"
          },
          "config_yaml": {
            "type": "string"
          },
          "ssl": {
            "type": "object",
            "properties": {
              "certificate": {
                "type": "string"
              },
              "certificate_authorities": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "key": {
                "type": "string"
              }
            }
          }
        },
        "required": [
          "id",
          "is_default",
          "name",
          "type"
        ]
      }
    }
  },
  "security": [
    {
      "basicAuth": []
    }
  ]
}