<ml-message-bar ></ml-message-bar>
<div class="create-watch-modal">
  <h1 class="euiTitle">Create watch for {{jobId}}</h1>
  <div class="euiSpacer euiSpacer--s"></div>

  <div ng-if='watcherEnabled===true'>
    <ml-create-watch
      job-id='jobId'
      bucket-span='bucketSpan'
      include-influencers='includeInfluencers'
    ></ml-create-watch>


    <hr class="euiHorizontalRule euiHorizontalRule--full euiHorizontalRule--marginMedium">

    <div ng-show= "status.watch===null">
      <button
        aria-label="Create watch"
        ng-click="apply()"
        type="button"
        class="kuiButton kuiButton--primary">
          Apply
      </button>

      <button
        ng-disabled="status.deleteLock"
        ng-click="close();"
        class="kuiButton kuiButton--primary"
        aria-label="cancel">
          Cancel
      </button>
    </div>
    <div ng-show= "status.watch === STATUS.SAVED || status.watch === STATUS.SAVE_FAILED">
      <button
        ng-click="close();"
        class="kuiButton kuiButton--primary"
        aria-label="close">
          Close
      </button>
    </div>
  </div>

  <div ng-if='watcherEnabled===false'>
    Watcher is not enabled.
    <hr class="euiHorizontalRule euiHorizontalRule--full euiHorizontalRule--marginMedium">
    <button
      ng-click="close();"
      class="kuiButton kuiButton--primary"
      aria-label="close">
        Close
    </button>
  </div>

</div>
