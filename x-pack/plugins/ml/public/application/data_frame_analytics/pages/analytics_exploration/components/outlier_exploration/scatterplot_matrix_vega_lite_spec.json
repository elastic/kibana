{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json",
  "padding": 10,
  "config": {
    "axis": {
      "domainColor": "#ccc",
      "tickColor": "#ccc",
      "labelColor": "#aaa",
      "titleColor": "#999"
    }
  },
  "repeat": {
    "column": [],
    "row": []
  },
  "spec": {
    "data": { "values": [] },
    "mark": "point",
    "encoding": {
      "color": {
        "condition": {
          "value": "#bd271e",
          "test": "(datum['outlier_score'] >= mlOutlierScoreThreshold.cutoff)"
        },
        "value": "gray"
      },
      "opacity": {
        "condition": {
          "value": 0.75,
          "test": "(datum['outlier_score'] >= mlOutlierScoreThreshold.cutoff)"
        },
        "value": 0.25
      },
      "size": {
        "condition": {
          "value": 28,
          "test": "(datum['outlier_score'] >= mlOutlierScoreThreshold.cutoff)"
        },
        "value": 2
      },
      "tooltip": {"type": "quantitative", "field": "outlier_score"},
      "x": {"type": "quantitative", "field": {"repeat": "column" } },
      "y": {"type": "quantitative", "field": {"repeat": "row" } }
    },
    "height": 100,
    "selection": {
      "mlOutlierScoreThreshold": {
        "type": "single",
        "fields": ["cutoff"],
        "bind": {
          "input": "range",
          "max": 1,
          "min": 0,
          "name": "Outlier score threshold:",
          "step": 0.01
        },
        "init": {"cutoff": 0.8}
      }
    },
    "transform": [],
    "width": 100
  }
}
