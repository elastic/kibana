<ml-nav-menu name="explorer"></ml-nav-menu>
<ml-chart-tooltip></ml-chart-tooltip>
<div class="ml-explorer" ng-controller="MlExplorerController">
  <navbar ng-show="jobs.length > 0 && chrome.getVisible()">
    <job-select-button></job-select-button>
  </navbar>

  <filter-bar
    ng-show="queryFilters.length"
    state="appState">
  </filter-bar>

  <ml-explorer-react-wrapper />

  <div ng-if="jobs.length > 0 && loading === false && hasResults === true">
    <div class="results-container">

      <div class="column" ng-class="noInfluencersConfigured === true ? 'col-xs-12' : 'col-xs-10'">
        <span
          class="panel-title euiText"
          i18n-id="xpack.ml.explorer.anomaliesTitle"
          i18n-default-message="Anomalies"
        ></span>

        <div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--directionRow euiFlexGroup--responsive ml-anomalies-controls">
          <div class="euiFlexItem euiFlexItem--flexGrowZero" style="width:170px">
            <div class="euiFormRow" id="select_severity_control">
              <label
                class="euiFormLabel"
                for="select_severity"
                i18n-id="xpack.ml.explorer.severityThresholdLabel"
                i18n-default-message="Severity threshold"
              ></label>
              <div class="euiFormControlLayout">
                <ml-select-severity id="select_severity" />
              </div>
            </div>
          </div>
          <div class="euiFlexItem euiFlexItem--flexGrowZero" style="width:170px">
            <div class="euiFormRow" id="select_interval_control">
              <label
                class="euiFormLabel"
                for="select_interval"
                i18n-id="xpack.ml.explorer.intervalLabel"
                i18n-default-message="Interval"
              ></label>
              <div class="euiFormControlLayout">
                <ml-select-interval id="select_interval" />
              </div>
            </div>
          </div>
          <div class="euiFlexItem euiFlexItem--flexGrowZero" ng-show="anomalyChartRecords.length > 0">
            <div class="euiFormRow" id="show_charts_checkbox_control">
              <div class="euiFormControlLayout">
                <ml-checkbox-show-charts id="show_charts_checkbox" />
              </div>
            </div>
          </div>
        </div>

        <div class="euiSpacer euiSpacer--m"></div>

        <div class="euiText explorer-charts">
          <ml-explorer-charts-container />
        </div>

        <ml-anomalies-table
          table-data="tableData"
        />

      </div>

    </div>
  </div>

</div>
