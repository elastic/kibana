<form ng-submit="saveWorkspace()" role="form">
  <div
    class="kuiLocalDropdownTitle"
    i18n-id="xpack.graph.topNavMenu.save.saveWorkspaceTitle"
    i18n-default-message="Save Workspace"
  ></div>
  <div class="form-group">
    <label
      for="workspaceTitle"
      i18n-id="xpack.graph.topNavMenu.save.nameInputLabel"
      i18n-default-message="Name"
    ></label>
    <input id="workspaceTitle" type="text" ng-model="savedWorkspace.title" class="form-control"
      placeholder="{{ ::'xpack.graph.topNavMenu.save.nameInputPlaceholder' | i18n: { defaultMessage: 'Graph workspace name' } }}"
      input-focus="select"
    >
  </div>
  <saved-object-save-as-check-box saved-object="savedWorkspace"></saved-object-save-as-check-box>
  <div class="form-group">
    <label
      for="workspaceTitle"
      i18n-id="xpack.graph.topNavMenu.save.descriptionInputLabel"
      i18n-default-message="Description"
    ></label>
    <textarea
      class="form-control input-sm" rows="5" id="notesEdit"
      placeholder="{{ ::'xpack.graph.topNavMenu.save.descriptionInputPlaceholder' | i18n: { defaultMessage: 'Any notes..' } }}"
      ng-model="grr.description"
    ></textarea>
  </div>
  <div class="text-warning " ng-if="workspace.nodes.length>0 && !grr.userHasConfirmedSaveWorkspaceData && graphSavePolicy=='configAndDataWithConsent'">
    <i class="fa fa-warning"></i>
    {{ ::'xpack.graph.topNavMenu.save.saveConfigurationOnlyWarning' | i18n: {
      defaultMessage: 'The data in this workspace will be cleared and only the configuration will be saved',
    } }}
  </div>
  <div class="gphNoUserSelect checkbox" ng-if="graphSavePolicy=='configAndDataWithConsent'">
    <label>
      <input type="checkbox" ng-model="grr.userHasConfirmedSaveWorkspaceData">
      {{ ::'xpack.graph.topNavMenu.save.saveGraphContentCheckboxLabel' | i18n: { defaultMessage: 'Save Graph Content' } }}
    </label>
  </div>

  <button
    type="submit"
    ng-disabled="!savedWorkspace.title"
    class="kuiButton kuiButton--primary"
    aria-label="{{ ::'xpack.graph.topNavMenu.save.confirmButtonAriaLabel' | i18n: { defaultMessage: 'Save workspace' } }}"
    i18n-id="xpack.graph.topNavMenu.save.confirmButtonLabel"
    i18n-default-message="Save"
  ></button>

  <div ng-if="workspace.nodes.length>0 && graphSavePolicy=='config'">
    <span class="text-info" >
      <i class="fa fa-info"></i>
      {{ ::'xpack.graph.topNavMenu.save.saveConfigurationOnlyText' | i18n: {
        defaultMessage: 'The data in this workspace will be cleared and only the configuration will be saved',
      } }}
    </span>
  </div>

</form>
