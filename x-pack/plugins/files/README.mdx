---
id: kibDevTutorialFiles
slug: /kibana-dev-docs/tutorials/files-service
title: Kibana File Service
description: Kibana File Service
date: 2022-08-29
tags: ['kibana', 'onboarding', 'dev', 'architecture']
---

## Files service

Files service provides a way to manage and share blob data. The default blob store is backed by Elasticsearch -- no special configuration is needed to use the Files service.

The file service is a good fit for storing any of the following:

* User-provided images, like avatars or logos in all image formats
* Documents, like PDFs or text files
* Binaries or scripts
* Any visual or text-based outputs that need to be shared or downloaded at a later time

The file service optimises how files are stored and how they are accessed to ensure
a good user experience (UX).

### A note on performance

Elasticsearch is not a blob store by design. The file service attempts to optimize how Elasticsearch works for a blob storage use case, but it is worth noting that all of the implementation for this is currently in userland. **Please report any performance issues you notice ASAP!**

### A note on security

The file service does not encrypt contents at rest. No additional processing (like compression) is done to blob contents. This ensures that files do not return unexpected results when downloaded.

When storing data in Elasticsearch, file service uses a system index. System indices have strict access controls so most users will not be able to access documents with blob contents directly. However, plugins are able to expose file contents over HTTP (more on this later) and there is nothing preventing a plugin from bypassing regular security checks.

<DocCallOut title="Note to plugin developers" color="warning">

To ensure the most secure file storage experience ensure that:

1. You are only exposing the needed actions against your files
2. You allow your users access to the files saved object using HTTP tags
3. You are not storing sensitive, personal data in your files, in as far as possible

</DocCallOut>

### Files vs Saved Objects

Files are a composition of Saved Objects and blobs. Saved Objects contain all metadata needed to provide file service functionality as we all as application specific metadata.

<DocCallOut title="Custom file metadata">

Consumers of the file service are able to decide the shape of metadata they want to add to a file.  The file service provides functinality to use custom metadata for tagging and searching across files.

All metadata must be serializable to JSON and maintained by the file service consumers.

**File metadata should be treated as external state that needs to be migrated**.

</DocCallOut>

### How to set up files for your plugin

#### Files over HTTP

### Public components

The file service will expose a number of front-end components to ensure that a consistent UX is provided for.

Consumers of the file service will have access to lower-level APIs but it is highly recommended to use the existing UI components or to first reach out to the App Services team before building your own UI, others could also benefit from any UI improvements!

