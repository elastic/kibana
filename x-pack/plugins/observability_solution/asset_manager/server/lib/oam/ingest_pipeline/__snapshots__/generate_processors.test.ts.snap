// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`generateProcessors(definition) should genearte a valid pipeline 1`] = `
Array [
  Object {
    "set": Object {
      "field": "event.ingested",
      "value": "{{{_ingest.timestamp}}}",
    },
  },
  Object {
    "set": Object {
      "field": "asset.definitionId",
      "value": "admin-console-logs-service",
    },
  },
  Object {
    "set": Object {
      "field": "asset.indexPatterns",
      "value": "[\\"kbn-data-forge-fake_stack.*\\"]",
    },
  },
  Object {
    "json": Object {
      "field": "asset.indexPatterns",
    },
  },
  Object {
    "set": Object {
      "field": "asset.id",
      "value": "service:{{asset.identity.log.logger}}",
    },
  },
  Object {
    "set": Object {
      "field": "projectId",
      "value": "1234",
    },
  },
  Object {
    "script": Object {
      "source": "if (ctx.asset?.metadata?.tags != null) {
  ctx[\\"tags\\"] = ctx.asset.metadata.tags.keySet();
}
if (ctx.asset?.metadata?.host?.name != null) {
  ctx[\\"host\\"] = new HashMap();
  ctx[\\"host\\"][\\"name\\"] = ctx.asset.metadata.host.name.keySet();
}
if (ctx.asset?.metadata?.kubernetes?.pod?.name != null) {
  ctx[\\"kubernetes\\"] = new HashMap();
  ctx[\\"kubernetes\\"][\\"pod\\"] = new HashMap();
  ctx[\\"kubernetes\\"][\\"pod\\"][\\"name\\"] = ctx.asset.metadata.kubernetes.pod.name.keySet();
}
",
    },
  },
  Object {
    "remove": Object {
      "field": "asset.metadata",
      "ignore_missing": true,
    },
  },
  Object {
    "set": Object {
      "field": "_index",
      "value": ".oam-observability.asset-v1.admin-console-logs-service",
    },
  },
]
`;
