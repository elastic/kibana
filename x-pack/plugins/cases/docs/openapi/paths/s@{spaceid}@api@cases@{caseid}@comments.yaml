post:
  description: >
    Adds a comment to a case.
    You must have all privileges for the **Cases** feature in the **Management**, **Observability**, or **Security** section of the Kibana feature privileges, depending on the owner of the case you're creating.
  tags:
    - cases
    - kibana
  parameters:
    - $ref: '../components/headers/kbn_xsrf.yaml'
    - $ref: '../components/parameters/case_id.yaml'
    - $ref: '../components/parameters/space_id.yaml'
  requestBody:
    content:
      application/json:
        schema:
          type: object
          properties:
            alertId: 
              description: The alert identifier.
              type: string 
            comment:
              description: The new comment.
              type: string
            index:
              description: The alert index.
              type: string
            owner:
              $ref: '../components/schemas/owners.yaml'
            rule:
              description: The rule that is associated with the alert.
              type: object
              properties:
                id:
                  description: The rule identifier.
                  type: string
                name: 
                  description: The rule name.
                  type: string
            type: 
              $ref: '../components/schemas/comment_types.yaml'
          required:
            - alertId
            - comment
            - index
            - owner
            - rule
            - type
        examples:
          createCaseCommentRequest:
            $ref: '../components/examples/add_comment_request.yaml'
  responses:
    '200':
      description: Indicates a successful call.
      content:
         application/json; charset=utf-8:
          schema:
            type: object
            properties:
              $ref: '../components/schemas/case_response_properties.yaml'
          examples:
            createCaseCommentResponse:
              $ref: '../components/examples/add_comment_response.yaml'
  servers:
     - url: https://localhost:5601

delete:
  description: >
    Deletes one or all comments from a case.
    You must have all privileges for the **Cases** feature in the **Management**, **Observability**, or **Security** section of the Kibana feature privileges, depending on the owner of the cases you're deleting.
  tags:
    - cases
    - kibana
  parameters:
    - $ref: '../components/headers/kbn_xsrf.yaml'
    - $ref: '../components/parameters/case_id.yaml'
    - $ref: '../components/parameters/space_id.yaml' 
  responses:
    '204':
      description: Indicates a successful call.
  servers:
    - url: https://localhost:5601

patch:
  description: >
    Updates a comment in a case.
    You must have all privileges for the **Cases** feature in the **Management**, **Observability**, or **Security** section of the Kibana feature privileges, depending on the owner of the case you're updating.
  tags:
    - cases
    - kibana
  parameters:
    - $ref: '../components/headers/kbn_xsrf.yaml'
    - $ref: '../components/parameters/case_id.yaml'
    - $ref: '../components/parameters/space_id.yaml'
  requestBody:
    content:
      application/json:
        schema:
          type: object
          properties:
            cases:
              type: array
              items:
                type: object
                properties: 
                  alertId: 
                    description: The alert identifier.
                    type: string 
                  comment:
                    description: The new comment.
                    type: string
                  id:
                    description: The identifier for the comment. To retrieve comment IDs, use the get comments API.
                    type: string
                  index:
                    description: The alert index.
                    type: string
                  owner:
                    $ref: '../components/schemas/owners.yaml'
                  rule:
                    description: The rule that is associated with the alert.
                    type: object
                    properties:
                      id:
                        description: The rule identifier.
                        type: string
                      name: 
                        description: The rule name.
                        type: string
                  type: 
                    $ref: '../components/schemas/comment_types.yaml' 
                  version: 
                    description: The current comment version. To retrieve version values, use the get comments API.
                    type: string 
                required:
                  - alertId
                  - comment
                  - id
                  - index
                  - owner
                  - rule
                  - type 
                  - version
        examples:
          updateCaseCommentRequest:
            $ref: '../components/examples/update_comment_request.yaml'
  responses:
    '200':
      description: Indicates a successful call.
      content:
        application/json; charset=utf-8:
          schema:
            type: object
            properties:
              $ref: '../components/schemas/case_response_properties.yaml'
          examples:
            updateCaseCommentResponse:
              $ref: '../components/examples/update_comment_response.yaml'
  servers:
        - url: https://localhost:5601

servers:
      - url: https://localhost:5601