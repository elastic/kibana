<table class="kuiTable">
  <thead>
    <tr>
      <th scope="col" class="kuiTableHeaderCell">
        <sortable-column
          field="startTime"
          on-sort-change="watchHistoryTable.onSortChange"
          sort-field="watchHistoryTable.sortField"
          sort-reverse="watchHistoryTable.sortReverse"
        >
          {{ 'xpack.watcher.sections.watchDetail.watchHistoryTable.triggerTimeColumnLabel' | i18n: { defaultMessage: 'Trigger Time' } }}
        </sortable-column>
      </th>
      <th scope="col" class="kuiTableHeaderCell">
        <sortable-column
          field="watchStatus.state"
          on-sort-change="watchHistoryTable.onSortChange"
          sort-field="watchHistoryTable.sortField"
          sort-reverse="watchHistoryTable.sortReverse"
        >
          {{ 'xpack.watcher.sections.watchDetail.watchHistoryTable.stateColumnLabel' | i18n: { defaultMessage: 'State' } }}
        </sortable-column>
      </th>
      <th scope="col" class="kuiTableHeaderCell">
        <sortable-column
          field="watchStatus.comment"
          on-sort-change="watchHistoryTable.onSortChange"
          sort-field="watchHistoryTable.sortField"
          sort-reverse="watchHistoryTable.sortReverse"
        >
          {{ 'xpack.watcher.sections.watchDetail.watchHistoryTable.commentColumnLabel' | i18n: { defaultMessage: 'Comment' } }}
        </sortable-column>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr
      ng-repeat="item in watchHistoryTable.items"
      class="kuiTableRow"
      ng-class="{ 'kuiTableRow-isNew': item.isNew }"
    >
      <td class="kuiTableRowCell">
        <div class="kuiTableRowCell__liner">
          <a
            title="View"
            ng-href="#/management/elasticsearch/watcher/watches/watch/{{watchHistoryTable.watch.id}}/history-item/{{item.historyItem.id}}"
            data-test-subj="lnkWatchHistoryItem"
          >
            {{ item.historyItem.startTime | moment }}
          </a>
        </div>
      </td>
      <td class="kuiTableRowCell">
        <div class="kuiTableRowCell__liner">
          <span title={{item.historyItem.watchStatus.state}}>
            <watch-state-icon watch-status="item.historyItem.watchStatus"></watch-state-icon>
            {{ item.historyItem.watchStatus.state }}
          </span>
        </div>
      </td>
      <td class="kuiTableRowCell">
        <div class="kuiTableRowCell__liner">
          <span title="{{item.historyItem.watchStatus.comment}}">
            {{item.historyItem.watchStatus.comment}}
          </span>
        </div>
      </td>
    </tr>
  </tbody>
</table>
