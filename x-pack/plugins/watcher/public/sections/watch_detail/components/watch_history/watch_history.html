<div class="kuiControlledTable">
  <!-- Toolbar with filters and pagination -->
  <div class="kuiToolBar">
    <div class="kuiToolBarSearch">
      <!-- History range filter -->
      <watch-history-range-filter
        history-range="watchHistory.historyRange"
        on-range-change="watchHistory.onRangeChange"
      ></watch-history-range-filter>
    </div>

    <!-- Pagination -->
    <div class="kuiToolBarSection">
      <tool-bar-pager-text
        start-item="watchHistory.pager.startItem"
        end-item="watchHistory.pager.endItem"
        total-items="watchHistory.pager.totalItems"
      ></tool-bar-pager-text>
      <tool-bar-pager-buttons
        has-previous-page="watchHistory.pager.hasPreviousPage"
        has-next-page="watchHistory.pager.hasNextPage"
        on-page-next="watchHistory.onPageNext"
        on-page-previous="watchHistory.onPagePrevious"
      ></tool-bar-pager-buttons>
    </div>
  </div>

  <!-- Watch history table -->
  <table-info ng-show="watchHistory.isLoading">
    {{ 'xpack.watcher.sections.watchDetail.watchHistory.watchHistoryLoadingText' | i18n: { defaultMessage: 'Loading watch history' } }}&hellip;
  </table-info>
  <table-info ng-show="!watchHistory.isLoading && !watchHistory.hasPageOfHistoryItems">
    {{ 'xpack.watcher.sections.watchDetail.watchHistory.watchHistoryNotFoundText' | i18n: { defaultMessage: 'No watch history found.' } }}
  </table-info>
  <watch-history-table
    xpack-watch="watchHistory.watch"
    history-items="watchHistory.pageOfHistoryItems"
    ng-show="!watchHistory.isLoading && watchHistory.hasPageOfHistoryItems"
    sort-field="watchHistory.sortField"
    sort-reverse="watchHistory.sortReverse"
    on-sort-change="watchHistory.onSortChange"
  ></watch-history-table>

  <!-- Footer -->
  <div class="kuiToolBarFooter">
    <div class="kuiToolBarFooterSection">
      <tool-bar-pager-text
        start-item="watchHistory.pager.startItem"
        end-item="watchHistory.pager.endItem"
        total-items="watchHistory.pager.totalItems"
      ></tool-bar-pager-text>
      <tool-bar-pager-buttons
        has-previous-page="watchHistory.pager.hasPreviousPage"
        has-next-page="watchHistory.pager.hasNextPage"
        on-page-next="watchHistory.onPageNext"
        on-page-previous="watchHistory.onPagePrevious"
      ></tool-bar-pager-buttons>
    </div>
  </div>
</div>
