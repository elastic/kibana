# Search Project Config

# Make sure the plugins belonging to this project type are loaded
plugins.allowlistPluginGroups: ['platform', 'search']

# Cross Project Search
cps.enabled: true
cps.cpsEnabled: false

xpack.search.enabled: false
xpack.osquery.enabled: false

# Enable fleet on search projects for agentless features
xpack.fleet.enabled: true
xpack.fleet.packages:
  # fleet_server package installed to publish agent metrics
  - name: fleet_server
    version: latest
# Filter out some observability and security integrations
xpack.fleet.internal.registry.excludePackages: [
  # Security integrations
  'endpoint',
  'beaconing',
  'cloud_security_posture',
  'cloud_defend',
  'security_detection_engine',

  # Oblt integrations
  'apm',
  'synthetics',
  'synthetics_dashboards',

  # Removed in 8.11 integrations
  'cisco',
  'microsoft',
  'symantec',
  'cyberark',

  # Profiling integrations
  'profiler_agent',

  # Search connectors
  'elastic_connectors',
]

## Fine-tune the search solution feature privileges. Also, refer to `serverless.yml` for the project-agnostic overrides.
xpack.features.overrides:
  ### Agent Builder feature is moved from Analytics category to the Search one.
  agentBuilder.category: 'enterpriseSearch'
  ### Workflows Management should be moved from Analytics category to the Search one.
  workflowsManagement.category: 'enterpriseSearch'
  ### Dashboards feature is moved from Analytics category to the Search one.
  dashboard_v2.category: "enterpriseSearch"
  ### Dev Tools feature is moved from Analytics category to the Search one.
  dev_tools.category: "enterpriseSearch"
  ### Discover feature is moved from Analytics category to the Search one.
  discover_v2.category: "enterpriseSearch"
  ### Machine Learning feature is moved from Analytics category to the Management one.
  ml.category: "management"
  ### Stack Alerts feature is moved from Analytics category to the Search one renamed to simply `Alerts`.
  stackAlerts:
    name: "Alerts"
    category: "enterpriseSearch"
  ### Observability AI Assistant feature is moved to Search and renamed
  observabilityAIAssistant:
    name: "AI Assistant"
    category: "enterpriseSearch"

## Cloud settings
xpack.cloud.serverless.project_type: search

## Enable the Serverless Search plugin
xpack.serverless.search.enabled: true

## Set the home route
uiSettings.overrides.defaultRoute: /app/elasticsearch

# Specify in telemetry the project type
telemetry.labels.serverless: search

# Alerts and LLM config
xpack.actions.enabledActionTypes:
  ['.email', '.index', '.slack', '.slack_api', '.jira', '.webhook', '.teams', '.gen-ai', '.bedrock', '.gemini', '.inference', '.mcp']

# Customize empty page state for analytics apps
no_data_page.analyticsNoDataPageFlavor: 'serverless_search'

# Disable Dev tools
xpack.painless_lab.enabled: false

xpack.ml.ad.enabled: false
xpack.ml.dfa.enabled: false
xpack.ml.nlp.enabled: true

xpack.ml.compatibleModuleType: 'search'

data_visualizer.resultLinks.fileBeat.enabled: false

# Search Notebooks
xpack.searchNotebooks.catalog.url: https://elastic-enterprise-search.s3.us-east-2.amazonaws.com/serverless/catalog.json

# Semantic text UI
xpack.index_management.dev.enableSemanticText: true

# Search Homepage
xpack.searchHomepage.enabled: true

# AI Assistant config
xpack.observabilityAIAssistant.enabled: true
xpack.searchAssistant.enabled: true
xpack.searchAssistant.ui.enabled: true
xpack.observabilityAIAssistant.scope: "search"
aiAssistantManagementSelection.preferredAIAssistantType: "observability"
aiAssistantManagementSelection.preferredChatExperience: "agent"

# Query Rules UI
xpack.searchQueryRules.enabled: true

## Search Connectors in stack management
xpack.contentConnectors.ui.enabled: false

# Elastic Managed LLMs
xpack.actions.preconfigured:
  Anthropic-Claude-Sonnet-3-7:
    name: Anthropic Claude Sonnet 3.7
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".rainbow-sprinkles-elastic"
      providerConfig:
        model_id: "rainbow-sprinkles"
  Anthropic-Claude-Sonnet-4-5:
    name: Anthropic Claude Sonnet 4.5
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".gp-llm-v2-chat_completion"
      providerConfig:
        model_id: "gp-llm-v2"
  Anthropic-Claude-Opus-4-5:
    name: Anthropic Claude Opus 4.5
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".anthropic-claude-4.5-opus-chat_completion"
      providerConfig:
        model_id: "anthropic-claude-4.5-opus"
  Anthropic-Claude-Opus-4-6:
    name: Anthropic Claude Opus 4.6
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".anthropic-claude-4.6-opus-chat_completion"
      providerConfig:
        model_id: "anthropic-claude-4.6-opus"
  OpenAI-GPT-OSS-120B:
    name: OpenAI GPT-OSS 120B
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".openai-gpt-oss-120b-chat_completion"
      providerConfig:
        model_id: "openai-gpt-oss-120b"
  OpenAI-GPT-4-1:
    name: OpenAI GPT-4.1
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".openai-gpt-4.1-chat_completion"
      providerConfig:
        model_id: "openai-gpt-4.1"
  OpenAI-GPT-4-1-Mini:
    name: OpenAI GPT-4.1 Mini
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".openai-gpt-4.1-mini-chat_completion"
      providerConfig:
        model_id: "openai-gpt-4.1-mini"
  OpenAI-GPT-5-2:
    name: OpenAI GPT-5.2
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".openai-gpt-5.2-chat_completion"
      providerConfig:
        model_id: "openai-gpt-5.2"
  OpenAI-GPT-OSS-20B:
    name: OpenAI GPT-OSS 20B
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".openai-gpt-oss-20b-chat_completion"
      providerConfig:
        model_id: "openai-gpt-oss-20b"
  OpenAI-o4:
    name: OpenAI o4
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".openai-o4-chat_completion"
      providerConfig:
        model_id: "openai-o4"
  OpenAI-o4-Mini:
    name: OpenAI o4 Mini
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".openai-o4-mini-chat_completion"
      providerConfig:
        model_id: "openai-o4-mini"
  Google-Gemini-2-5-Pro:
    name: Google Gemini 2.5 Pro
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".google-gemini-2.5-pro-chat_completion"
      providerConfig:
        model_id: "google-gemini-2.5-pro"
  Google-Gemini-2-5-Flash:
    name: Google Gemini 2.5 Flash
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".google-gemini-2.5-flash-chat_completion"
      providerConfig:
        model_id: "google-gemini-2.5-flash"
  Google-Gemini-3-0-Pro:
    name: Google Gemini 3.0 Pro
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".google-gemini-3.0-pro-chat_completion"
      providerConfig:
        model_id: "google-gemini-3.0-pro"
  Google-Gemini-3-0-Flash:
    name: Google Gemini 3.0 Flash
    actionTypeId: .inference
    exposeConfig: true
    config:
      provider: "elastic"
      taskType: "chat_completion"
      inferenceId: ".google-gemini-3.0-flash-chat_completion"
      providerConfig:
        model_id: "google-gemini-3.0-flash"
