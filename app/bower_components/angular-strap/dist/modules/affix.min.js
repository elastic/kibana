/**
 * angular-strap
 * @version v2.1.6 - 2015-01-11
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var t=this.defaults={offsetTop:"auto"};this.$get=["$window","debounce","dimensions",function(e,o,s){function n(n,r){function c(t,e,o){var s=a(),n=l();return $>=s?"top":null!==t&&s+t<=e.top?"middle":null!==v&&e.top+o+g>=n-v?"bottom":"middle"}function a(){return h[0]===e?e.pageYOffset:h[0].scrollTop}function l(){return h[0]===e?e.document.body.scrollHeight:h[0].scrollHeight}var u={},p=angular.extend({},t,r),h=p.target,d="affix affix-top affix-bottom",m=!1,g=0,P=0,$=0,v=0,T=null,x=null,b=n.parent();if(p.offsetParent)if(p.offsetParent.match(/^\d+$/))for(var k=0;k<1*p.offsetParent-1;k++)b=b.parent();else b=angular.element(p.offsetParent);return u.init=function(){this.$parseOffsets(),P=s.offset(n[0]).top+g,m=!n[0].style.width,h.on("scroll",this.checkPosition),h.on("click",this.checkPositionWithEventLoop),i.on("resize",this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},u.destroy=function(){h.off("scroll",this.checkPosition),h.off("click",this.checkPositionWithEventLoop),i.off("resize",this.$debouncedOnResize)},u.checkPositionWithEventLoop=function(){setTimeout(u.checkPosition,1)},u.checkPosition=function(){var t=a(),e=s.offset(n[0]),o=s.height(n[0]),i=c(x,e,o);T!==i&&(T=i,n.removeClass(d).addClass("affix"+("middle"!==i?"-"+i:"")),"top"===i?(x=null,n.css("position",p.offsetParent?"":"relative"),m&&n.css("width",""),n.css("top","")):"bottom"===i?(x=p.offsetUnpin?-(1*p.offsetUnpin):e.top-t,m&&n.css("width",""),n.css("position",p.offsetParent?"":"relative"),n.css("top",p.offsetParent?"":f[0].offsetHeight-v-o-P+"px")):(x=null,m&&n.css("width",n[0].offsetWidth+"px"),n.css("position","fixed"),n.css("top",g+"px")))},u.$onResize=function(){u.$parseOffsets(),u.checkPosition()},u.$debouncedOnResize=o(u.$onResize,50),u.$parseOffsets=function(){var t=n.css("position");n.css("position",p.offsetParent?"":"relative"),p.offsetTop&&("auto"===p.offsetTop&&(p.offsetTop="+0"),p.offsetTop.match(/^[-+]\d+$/)?(g=1*-p.offsetTop,$=p.offsetParent?s.offset(b[0]).top+1*p.offsetTop:s.offset(n[0]).top-s.css(n[0],"marginTop",!0)+1*p.offsetTop):$=1*p.offsetTop),p.offsetBottom&&(v=p.offsetParent&&p.offsetBottom.match(/^[-+]\d+$/)?l()-(s.offset(b[0]).top+s.height(b[0]))+1*p.offsetBottom+1:1*p.offsetBottom),n.css("position",t)},u.init(),u}var f=angular.element(e.document.body),i=angular.element(e);return n}]}).directive("bsAffix",["$affix","$window",function(t,e){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(o,s,n,f){var i={scope:o,offsetTop:"auto",target:f?f.$element:angular.element(e)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin"],function(t){angular.isDefined(n[t])&&(i[t]=n[t])});var r=t(s,i);o.$on("$destroy",function(){r&&r.destroy(),i=null,r=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(t){this.$element=t}]}});
//# sourceMappingURL=affix.min.js.map