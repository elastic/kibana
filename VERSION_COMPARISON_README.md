# Kibana Version Comparison Tools

This directory contains tools and documentation for comparing different versions of Kibana.

## Quick Start

### Compare Two Versions

```bash
./compare_versions.sh v8.19.5 v8.19.7
```

## Files Included

### ðŸ“œ Scripts

- **`compare_versions.sh`** - Automated version comparison tool
  - Provides comprehensive analysis of changes between any two Kibana versions
  - Includes commit summaries, file statistics, contributor analysis, and more
  - Usage: `./compare_versions.sh <version1> <version2>`

### ðŸ“– Documentation

- **`VERSION_COMPARISON_GUIDE.md`** - Complete guide with all comparison methods
  - Multiple git comparison techniques
  - Filtering and searching examples
  - Export and reporting options
  - Performance tips

- **`HOW_I_DID_IT.md`** - Step-by-step process documentation
  - Detailed walkthrough of the comparison process
  - Key findings from v8.19.5 to v8.19.7 comparison
  - Tool creation and validation details

- **`VERSION_COMPARISON_README.md`** - This file (quick reference)

## Example: Comparing v8.19.5 to v8.19.7

### Summary Statistics
- **261 commits** between versions
- **1,652 files changed**
- **26,071 lines added**, **9,968 lines deleted**
- **72 unique contributors**

### Quick Commands

```bash
# View all commits between versions
git log --oneline v8.19.5..v8.19.7

# Count commits
git log --oneline v8.19.5..v8.19.7 | wc -l

# File change summary
git diff --stat v8.19.5..v8.19.7

# Changed files only
git diff --name-only v8.19.5..v8.19.7

# Full comparison report
./compare_versions.sh v8.19.5 v8.19.7
```

## Features of compare_versions.sh

The script provides:

1. **Version Information** - Tag details and dates
2. **Commit Summary** - Count and recent commits
3. **File Statistics** - Changes by file type
4. **Contributor Analysis** - Top contributors
5. **Directory Impact** - Most changed directories
6. **Binary Files** - Binary file changes
7. **Dependency Updates** - Package.json changes
8. **Merge Commits** - Merge commit analysis
9. **Tag Annotations** - Tag information
10. **Command Reference** - Useful git commands for further analysis

## Common Use Cases

### Generate Release Notes

```bash
git log --pretty=format:"- %s (%h)" v8.19.5..v8.19.7 > release_notes.txt
```

### Find Security-Related Changes

```bash
git log --grep="security" --regexp-ignore-case v8.19.5..v8.19.7
```

### Analyze Specific Directory

```bash
git log --oneline v8.19.5..v8.19.7 -- x-pack/solutions/security/
```

### View Changes by Author

```bash
git log --author="Author Name" v8.19.5..v8.19.7
```

### Compare Specific File

```bash
git diff v8.19.5..v8.19.7 -- package.json
```

## Error Handling

The script includes proper error handling:

- **Missing arguments:** Shows usage help
- **Invalid tags:** Lists available tags
- **Git errors:** Provides clear error messages

## Requirements

- Git repository access
- Bash shell
- Git tags for the versions you want to compare

## Getting Started

1. Ensure you're in the Kibana repository
2. Make the script executable (if not already):
   ```bash
   chmod +x compare_versions.sh
   ```
3. Run the comparison:
   ```bash
   ./compare_versions.sh v8.19.5 v8.19.7
   ```

## Additional Resources

- **GitHub Comparison:** `https://github.com/elastic/kibana/compare/v8.19.5...v8.19.7`
- **Kibana Release Notes:** https://www.elastic.co/guide/en/kibana/current/release-notes.html
- **Git Documentation:** https://git-scm.com/docs

## Tips

- Use the script for quick overviews
- Use individual git commands for detailed analysis
- Save output to files for archival: `./compare_versions.sh v1 v2 > report.txt`
- Combine with grep, awk, or sed for custom filtering

## Support

For more details, refer to:
- `VERSION_COMPARISON_GUIDE.md` - Comprehensive guide
- `HOW_I_DID_IT.md` - Process documentation
- Git documentation and man pages

## Example Output

When you run `./compare_versions.sh v8.19.5 v8.19.7`, you'll see:

```
========================================
Comparing Kibana Versions: v8.19.5 â†’ v8.19.7
========================================

--- 1. Version Information ---
First version: v8.19.5
...

--- 2. Commit Summary ---
Total commits: 261
...

[and 10 more sections with detailed analysis]
```

## Contributing

To extend the comparison script:
1. Add new analysis sections to `compare_versions.sh`
2. Update documentation in `VERSION_COMPARISON_GUIDE.md`
3. Test with different version combinations
4. Submit a PR with your improvements

## License

This follows the Kibana repository license.

---

**Last Updated:** November 12, 2025
**Example Versions:** v8.19.5 â†’ v8.19.7
**Generated By:** Kibana Copilot Agent
