# https://moonrepo.dev/docs/config/workspace
$schema: https://moonrepo.dev/schemas/workspace.json

projects:
  globs:
    - moon.yml # because we do linking at the root level, every project is project will appear as a dependency
    - src/**/moon.yml
    - x-pack/**/moon.yml
    - examples/**/moon.yml
    - packages/**/moon.yml
vcs:
  defaultBranch: main
  manager: git

hasher:
  batchSize: 1500

pipeline:
  installDependencies: false

# https://moonrepo.dev/docs/guides/remote-cache
# Auth credentials will be missing on local environments, but that's OK.
unstable_remote:
  host: "https://kibana-bazel-remote-h5qd3jkxkq-uc.a.run.app"
  api: http
  cache:
    localReadOnly: true
  auth:
    headers:
      Authorization: "Basic ${MOON_REMOTE_CACHE_TOKEN}"


telemetry: false
