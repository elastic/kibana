# overlays.yaml
overlay: 1.0.0
info:
  title: Overlays that are applicable to both serverless and non-serverless documents
  version: 0.0.1
actions:
  # Add some tag descriptions and displayNames
  - target: '$.tags[?(@.name=="maintenance-window")]'
    description: Change tag description and displayName
    update:
      description: >
        You can schedule single or recurring maintenance windows to temporarily reduce rule notifications.
        For example, a maintenance window prevents false alarms during planned outages.
      externalDocs:
        description: Maintenance window documentation
        url: https://www.elastic.co/docs/explore-analyze/alerts-cases/alerts/maintenance-windows
      x-displayName: 'Maintenance windows'
  - target: '$.tags[?(@.name=="alerting")]'
    description: Change tag description and displayName
    update:
      description: >
        Alerting enables you to define rules, which detect complex conditions within your data.
        When a condition is met, the rule tracks it as an alert and runs the actions that are defined in the rule.
        Actions typically involve the use of connectors to interact with Kibana services or third party integrations.
      externalDocs:
        description: Alerting documentation
        url: https://www.elastic.co/docs/explore-analyze/alerts-cases/alerts
      x-displayName: 'Alerting'
  - target: '$.tags[?(@.name=="cases")]'
    description: Change tag description and displayName
    update:
      description: >
        Cases are used to open and track issues.
        You can add assignees and tags to your cases, set their severity and status, and add alerts, comments, and visualizations.
        You can also send cases to external incident management systems by configuring connectors.
      externalDocs:
        description: Cases documentation
        url: https://www.elastic.co/docs/explore-analyze/alerts-cases/cases
      x-displayName: 'Cases'
  - target: '$.tags[?(@.name=="connectors")]'
    description: Change tag description and displayName
    update:
      description: >
        Connectors provide a central place to store connection information for services and integrations with Elastic or third party systems.
        Alerting rules can use connectors to run actions when rule conditions are met.
      externalDocs:
        description: Connector documentation
        url: https://www.elastic.co/docs/reference/kibana/connectors-kibana
      x-displayName: 'Connectors'
  - target: '$.tags[?(@.name=="agent builder")]'
    description: Change tag description and displayName
    update:
      description: >
        Agent Builder is a set of AI-powered capabilities for developing and interacting with agents that work with your Elasticsearch data.
        
        Most users will probably want to integrate with Agent Builder using MCP or A2A, but you can also work programmatically with tools, agents, and conversations using these Kibana APIs.
      externalDocs:
        description: Learn about working with Agent Builder programmatically
        url: https://www.elastic.co/docs/solutions/search/agent-builder/programmatic-access
      # externalDocs:
        # description: 
        # url: https://www.elastic.co/docs/solutions/search/elastic-agent-builder
      x-displayName: 'Agent Builder'
  - target: '$.tags[?(@.name=="data streams")]'
    description: Change tag description and displayName
    update:
      description: >
        Data stream APIs enable you to manage data streams, which are collections of indices that share the same index template and are managed as a single unit for time-series data.
      x-displayName: 'Data streams'
  - target: '$.tags[?(@.name=="elastic agent actions")]'
    description: Change tag description and displayName
    update:
      description: >
        Elastic Agent actions APIs enable you to manage actions performed on Elastic Agents, including agent reassignment, diagnostics collection, enrollment management, upgrades, and bulk operations for agent lifecycle management.
      x-displayName: 'Elastic Agent actions'
  - target: '$.tags[?(@.name=="elastic agent binary download sources")]'
    description: Change tag description and displayName
    update:
      description: >
        Elastic Agent binary download sources APIs enable you to manage download sources for Elastic Agent binaries, including creating, updating, and deleting custom download sources for agent installations.
      x-displayName: 'Elastic Agent binary download sources'
  - target: '$.tags[?(@.name=="elastic agent policies")]'
    description: Change tag description and displayName
    update:
      description: >
        Elastic Agent policies APIs enable you to manage agent policies, including creating, updating, and deleting policies, as well as managing policy outputs, manifests, and auto-upgrade settings.
      x-displayName: 'Elastic Agent policies'
  - target: '$.tags[?(@.name=="elastic agent status")]'
    description: Change tag description and displayName
    update:
      description: >
        Elastic Agent status APIs enable you to retrieve status information about Elastic Agents, including health summaries and operational status.
      x-displayName: 'Elastic Agent status'
  - target: '$.tags[?(@.name=="elastic agents")]'
    description: Change tag description and displayName
    update:
      description: >
        Elastic Agents APIs enable you to manage Elastic Agents, including retrieving agent information, managing agent lifecycle, handling file uploads, and configuring agent setup.
      x-displayName: 'Elastic Agents'
  - target: '$.tags[?(@.name=="fleet enrollment api keys")]'
    description: Change tag description and displayName
    update:
      description: >
        Fleet enrollment API keys APIs enable you to manage enrollment API keys for Fleet, including creating, retrieving, and revoking keys used for agent enrollment.
      x-displayName: 'Fleet enrollment API keys'
  - target: '$.tags[?(@.name=="fleet internals")]'
    description: Change tag description and displayName
    update:
      description: >
        Fleet internals APIs enable you to manage Fleet internal operations, including checking permissions, monitoring Fleet Server health, managing settings, and initiating Fleet setup.
      x-displayName: 'Fleet internals'
  - target: '$.tags[?(@.name=="fleet outputs")]'
    description: Change tag description and displayName
    update:
      description: >
        Fleet outputs APIs enable you to manage Fleet outputs, including creating, updating, and deleting output configurations, generating API keys, and monitoring output health.
      x-displayName: 'Fleet outputs'
  - target: '$.tags[?(@.name=="fleet package policies")]'
    description: Change tag description and displayName
    update:
      description: >
        Fleet package policies APIs enable you to manage Fleet package policies, including creating, updating, and deleting policies, performing bulk operations, and managing policy upgrades.
      x-displayName: 'Fleet package policies'
  - target: '$.tags[?(@.name=="fleet proxies")]'
    description: Change tag description and displayName
    update:
      description: >
        Fleet proxies APIs enable you to manage Fleet proxies, including creating, updating, and deleting proxy configurations for Fleet agent communication.
      x-displayName: 'Fleet proxies'
  - target: '$.tags[?(@.name=="fleet server hosts")]'
    description: Change tag description and displayName
    update:
      description: >
        Fleet Server hosts APIs enable you to manage Fleet Server hosts, including creating, updating, and deleting Fleet Server host configurations.
      x-displayName: 'Fleet Server hosts'
  - target: '$.tags[?(@.name=="fleet service tokens")]'
    description: Change tag description and displayName
    update:
      description: >
        Enables you to create tokens for Fleet service authentication and authorization.
      x-displayName: 'Fleet service tokens'
  - target: '$.tags[?(@.name=="fleet uninstall tokens")]'
    description: Change tag description and displayName
    update:
      description: >
        Enables you to manage Fleet uninstall tokens, including retrieving metadata and decrypted tokens for agent uninstallation.
      x-displayName: 'Fleet uninstall tokens'
  - target: '$.tags[?(@.name=="message signing service")]'
    description: Change tag description and displayName
    update:
      description: >
        Enables you to rotate message signing key pairs for secure Fleet communication.
      x-displayName: 'Message Signing Service'
  - target: '$.tags[?(@.name=="machine learning")]'
    description: Change tag description and displayName
    update:
      description: >
        Enables you to synchronize machine learning saved objects.
      x-displayName: 'Machine learning'
  - target: '$.tags[?(@.name=="security entity analytics")]'
    description: Change tag description and displayName
    update:
      description: >
        Use the Security entity analytics APIs to manage entity analytics and risk scoring, including asset criticality management, privilege monitoring, entity engines, and risk scoring operations.
      x-displayName: 'Security entity analytics'
  - target: '$.tags[?(@.name=="user session management")]'
    description: Change tag description and displayName
    update:
      description: >
        Enables you to invalidate user sessions for security and session management purposes.
      x-displayName: 'User session management'
  # Add some spaces API examples
  - target: "$.paths['/api/spaces/space']['post']"
    description: 'Add example to create space API'
    update:
      requestBody:
        content:
          application/json:
            examples:
              createSpaceRequest:
                $ref: '../examples/create_space_request.yaml'
  - target: "$.paths['/api/spaces/space/{id}']['put']"
    description: 'Add example to update space API'
    update:
      requestBody:
        content:
          application/json:
            examples:
              updateSpaceRequest:
                $ref: '../examples/update_space_request.yaml'
  - target: "$.paths['/api/spaces/space/{id}']['get']"
    description: 'Add example to get space API'
    update:
      responses:
        200:
          content:
            application/json:
              examples:
                getSpaceResponseExample:
                  $ref: '../examples/get_space_response.yaml'
  - target: "$.paths['/api/spaces/space']['get']"
    description: 'Add example to get all spaces API'
    update:
      responses:
        200:
          content:
            application/json:
              examples:
                getSpacesResponseExample1:
                  $ref: '../examples/get_spaces_response1.yaml'
                getSpacesResponseExample2:
                  $ref: '../examples/get_spaces_response2.yaml'
