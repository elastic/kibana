// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`builds expected bundles, saves bundle counts to metadata: OptimizerConfig 1`] = `
OptimizerConfig {
  "bundles": Array [
    Bundle {
      "banner": undefined,
      "cache": BundleCache {
        "path": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/target/public/.kbn-optimizer-cache,
        "state": undefined,
      },
      "contextDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar,
      "id": "bar",
      "manifestPath": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/kibana.json,
      "outputDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/target/public,
      "pageLoadAssetSizeLimit": undefined,
      "publicDirNames": Array [
        "public",
      ],
      "sourceRoot": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo,
      "type": "plugin",
    },
    Bundle {
      "banner": undefined,
      "cache": BundleCache {
        "path": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/target/public/.kbn-optimizer-cache,
        "state": undefined,
      },
      "contextDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo,
      "id": "foo",
      "manifestPath": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/kibana.json,
      "outputDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/target/public,
      "pageLoadAssetSizeLimit": undefined,
      "publicDirNames": Array [
        "public",
      ],
      "sourceRoot": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo,
      "type": "plugin",
    },
    Bundle {
      "banner": "/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
",
      "cache": BundleCache {
        "path": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/x-pack/baz/target/public/.kbn-optimizer-cache,
        "state": undefined,
      },
      "contextDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/x-pack/baz,
      "id": "baz",
      "manifestPath": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/x-pack/baz/kibana.json,
      "outputDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/x-pack/baz/target/public,
      "pageLoadAssetSizeLimit": undefined,
      "publicDirNames": Array [
        "public",
      ],
      "sourceRoot": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo,
      "type": "plugin",
    },
  ],
  "cache": true,
  "dist": false,
  "filteredBundles": Array [
    Bundle {
      "banner": undefined,
      "cache": BundleCache {
        "path": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/target/public/.kbn-optimizer-cache,
        "state": undefined,
      },
      "contextDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar,
      "id": "bar",
      "manifestPath": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/kibana.json,
      "outputDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/target/public,
      "pageLoadAssetSizeLimit": undefined,
      "publicDirNames": Array [
        "public",
      ],
      "sourceRoot": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo,
      "type": "plugin",
    },
    Bundle {
      "banner": undefined,
      "cache": BundleCache {
        "path": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/target/public/.kbn-optimizer-cache,
        "state": undefined,
      },
      "contextDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo,
      "id": "foo",
      "manifestPath": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/kibana.json,
      "outputDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/target/public,
      "pageLoadAssetSizeLimit": undefined,
      "publicDirNames": Array [
        "public",
      ],
      "sourceRoot": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo,
      "type": "plugin",
    },
    Bundle {
      "banner": "/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
",
      "cache": BundleCache {
        "path": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/x-pack/baz/target/public/.kbn-optimizer-cache,
        "state": undefined,
      },
      "contextDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/x-pack/baz,
      "id": "baz",
      "manifestPath": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/x-pack/baz/kibana.json,
      "outputDir": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/x-pack/baz/target/public,
      "pageLoadAssetSizeLimit": undefined,
      "publicDirNames": Array [
        "public",
      ],
      "sourceRoot": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo,
      "type": "plugin",
    },
  ],
  "inspectWorkers": false,
  "maxWorkerCount": 1,
  "plugins": Array [
    Object {
      "directory": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar,
      "extraPublicDirs": Array [],
      "id": "bar",
      "isUiPlugin": true,
      "manifestPath": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/bar/kibana.json,
    },
    Object {
      "directory": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo,
      "extraPublicDirs": Array [],
      "id": "foo",
      "isUiPlugin": true,
      "manifestPath": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/foo/kibana.json,
    },
    Object {
      "directory": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/nested/baz,
      "extraPublicDirs": Array [],
      "id": "baz",
      "isUiPlugin": false,
      "manifestPath": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/plugins/nested/baz/kibana.json,
    },
    Object {
      "directory": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/x-pack/baz,
      "extraPublicDirs": Array [],
      "id": "baz",
      "isUiPlugin": true,
      "manifestPath": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo/x-pack/baz/kibana.json,
    },
  ],
  "profileWebpack": false,
  "repoRoot": <absolute path>/packages/kbn-optimizer/src/__fixtures__/__tmp__/mock_repo,
  "themeTags": Array [
    "v8dark",
    "v8light",
  ],
  "watch": false,
}
`;

exports[`prepares assets for distribution: bar bundle 1`] = `
"!(function (e) {
  var n = {};
  function t(r) {
    if (n[r]) return n[r].exports;
    var o = (n[r] = { i: r, l: !1, exports: {} });
    return e[r].call(o.exports, o, o.exports, t), (o.l = !0), o.exports;
  }
  (t.m = e),
    (t.c = n),
    (t.d = function (e, n, r) {
      t.o(e, n) || Object.defineProperty(e, n, { enumerable: !0, get: r });
    }),
    (t.r = function (e) {
      \\"undefined\\" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, { value: \\"Module\\" }),
        Object.defineProperty(e, \\"__esModule\\", { value: !0 });
    }),
    (t.t = function (e, n) {
      if (
        (1 & n && (e = t(e)),
        8 & n || (4 & n && \\"object\\" == typeof e && e && e.__esModule))
      )
        return e;
      var r = Object.create(null);
      if (
        (t.r(r),
        Object.defineProperty(r, \\"default\\", { enumerable: !0, value: e }),
        2 & n && \\"string\\" != typeof e)
      )
        for (var o in e)
          t.d(
            r,
            o,
            function (n) {
              return e[n];
            }.bind(null, o)
          );
      return r;
    }),
    (t.n = function (e) {
      var n =
        e && e.__esModule
          ? function () {
              return e.default;
            }
          : function () {
              return e;
            };
      return t.d(n, \\"a\\", n), n;
    }),
    (t.o = function (e, n) {
      return Object.prototype.hasOwnProperty.call(e, n);
    }),
    (t.p = \\"\\"),
    t((t.s = 3));
})([
  function (e, n, t) {
    \\"use strict\\";
    var r,
      o,
      i =
        ((o = {}),
        function (e) {
          if (void 0 === o[e]) {
            var n = document.querySelector(e);
            if (
              window.HTMLIFrameElement &&
              n instanceof window.HTMLIFrameElement
            )
              try {
                n = n.contentDocument.head;
              } catch (t) {
                n = null;
              }
            o[e] = n;
          }
          return o[e];
        }),
      c = [];
    function u(e) {
      for (var n = -1, t = 0; t < c.length; t++)
        if (c[t].identifier === e) {
          n = t;
          break;
        }
      return n;
    }
    function a(e, n) {
      for (var t = {}, r = [], o = 0; o < e.length; o++) {
        var i = e[o],
          a = n.base ? i[0] + n.base : i[0],
          f = t[a] || 0,
          s = \\"\\".concat(a, \\" \\").concat(f);
        t[a] = f + 1;
        var l = u(s),
          p = { css: i[1], media: i[2], sourceMap: i[3] };
        -1 !== l
          ? (c[l].references++, c[l].updater(p))
          : c.push({ identifier: s, updater: _(p, n), references: 1 }),
          r.push(s);
      }
      return r;
    }
    function f(e) {
      var n = document.createElement(\\"style\\"),
        r = e.attributes || {};
      if (void 0 === r.nonce) {
        var o = t.nc;
        o && (r.nonce = o);
      }
      if (
        (Object.keys(r).forEach(function (e) {
          n.setAttribute(e, r[e]);
        }),
        \\"function\\" == typeof e.insert)
      )
        e.insert(n);
      else {
        var c = i(e.insert || \\"head\\");
        if (!c)
          throw Error(
            \\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\\"
          );
        c.appendChild(n);
      }
      return n;
    }
    var s,
      l =
        ((s = []),
        function (e, n) {
          return (s[e] = n), s.filter(Boolean).join(\\"\\\\n\\");
        });
    function p(e, n, t, r) {
      var o = t
        ? \\"\\"
        : r.media
        ? \\"@media \\".concat(r.media, \\" {\\").concat(r.css, \\"}\\")
        : r.css;
      if (e.styleSheet) e.styleSheet.cssText = l(n, o);
      else {
        var i = document.createTextNode(o),
          c = e.childNodes;
        c[n] && e.removeChild(c[n]),
          c.length ? e.insertBefore(i, c[n]) : e.appendChild(i);
      }
    }
    function d(e, n, t) {
      var r = t.css,
        o = t.media,
        i = t.sourceMap;
      if (
        (o ? e.setAttribute(\\"media\\", o) : e.removeAttribute(\\"media\\"),
        i &&
          \\"undefined\\" != typeof btoa &&
          (r += \\"\\\\n/*# sourceMappingURL=data:application/json;base64,\\".concat(
            btoa(unescape(encodeURIComponent(JSON.stringify(i)))),
            \\" */\\"
          )),
        e.styleSheet)
      )
        e.styleSheet.cssText = r;
      else {
        for (; e.firstChild; ) e.removeChild(e.firstChild);
        e.appendChild(document.createTextNode(r));
      }
    }
    var v = null,
      h = 0;
    function _(e, n) {
      if (n.singleton) {
        var t,
          r,
          o,
          i = h++;
        (t = v || (v = f(n))),
          (r = p.bind(null, t, i, !1)),
          (o = p.bind(null, t, i, !0));
      } else
        (t = f(n)),
          (r = d.bind(null, t, n)),
          (o = function () {
            !(function (e) {
              if (null === e.parentNode) return !1;
              e.parentNode.removeChild(e);
            })(t);
          });
      return (
        r(e),
        function (n) {
          n
            ? (n.css !== e.css ||
                n.media !== e.media ||
                n.sourceMap !== e.sourceMap) &&
              r((e = n))
            : o();
        }
      );
    }
    e.exports = function (e, n) {
      (n = n || {}).singleton ||
        \\"boolean\\" == typeof n.singleton ||
        (n.singleton =
          (void 0 === r &&
            (r = Boolean(window && document && document.all && !window.atob)),
          r)),
        (e = e || []);
      var t = a(e, n);
      return function (e) {
        if (
          ((e = e || []),
          \\"[object Array]\\" === Object.prototype.toString.call(e))
        ) {
          for (var r = 0; r < t.length; r++) {
            var o = u(t[r]);
            c[o].references--;
          }
          for (var i = a(e, n), f = 0; f < t.length; f++) {
            var s = u(t[f]);
            0 === c[s].references && (c[s].updater(), c.splice(s, 1));
          }
          t = i;
        }
      };
    };
  },
  function (e, n, t) {
    \\"use strict\\";
    function r(e) {
      var n = btoa(unescape(encodeURIComponent(JSON.stringify(e)))),
        t =
          \\"sourceMappingURL=data:application/json;charset=utf-8;base64,\\".concat(
            n
          );
      return \\"/*# \\".concat(t, \\" */\\");
    }
    e.exports = function (e) {
      var n = [];
      return (
        (n.toString = function () {
          return this.map(function (n) {
            var t = (function e(n, t) {
              var o = n[1] || \\"\\",
                i = n[3];
              if (!i) return o;
              if (t && \\"function\\" == typeof btoa) {
                var c = r(i),
                  u = i.sources.map(function (e) {
                    return \\"/*# sourceURL=\\"
                      .concat(i.sourceRoot || \\"\\")
                      .concat(e, \\" */\\");
                  });
                return [o].concat(u).concat([c]).join(\\"\\\\n\\");
              }
              return [o].join(\\"\\\\n\\");
            })(n, e);
            return n[2] ? \\"@media \\".concat(n[2], \\" {\\").concat(t, \\"}\\") : t;
          }).join(\\"\\");
        }),
        (n.i = function (e, t, r) {
          \\"string\\" == typeof e && (e = [[null, e, \\"\\"]]);
          var o = {};
          if (r)
            for (var i = 0; i < this.length; i++) {
              var c = this[i][0];
              null != c && (o[c] = !0);
            }
          for (var u = 0; u < e.length; u++) {
            var a = [].concat(e[u]);
            (!r || !o[a[0]]) &&
              (t &&
                (a[2]
                  ? (a[2] = \\"\\".concat(t, \\" and \\").concat(a[2]))
                  : (a[2] = t)),
              n.push(a));
          }
        }),
        n
      );
    };
  },
  function (e, n, t) {
    t.r(n),
      Object.defineProperties(
        n,
        Object.getOwnPropertyDescriptors(
          __kbnBundles__.get(\\"plugin/foo/public\\")
        )
      );
  },
  function (e, n, t) {
    t(4), __kbnBundles__.define(\\"plugin/bar/public\\", t, 15);
  },
  function (e, n, t) {
    t.p = window.__kbnPublicPath__.bar;
  },
  function (e, n, t) {
    switch (window.__kbnThemeTag__) {
      case \\"v8dark\\":
        return t(6);
      case \\"v8light\\":
        return t(8);
    }
  },
  function (e, n, t) {
    var r = t(0),
      o = t(7);
    \\"string\\" == typeof (o = o.__esModule ? o.default : o) &&
      (o = [[e.i, o, \\"\\"]]);
    var i = {};
    (i.insert = \\"head\\"),
      (i.singleton = !1),
      r(o, i),
      (e.exports = o.locals || {});
  },
  function (e, n, t) {
    (n = t(1)(!1)).push([e.i, \\"p{background-color:#639}body{width:12}\\", \\"\\"]),
      (e.exports = n);
  },
  function (e, n, t) {
    var r = t(0),
      o = t(9);
    \\"string\\" == typeof (o = o.__esModule ? o.default : o) &&
      (o = [[e.i, o, \\"\\"]]);
    var i = {};
    (i.insert = \\"head\\"),
      (i.singleton = !1),
      r(o, i),
      (e.exports = o.locals || {});
  },
  function (e, n, t) {
    (n = t(1)(!1)).push([e.i, \\"p{background-color:#639}body{width:13}\\", \\"\\"]),
      (e.exports = n);
  },
  function (e, n, t) {
    switch (window.__kbnThemeTag__) {
      case \\"v8dark\\":
        return t(11);
      case \\"v8light\\":
        return t(13);
    }
  },
  function (e, n, t) {
    var r = t(0),
      o = t(12);
    \\"string\\" == typeof (o = o.__esModule ? o.default : o) &&
      (o = [[e.i, o, \\"\\"]]);
    var i = {};
    (i.insert = \\"head\\"),
      (i.singleton = !1),
      r(o, i),
      (e.exports = o.locals || {});
  },
  function (e, n, t) {
    (n = t(1)(!1)).push([e.i, \\"body{color:green}\\", \\"\\"]), (e.exports = n);
  },
  function (e, n, t) {
    var r = t(0),
      o = t(14);
    \\"string\\" == typeof (o = o.__esModule ? o.default : o) &&
      (o = [[e.i, o, \\"\\"]]);
    var i = {};
    (i.insert = \\"head\\"),
      (i.singleton = !1),
      r(o, i),
      (e.exports = o.locals || {});
  },
  function (e, n, t) {
    (n = t(1)(!1)).push([e.i, \\"body{color:green}\\", \\"\\"]), (e.exports = n);
  },
  function (e, n, t) {
    \\"use strict\\";
    t.r(n),
      t.d(n, \\"barLibFn\\", function () {
        return o;
      }),
      t.d(n, \\"fooLibFn\\", function () {
        return r.fooLibFn;
      }),
      t(5),
      t(10);
    var r = t(2);
    function o() {
      return \\"bar\\";
    }
  },
]);
"
`;

exports[`prepares assets for distribution: baz bundle 1`] = `
"/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */ !(function (
  n
) {
  var e = {};
  function r(t) {
    if (e[t]) return e[t].exports;
    var o = (e[t] = { i: t, l: !1, exports: {} });
    return n[t].call(o.exports, o, o.exports, r), (o.l = !0), o.exports;
  }
  (r.m = n),
    (r.c = e),
    (r.d = function (n, e, t) {
      r.o(n, e) || Object.defineProperty(n, e, { enumerable: !0, get: t });
    }),
    (r.r = function (n) {
      \\"undefined\\" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(n, Symbol.toStringTag, { value: \\"Module\\" }),
        Object.defineProperty(n, \\"__esModule\\", { value: !0 });
    }),
    (r.t = function (n, e) {
      if (
        (1 & e && (n = r(n)),
        8 & e || (4 & e && \\"object\\" == typeof n && n && n.__esModule))
      )
        return n;
      var t = Object.create(null);
      if (
        (r.r(t),
        Object.defineProperty(t, \\"default\\", { enumerable: !0, value: n }),
        2 & e && \\"string\\" != typeof n)
      )
        for (var o in n)
          r.d(
            t,
            o,
            function (e) {
              return n[e];
            }.bind(null, o)
          );
      return t;
    }),
    (r.n = function (n) {
      var e =
        n && n.__esModule
          ? function () {
              return n.default;
            }
          : function () {
              return n;
            };
      return r.d(e, \\"a\\", e), e;
    }),
    (r.o = function (n, e) {
      return Object.prototype.hasOwnProperty.call(n, e);
    }),
    (r.p = \\"\\"),
    r((r.s = 0));
})([
  function (n, e, r) {
    r(1), __kbnBundles__.define(\\"plugin/baz/public\\", r, 2);
  },
  function (n, e, r) {
    r.p = window.__kbnPublicPath__.baz;
  },
  function (n, e) {
    console.log(\\"plugin in an x-pack dir\\");
  },
]);
"
`;

exports[`prepares assets for distribution: foo async bundle 1`] = `
"(window.foo_bundle_jsonpfunction = window.foo_bundle_jsonpfunction || []).push([
  [1],
  {
    3: function (n, o, u) {
      \\"use strict\\";
      function f() {}
      u.r(o),
        u.d(o, \\"foo\\", function () {
          return f;
        });
    },
  },
]);
"
`;

exports[`prepares assets for distribution: foo bundle 1`] = `
"!(function (n) {
  function r(r) {
    for (var e, o, u = r[0], i = r[1], f = 0, c = []; f < u.length; f++)
      (o = u[f]),
        Object.prototype.hasOwnProperty.call(t, o) && t[o] && c.push(t[o][0]),
        (t[o] = 0);
    for (e in i) Object.prototype.hasOwnProperty.call(i, e) && (n[e] = i[e]);
    for (a && a(r); c.length; ) c.shift()();
  }
  var e = {},
    t = { 0: 0 };
  function o(r) {
    if (e[r]) return e[r].exports;
    var t = (e[r] = { i: r, l: !1, exports: {} });
    return n[r].call(t.exports, t, t.exports, o), (t.l = !0), t.exports;
  }
  (o.e = function (n) {
    var r = [],
      e = t[n];
    if (0 !== e) {
      if (e) r.push(e[2]);
      else {
        var u,
          i = new Promise(function (r, o) {
            e = t[n] = [r, o];
          });
        r.push((e[2] = i));
        var f,
          a = document.createElement(\\"script\\");
        (a.charset = \\"utf-8\\"),
          (a.timeout = 120),
          o.nc && a.setAttribute(\\"nonce\\", o.nc),
          (a.src = ((f = n), o.p + \\"foo.chunk.\\" + f + \\".js\\"));
        var c = Error();
        u = function (r) {
          (a.onerror = a.onload = null), clearTimeout(l);
          var e = t[n];
          if (0 !== e) {
            if (e) {
              var o = r && (\\"load\\" === r.type ? \\"missing\\" : r.type),
                u = r && r.target && r.target.src;
              (c.message =
                \\"Loading chunk \\" + n + \\" failed.\\\\n(\\" + o + \\": \\" + u + \\")\\"),
                (c.name = \\"ChunkLoadError\\"),
                (c.type = o),
                (c.request = u),
                e[1](c);
            }
            t[n] = void 0;
          }
        };
        var l = setTimeout(function () {
          u({ type: \\"timeout\\", target: a });
        }, 12e4);
        (a.onerror = a.onload = u), document.head.appendChild(a);
      }
    }
    return Promise.all(r);
  }),
    (o.m = n),
    (o.c = e),
    (o.d = function (n, r, e) {
      o.o(n, r) || Object.defineProperty(n, r, { enumerable: !0, get: e });
    }),
    (o.r = function (n) {
      \\"undefined\\" != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(n, Symbol.toStringTag, { value: \\"Module\\" }),
        Object.defineProperty(n, \\"__esModule\\", { value: !0 });
    }),
    (o.t = function (n, r) {
      if (
        (1 & r && (n = o(n)),
        8 & r || (4 & r && \\"object\\" == typeof n && n && n.__esModule))
      )
        return n;
      var e = Object.create(null);
      if (
        (o.r(e),
        Object.defineProperty(e, \\"default\\", { enumerable: !0, value: n }),
        2 & r && \\"string\\" != typeof n)
      )
        for (var t in n)
          o.d(
            e,
            t,
            function (r) {
              return n[r];
            }.bind(null, t)
          );
      return e;
    }),
    (o.n = function (n) {
      var r =
        n && n.__esModule
          ? function () {
              return n.default;
            }
          : function () {
              return n;
            };
      return o.d(r, \\"a\\", r), r;
    }),
    (o.o = function (n, r) {
      return Object.prototype.hasOwnProperty.call(n, r);
    }),
    (o.p = \\"\\"),
    (o.oe = function (n) {
      throw (console.error(n), n);
    });
  var u = (window.foo_bundle_jsonpfunction =
      window.foo_bundle_jsonpfunction || []),
    i = u.push.bind(u);
  (u.push = r), (u = u.slice());
  for (var f = 0; f < u.length; f++) r(u[f]);
  var a = i;
  o((o.s = 0));
})([
  function (n, r, e) {
    e(1), __kbnBundles__.define(\\"plugin/foo/public\\", e, 2);
  },
  function (n, r, e) {
    e.p = window.__kbnPublicPath__.foo;
  },
  function (n, r, e) {
    \\"use strict\\";
    function t() {
      return \\"foo\\";
    }
    e.r(r),
      e.d(r, \\"fooLibFn\\", function () {
        return t;
      }),
      e.d(r, \\"ext\\", function () {
        return o;
      }),
      e.d(r, \\"getFoo\\", function () {
        return u;
      });
    let o = \\"TRUE\\";
    async function u() {
      return await e.e(1).then(e.bind(null, 3));
    }
  },
]);
"
`;

exports[`prepares assets for distribution: metrics.json 1`] = `
"[
  {
    \\"group\\": \\"@kbn/optimizer bundle module count\\",
    \\"id\\": \\"foo\\",
    \\"value\\": 6
  },
  {
    \\"group\\": \\"page load bundle size\\",
    \\"id\\": \\"foo\\",
    \\"value\\": 2420,
    \\"limitConfigPath\\": \\"node_modules/@kbn/optimizer/limits.yml\\"
  },
  {
    \\"group\\": \\"async chunks size\\",
    \\"id\\": \\"foo\\",
    \\"value\\": 170
  },
  {
    \\"group\\": \\"async chunk count\\",
    \\"id\\": \\"foo\\",
    \\"value\\": 1
  },
  {
    \\"group\\": \\"miscellaneous assets size\\",
    \\"id\\": \\"foo\\",
    \\"value\\": 0
  }
]"
`;
