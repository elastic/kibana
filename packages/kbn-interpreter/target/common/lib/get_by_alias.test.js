"use strict";

var _get_by_alias = require("./get_by_alias");

/*
 * Licensed to Elasticsearch B.V. under one or more contributor
 * license agreements. See the NOTICE file distributed with
 * this work for additional information regarding copyright
 * ownership. Elasticsearch B.V. licenses this file to you under
 * the Apache License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
describe('getByAlias', function () {
  var fnsObject = {
    foo: {
      name: 'foo',
      aliases: ['f']
    },
    bar: {
      name: 'bar',
      aliases: ['b']
    }
  };
  var fnsArray = [{
    name: 'foo',
    aliases: ['f']
  }, {
    name: 'bar',
    aliases: ['b']
  }];
  it('returns the function by name', function () {
    expect((0, _get_by_alias.getByAlias)(fnsObject, 'foo')).toBe(fnsObject.foo);
    expect((0, _get_by_alias.getByAlias)(fnsObject, 'bar')).toBe(fnsObject.bar);
    expect((0, _get_by_alias.getByAlias)(fnsArray, 'foo')).toBe(fnsArray[0]);
    expect((0, _get_by_alias.getByAlias)(fnsArray, 'bar')).toBe(fnsArray[1]);
  });
  it('returns the function by alias', function () {
    expect((0, _get_by_alias.getByAlias)(fnsObject, 'f')).toBe(fnsObject.foo);
    expect((0, _get_by_alias.getByAlias)(fnsObject, 'b')).toBe(fnsObject.bar);
    expect((0, _get_by_alias.getByAlias)(fnsArray, 'f')).toBe(fnsArray[0]);
    expect((0, _get_by_alias.getByAlias)(fnsArray, 'b')).toBe(fnsArray[1]);
  });
  it('returns the function by case-insensitive name', function () {
    expect((0, _get_by_alias.getByAlias)(fnsObject, 'FOO')).toBe(fnsObject.foo);
    expect((0, _get_by_alias.getByAlias)(fnsObject, 'BAR')).toBe(fnsObject.bar);
    expect((0, _get_by_alias.getByAlias)(fnsArray, 'FOO')).toBe(fnsArray[0]);
    expect((0, _get_by_alias.getByAlias)(fnsArray, 'BAR')).toBe(fnsArray[1]);
  });
  it('returns the function by case-insensitive alias', function () {
    expect((0, _get_by_alias.getByAlias)(fnsObject, 'F')).toBe(fnsObject.foo);
    expect((0, _get_by_alias.getByAlias)(fnsObject, 'B')).toBe(fnsObject.bar);
    expect((0, _get_by_alias.getByAlias)(fnsArray, 'F')).toBe(fnsArray[0]);
    expect((0, _get_by_alias.getByAlias)(fnsArray, 'B')).toBe(fnsArray[1]);
  });
  it('handles empty strings', function () {
    var emptyStringFnsObject = {
      '': {
        name: ''
      }
    };
    var emptyStringAliasFnsObject = {
      foo: {
        name: 'foo',
        aliases: ['']
      }
    };
    expect((0, _get_by_alias.getByAlias)(emptyStringFnsObject, '')).toBe(emptyStringFnsObject['']);
    expect((0, _get_by_alias.getByAlias)(emptyStringAliasFnsObject, '')).toBe(emptyStringAliasFnsObject.foo);
    var emptyStringFnsArray = [{
      name: ''
    }];
    var emptyStringAliasFnsArray = [{
      name: 'foo',
      aliases: ['']
    }];
    expect((0, _get_by_alias.getByAlias)(emptyStringFnsArray, '')).toBe(emptyStringFnsArray[0]);
    expect((0, _get_by_alias.getByAlias)(emptyStringAliasFnsArray, '')).toBe(emptyStringAliasFnsArray[0]);
  });
  it('handles "undefined" strings', function () {
    var undefinedFnsObject = {
      undefined: {
        name: 'undefined'
      }
    };
    var undefinedAliasFnsObject = {
      foo: {
        name: 'undefined',
        aliases: ['undefined']
      }
    };
    expect((0, _get_by_alias.getByAlias)(undefinedFnsObject, 'undefined')).toBe(undefinedFnsObject.undefined);
    expect((0, _get_by_alias.getByAlias)(undefinedAliasFnsObject, 'undefined')).toBe(undefinedAliasFnsObject.foo);
    var emptyStringFnsArray = [{
      name: 'undefined'
    }];
    var emptyStringAliasFnsArray = [{
      name: 'foo',
      aliases: ['undefined']
    }];
    expect((0, _get_by_alias.getByAlias)(emptyStringFnsArray, 'undefined')).toBe(emptyStringFnsArray[0]);
    expect((0, _get_by_alias.getByAlias)(emptyStringAliasFnsArray, 'undefined')).toBe(emptyStringAliasFnsArray[0]);
  });
  it('returns undefined if not found', function () {
    expect((0, _get_by_alias.getByAlias)(fnsObject, 'baz')).toBe(undefined);
    expect((0, _get_by_alias.getByAlias)(fnsArray, 'baz')).toBe(undefined);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vbGliL2dldF9ieV9hbGlhcy50ZXN0LmpzIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiZm5zT2JqZWN0IiwiZm9vIiwibmFtZSIsImFsaWFzZXMiLCJiYXIiLCJmbnNBcnJheSIsIml0IiwiZXhwZWN0IiwidG9CZSIsImVtcHR5U3RyaW5nRm5zT2JqZWN0IiwiZW1wdHlTdHJpbmdBbGlhc0Zuc09iamVjdCIsImVtcHR5U3RyaW5nRm5zQXJyYXkiLCJlbXB0eVN0cmluZ0FsaWFzRm5zQXJyYXkiLCJ1bmRlZmluZWRGbnNPYmplY3QiLCJ1bmRlZmluZWQiLCJ1bmRlZmluZWRBbGlhc0Zuc09iamVjdCJdLCJtYXBwaW5ncyI6Ijs7QUFtQkE7O0FBbkJBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQkFBLFFBQVEsQ0FBQyxZQUFELEVBQWUsWUFBTTtBQUMzQixNQUFNQyxTQUFTLEdBQUc7QUFDaEJDLElBQUFBLEdBQUcsRUFBRTtBQUFFQyxNQUFBQSxJQUFJLEVBQUUsS0FBUjtBQUFlQyxNQUFBQSxPQUFPLEVBQUUsQ0FBQyxHQUFEO0FBQXhCLEtBRFc7QUFFaEJDLElBQUFBLEdBQUcsRUFBRTtBQUFFRixNQUFBQSxJQUFJLEVBQUUsS0FBUjtBQUFlQyxNQUFBQSxPQUFPLEVBQUUsQ0FBQyxHQUFEO0FBQXhCO0FBRlcsR0FBbEI7QUFLQSxNQUFNRSxRQUFRLEdBQUcsQ0FBQztBQUFFSCxJQUFBQSxJQUFJLEVBQUUsS0FBUjtBQUFlQyxJQUFBQSxPQUFPLEVBQUUsQ0FBQyxHQUFEO0FBQXhCLEdBQUQsRUFBa0M7QUFBRUQsSUFBQUEsSUFBSSxFQUFFLEtBQVI7QUFBZUMsSUFBQUEsT0FBTyxFQUFFLENBQUMsR0FBRDtBQUF4QixHQUFsQyxDQUFqQjtBQUVBRyxFQUFBQSxFQUFFLENBQUMsOEJBQUQsRUFBaUMsWUFBTTtBQUN2Q0MsSUFBQUEsTUFBTSxDQUFDLDhCQUFXUCxTQUFYLEVBQXNCLEtBQXRCLENBQUQsQ0FBTixDQUFxQ1EsSUFB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QUFBLE1BQU0sQ0FBQyw4QkFBV00sa0JBQVgsRUFBK0IsV0FBL0IsQ0FBRCxDQUFOLENBQW9ETCxJQUFwRCxDQUF5REssa0JBQWtCLENBQUNDLFNBQTVFO0FBQ0FQLElBQUFBLE1BQU0sQ0FBQyw4QkFBV1EsdUJBQVgsRUFBb0MsV0FBcEMsQ0FBRCxDQUFOLENBQXlEUCxJQUF6RCxDQUE4RE8sdUJBQXVCLENBQUNkLEdBQXRGO0FBRUEsUUFBTVUsbUJBQW1CLEdBQUcsQ0FBQztBQUFFVCxNQUFBQSxJQUFJLEVBQUU7QUFBUixLQUFELENBQTVCO0FBQ0EsUUFBTVUsd0JBQXdCLEdBQUcsQ0FBQztBQUFFVixNQUFBQSxJQUFJLEVBQUUsS0FBUjtBQUFlQyxNQUFBQSxPQUFPLEVBQUUsQ0FBQyxXQUFEO0FBQXhCLEtBQUQsQ0FBakM7QUFDQUksSUFBQUEsTUFBTSxDQUFDLDhCQUFXSSxtQkFBWCxFQUFnQyxXQUFoQyxDQUFELENBQU4sQ0FBcURILElBQXJELENBQTBERyxtQkFBbUIsQ0FBQyxDQUFELENBQTdFO0FBQ0FKLElBQUFBLE1BQU0sQ0FBQyw4QkFBV0ssd0JBQVgsRUFBcUMsV0FBckMsQ0FBRCxDQUFOLENBQTBESixJQUExRCxDQUErREksd0JBQXdCLENBQUMsQ0FBRCxDQUF2RjtBQUNELEdBVkMsQ0FBRjtBQVlBTixFQUFBQSxFQUFFLENBQUMsZ0NBQUQsRUFBbUMsWUFBTTtBQUN6Q0MsSUFBQUEsTUFBTSxDQUFDLDhCQUFXUCxTQUFYLEVBQXNCLEtBQXRCLENBQUQsQ0FBTixDQUFxQ1EsSUFBckMsQ0FBMENNLFNBQTFDO0FBQ0FQLElBQUFBLE1BQU0sQ0FBQyw4QkFBV0YsUUFBWCxFQUFxQixLQUFyQixDQUFELENBQU4sQ0FBb0NHLElBQXBDLENBQXlDTSxTQUF6QztBQUNELEdBSEMsQ0FBRjtBQUlELENBaEVPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogTGljZW5zZWQgdG8gRWxhc3RpY3NlYXJjaCBCLlYuIHVuZGVyIG9uZSBvciBtb3JlIGNvbnRyaWJ1dG9yXG4gKiBsaWNlbnNlIGFncmVlbWVudHMuIFNlZSB0aGUgTk9USUNFIGZpbGUgZGlzdHJpYnV0ZWQgd2l0aFxuICogdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBjb3B5cmlnaHRcbiAqIG93bmVyc2hpcC4gRWxhc3RpY3NlYXJjaCBCLlYuIGxpY2Vuc2VzIHRoaXMgZmlsZSB0byB5b3UgdW5kZXJcbiAqIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXlcbiAqIG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgZ2V0QnlBbGlhcyB9IGZyb20gJy4vZ2V0X2J5X2FsaWFzJztcblxuZGVzY3JpYmUoJ2dldEJ5QWxpYXMnLCAoKSA9PiB7XG4gIGNvbnN0IGZuc09iamVjdCA9IHtcbiAgICBmb286IHsgbmFtZTogJ2ZvbycsIGFsaWFzZXM6IFsnZiddIH0sXG4gICAgYmFyOiB7IG5hbWU6ICdiYXInLCBhbGlhc2VzOiBbJ2InXSB9LFxuICB9O1xuXG4gIGNvbnN0IGZuc0FycmF5ID0gW3sgbmFtZTogJ2ZvbycsIGFsaWFzZXM6IFsnZiddIH0sIHsgbmFtZTogJ2JhcicsIGFsaWFzZXM6IFsnYiddIH1dO1xuXG4gIGl0KCdyZXR1cm5zIHRoZSBmdW5jdGlvbiBieSBuYW1lJywgKCkgPT4ge1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc09iamVjdCwgJ2ZvbycpKS50b0JlKGZuc09iamVjdC5mb28pO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc09iamVjdCwgJ2JhcicpKS50b0JlKGZuc09iamVjdC5iYXIpO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc0FycmF5LCAnZm9vJykpLnRvQmUoZm5zQXJyYXlbMF0pO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc0FycmF5LCAnYmFyJykpLnRvQmUoZm5zQXJyYXlbMV0pO1xuICB9KTtcblxuICBpdCgncmV0dXJucyB0aGUgZnVuY3Rpb24gYnkgYWxpYXMnLCAoKSA9PiB7XG4gICAgZXhwZWN0KGdldEJ5QWxpYXMoZm5zT2JqZWN0LCAnZicpKS50b0JlKGZuc09iamVjdC5mb28pO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc09iamVjdCwgJ2InKSkudG9CZShmbnNPYmplY3QuYmFyKTtcbiAgICBleHBlY3QoZ2V0QnlBbGlhcyhmbnNBcnJheSwgJ2YnKSkudG9CZShmbnNBcnJheVswXSk7XG4gICAgZXhwZWN0KGdldEJ5QWxpYXMoZm5zQXJyYXksICdiJykpLnRvQmUoZm5zQXJyYXlbMV0pO1xuICB9KTtcblxuICBpdCgncmV0dXJucyB0aGUgZnVuY3Rpb24gYnkgY2FzZS1pbnNlbnNpdGl2ZSBuYW1lJywgKCkgPT4ge1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc09iamVjdCwgJ0ZPTycpKS50b0JlKGZuc09iamVjdC5mb28pO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc09iamVjdCwgJ0JBUicpKS50b0JlKGZuc09iamVjdC5iYXIpO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc0FycmF5LCAnRk9PJykpLnRvQmUoZm5zQXJyYXlbMF0pO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc0FycmF5LCAnQkFSJykpLnRvQmUoZm5zQXJyYXlbMV0pO1xuICB9KTtcblxuICBpdCgncmV0dXJucyB0aGUgZnVuY3Rpb24gYnkgY2FzZS1pbnNlbnNpdGl2ZSBhbGlhcycsICgpID0+IHtcbiAgICBleHBlY3QoZ2V0QnlBbGlhcyhmbnNPYmplY3QsICdGJykpLnRvQmUoZm5zT2JqZWN0LmZvbyk7XG4gICAgZXhwZWN0KGdldEJ5QWxpYXMoZm5zT2JqZWN0LCAnQicpKS50b0JlKGZuc09iamVjdC5iYXIpO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc0FycmF5LCAnRicpKS50b0JlKGZuc0FycmF5WzBdKTtcbiAgICBleHBlY3QoZ2V0QnlBbGlhcyhmbnNBcnJheSwgJ0InKSkudG9CZShmbnNBcnJheVsxXSk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIGVtcHR5IHN0cmluZ3MnLCAoKSA9PiB7XG4gICAgY29uc3QgZW1wdHlTdHJpbmdGbnNPYmplY3QgPSB7ICcnOiB7IG5hbWU6ICcnIH0gfTtcbiAgICBjb25zdCBlbXB0eVN0cmluZ0FsaWFzRm5zT2JqZWN0ID0geyBmb286IHsgbmFtZTogJ2ZvbycsIGFsaWFzZXM6IFsnJ10gfSB9O1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGVtcHR5U3RyaW5nRm5zT2JqZWN0LCAnJykpLnRvQmUoZW1wdHlTdHJpbmdGbnNPYmplY3RbJyddKTtcbiAgICBleHBlY3QoZ2V0QnlBbGlhcyhlbXB0eVN0cmluZ0FsaWFzRm5zT2JqZWN0LCAnJykpLnRvQmUoZW1wdHlTdHJpbmdBbGlhc0Zuc09iamVjdC5mb28pO1xuXG4gICAgY29uc3QgZW1wdHlTdHJpbmdGbnNBcnJheSA9IFt7IG5hbWU6ICcnIH1dO1xuICAgIGNvbnN0IGVtcHR5U3RyaW5nQWxpYXNGbnNBcnJheSA9IFt7IG5hbWU6ICdmb28nLCBhbGlhc2VzOiBbJyddIH1dO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGVtcHR5U3RyaW5nRm5zQXJyYXksICcnKSkudG9CZShlbXB0eVN0cmluZ0Zuc0FycmF5WzBdKTtcbiAgICBleHBlY3QoZ2V0QnlBbGlhcyhlbXB0eVN0cmluZ0FsaWFzRm5zQXJyYXksICcnKSkudG9CZShlbXB0eVN0cmluZ0FsaWFzRm5zQXJyYXlbMF0pO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBcInVuZGVmaW5lZFwiIHN0cmluZ3MnLCAoKSA9PiB7XG4gICAgY29uc3QgdW5kZWZpbmVkRm5zT2JqZWN0ID0geyB1bmRlZmluZWQ6IHsgbmFtZTogJ3VuZGVmaW5lZCcgfSB9O1xuICAgIGNvbnN0IHVuZGVmaW5lZEFsaWFzRm5zT2JqZWN0ID0geyBmb286IHsgbmFtZTogJ3VuZGVmaW5lZCcsIGFsaWFzZXM6IFsndW5kZWZpbmVkJ10gfSB9O1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKHVuZGVmaW5lZEZuc09iamVjdCwgJ3VuZGVmaW5lZCcpKS50b0JlKHVuZGVmaW5lZEZuc09iamVjdC51bmRlZmluZWQpO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKHVuZGVmaW5lZEFsaWFzRm5zT2JqZWN0LCAndW5kZWZpbmVkJykpLnRvQmUodW5kZWZpbmVkQWxpYXNGbnNPYmplY3QuZm9vKTtcblxuICAgIGNvbnN0IGVtcHR5U3RyaW5nRm5zQXJyYXkgPSBbeyBuYW1lOiAndW5kZWZpbmVkJyB9XTtcbiAgICBjb25zdCBlbXB0eVN0cmluZ0FsaWFzRm5zQXJyYXkgPSBbeyBuYW1lOiAnZm9vJywgYWxpYXNlczogWyd1bmRlZmluZWQnXSB9XTtcbiAgICBleHBlY3QoZ2V0QnlBbGlhcyhlbXB0eVN0cmluZ0Zuc0FycmF5LCAndW5kZWZpbmVkJykpLnRvQmUoZW1wdHlTdHJpbmdGbnNBcnJheVswXSk7XG4gICAgZXhwZWN0KGdldEJ5QWxpYXMoZW1wdHlTdHJpbmdBbGlhc0Zuc0FycmF5LCAndW5kZWZpbmVkJykpLnRvQmUoZW1wdHlTdHJpbmdBbGlhc0Zuc0FycmF5WzBdKTtcbiAgfSk7XG5cbiAgaXQoJ3JldHVybnMgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZCcsICgpID0+IHtcbiAgICBleHBlY3QoZ2V0QnlBbGlhcyhmbnNPYmplY3QsICdiYXonKSkudG9CZSh1bmRlZmluZWQpO1xuICAgIGV4cGVjdChnZXRCeUFsaWFzKGZuc0FycmF5LCAnYmF6JykpLnRvQmUodW5kZWZpbmVkKTtcbiAgfSk7XG59KTtcbiJdfQ==