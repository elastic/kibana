################
################
## This file is automatically generated, to create a new package use `node scripts/generate package --help` or run
## `node scripts/generate packages_build_manifest` to regenerate it from the current state of the repo
################
################

# It will build all declared code packages
filegroup(
  name = "build_pkg_code",
  srcs = [
<% for (const p of packages.filter(p => p.hasBuildRule())) { _%>
    "//<%- p.normalizedRepoRelativeDir %>:build",
<% } _%>
  ],
)

# It will build all declared package types
filegroup(
  name = "build_pkg_types",
  srcs = [
<% for (const p of packages.filter(p => p.hasBuildTypesRule())) { _%>
    "//<%- p.normalizedRepoRelativeDir %>:build_types",
<% } _%>
  ],
)

# Grouping target to call all underlying packages build
# targets so we can build them all at once
# It will auto build all declared code packages and types packages
filegroup(
  name = "build",
  srcs = [
    ":build_pkg_code",
    ":build_pkg_types"
  ],
)
