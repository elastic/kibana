openapi: 3.0.3
info:
  title: Test endpoint
  version: '2023-10-31'
paths: {}

components:
  schemas:
    CircularTestSchema:
      type: object
      properties:
        field:
          $ref: '#/components/schemas/AnotherCircularTestSchema'

    AnotherCircularTestSchema:
      anyOf:
        - $ref: '#/components/schemas/CircularTestSchema'
        - type: string
          enum:
            - value1
            - value2
