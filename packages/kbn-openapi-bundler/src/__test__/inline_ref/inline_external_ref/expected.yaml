openapi: 3.0.3
info:
  title: Bundled OpenAPI specs
  version: '2023-10-31'
servers:
  - url: 'http://{kibana_host}:{port}'
    variables:
      kibana_host:
        default: 'localhost'
      port:
        default: '5601'
security:
  - BasicAuth: []
paths:
  /api/some_api:
    get:
      operationId: TestEndpointGet
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                anyOf:
                  - type: object
                    properties:
                      field1:
                        type: string
                        enum: [value1]
                      field2:
                        type: integer
                        minimum: 1
                  - $ref: '#/components/schemas/TestSchema2'
                  - $ref: '#/components/schemas/TestSchema3'
components:
  securitySchemes:
    BasicAuth:
      scheme: basic
      type: http
  schemas:
    TestSchema2:
      type: object
      properties:
        field1:
          type: string
          enum: [value1]
        field2:
          type: integer
          minimum: 1

    TestSchema3:
      type: object
      properties:
        field1:
          type: string
          enum: [value1]
        field2:
          type: integer
          minimum: 1
