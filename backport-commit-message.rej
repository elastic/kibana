Split out PersistedState business logic from angular

Backports PR #9687

**Commit 1:**
- Remove angularization of PersistedState.
- Provide the angularized version with PersistedStateProvider.
- Use named exports
- Es6-ify PersistedState class

This pushes forward the first bullet point of #9686

* Original sha: 9380403d1a63fcc46dd10f8374a6ade29935873d
* Authored by Stacey Gammon <gammon@elastic.co> on 2016-12-30T18:45:16Z

**Commit 2:**
Address code review comments

- Use single point of entry
- Use injector instead of private
- Use a new class (‘AngularizedPersistedState’) name instead of an
arrow function

* Original sha: 9aa64e224e91a7401ad342a317d15ad4a4be9c22
* Authored by Stacey Gammon <gammon@elastic.co> on 2017-01-12T21:06:17Z

**Commit 3:**
Remove extra import line

* Original sha: 0e5a95ff72c41d9f5c8a1865819cd35604d48938
* Authored by Stacey Gammon <gammon@elastic.co> on 2017-01-17T13:56:57Z